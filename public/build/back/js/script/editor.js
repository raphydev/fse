/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/build/back/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./assets/back/js/editor.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/back/js/editor.js":
/*!**********************************!*\
  !*** ./assets/back/js/editor.js ***!
  \**********************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic__ = __webpack_require__(/*! @ckeditor/ckeditor5-build-classic */ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic__);


__WEBPACK_IMPORTED_MODULE_0__ckeditor_ckeditor5_build_classic___default.a.create(document.querySelector('.ckeditor'), {
    heading: {
        options: [{ model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' }, { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' }, { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }, { model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' }, { model: 'heading4', view: 'h4', title: 'Heading 4', class: 'ck-heading_heading4' }, { model: 'heading5', view: 'h5', title: 'Heading 5', class: 'ck-heading_heading5' }]
    },
    toolbar: ['heading', '|', 'bold', 'italic', 'link', 'Underline', 'bulletedList', 'numberedList', 'blockQuote', 'undo', 'redo']
}).then(function (editor) {
    window.editor = editor;
}).catch(function (err) {
    console.error(err.stack);
});

/***/ }),

/***/ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

/**
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
(function(e){e.en=Object.assign(e.en||{},{a:'Cannot upload file:',b:'Bold',c:'Italic',d:'Block quote',e:'Choose heading',f:'Heading',g:'Enter image caption',h:'Full size image',i:'Side image',j:'Left aligned image',k:'Centered image',l:'Right aligned image',m:'Numbered List',n:'Bulleted List',o:'image widget',p:'Link',q:'Insert image',r:'Upload failed',s:'Paragraph',t:'Heading 1',u:'Heading 2',v:'Heading 3',w:'Change image text alternative',x:'Unlink',y:'Edit link',z:'Open link in new tab',aa:'This link has no URL',ab:'Save',ac:'Cancel',ad:'Link URL',ae:'Rich Text Editor',af:'Rich Text Editor, %0',ag:'Undo',ah:'Redo',ai:'Text alternative'})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e,t){ true?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.ClassicEditor=t():e.ClassicEditor=t()}('undefined'==typeof self?this:self,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=6)}([function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=g[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(c(n.parts[r],t))}else{for(var a=[],r=0;r<n.parts.length;r++)a.push(c(n.parts[r],t));g[n.id]={id:n.id,refs:1,parts:a}}}}function i(e,t){for(var o=[],n={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s=i[1],l=i[2],d=i[3],c={css:s,media:l,sourceMap:d};n[a]?n[a].parts.push(c):o.push(n[a]={id:a,parts:[c]})}return o}function r(e,t){var o=b(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var n=w[w.length-1];if('top'===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),w.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var i=b(e.insertInto+' '+e.insertAt.before);o.insertBefore(t,i)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=w.indexOf(e);0<=t&&w.splice(t,1)}function s(e){var t=document.createElement('style');return e.attrs.type='text/css',d(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',d(t,e.attrs),r(e,t),t}function d(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function c(e,t){var o,n,i,r;if(t.transform&&e.css)if(r=t.transform(e.css),r)e.css=r;else return function(){};if(t.singleton){var d=_++;o=k||(k=s(t)),n=u.bind(null,o,d,!1),i=u.bind(null,o,d,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=l(t),n=p.bind(null,o,t),i=function(){a(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(t),n=m.bind(null,o),i=function(){a(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}function u(e,t,o,n){var i=o?'':n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function m(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute('media',n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function p(e,t,o){var n=o.css,i=o.sourceMap,r=t.convertToAbsoluteUrls===void 0&&i;(t.convertToAbsoluteUrls||r)&&(n=v(n)),i&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+' */');var a=new Blob([n],{type:'text/css'}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var g={},f=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),h=function(e){return document.querySelector(e)},b=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var o=h.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),k=null,_=0,w=[],v=o(13);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=f()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=i(e,t);return n(o,t),function(e){for(var r=[],a=0;a<o.length;a++){var s=o[a],l=g[s.id];l.refs--,r.push(l)}if(e){var d=i(e,t);n(d,t)}for(var a=0,l;a<r.length;a++)if(l=r[a],0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete g[l.id]}}};var y=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e,t,o){'use strict';(function(e,n){var i=o(8),r={function:!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,s=r[typeof e]&&e&&!e.nodeType?e:void 0,l=Object(i.a)(a&&s&&'object'==typeof n&&n),d=Object(i.a)(r[typeof self]&&self),c=Object(i.a)(r[typeof window]&&window),u=Object(i.a)(r[typeof this]&&this),m=l||c!==(u&&u.window)&&c||d||u||Function('return this')();t.a=m}).call(t,o(2)(e),o(7))},function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,'loaded',{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,'id',{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,'exports',{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z" fill="#000" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(61);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e,t,o){'use strict';function n(e){const t=e.match(/^([^:]+):/);return t?e+` Read more: ${Qa}#error-${t[1]}\n`:e}function i(){let e='e';for(let t=0;8>t;t++)e+=Ba(65536*(1+Math.random())).toString(16).substring(1);return e}function r(e,t){return e[os]&&e[os][t]?e[os][t].emitter:null}function a(e,t){e[ns]||(e[ns]=t||i())}function s(e){return e[ns]}function l(e){return e._events||Object.defineProperty(e,'_events',{value:{}}),e._events}function d(){return{callbacks:[],childEvents:[]}}function c(e,t){const o=l(e);if(o[t])return;let n=t,i=null;const r=[];for(;''!==n&&!o[n];)o[n]=d(),r.push(o[n]),i&&o[n].childEvents.push(i),i=n,n=n.substr(0,n.lastIndexOf(':'));if(''!==n){for(const e of r)e.callbacks=o[n].callbacks.slice();o[n].childEvents.push(i)}}function u(e,t){const o=l(e)[t];if(!o)return[];let n=[o.callbacks];for(let r=0;r<o.childEvents.length;r++){const t=u(e,o.childEvents[r]);n=n.concat(t)}return n}function m(e,t){let o;return e._events&&(o=e._events[t])&&o.callbacks.length?o.callbacks:-1<t.indexOf(':')?m(e,t.substr(0,t.lastIndexOf(':'))):null}function p(e,t,o){for(let[n,i]of e){i?'function'==typeof i&&(i=i(t.name)):i=t.name;const e=new Za(t.source,i);e.path=[...t.path],n.fire(e,...o)}}function g(e,t,o){const n=u(e,t);for(const r of n)for(let e=0;e<r.length;e++)r[e].callback==o&&(r.splice(e,1),e--)}function f(e,...t){t.forEach((t)=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((o)=>{if(!(o in e.prototype)){const n=Object.getOwnPropertyDescriptor(t,o);n.enumerable=!1,Object.defineProperty(e.prototype,o,n)}})})}function h(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function b(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var n=e[t];this.set(n[0],n[1])}}function _(e){this.__data__=new cs(e)}function w(e,t,o){var n=e[t];js.call(e,t)&&as(n,o)&&(o!==void 0||t in e)||(e[t]=o)}function v(e,t){return Hs.call(e,t)||'object'==typeof e&&t in e&&null===za(e)}function y(e){return wl(Object(e))}function x(e){return zl.call(e)}function C(e,t,o,n,i,r,a){var s;if(n&&(s=r?n(e,i,r,a):n(e)),void 0!==s)return s;if(!us(e))return e;var l=sl(e);if(!l){var d=Kl(e),c=d==vd||d==yd;if(Object(_d.a)(e))return kl(e,t);if(d==xd||d==wd||c&&!r){if(ja(e))return r?e:{};if(s=kd(c?{}:e),!t)return yl(e,bl(s,e))}else{if(!Cd[d])return r?e:{};s=fd(e,d,C,t)}}else if(s=Jl(e),!t)return _l(e,s);a||(a=new Bs);var u=a.get(e);if(u)return u;if(a.set(e,s),!l)var m=o?Al(e):hl(e);return Ls(m||e,function(i,r){m&&(r=i,i=e[r]),qs(s,r,C(i,t,o,n,r,e,a))}),s}function A(e,t){const o=Da(e.length,t.length);for(let n=0;n<o;n++)if(e[n]!=t[n])return n;return e.length==t.length?'same':e.length<t.length?'prefix':'extension'}function T(e){const t=new Map;for(const o in e)t.set(o,e[o]);return t}function P(e){return!!(e&&e[Symbol.iterator])}function E(e,t){if('function'==typeof t)return t(e);const o={};return t.name&&(o.name=S(t.name,e.name),!o.name)?null:t.attributes&&(o.attributes=O(t.attributes,e),!o.attributes)?null:!(t.classes&&(o.classes=R(t.classes,e),!o.classes))&&!(t.styles&&(o.styles=I(t.styles,e),!o.styles))&&o}function S(e,t){return e instanceof RegExp?e.test(t):e===t}function O(e,t){const o=[];for(const n in e){const i=e[n];if(t.hasAttribute(n)){const e=t.getAttribute(n);if(!0===i)o.push(n);else if(i instanceof RegExp){if(i.test(e))o.push(n);else return null;}else if(e===i)o.push(n);else return null}else return null}return o}function R(e,t){const o=[];for(const n of e)if(n instanceof RegExp){const e=t.getClassNames();for(const t of e)n.test(t)&&o.push(t);if(0===o.length)return null}else if(t.hasClass(n))o.push(n);else return null;return o}function I(e,t){const o=[];for(const n in e){const i=e[n];if(t.hasStyle(n)){const e=t.getStyle(n);if(i instanceof RegExp){if(i.test(e))o.push(n);else return null;}else if(e===i)o.push(n);else return null}else return null}return o}function V(e){e=$a(e)?T(e):new Map(e);for(const[t,o]of e)null===o?e.delete(t):'string'!=typeof o&&e.set(t,o+'');return e}function F(e,t){let o=null,n=0,r=0,a=null;if(e.clear(),''!==t){';'!=t.charAt(t.length-1)&&(t+=';');for(let s=0;s<t.length;s++){const i=t.charAt(s);if(null===o)switch(i){case':':a||(a=t.substr(n,s-n),r=s+1);break;case'"':case'\'':o=i;break;case';':const l=t.substr(r,s-r);a&&e.set(a.trim(),l.trim()),a=null,n=s+1;}else i===o&&(o=null)}}}function N(e,t){const o=t.split(/\s+/);e.clear(),o.forEach((t)=>e.add(t))}function M(e){return'string'==typeof e?[new Ed(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Ed(e):e instanceof Sd?new Ed(e.data):e))}function D(){for(const e of this.getChildren())if(!e.is('uiElement'))return null;return this.childCount}function B(e,t,o){if(!us(o))return!1;var n=typeof t;return!('number'==n?!(Zs(o)&&pl(t,o.length)):!('string'==n&&t in o))&&as(o[t],e)}function L(e){e=null==e?e:Object(e);var t=[];for(var o in e)t.push(o);return t}function z(e){uc in e||(Object.defineProperty(e,uc,{value:new Map}),Object.defineProperty(e,mc,{value:new Map}),Object.defineProperty(e,pc,{value:new Map}))}function j(...e){const t=H(...e),o=Array.from(this._bindings.keys()),n=o.length;if(!t.callback&&1<t.to.length)throw new Ya('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<n&&t.callback)throw new Ya('observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.');t.to.forEach((e)=>{if(e.properties.length&&e.properties.length!==n)throw new Ya('observable-bind-to-properties-length: The number of properties must match.');e.properties.length||(e.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(o[0]).callback=t.callback),J(this._observable,this._to),G(this),this._bindProperties.forEach((e)=>{$(this._observable,e)})}function q(e,t,o){if(1<this._bindings.size)throw new Ya('observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().');this.to(...W(e,t),o)}function W(e,t){const o=e.map((e)=>[e,t]);return Array.prototype.concat.apply([],o)}function U(e){return e.every((e)=>'string'==typeof e)}function H(...e){if(!e.length)throw new Ya('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const t={to:[]};let o;return'function'==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach((e)=>{if('string'==typeof e)o.properties.push(e);else if('object'==typeof e)o={observable:e,properties:[]},t.to.push(o);else throw new Ya('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),t}function K(e,t,o,n){const i=e[mc],r=i.get(o),a=r||{};a[n]||(a[n]=new Set),a[n].add(t),r||i.set(o,a)}function G(e){let t;e._bindings.forEach((o,n)=>{e._to.forEach((i)=>{t=i.properties[o.callback?0:e._bindProperties.indexOf(n)],o.to.push([i.observable,t]),K(e._observable,o,i.observable,t)})})}function $(e,t){const o=e[pc],n=o.get(t);let i;n.callback?i=n.callback.apply(e,n.to.map((e)=>e[0][e[1]])):(i=n.to[0],i=i[0][i[1]]),e.hasOwnProperty(t)?e[t]=i:e.set(t,i)}function J(e,t){t.forEach((t)=>{const o=e[mc];let n;o.get(t.observable)||e.listenTo(t.observable,'change',(i,r)=>{n=o.get(t.observable)[r],n&&n.forEach((t)=>{$(e,t.property)})})})}function Q(e){return!!(e.item.is('attributeElement')||e.item.is('uiElement'))}function Y(e){let t=0;for(const o of e)t++;return t}function X(){if(Z(this))return null;let e=this.parent;for(;e&&e.is('attributeElement');){if(1<Z(e))return null;e=e.parent}return!e||1<Z(e)?null:this.childCount}function Z(e){return Array.from(e.getChildren()).filter((e)=>!e.is('uiElement')).length}function ee(){return null}function te(e){let t;if('string'!=typeof e)t=e.keyCode+(e.altKey?Nc.alt:0)+(e.ctrlKey?Nc.ctrl:0)+(e.shiftKey?Nc.shift:0);else if(t=Nc[e.toLowerCase()],!t)throw new Ya('keyboard-unknown-key: Unknown key name.',{key:e});return t}function oe(e){return'string'==typeof e&&(e=ie(e)),e.map((e)=>'string'==typeof e?te(e):e).reduce((e,t)=>t+e,0)}function ne(e){return Ic.isMac?ie(e).map((e)=>Fc[e.toLowerCase()]||e).reduce((e,t)=>e.slice(-1)in Vc?e+t:e+'+'+t):e}function ie(e){return e.split(/\s*\+\s*/)}function re(e){e.document.on('keydown',(t,o)=>se(t,o,e.domConverter))}function ae(){return null}function se(e,t,o){if(t.keyCode==Nc.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),n=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(n||t.shiftKey){const t=e.focusNode,i=e.focusOffset,r=o.domPositionToView(t,i);if(null===r)return;let a=!1;const s=r.getLastMatchingPosition((e)=>(e.item.is('uiElement')&&(a=!0),!!(e.item.is('uiElement')||e.item.is('attributeElement'))));if(a){const t=o.viewPositionToDom(s);n?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}function le(e){return'string'==typeof e?[new Ed(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Ed(e):e instanceof Sd?new Ed(e.data):e))}function de(e){return Array.from(e.getChildren()).some((e)=>!e.is('uiElement'))}function ce(e){let t=e.parent;for(;!be(t);){if(!t)return;t=t.parent}return t}function ue(e,t){if(e.priority<t.priority)return!0;return!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function me(e){const t=e.nodeBefore;if(t&&t.is('text'))return new vc(t,t.data.length);const o=e.nodeAfter;return o&&o.is('text')?new vc(o,0):e}function pe(e){if(e.offset==e.parent.data.length)return new vc(e.parent.parent,e.parent.index+1);if(0===e.offset)return new vc(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new Ed(t)),new vc(e.parent.parent,e.parent.index+1)}function ge(e,t){const o=e.data.length;return e._data+=t.data,t._remove(),new vc(e,o)}function fe(e){return e.start.parent==e.end.parent&&e.start.parent.is('attributeElement')&&0===e.start.offset&&e.end.offset===e.start.parent.childCount}function he(e){for(const t of e){if(!Lc.some((e)=>t instanceof e))throw new Ya('view-writer-insert-invalid-node');t.is('text')||he(t.getChildren())}}function be(e){return e&&(e.is('containerElement')||e.is('documentFragment'))}function ke(e){const t=ce(e.start),o=ce(e.end);if(!t||!o||t!==o)throw new Ya('view-writer-invalid-range-container')}function _e(e,t){return null===e.id&&null===t.id}function we(e){return e instanceof Text&&e.data.substr(0,qc)===Wc}function ve(e){return e.data.length==qc&&we(e)}function ye(e){return we(e)?e.data.slice(qc):e.data}function xe(e,t){let o=Uc.get(t);return o||(o=t(window.document),Uc.set(t,o)),e.isEqualNode(o)}function Ce(e){e.document.on('keydown',Ae)}function Ae(e,t){if(t.keyCode==Nc.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;we(t)&&o<=qc&&e.collapse(t,0)}}}function Te(e,t,o){function i(n){const i=(c[n-1]===void 0?-1:c[n-1])+1,u=c[n+1]===void 0?-1:c[n+1],m=i>u?-1:1;d[n+m]&&(d[n]=d[n+m].slice(0)),d[n]||(d[n]=[]),d[n].push(i>u?r:a);let p=Ma(i,u),g=p-n;for(;g<s&&p<l&&o(e[g],t[p]);)g++,p++,d[n].push('equal');return p}o=o||function(e,t){return e===t};let r,a;if(t.length<e.length){const o=e;e=t,t=o,r='delete',a='insert'}else r='insert',a='delete';const s=e.length,l=t.length,n=l-s,d={},c={};let u=0,m;do{for(m=-u;m<n;m++)c[m]=i(m);for(m=n+u;m>n;m--)c[m]=i(m);c[n]=i(n),u++}while(c[n]!==l);return d[n].slice(1)}function Pe(e,t,o){e.insertBefore(o,e.childNodes[t]||null)}function Ee(e){const t=e.parentNode;t&&t.removeChild(e)}function Se(e){return'[object Text]'==Object.prototype.toString.call(e)}function Oe(e){if('false'==e.getAttribute('contenteditable'))return!1;const t=e.findAncestor((e)=>e.hasAttribute('contenteditable'));return!t||'true'==t.getAttribute('contenteditable')}function Re(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function Ie(e){const t=[];for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}function Ve(e,t){const o=Ie(e),n=Ie(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}function Fe(e,t,o){let n=Ie(e);return o&&(n=n.slice(n.indexOf(o)+1)),n.some((e)=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function Ne(e,t){for(;e&&e!=Kc.document;)t(e),e=e.parentNode}function Me(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function De(e){return'[object Window]'==Object.prototype.toString.apply(e)}function Be(e){return e['data-ck-expando']||(e['data-ck-expando']=i())}function Le(e){var t=-1,o=e?e.length:0;for(this.__data__=new Ds;++t<o;)this.add(e[t])}function ze(e,t,o,n,i,r){var a=i&iu,s=hl(e),l=s.length,d=hl(t),c=d.length;if(l!=c&&!a)return!1;for(var u=l,m;u--;)if(m=s[u],a?!(m in t):!Ks(t,m))return!1;var p=r.get(e);if(p)return p==t;var g=!0;r.set(e,t);for(var f=a;++u<l;){m=s[u];var h=e[m],b=t[m];if(n)var k=a?n(b,h,m,t,e,r):n(h,b,m,e,t,r);if(void 0===k?!(h===b||o(h,b,n,i,r)):!k){g=!1;break}f||(f='constructor'==m)}if(g&&!f){var _=e.constructor,w=t.constructor;_!=w&&'constructor'in e&&'constructor'in t&&!('function'==typeof _&&_ instanceof _&&'function'==typeof w&&w instanceof w)&&(g=!1)}return r['delete'](e),g}function je(e,t,o,n,i){return!(e!==t)||(null!=e&&null!=t&&(us(e)||qa(t))?gu(e,t,je,o,n,i):e!==e&&t!==t)}function qe(e,t,o){function n(t){var o=b,n=k;return b=k=void 0,p=t,w=e.apply(n,o),w}function i(e){return p=e,v=setTimeout(s,t),g?n(e):w}function r(e){var o=e-m,n=e-p,i=t-o;return f?Au(i,_-n):i}function a(e){var o=e-m,n=e-p;return!m||o>=t||0>o||f&&n>=_}function s(){var e=yu();return a(e)?l(e):void(v=setTimeout(s,r(e)))}function l(e){return(clearTimeout(v),v=void 0,h&&b)?n(e):(b=k=void 0,w)}function d(){void 0!==v&&clearTimeout(v),m=p=0,b=k=v=void 0}function c(){return void 0===v?w:l(yu())}function u(){var e=yu(),o=a(e);if(b=arguments,k=this,m=e,o){if(void 0===v)return i(m);if(f)return clearTimeout(v),v=setTimeout(s,t),n(m)}return void 0===v&&(v=setTimeout(s,t)),w}var m=0,p=0,g=!1,f=!1,h=!0,b,k,_,w,v;if('function'!=typeof e)throw new TypeError(xu);return t=Ud(t)||0,us(o)&&(g=!!o.leading,f='maxWait'in o,_=f?Cu(Ud(o.maxWait)||0,t):_,h='trailing'in o?!!o.trailing:h),u.cancel=d,u.flush=c,u}function We(e){return e==Nc.arrowright||e==Nc.arrowleft||e==Nc.arrowup||e==Nc.arrowdown}function Ue(e){return'[object Range]'==Object.prototype.toString.apply(e)}function He(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function Ke(e,t){for(const o of Nu)e[o]=t[o]}function Ge(e){return!!Vu(e)&&e===e.ownerDocument.body}function $e({target:e,viewportOffset:t=0}){const o=tt(e);for(let n=o,i=null;n;){let r;r=n==o?nt(e):nt(i),Qe(r,()=>it(e,n));const a=it(e,n);Je(n,a,t),n.parent==n?n=null:(i=n.frameElement,n=n.parent)}}function Je(e,t,o){const n=t.clone().moveBy(0,o),i=t.clone().moveBy(0,-o),r=new Fu(e).excludeScrollbarsAndBorders();if(![i,n].every((e)=>r.contains(e))){let{scrollX:a,scrollY:s}=e;Xe(i,r)?s-=r.top-t.top+o:Ye(n,r)&&(s+=t.bottom-r.bottom+o),Ze(t,r)?a-=r.left-t.left+o:et(t,r)&&(a+=t.right-r.right+o),e.scrollTo(a,s)}}function Qe(e,t){const o=tt(e);for(let n,i;e!=o.document.body;)i=t(),n=new Fu(e).excludeScrollbarsAndBorders(),n.contains(i)||(Xe(i,n)?e.scrollTop-=n.top-i.top:Ye(i,n)&&(e.scrollTop+=i.bottom-n.bottom),Ze(i,n)?e.scrollLeft-=n.left-i.left:et(i,n)&&(e.scrollLeft+=i.right-n.right)),e=e.parentNode}function Ye(e,t){return e.bottom>t.bottom}function Xe(e,t){return e.top<t.top}function Ze(e,t){return e.left<t.left}function et(e,t){return e.right>t.right}function tt(e){return Ue(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function nt(e){if(Ue(e)){let t=e.commonAncestorContainer;return Se(t)&&(t=t.parentNode),t}return e.parentNode}function it(e,t){const o=tt(e),n=new Fu(e);if(o===t)return n;for(let i=o;i!=t;){const e=i.frameElement,t=new Fu(e).excludeScrollbarsAndBorders();n.moveBy(t.left,t.top),i=i.parent}return n}function rt(e){return $a(e)?T(e):new Map(e)}function at(e){return'string'==typeof e?[new Bu(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Bu(e):e instanceof Lu?new Bu(e.data,e.getAttributes()):e))}function st(e,t,o,n,i){return{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:i}}}function lt(e){const t=e.split(':');return 1<t.length?t[0]+':'+t[1]:t[0]}function dt(e,t,o){const n=t.getRange(),i=Array.from(e.getAncestors());i.shift(),i.reverse();const r=i.some((e)=>{if(n.containsItem(e)){const t=o.toViewElement(e);return!!t.getCustomProperty('addHighlight')}});return!r}function ct(e,t){return!t.has(e)&&(t.add(e),e.document.model.schema.isBlock(e)&&e.parent)}function ut(e,t){const o=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),n=o.find((e)=>ct(e,t));return o.forEach((e)=>t.add(e)),n}function mt(){const e=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(t,o)=>{const n=o[0];!n.isDocumentOperation||e.has(n.type)&&pt.call(this,n)},{priority:'low'})}function pt(e){const t=e.type,o=e.delta.batch;let n,i;'insert'==t?n=Hu.createFromPositionAndShift(e.position,e.nodes.maxOffset):(n=Hu.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),i=e.sourcePosition);const r=n.end.offset-n.start.offset;let a=n.start;('move'==t||'remove'==t||'reinsert'==t)&&(a=a._getTransformedByInsertion(i,r));const s=this._getTransformedByDocumentChange(t,e.delta.type,a,r,i);('move'==t||'remove'==t||'reinsert'==t)&&3==s.length&&(s[2]=n);const l=Hu.createFromRanges(s),d=!l.isEqual(this),c=this.containsPosition(a),u=i&&(this.containsPosition(i)||this.start.isEqual(i));if(d){const e=Hu.createFromRange(this);this.start=l.start,this.end=l.end,this.fire('change:range',e,{type:t,batch:o,range:n,sourcePosition:i})}else(c||u)&&this.fire('change:content',Hu.createFromRange(this),{type:t,batch:o,range:n,sourcePosition:i})}function gt(e){return e instanceof Lu||e instanceof Bu?e.getAttributes():null}function ft(e,t){const o=e.document.differ;for(const n of o.getChanges()){if('insert'!=n.type)continue;const o=n.position.parent,i=n.length===o.maxOffset;i&&e.enqueueChange(t,(e)=>{const t=Array.from(o.getAttributeKeys()).filter((e)=>e.startsWith(Yu));for(const n of t)e.removeAttribute(n,o)})}}function ht(e){return e=em(e),e.view=_t(e.view,'container'),(t)=>{t.on('insert:'+e.model,xt(e.view),{priority:e.priority||'normal'})}}function bt(e){e=em(e);const t=e.model.key?e.model.key:e.model;let o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values)for(const t of e.model.values)e.view[t]=_t(e.view[t],'attribute');else e.view=_t(e.view,'attribute');const n=vt(e);return(t)=>{t.on(o,Pt(n),{priority:e.priority||'normal'})}}function kt(e){e=em(e);const t=e.model.key?e.model.key:e.model;let o='attribute:'+t;if(e.model.name&&(o+=':'+e.model.name),e.model.values)for(const t of e.model.values)e.view[t]=yt(e.view[t]);else e.view=yt(e.view);const n=vt(e);return(t)=>{t.on(o,Tt(n),{priority:e.priority||'normal'})}}function _t(e,t){return'function'==typeof e?e:(o,n)=>wt(e,n,t)}function wt(e,t,o){'string'==typeof e&&(e={name:e});let n;if(n='container'==o?t.createContainerElement(e.name,Object.assign({},e.attributes)):'attribute'==o?t.createAttributeElement(e.name,Object.assign({},e.attributes)):t.createUIElement(e.name,Object.assign({},e.attributes)),e.styles){const o=Object.keys(e.styles);for(const i of o)t.setStyle(i,e.styles[i],n)}if(e.classes){const o=e.classes;if('string'==typeof o)t.addClass(o,n);else for(const e of o)t.addClass(e,n)}return n}function vt(e){return e.model.values?(t,o)=>{const n=e.view[t];return n?n(t,o):null}:e.view}function yt(e){return'string'==typeof e?(t)=>({key:e,value:t}):'object'==typeof e?e.value?()=>e:(t)=>({key:e.key,value:t}):e}function xt(e){return(t,o,n)=>{const i=e(o.item,n.writer);if(i&&n.consumable.consume(o.item,'insert')){const e=n.mapper.toViewPosition(o.range.start);n.mapper.bindElements(o.item,i),n.writer.insert(e,i)}}}function Ct(){return(e,t,o)=>{if(o.consumable.consume(t.item,'insert')){const e=o.writer,n=o.mapper.toViewPosition(t.range.start),i=e.createText(t.item.data);e.insert(n,i)}}}function At(){return(e,t,o)=>{const n=o.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),r=o.mapper.toViewPosition(i,{isPhantom:!0}),a=new yc(n,r),s=o.writer.remove(a.getTrimmed());for(const n of yc.createIn(s).getItems())o.mapper.unbindViewElement(n)}}function Tt(e){return e=e||((e,t)=>({value:e,key:t.attributeKey})),(t,o,n)=>{const i=e(o.attributeOldValue,o),r=e(o.attributeNewValue,o);if((i||r)&&n.consumable.consume(o.item,t.name)){const e=n.mapper.toViewElement(o.item),t=n.writer;if(null!==o.attributeOldValue&&i)if('class'==i.key){const o=Array.isArray(i.value)?i.value:[i.value];for(const n of o)t.removeClass(n,e)}else if('style'==i.key){const o=Object.keys(i.value);for(const n of o)t.removeStyle(n,e)}else t.removeAttribute(i.key,e);if(null!==o.attributeNewValue&&r)if('class'==r.key){const o=Array.isArray(r.value)?r.value:[r.value];for(const n of o)t.addClass(n,e)}else if('style'==r.key){const o=Object.keys(r.value);for(const n of o)t.setStyle(n,r.value[n],e)}else t.setAttribute(r.key,r.value,e)}}}function Pt(e){return(t,o,n)=>{const i=e(o.attributeOldValue,n.writer),r=e(o.attributeNewValue,n.writer);if((i||r)&&n.consumable.consume(o.item,t.name)){const e=n.writer,t=e.document.selection;if(o.item instanceof Ju||o.item instanceof Xu)e.wrap(t.getFirstRange(),r);else{let t=n.mapper.toViewRange(o.range);null!==o.attributeOldValue&&i&&(t=e.unwrap(t,i)),null!==o.attributeNewValue&&r&&e.wrap(t,r)}}}}function Et(e,t){return(o,n)=>{const i=n.newSelection,r=new Ju,a=[];for(const e of i.getRanges())a.push(t.toModelRange(e));r.setTo(a,{backward:i.isBackward}),r.isEqual(e.document.selection)||e.change((e)=>{e.setSelection(r)})}}function St(){return(e,t,o)=>{const n=t.selection;if(!n.isCollapsed&&o.consumable.consume(n,'selection')){const e=[];for(const t of n.getRanges()){const n=o.mapper.toViewRange(t);e.push(n)}o.writer.setSelection(e,{backward:n.isBackward})}}}function Ot(){return(e,t,o)=>{const n=t.selection;if(n.isCollapsed&&o.consumable.consume(n,'selection')){const e=o.writer,t=n.getFirstPosition(),i=o.mapper.toViewPosition(t),r=e.breakAttributes(i);e.setSelection(r)}}}function Rt(){return(e,t,o)=>{const n=o.writer,i=n.document.selection;for(const n of i.getRanges())n.isCollapsed&&n.end.parent.document&&o.writer.mergeAttributes(n.start);n.setSelection(null)}}function It(e,t){const o=Ft();if(1===o&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0===o||!Vt(e,t))return t.replace(/ \[context: [^\]]+\]$/,'');const n=window.CKEDITOR_TRANSLATIONS[e];return n[t].replace(/ \[context: [^\]]+\]$/,'')}function Vt(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}function Ft(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}function Nt(e,t){const o={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return qt(e,o),Wt(e,o,'allowIn'),Wt(e,o,'allowContentOf'),Wt(e,o,'allowWhere'),Wt(e,o,'allowAttributes'),Wt(e,o,'allowAttributesOf'),Wt(e,o,'inheritTypesFrom'),Ut(e,o),o}function Mt(e,t){for(const o of e[t].allowContentOf)if(e[o]){const n=Ht(e,o);n.forEach((e)=>{e.allowIn.push(t)})}delete e[t].allowContentOf}function Dt(e,t){for(const o of e[t].allowWhere){const n=e[o];if(n){const o=n.allowIn;e[t].allowIn.push(...o)}}delete e[t].allowWhere}function Bt(e,t){for(const o of e[t].allowAttributesOf){const n=e[o];if(n){const o=n.allowAttributes;e[t].allowAttributes.push(...o)}}delete e[t].allowAttributesOf}function Lt(e,t){const o=e[t];for(const n of o.inheritTypesFrom){const t=e[n];if(t){const e=Object.keys(t).filter((e)=>e.startsWith('is'));for(const n of e)n in o||(o[n]=t[n])}}delete o.inheritTypesFrom}function zt(e,t){const o=e[t],n=o.allowIn.filter((t)=>e[t]);o.allowIn=Array.from(new Set(n))}function jt(e,t){const o=e[t];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function qt(e,t){for(const o of e){const e=Object.keys(o).filter((e)=>e.startsWith('is'));for(const n of e)t[n]=o[n]}}function Wt(e,t,o){for(const n of e)'string'==typeof n[o]?t[o].push(n[o]):Array.isArray(n[o])&&t[o].push(...n[o])}function Ut(e,t){for(const o of e){const e=o.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}function Ht(e,t){const o=e[t];return Kt(e).filter((e)=>e.allowIn.includes(o.name))}function Kt(e){return Object.keys(e).map((t)=>e[t])}function Gt(e){return'string'==typeof e?{name:e,*getAttributeKeys(){},getAttribute(){}}:{name:e.is('element')?e.name:'$text',*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute(t){return e.getAttribute(t)}}}function*$t(e,t){for(let o=!1;!o;){if(o=!0,e){const t=e.next();t.done||(o=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(o=!1,yield{walker:t,value:e.value})}}}function Jt(e,t){const o=new Set,n=new Map,i=Hu.createIn(e).getItems();for(const n of i)'$marker'==n.name&&o.add(n);for(const i of o){const e=i.getAttribute('data-name'),o=Uu.createBefore(i);n.has(e)?n.get(e).end=Uu.createFromPosition(o):n.set(e,new Hu(Uu.createFromPosition(o))),t.remove(i)}return n}function Qt(e,t){let o;for(const n of new lm(e)){const e={};for(const t of n.getAttributeKeys())e[t]=n.getAttribute(t);const i=t.createElement(n.name,e);o&&t.append(i,o),o=Uu.createAt(i)}return o}function Yt(e){e=em(e);const t=to(e),o=eo(e),n=o?'element:'+o:'element';return(o)=>{o.on(n,t,{priority:e.priority||'normal'})}}function Xt(e){e=em(e),io(e);const t=ro(e),o=eo(e),n=o?'element:'+o:'element';return(o)=>{o.on(n,t,{priority:e.priority||'normal'})}}function Zt(e){e=em(e);let t=null;('string'==typeof e.view||e.view.key)&&(t=no(e)),io(e,t);const o=ro(e);return(t)=>{t.on('element',o,{priority:e.priority||'low'})}}function eo(e){return'string'==typeof e.view?e.view:'object'==typeof e.view&&'string'==typeof e.view.name?e.view.name:null}function to(e){const t=new Od(e.view);return(o,n,i)=>{const r=t.match(n.viewItem);if(r){r.match.name=!0;const t=oo(e.model,n.viewItem,i.writer);if(t&&i.consumable.test(n.viewItem,r.match)){const e=i.splitToAllowedParent(t,n.modelCursor);if(e){i.writer.insert(t,e.position);const o=i.convertChildren(n.viewItem,Uu.createAt(t));i.consumable.consume(n.viewItem,r.match),n.modelRange=new Hu(Uu.createBefore(t),Uu.createAfter(o.modelCursor.parent)),n.modelCursor=e.cursorParent?Uu.createAt(e.cursorParent):n.modelRange.end}}}}}function oo(e,t,o){return e instanceof Function?e(t,o):o.createElement(e)}function no(e){'string'==typeof e.view&&(e.view={key:e.view});const t=e.view.key;let o;if('class'==t||'style'==t){const n='class'==t?'classes':'styles';o={[n]:e.view.value}}else{const n='undefined'==typeof e.view.value?/[\s\S]*/:e.view.value;o={attributes:{[t]:n}}}return e.view.name&&(o.name=e.view.name),e.view=o,t}function io(e,t=null){const o='object'==typeof e.model?e.model.key:e.model,n='object'!=typeof e.model||'undefined'==typeof e.model.value?!(null!==t)||((e)=>e.getAttribute(t)):e.model.value;e.model={key:o,value:n}}function ro(e){const t=new Od(e.view);return(o,n,i)=>{const r=t.match(n.viewItem);if(r){const t=e.model.key,o='function'==typeof e.model.value?e.model.value(n.viewItem):e.model.value;if(null!==o&&(ao(e)?r.match.name=!0:delete r.match.name,!!i.consumable.test(n.viewItem,r.match))){n.modelRange||(n=Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)));const e=so(n.modelRange,{key:t,value:o},i);e&&i.consumable.consume(n.viewItem,r.match)}}}}function ao(e){return!!('object'!=typeof e.view||eo(e))&&!e.view.classes&&!e.view.attributes&&!e.view.styles}function so(e,t,o){let n=!1;for(const i of Array.from(e.getItems()))o.schema.checkAttribute(i,t.key)&&(o.writer.setAttribute(t.key,t.value,i),n=!0);return n}function lo(){return(e,t,o)=>{if(!t.modelRange&&o.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:n}=o.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=n}}}function co(){return(e,t,o)=>{if(o.schema.checkChild(t.modelCursor,'$text')&&o.consumable.consume(t.viewItem)){const e=o.writer.createText(t.viewItem.data);o.writer.insert(e,t.modelCursor),t.modelRange=Hu.createFromPositionAndShift(t.modelCursor,e.offsetSize),t.modelCursor=t.modelRange.end}}}function uo(e){const t=[],o=e.root.document;if(!o)return[];const n=Hu.createIn(e);for(const i of o.model.markers){const e=n.getIntersection(i.getRange());e&&t.push([i.name,e])}return t}function mo(e,t){for(const o of e)t(o)}function*po(e){if(e.model.values)for(const t of e.model.values){const o={key:e.model.key,value:t},n=e.view[t],i=e.upcastAlso?e.upcastAlso[t]:void 0;yield*go(o,n,i)}else yield*go(e.model,e.view,e.upcastAlso)}function*go(e,t,o){if(yield{model:e,view:t},o){o=Array.isArray(o)?o:[o];for(const t of o)yield{model:e,view:t}}}function fo(e){return'string'==typeof e?[new Bu(e)]:(P(e)||(e=[e]),Array.from(e).map((e)=>'string'==typeof e?new Bu(e):e instanceof Lu?new Bu(e.data,e.getAttributes()):e))}function ho(e,t){t=wo(t);const o=t.reduce((e,t)=>e+t.offsetSize,0),n=e.parent;yo(e);const i=e.index;return n._insertChild(i,t),vo(n,i+t.length),vo(n,i),new Hu(e,e.getShiftedBy(o))}function bo(e){if(!e.isFlat)throw new Ya('operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.');const t=e.start.parent;yo(e.start),yo(e.end);const o=t._removeChildren(e.start.index,e.end.index-e.start.index);return vo(t,e.start.index),o}function ko(e,t){if(!e.isFlat)throw new Ya('operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.');const o=bo(e);return t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),ho(t,o)}function _o(e,t,o){yo(e.start),yo(e.end);for(const n of e.getItems()){const e=n.is('textProxy')?n.textNode:n;null===o?e._removeAttribute(t):e._setAttribute(t,o),vo(e.parent,e.index)}vo(e.end.parent,e.end.index)}function wo(e){const t=[];e instanceof Array||(e=[e]);for(let o=0;o<e.length;o++)if('string'==typeof e[o])t.push(new Bu(e[o]));else if(e[o]instanceof Lu)t.push(new Bu(e[o].data,e[o].getAttributes()));else if(e[o]instanceof pm||e[o]instanceof zu)for(const n of e[o])t.push(n);else e[o]instanceof Du&&t.push(e[o]);for(let o=1;o<t.length;o++){const e=t[o],n=t[o-1];e instanceof Bu&&n instanceof Bu&&xo(e,n)&&(t.splice(o-1,2,new Bu(n.data+e.data,n.getAttributes())),o--)}return t}function vo(e,t){const o=e.getChild(t-1),n=e.getChild(t);if(o&&n&&o.is('text')&&n.is('text')&&xo(o,n)){const i=new Bu(o.data+n.data,o.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function yo(e){const t=e.textNode,o=e.parent;if(t){const n=e.offset-t.startOffset,i=t.index;o._removeChildren(i,1);const r=new Bu(t.data.substr(0,n),t.getAttributes()),a=new Bu(t.data.substr(n),t.getAttributes());o._insertChild(i,[r,a])}}function xo(e,t){const o=e.getAttributes(),n=t.getAttributes();for(const i of o){if(i[1]!==t.getAttribute(i[0]))return!1;n.next()}return n.next().done}function Co(e){return[e.clone()]}function Ao(e,t){for(let o=0;o<t.length;o++)t[o].baseVersion=e+o+1;return t}function To(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function Po(e){return 0===e.length?null:1==e.length?e[0]:(e[0].end=e[e.length-1].end,e[0])}function Eo(e,t,o){const n=[];for(let r=0;r<e.length;r++){const i=So(e[r],t,o.isSticky);n.push(i);for(let t=r+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];t=t._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!0,!1)}return n}function So(e,t,o){let n='$graveyard'==t.root.rootName?km:'$graveyard'==e.start.root.rootName?bm:hm;const i=new n(e.start,e.end.offset-e.start.offset,t,0);return i.isSticky=o,i}function Oo(e,t,o,n,i){var r=-1,a=e.length;for(o||(o=qm),i||(i=[]);++r<a;){var s=e[r];0<t&&o(s)?1<t?Oo(s,t-1,o,n,i):xl(i,s):!n&&(i[i.length]=s)}return i}function Ro(e,t,o,n){var i=o.length,r=i,a=!n;if(null==e)return!r;for(e=Object(e);i--;){var s=o[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<r;){s=o[i];var l=s[0],d=e[l],c=s[1];if(!(a&&s[2])){var u=new Bs;if(n)var m=n(d,c,l,e,t,u);if(void 0===m?!fu(c,d,n,Zm|ep,u):!m)return!1}else if(void 0===d&&!(l in e))return!1}return!0}function Io(e,t){if('function'!=typeof e||t&&'function'!=typeof t)throw new TypeError(lp);var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=o.cache;if(r.has(i))return r.get(i);var a=e.apply(this,n);return o.cache=r.set(i,a),a};return o.cache=new(Io.Cache||Ds),o}function Vo(e,t){if(sl(e))return!1;var o=typeof e;return!!('number'==o||'symbol'==o||'boolean'==o||null==e||Dd(e))||kp.test(e)||!bp.test(e)||null!=t&&e in Object(t)}function Fo(e,t){return t in Object(e)}function No(e,t){for(const o of t)for(const t of o.operations)t.baseVersion=++e;return t}function Mo(e){return e.reduce((e,t)=>e+t.operations.length,0)}function Do(e,t){const o=e[e.length-1];let n=o.operations.length+o.baseVersion;const r=new Em;for(let o=0;o<t;o++)r.addOperation(new vm(n++));e.push(r)}function Bo(e,t,o){qo(e,t,o),Lo(e,t,o),jo(t,o),zo(t,o)}function Lo(e,t,o){const n=o.originalDelta.get(t);if(o.document.history.isUndoingDelta(n)){const t=o.document.history.getUndoneDelta(n),i=o.wasAffected.get(e),r=i.get(t);r!==void 0&&(o.insertBefore=r)}}function zo(e,t){const o=t.originalDelta.get(e),n=t.document.history;t.forceNotSticky=n.isUndoneDelta(o)||n.isUndoingDelta(o)}function jo(e,t){const o=t.document.history,n=t.originalDelta.get(e);t.forceWeakRemove=o.isUndoneDelta(n)}function qo(e,t,o){o.wasAffected.get(e)||o.wasAffected.set(e,new Map);const n=o.originalDelta.get(t);let i=!!o.wasAffected.get(e).get(n);for(const n of e.operations){for(const e of t.operations)if(n instanceof hm&&e instanceof hm&&Wo(n,e)){i=!0;break}if(i)break}o.wasAffected.get(e).set(n,i)}function Wo(e,t){const o=e.targetPosition,n=t.sourcePosition,i=A(n.getParentPath(),o.getParentPath());return!(o.root!=n.root)&&'same'==i&&n.offset<o.offset}function Uo(e,t,o){delete o.insertBefore,delete o.forceNotSticky,delete o.forceWeakRemove;const n=o.wasAffected.get(e);o.wasAffected.delete(e);for(const i of t)o.wasAffected.set(i,new Map(n))}function Ho(e,t){let n=[],i=null,o;switch(e){case Im:case Vm:for(const e of t)i=e instanceof vm?new Em:e instanceof km?new Vm:new Im,i.addOperation(e),n.push(i);return n;case Om:case Nm:return i=new e,i.addOperation(t[0]),i.addOperation(t[1]),n=Ho(Im,t.slice(2)),[i].concat(n);case Rm:case Mm:return n=Ho(Im,t.slice(0,-2)),i=new e,i.addOperation(t[t.length-2]),i.addOperation(t[t.length-1]),n.concat(i);case Fm:return i=t[0]instanceof vm?new Em:new Fm,i.addOperation(t[0]),[i];case Sm:for(o=0;o<t.length&&!!(t[o]instanceof vm);o++);o==t.length?i=new Em:(i=new Sm,0!=o&&t.unshift(t.splice(o,1)[0]));for(const e of t)i.addOperation(e);return[i];default:i=new e;for(const e of t)i.addOperation(e);return[i];}}function Ko(e,t){const o=e.clone(),n=o.operations[0];return n.oldRange&&(n.oldRange=n.oldRange.getTransformedByDelta(t)[0]),n.newRange&&(n.newRange=n.newRange.getTransformedByDelta(t)[0]),[o]}function Go(e,t){function o(){const o=new Hu(e.position.getShiftedBy(s),e.position.getShiftedBy(l)),i=new fm(o,t.key,a,t.value,0);n.addOperation(i)}const n=new Sm,r=e.nodes;let a=r.getNode(0).getAttribute(t.key),s=0,l=r.getNode(0).offsetSize;for(let n=1;n<r.length;n++){const e=r.getNode(n),i=e.getAttribute(t.key);i!=a&&(a!=t.value&&o(),a=i,s=l),l+=e.offsetSize}return o(),n}function $o(){const e=new Em;return e.addOperation(new vm(0)),e}function Jo(e,t,o,n){function i(){0===r.operations.length&&e.batch.addDelta(r);const n=new Hu(l,d),i=n.root.document?s.version:null,u=new fm(n,t,c,o,i);r.addOperation(u),a.applyOperation(u)}const r=new Sm,a=e.model,s=a.document;let l=n.start,d,c,u;for(const r of n)u=r.item.getAttribute(t),d&&c!=u&&(c!=o&&i(),l=d),d=r.nextPosition,c=u;d instanceof Uu&&d!=l&&c!=o&&i()}function Qo(e,t,o,n){const i=e.model,r=i.document,a=n.getAttribute(t);let s,l;if(a!=o){const d=n.root===n,c=d?new Dg:new Sm;if(e.batch.addDelta(c),d){const e=n.document?r.version:null;l=new xm(n,t,a,o,e)}else{s=n.is('element')?new Hu(Uu.createBefore(n),Uu.createFromParentAndOffset(n,0)):new Hu(Uu.createBefore(n),Uu.createAfter(n));const e=s.root.document?r.version:null;l=new fm(s,t,a,o,e)}c.addOperation(l),i.applyOperation(l)}}function Yo(e,t,o,n){const i=e.model,r=i.document,a=new Vg,s=new wm(t,o,n,i.markers,r.version);e.batch.addDelta(a),a.addOperation(s),i.applyOperation(s)}function Xo(e,t,o,n){let i;if(e.root.document){const o=n.document,r=new Uu(o.graveyard,[0]);i=new km(e,t,r,o.version)}else i=new Bg(e,t);o.addOperation(i),n.applyOperation(i)}function Zo(e,t){return!(e!==t)||!!(e instanceof Lg&&t instanceof Lg)}function en(e){const t=[];for(const o of e)if(o.is('text'))for(let e=0;e<o.data.length;e++)t.push({name:'$text',attributes:new Map(o.getAttributes())});else t.push({name:o.name,attributes:new Map(o.getAttributes())});return t}function tn(e,t){const o=[];let n=0,i=0;for(const r of t)r.offset>n&&(o.push(...'e'.repeat(r.offset-n).split('')),i+=r.offset-n),'insert'==r.type?(o.push(...'i'.repeat(r.howMany).split('')),n=r.offset+r.howMany):'remove'==r.type?(o.push(...'r'.repeat(r.howMany).split('')),n=r.offset,i+=r.howMany):(o.push(...'a'.repeat(r.howMany).split('')),n=r.offset+r.howMany,i+=r.howMany);return i<e&&o.push(...'e'.repeat(e-i).split('')),o}function on(e){const t=e.position&&'$graveyard'==e.position.root.rootName,o=e.range&&'$graveyard'==e.range.root.rootName;return!t&&!o}function nn(e){return!!e&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function rn(e){return!!e&&1==e.length&&/[\ud800-\udbff]/.test(e)}function an(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}function sn(e,t){return rn(e.charAt(t-1))&&an(e.charAt(t))}function ln(e,t){return nn(e.charAt(t))}function dn(e){const t=e.textNode;if(t){const o=t.data,n=e.offset-t.startOffset;return!sn(o,n)&&!ln(o,n)}return!0}function cn(){const e=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(t,o)=>{const n=o[0];!n.isDocumentOperation||e.has(n.type)&&un.call(this,n)},{priority:'low'})}function un(e){let t,o;'insert'==e.type?t=Hu.createFromPositionAndShift(e.position,e.nodes.maxOffset):(t=Hu.createFromPositionAndShift(e.getMovedRangeStart(),e.howMany),o=e.sourcePosition);const n=t.end.offset-t.start.offset;let i;switch(e.type){case'insert':const r='sticksToNext'==this.stickiness;i=this._getTransformedByInsertion(t.start,n,r);break;case'move':case'remove':case'reinsert':const a=Hu.createFromPositionAndShift(o,n),s=a.containsPosition(this)||a.start.isEqual(this)&&'sticksToNext'==this.stickiness||a.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(s)i=this._getCombined(o,t.start);else{const e='sticksToNext'==this.stickiness,r=t.start._getTransformedByInsertion(o,n);i=this._getTransformedByMove(o,r,n,e)}}if(!this.isEqual(i)){const e=Uu.createFromPosition(this);this.path=i.path,this.root=i.root,this.fire('change',e)}}function mn(e,t,o){e.change((n)=>{o.isCollapsed||e.deleteContent(o);const i=new $g(e,n,o.anchor);let r;r=t.is('documentFragment')?t.getChildren():[t],i.handleNodes(r,{isFirst:!0,isLast:!0});const a=i.getSelectionRange();a?o instanceof Xu?n.setSelection(a):o.setTo(a):Su.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')})}function pn(e,t,o={}){if(t.isCollapsed)return;const n=e.schema;e.change((e)=>{if(!o.doNotResetEntireContent&&_n(n,t))return void kn(e,t,n);const i=t.getFirstRange(),r=i.start,a=Gg.createFromPosition(i.end);i.start.isTouching(i.end)||e.remove(i),o.leaveUnmerged||(gn(e,r,a),n.removeDisallowedAttributes(r.parent.getChildren(),e)),t instanceof Xu?e.setSelection(r):t.setTo(r),fn(n,r)&&bn(e,r,t),a.detach()})}function gn(e,t,o){const n=t.parent,i=o.parent;if(n!=i&&n.parent&&i.parent&&hn(t,o,e.model.schema)){for(t=Uu.createAfter(n),o=Uu.createBefore(i),o.isEqual(t)||e.insert(i,t),e.merge(t);o.parent.isEmpty;){const t=o.parent;o=Uu.createBefore(t),e.remove(t)}gn(e,t,o)}}function fn(e,t){const o=e.checkChild(t,'$text'),n=e.checkChild(t,'paragraph');return!o&&n}function hn(e,t,o){const n=new Hu(e,t);for(const i of n.getWalker())if(o.isObject(i.item)||o.isLimit(i.item))return!1;return!0}function bn(e,t,o){const n=e.createElement('paragraph');e.insert(n,t),o instanceof Xu?e.setSelection(n,0):o.setTo(n,0)}function kn(e,t){const o=e.model.schema.getLimitElement(t);e.remove(Hu.createIn(o)),bn(e,Uu.createAt(o),t)}function _n(e,t){const o=e.getLimitElement(t);if(!t.containsEntireContent(o))return!1;const n=t.getFirstRange();return n.start.parent!=n.end.parent&&e.checkChild(o,'paragraph')}function wn(e,t,o={}){const n=e.schema,i='backward'!=o.direction,r=o.unit?o.unit:'character',a=t.focus,s=new qu({boundaries:Cn(a,i),singleCharacters:!0,direction:i?'forward':'backward'}),l={walker:s,schema:n,isForward:i,unit:r};for(let n;n=s.next();){if(n.done)return;const o=vn(l,n.value);if(o)return void(t instanceof Xu?e.change((e)=>{e.setSelectionFocus(o)}):t.setFocus(o))}}function vn(e,t){if('text'==t.type)return'word'===e.unit?xn(e.walker,e.isForward):yn(e.walker,e.unit,e.isForward);if(t.type==(e.isForward?'elementStart':'elementEnd')){if(e.schema.isObject(t.item))return Uu.createAt(t.item,e.isForward?'after':'before');if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip(()=>!0);if(e.schema.checkChild(t.nextPosition,'$text'))return t.nextPosition}}function yn(e,t){const o=e.position.textNode;if(o){const n=o.data;for(let i=e.position.offset-o.startOffset;sn(n,i)||'character'==t&&ln(n,i);)e.next(),i=e.position.offset-o.startOffset}return e.position}function xn(e,t){let o=e.position.textNode;if(o)for(let n=e.position.offset-o.startOffset;!An(o.data,n,t)&&!Tn(o,n,t);){e.next();const i=t?e.position.nodeAfter:e.position.nodeBefore;if(i){const n=i.data.charAt(t?0:i.data.length-1);Jg.includes(n)||(e.next(),o=e.position.textNode)}n=e.position.offset-o.startOffset}return e.position}function Cn(e,t){const o=e.root,n=Uu.createAt(o,t?'end':0);return t?new Hu(e,n):new Hu(n,e)}function An(e,t,o){const n=t+(o?0:-1);return Jg.includes(e.charAt(n))}function Tn(e,t,o){return t===(o?e.endOffset:0)}function Pn(e,t){return e.change((e)=>{const o=e.createDocumentFragment(),n=t.getFirstRange();if(!n||n.isCollapsed)return o;const i=n.start.root,r=n.start.getCommonPath(n.end),a=i.getNodeByPath(r);let s=n.start.parent==n.end.parent?n:Hu.createFromParentsAndOffsets(a,n.start.path[r.length],a,n.end.path[r.length]+1);const l=s.end.offset-s.start.offset;for(const t of s.getItems({shallow:!0}))t.is('textProxy')?e.appendText(t.data,t.getAttributes(),o):e.append(t._clone(!0),o);if(s!=n){const t=n._getTransformedByMove(s.start,Uu.createAt(o,0),l)[0],i=new Hu(Uu.createAt(o),t.start),r=new Hu(t.end,Uu.createAt(o,'end'));En(r,e),En(i,e)}return o})}function En(e,t){const o=[];Array.from(e.getItems({direction:'backward'})).map((e)=>Hu.createOn(e)).filter((t)=>{const o=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return o}).forEach((e)=>{o.push(e.start.parent),t.remove(e)}),o.forEach((e)=>{for(let o=e;o.parent&&o.isEmpty;){const e=Hu.createOn(o);o=o.parent,t.remove(e)}})}function Sn(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function On(e){if(!gs(e.updateElement))throw new Ya('attachtoform-missing-elementapi-interface: ElementApi interface is required.');const t=e.element;if(t&&'textarea'===t.tagName.toLowerCase()&&t.form){let o;const n=t.form,i=()=>e.updateElement();gs(n.submit)&&(o=n.submit,n.submit=()=>{i(),o.apply(n)}),n.addEventListener('submit',i),e.on('destroy',()=>{n.removeEventListener('submit',i),o&&(n.submit=o)})}}function Rn(e){return(e+'').toLowerCase()}function In({origin:e,originKeystrokeHandler:t,originFocusTracker:o,toolbar:n,beforeFocus:i,afterBlur:r}){o.add(n.element),t.set('Alt+F10',(e,t)=>{o.isFocused&&!n.focusTracker.isFocused&&(i&&i(),n.focus(),t())}),n.keystrokes.set('Esc',(t,o)=>{n.focusTracker.isFocused&&(e.focus(),r&&r(),o())})}function Vn(e){return Array.isArray(e)?{items:e}:e?Object.assign({items:[]},e):{items:[]}}function Fn(e){return e.every((e)=>'string'==typeof e)}function Nn(e){return!!e&&((e.value&&(e=e.value),Array.isArray(e))?e.some(Nn):!!(e instanceof uf))}function Mn(e,t){return e.map((e)=>e instanceof uf?e.getValue(t):e)}function Dn(e,t,{node:o}){let n=Mn(e,o);n=1==e.length&&e[0]instanceof pf?n[0]:n.reduce($n,''),Yn(n)?t.remove():t.set(n)}function Bn(e){return{set(t){e.textContent=t},remove(){e.textContent=''}}}function Ln(e,t,o){return{set(n){e.setAttributeNS(o,t,n)},remove(){e.removeAttributeNS(o,t)}}}function zn(e,t){return{set(o){e.style[t]=o},remove(){e.style[t]=null}}}function jn(e){const t=df(e,(e)=>{if(e&&(e instanceof uf||Zn(e)||Xn(e)||ei(e)))return e});return t}function qn(e){if('string'==typeof e?e=Hn(e):e.text&&Kn(e),e.on&&(e.eventListeners=Un(e.on),delete e.on),!e.text){e.attributes&&Wn(e.attributes);const t=[];if(e.children)if(ei(e.children))t.push(e.children);else for(const o of e.children)Zn(o)||Xn(o)||Me(o)?t.push(o):t.push(new cf(o));e.children=t}return e}function Wn(e){for(const t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),Gn(e,t)}function Un(e){for(const t in e)Gn(e,t);return e}function Hn(e){return{text:[e]}}function Kn(e){Array.isArray(e.text)||(e.text=[e.text])}function Gn(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function $n(e,t){return Yn(t)?e:Yn(e)?t:`${e} ${t}`}function Jn(e,t){for(const o in t)e[o]?e[o].push(...t[o]):e[o]=t[o]}function Qn(e,t){if(t.attributes&&(!e.attributes&&(e.attributes={}),Jn(e.attributes,t.attributes)),t.eventListeners&&(!e.eventListeners&&(e.eventListeners={}),Jn(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new Ya('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let o=0;for(const n of t.children)Qn(e.children[o++],n)}}function Yn(e){return!e&&0!==e}function Xn(e){return e instanceof hf}function Zn(e){return e instanceof cf}function ei(e){return e instanceof lf}function ti(){return{children:[],bindings:[],attributes:{}}}function oi(e){return'class'==e||'style'==e}function ni(e){return(t)=>t+e}function ii(e){return!!(e.focus&&'none'!=Kc.window.getComputedStyle(e.element).display)}function ri(e){return e.bindTemplate.to((t)=>{t.target===e.element&&t.preventDefault()})}function ai(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}function si(e){const t=e.files?Array.from(e.files):[],o=e.items?Array.from(e.items):[];return t.length?t:o.filter((e)=>'file'===e.kind).map((e)=>e.getAsFile())}function li(e,t){const o=t.target.ownerDocument,n=t.clientX,i=t.clientY;let r;return o.caretRangeFromPoint&&o.caretRangeFromPoint(n,i)?r=o.caretRangeFromPoint(n,i):t.rangeParent&&(r=o.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?e.domConverter.domRangeToView(r):e.document.selection.getFirstRange()}function di(e){return e=e.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<e.indexOf('</p><p>')&&(e=`<p>${e}</p>`),e}function ci(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>1==t.length?' ':t)}function ui(e){let t='';if(e.is('text')||e.is('textProxy'))t=e.data;else if(e.is('img')&&e.hasAttribute('alt'))t=e.getAttribute('alt');else{let o=null;for(const n of e.getChildren()){const e=ui(n);o&&(o.is('containerElement')||n.is('containerElement'))&&(Wf.includes(o.name)||Wf.includes(n.name)?t+='\n':t+='\n\n'),t+=e,o=n}}return t}function mi(e,t,o,n){const i=o.isCollapsed,r=o.getFirstRange(),a=r.start.parent,s=r.end.parent;if(n.isLimit(a)||n.isLimit(s))return void(i||a!=s||e.deleteContent(o));if(i)pi(t,o,r.start);else{const n=!(r.start.isAtStart&&r.end.isAtEnd);e.deleteContent(o,{leaveUnmerged:n}),n&&(a==s?pi(t,o,o.focus):t.setSelection(s,0))}}function pi(e,t,o){const n=o.parent,i=new n.constructor(n.name,n.getAttributes());o.isAtEnd?e.insert(i,o.parent,'after'):o.isAtStart?e.insert(i,o.parent,'before'):e.split(o),e.setSelection(o.parent.nextSibling,0)}function gi(e,t){function o(){a&&(i.push(a),a=null)}function n(e){return a&&a.type==e}const i=[];let r=0,a;return e.forEach((e)=>{'equal'==e?(o(),r++):'insert'==e?(n('insert')?a.values.push(t[r]):(o(),a={type:'insert',index:r,values:[t[r]]}),r++):n('delete')?a.howMany++:(o(),a={type:'delete',index:r,howMany:1})}),o(),i}function fi(e){return!!e.ctrlKey||Zf.includes(e.keyCode)}function hi(e,t){return e instanceof Ed&&t instanceof Ed?e.data===t.data:e===t}function bi(e){if(1==e.newChildren.length-e.oldChildren.length){const t=Te(e.oldChildren,e.newChildren,hi),o=gi(t,e.newChildren);if(!(1<o.length)){const e=o[0];return e.values[0]instanceof Ed?e:void 0}}}function ki(e){const t=e.map((e)=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:!0}));return t?t.getAncestors({includeSelf:!0,parentFirst:!0}).find((e)=>e.is('containerElement')||e.is('rootElement')):void 0}function _i(e){if(0==e.length)return!1;for(const t of e)if('children'===t.type&&!bi(t))return!0;return!1}function wi(e){return e.every((e)=>e.is('text'))}function vi(e){let t=null,o=null;for(let n=0;n<e.length;n++){const i=e[n];'equal'!=i&&(t=null===t?n:t,o=n)}let n=0,r=0;for(let a=t;a<=o;a++)'insert'!=e[a]&&n++,'delete'!=e[a]&&r++;return{insertions:r,deletions:n,firstChangeAt:t}}function yi(e,t){const o=xi([e],t);o.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let n=1;n<o.length;n++){const e=o[n-1],t=o[n];e.end.isTouching(t.start)&&(e.end=t.end,o.splice(n,1),n--)}return o}function xi(e,t){for(const o of t)for(const t of o.operations)for(let o=0;o<e.length;o++){let n;switch(t.type){case'insert':n=e[o]._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':n=e[o]._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0);}n&&(e.splice(o,1,...n),o=o+n.length-1)}return e}function Ci(){let e=Ai(Ph);return e&&e.length==Eh||(e=Pi(Eh),Ti(Ph,e)),e}function Ai(e){e=e.toLowerCase();const t=document.cookie.split(';');for(const o of t){const t=o.split('='),n=decodeURIComponent(t[0].trim().toLowerCase());if(n===e)return decodeURIComponent(t[1])}return null}function Ti(e,t){document.cookie=encodeURIComponent(e)+'='+encodeURIComponent(t)+';path=/'}function Pi(e){let t='';const o=new Uint8Array(e);window.crypto.getRandomValues(o);for(let n=0;n<o.length;n++){const e=Sh.charAt(o[n]%Sh.length);t+=.5<Math.random()?e.toUpperCase():e}return t}function Ei(e){return Array.from(e.getChildren()).reduce((e,t)=>e+t.data,'')}function Si(e,t){return t.filter((e)=>e[0]!==void 0&&e[1]!==void 0).map((t)=>Hu.createFromParentsAndOffsets(e,t[0],e,t[1]))}function Oi(e){const t=e.next();return t.done?null:t.value}function Ri(e){return'blockQuote'==e.parent.name?e.parent:null}function Ii(e){let t=0,o;const n=[];for(;t<e.length;){const i=e[t],r=e[t+1];o||(o=Uu.createBefore(i)),r&&i.nextSibling==r||(n.push(new Hu(o,Uu.createAfter(i))),o=null),t++}return n}function Vi(e,t){const o=e.checkChild(t.parent,'blockQuote'),n=e.checkChild(['$root','blockQuote'],t);return o&&n}function Fi(e,t=512){try{const o=e.match(ib)[1],n=atob(e.replace(ib,'')),i=[];for(let e=0;e<n.length;e+=t){const o=n.slice(e,e+t),r=Array(o.length);for(let e=0;e<o.length;e++)r[e]=o.charCodeAt(e);i.push(new Uint8Array(r))}return new Blob(i,{type:o})}catch(e){throw new Error('Problem with decoding Base64 image data.')}}function Ni(e){if('string'!=typeof e)return!1;const t=e.match(ib);return!!(t&&t.length)}function Mi(){function e(e,t,o){if(o.consumable.test(t.viewItem,{name:!0,classes:'image'})){const e=Array.from(t.viewItem.getChildren()).find((e)=>e.is('img'));if(e&&e.hasAttribute('src')&&o.consumable.test(e,{name:!0})){const n=o.convertItem(e,t.modelCursor),i=Oi(n.modelRange.getItems());i&&(o.convertChildren(t.viewItem,Uu.createAt(i)),t.modelRange=n.modelRange,t.modelCursor=n.modelCursor)}}}return(t)=>{t.on('element:figure',e)}}function Di(){function e(e,t,o){if(o.consumable.consume(t.item,e.name)){const e=o.writer,n=o.mapper.toViewElement(t.item),i=n.getChild(0);if(null===t.attributeNewValue){const o=t.attributeOldValue;o.data&&(e.removeAttribute('srcset',i),e.removeAttribute('sizes',i),o.width&&e.removeAttribute('width',i))}else{const o=t.attributeNewValue;o.data&&(e.setAttribute('srcset',o.data,i),e.setAttribute('sizes','100vw',i),o.width&&e.setAttribute('width',o.width,i))}}}return(t)=>{t.on('attribute:srcset:image',e)}}function Bi(e){function t(e,t,o){if(o.consumable.consume(t.item,e.name)){const e=o.writer,n=o.mapper.toViewElement(t.item),i=n.getChild(0);null===t.attributeNewValue?e.removeAttribute(t.attributeKey,i):e.setAttribute(t.attributeKey,t.attributeNewValue,i)}}return(o)=>{o.on(`attribute:${e}:image`,t)}}function Li(e,t){return e&&t&&e.priority==t.priority&&ji(e.classes)==ji(t.classes)}function zi(e,t){if(e.priority>t.priority)return!0;return!(e.priority<t.priority)&&ji(e.classes)>ji(t.classes)}function ji(e){return Array.isArray(e)?e.sort().join(','):e}function qi(e){return!!e.getCustomProperty(mb)}function Wi(e,t,o={}){function n(e){return Array.isArray(e)?e:[e]}return t.setAttribute('contenteditable','false',e),t.addClass(gb,e),t.setCustomProperty(mb,!0,e),e.getFillerOffset=$i,o.label&&Hi(e,o.label,t),Ui(e,t,(e,t,o)=>o.addClass(n(t.classes),e),(e,t,o)=>o.removeClass(n(t.classes),e)),e}function Ui(e,t,o,n){const i=new ub;i.on('change:top',(t,i)=>{i.oldDescriptor&&n(e,i.oldDescriptor,i.writer),i.newDescriptor&&o(e,i.newDescriptor,i.writer)}),t.setCustomProperty('addHighlight',(e,t,o)=>i.add(t,o),e),t.setCustomProperty('removeHighlight',(e,t,o)=>i.remove(t,o),e)}function Hi(e,t,o){o.setCustomProperty(pb,t,e)}function Ki(e){const t=e.getCustomProperty(pb);return t?'function'==typeof t?t():t:''}function Gi(e,t){return t.addClass(['ck-editor__editable','ck-editor__nested-editable'],e),t.setAttribute('contenteditable',e.isReadOnly?'false':'true',e),e.on('change:isReadOnly',(o,n,i)=>{t.setAttribute('contenteditable',i?'false':'true',e)}),e.on('change:isFocused',(o,n,i)=>{i?t.addClass('ck-editor__nested-editable_focused',e):t.removeClass('ck-editor__nested-editable_focused',e)}),e}function $i(){return null}function Ji(e,t,o){return t.setCustomProperty(hb,!0,e),Wi(e,t,{label:function(){const t=e.getChild(0),n=t.getAttribute('alt');return n?`${n} ${o}`:o}})}function Qi(e){return!!e.getCustomProperty(hb)&&qi(e)}function Yi(e){const t=e.getSelectedElement();return!!(t&&Qi(t))}function Xi(e){return e instanceof ju&&'image'==e.name}function Zi(e){const t=e.createEmptyElement('img'),o=e.createContainerElement('figure',{class:'image'});return e.insert(vc.createAt(o),t),o}function er(e){return e==Nc.arrowright||e==Nc.arrowleft||e==Nc.arrowup||e==Nc.arrowdown}function tr(e){return te(e)==vb}function or(e){for(;e;){if(e instanceof bc&&!(e instanceof _c))return!0;e=e.parent}return!1}function nr({emitter:e,activator:t,callback:o,contextElements:n}){e.listenTo(document,'mousedown',(e,{target:i})=>{if(t()){for(const e of n)if(e.contains(i))return;o()}})}function ir({view:e}){e.listenTo(e.element,'submit',(t,o)=>{o.preventDefault(),e.fire('submit')},{useCapture:!0})}function rr(e){for(;e&&'html'!=e.tagName.toLowerCase();){if('static'!=Kc.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}function ar({element:e,target:t,positions:o,limiter:n,fitInViewport:i}){gs(t)&&(t=t()),gs(n)&&(n=n());const r=rr(e.parentElement),a=new Fu(e),s=new Fu(t);let l,d;if(!n&&!i)[d,l]=sr(o[0],s,a);else{const e=n&&new Fu(n).getVisible(),t=i&&new Fu(Kc.window);[d,l]=lr(o,s,a,e,t)||sr(o[0],s,a)}let{left:c,top:u}=dr(l);if(r){const e=dr(new Fu(r)),t=He(r);c-=e.left,u-=e.top,c+=r.scrollLeft,u+=r.scrollTop,c-=t.left,u-=t.top}return{left:c,top:u,name:d}}function sr(e,t,o){const{left:n,top:i,name:r}=e(t,o);return[r,o.clone().moveTo(n,i)]}function lr(e,t,o,n,i){let r=0,a=0,s,l;const d=o.getArea();return e.some((e)=>{function c(){a=g,r=p,s=m,l=u}const[u,m]=sr(e,t,o);let p,g;if(n)if(i){const e=n.getIntersection(i);p=e?e.getIntersectionArea(m):0}else p=n.getIntersectionArea(m);return i&&(g=i.getIntersectionArea(m)),i&&!n?g>a&&c():!i&&n?p>r&&c():g>a&&p>=r?c():g>=a&&p>r&&c(),p===d}),s?[l,s]:null}function dr({left:e,top:t}){const{scrollX:o,scrollY:n}=Kc.window;return{left:e+o,top:t+n}}function cr(e){return Vu(e)?e:Ue(e)?e.commonAncestorContainer:'function'==typeof e?cr(e()):null}function ur(e,t){return e.top-t.height-zb.arrowVerticalOffset}function mr(e){return e.bottom+zb.arrowVerticalOffset}function pr(e){const t=e.plugins.get('ContextualBalloon');if(Yi(e.editing.view.document.selection)){const o=gr(e);t.updatePosition(o)}}function gr(e){const t=e.editing.view,o=zb.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast]}}function fr(e){const t=/^image\/(jpeg|png|gif|bmp)$/;return t.test(e.type)}function hr(e){const t=e.getSelectedElement();if(t)return Uu.createAfter(t);const o=e.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return Uu.createAt(o);const t=Uu.createAfter(o);return e.focus.isTouching(t)?t:Uu.createBefore(o)}return e.focus}function br(e,t){e.hasClass('ck-appear')||t.addClass('ck-appear',e)}function kr(e,t){t.removeClass('ck-appear',e)}function _r(e,t,o){t.hasClass('ck-image-upload-placeholder')||o.addClass('ck-image-upload-placeholder',t),t.hasClass('ck-infinite-progress')||o.addClass('ck-infinite-progress',t);const n=t.getChild(0);n.getAttribute('src')!==e&&o.setAttribute('src',e,n)}function wr(e,t){e.hasClass('ck-image-upload-placeholder')&&t.removeClass('ck-image-upload-placeholder',e),e.hasClass('ck-infinite-progress')&&t.removeClass('ck-infinite-progress',e)}function vr(e,t,o,n){const i=xr(t);t.insert(vc.createAt(e,'end'),i),o.on('change:uploadedPercent',(e,t,o)=>{n.change((e)=>{e.setStyle('width',o+'%',i)})})}function yr(e,t){const o=Cr(e);o&&t.remove(yc.createOn(o))}function xr(e){const t=e.createUIElement('div',{class:'ck-progress-bar'});return e.setCustomProperty(rk,!0,t),t}function Cr(e){for(const t of e.getChildren())if(t.getCustomProperty(rk))return t}function Ar(e){return Array.from(e.types).includes('text/html')&&''!==e.getData('text/html')}function Tr(e,t){return t.checkChild(e.parent,'paragraph')&&!t.isObject(e)}function Pr(e,t,o){const n=o.writer.createElement('paragraph');return o.writer.insert(n,t),o.convertItem(e,Uu.createAt(n))}function Er(e,t,o){const n=new lm(t);return!!o.checkChild(n,'paragraph')&&!!o.checkChild(n.push('paragraph'),e)}function Sr(e,t,o){return o.checkChild(e.parent,t)&&!o.isObject(e)}function Or(e,t=xk){const o=new t(e),n=new bk(e),i=new wk(e,o,n);return o.bind('isEnabled').to(i),o instanceof xk?o.bind('isOn').to(i,'isOpen'):o.arrowView.bind('isOn').to(i,'isOpen'),Ir(i),i}function Rr(e,t){const o=e.locale,n=e.listView=new Tk(o);n.items.bindTo(t).using((e)=>{const t=new Pk(o);return t.bind(...Object.keys(e)).to(e),t}),e.panelView.children.add(n),n.items.delegate('execute').to(e)}function Ir(e){Vr(e),Fr(e),Nr(e)}function Vr(e){e.on('render',()=>{nr({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:[e.element]})})}function Fr(e){e.on('execute',()=>{e.isOpen=!1})}function Nr(e){e.keystrokes.set('arrowdown',(t,o)=>{e.isOpen&&(e.panelView.focus(),o())}),e.keystrokes.set('arrowup',(t,o)=>{e.isOpen&&(e.panelView.focusLast(),o())})}function Mr(e){const o=e.t,t={Paragraph:o('s'),"Heading 1":o('t'),"Heading 2":o('u'),"Heading 3":o('v')};return e.config.get('heading.options').map((e)=>{const o=t[e.title];return o&&o!=e.title&&(e=Object.assign({},e,{title:o})),e})}function Dr(e,t,o,n){const i=e.document;Bk.has(i)||(Bk.set(i,new Map),i.registerPostFixer((e)=>Br(i,e))),Bk.get(i).set(t,{placeholderText:o,checkFunction:n}),e.render()}function Br(e,t){const o=Bk.get(e);let n=!1;for(const[i,r]of o)Lr(t,i,r)&&(n=!0);return n}function Lr(e,t,o){const n=t.document,i=o.placeholderText;let r=!1;if(!n)return!1;t.getAttribute('data-placeholder')!==i&&(e.setAttribute('data-placeholder',i,t),r=!0);const a=n.selection,s=a.anchor,l=o.checkFunction;if(l&&!l())return t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r;const d=!Array.from(t.getChildren()).some((e)=>!e.is('uiElement'));return!n.isFocused&&d?(t.hasClass('ck-placeholder')||(e.addClass('ck-placeholder',t),r=!0),r):(d&&s&&s.parent!==t?!t.hasClass('ck-placeholder')&&(e.addClass('ck-placeholder',t),r=!0):t.hasClass('ck-placeholder')&&(e.removeClass('ck-placeholder',t),r=!0),r)}function zr(e,t){return(o)=>{const n=o.createEditableElement('figcaption');return o.setCustomProperty(Lk,!0,n),Dr(e,n,t),Gi(n,o)}}function jr(e){for(const t of e.getChildren())if(t instanceof ju&&'caption'==t.name)return t;return null}function qr(e){const t=e.parent;return'figcaption'==e.name&&t&&'figure'==t.name&&t.hasClass('image')?{name:!0}:null}function Wr(e,t=!0){return(o,n,i)=>{const r=n.item;if((r.childCount||t)&&Xi(r.parent)){if(!i.consumable.consume(n.item,'insert'))return;const t=i.mapper.toViewElement(n.range.start.parent),o=e(i.writer),a=i.writer;r.childCount||a.addClass('ck-hidden',o),Ur(o,n.item,t,i)}}}function Ur(e,t,o,n){const i=vc.createAt(o,'end');n.writer.insert(i,e),n.mapper.bindElements(t,e)}function Hr(e){const t=e.getAncestors({includeSelf:!0}),o=t.find((e)=>'caption'==e.name);return o&&o.parent&&'image'==o.parent.name?o:null}function Kr(e,t){return!(e.childCount||e.hasClass('ck-hidden'))&&(t.addClass('ck-hidden',e),!0)}function Gr(e,t){return!!e.hasClass('ck-hidden')&&(t.removeClass('ck-hidden',e),!0)}function $r(e){return(t,o,n)=>{if(n.consumable.consume(o.item,t.name)){const t=Qr(o.attributeNewValue,e),i=Qr(o.attributeOldValue,e),r=n.mapper.toViewElement(o.item),a=n.writer;i&&a.removeClass(i.className,r),t&&a.addClass(t.className,r)}}}function Jr(e){const t=e.filter((e)=>!e.isDefault);return(e,o,n)=>{if(o.modelRange){const e=o.viewItem,i=Oi(o.modelRange.getItems());if(n.schema.checkAttribute(i,'imageStyle'))for(const o of t)n.consumable.consume(e,{classes:o.className})&&n.writer.setAttribute('imageStyle',o.name,i)}}}function Qr(e,t){for(const o of t)if(o.name===e)return o}function Yr(e=[]){return e.map(Xr).map((e)=>Object.assign({},e))}function Xr(e){if('string'==typeof e){const t=e;Zk[t]?e=Object.assign({},Zk[t]):(Su.warn('image-style-not-found: There is no such image style of given name.',{name:t}),e={name:t})}else if(Zk[e.name]){const t=Zk[e.name],o=Object.assign({},e);for(const n in t)e.hasOwnProperty(n)||(o[n]=t[n]);e=o}return'string'==typeof e.icon&&e_[e.icon]&&(e.icon=e_[e.icon]),e}function Zr(e,t){for(const o of e)t[o.title]&&(o.title=t[o.title]);return e}function ea(e,t){return new Hu(ta(e,t,!0),ta(e,t,!1))}function ta(e,t,o){let n=e.textNode||(o?e.nodeBefore:e.nodeAfter),i=null;for(;n&&n.getAttribute('linkHref')==t;)i=n,n=o?n.previousSibling:n.nextSibling;return i?Uu.createAt(i,o?'before':'after'):e}function oa(e){return e.is('attributeElement')&&!!e.getCustomProperty(d_)}function na(e,t){const o=t.createAttributeElement('a',{href:e},{priority:5});return t.setCustomProperty(d_,!0,o),o}function ia(e,t,o,n){const i=new c_(t,o,n),r=t.document.selection;o.listenTo(e.document,'keydown',(e,t)=>{if(!r.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const o=t.keyCode==Nc.arrowright,n=t.keyCode==Nc.arrowleft;if(!o&&!n)return;const a=r.getFirstPosition();let s;s=o?i.handleForwardMovement(a,t):i.handleBackwardMovement(a,t),s&&e.stop()},{priority:ts.get('high')+1})}function ra(e,t){return aa(e,t)||sa(e,t)}function aa(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&(!i||o.getAttribute(t)!==n.getAttribute(t))}function sa(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return i&&(!r||o.getAttribute(t)!==n.getAttribute(t))}function la(e,t){const{nodeBefore:o,nodeAfter:n}=e,i=!!o&&o.hasAttribute(t),r=!!n&&n.hasAttribute(t);return r&&i?n.getAttribute(t)!==o.getAttribute(t):void 0}function da(e,t){return ra(e.getShiftedBy(-1),t)}function ca(e){return e.getAncestors().find((e)=>oa(e))}function ua(e,t,o){const n=t?e[0]:e[e.length-1];if(n.is('listItem'))for(let i=n[t?'previousSibling':'nextSibling'],r=n.getAttribute('indent');i&&i.is('listItem')&&i.getAttribute('indent')>=o;)r>i.getAttribute('indent')&&(r=i.getAttribute('indent')),i.getAttribute('indent')==r&&e[t?'unshift':'push'](i),i=i[t?'previousSibling':'nextSibling']}function ma(e,t){return t.checkChild(e.parent,'listItem')&&!t.isObject(e)}function pa(e){const t=e.createContainerElement('li');return t.getFillerOffset=ga,t}function ga(){const e=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||e?0:null}function fa(e,t,o){const n=o.consumable;if(n.test(t.item,'insert')&&n.test(t.item,'attribute:type')&&n.test(t.item,'attribute:indent')){n.consume(t.item,'insert'),n.consume(t.item,'attribute:type'),n.consume(t.item,'attribute:indent');const e=t.item,i=Ea(e,o);Ra(e,i,o)}}function ha(e,t,o){const n=o.mapper.toViewPosition(t.position).getLastMatchingPosition((e)=>!e.item.is('li')),i=n.nodeAfter,r=o.writer;r.breakContainer(vc.createBefore(i)),r.breakContainer(vc.createAfter(i));const a=i.parent,s=a.previousSibling,l=yc.createOn(a),d=r.remove(l);s&&s.nextSibling&&Oa(r,s,s.nextSibling);const c=o.mapper.toModelElement(i);Ia(c.getAttribute('indent')+1,t.position,l.start,i,o);for(const n of yc.createIn(d).getItems())o.mapper.unbindViewElement(n);e.stop()}function ba(e,t,o){if(!o.consumable.consume(t.item,'attribute:type'))return;const n=o.mapper.toViewElement(t.item),i=o.writer;i.breakContainer(vc.createBefore(n)),i.breakContainer(vc.createAfter(n));let r=n.parent;const a='numbered'==t.attributeNewValue?'ol':'ul';r=i.rename(r,a),Oa(i,r,r.nextSibling),Oa(i,r.previousSibling,r);for(const n of t.item.getChildren())o.consumable.consume(n,'insert')}function ka(e,t,o){if(o.consumable.consume(t.item,'attribute:indent')){const e=o.mapper.toViewElement(t.item),n=o.writer;n.breakContainer(vc.createBefore(e)),n.breakContainer(vc.createAfter(e));const i=e.parent,r=i.previousSibling,a=yc.createOn(i);n.remove(a),r&&r.nextSibling&&Oa(n,r,r.nextSibling),Ia(t.attributeOldValue+1,t.range.start,a.start,e,o),Ra(t.item,e,o);for(const e of t.item.getChildren())o.consumable.consume(e,'insert')}}function _a(e,t,o){if('listItem'!=t.item.name){let e=o.mapper.toViewPosition(t.range.start);const n=o.writer,r=[];for(;('ul'==e.parent.name||'ol'==e.parent.name)&&(e=n.breakContainer(e),'li'==e.parent.name);){const t=e,o=vc.createAt(e.parent,'end');if(!t.isEqual(o)){const e=n.remove(new yc(t,o));r.push(e)}e=vc.createAfter(e.parent)}if(0<r.length){for(let t=0;t<r.length;t++){const o=e.nodeBefore,i=n.insert(e,r[t]);if(e=i.end,0<t){const t=Oa(n,o,o.nextSibling);t&&t.parent==o&&e.offset--}}Oa(n,e.nodeBefore,e.nodeAfter)}}}function wa(e,t,o){const n=o.mapper.toViewPosition(t.position),i=n.nodeBefore,r=n.nodeAfter;Oa(o.writer,i,r)}function va(e,t,o){if(o.consumable.consume(t.viewItem,{name:!0})){const e=o.writer,n=this.conversionApi.store,i=e.createElement('listItem');n.indent=n.indent||0,e.setAttribute('indent',n.indent,i);const r=t.viewItem.parent&&'ol'==t.viewItem.parent.name?'numbered':'bulleted';e.setAttribute('type',r,i),n.indent++;const a=o.splitToAllowedParent(i,t.modelCursor);if(!a)return;e.insert(i,a.position);let s=Uu.createAfter(i);for(const e of t.viewItem.getChildren())'ul'==e.name||'ol'==e.name?s=o.convertItem(e,s).modelCursor:o.convertItem(e,Uu.createAt(i,'end'));n.indent--,t.modelRange=new Hu(t.modelCursor,s),t.modelCursor=a.cursorParent?Uu.createAt(a.cursorParent):t.modelRange.end}}function ya(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){const e=Array.from(t.viewItem.getChildren());for(const t of e)t.is('li')||t._remove()}}function xa(e,t,o){if(o.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;const e=[...t.viewItem.getChildren()];let o=!1,n=!0;for(const t of e)!o||t.is('ul')||t.is('ol')||t._remove(),t.is('text')?(n&&(t._data=t.data.replace(/^\s+/,'')),(!t.nextSibling||t.nextSibling.is('ul')||t.nextSibling.is('ol'))&&(t._data=t.data.replace(/\s+$/,''))):(t.is('ul')||t.is('ol'))&&(o=!0),n=!1}}function Ca(e,t){if(!t.isPhantom){const e=t.modelPosition.nodeBefore;if(e&&e.is('listItem')){const o=t.mapper.toViewElement(e),n=o.getAncestors().find((e)=>e.is('ul')||e.is('ol')),i=new wc({startPosition:vc.createAt(o,0)});for(const e of i)if('elementStart'==e.type&&e.item.is('li')){t.viewPosition=e.previousPosition;break}else if('elementEnd'==e.type&&e.item==n){t.viewPosition=e.nextPosition;break}}}}function Aa(e,t){const o=t.viewPosition,n=o.parent,i=t.mapper;if('ul'==n.name||'ol'==n.name){if(!o.isAtEnd){const e=i.toModelElement(o.nodeAfter);t.modelPosition=Uu.createBefore(e)}else{const e=i.toModelElement(o.nodeBefore),n=i.getModelLength(o.nodeBefore);t.modelPosition=Uu.createBefore(e).getShiftedBy(n)}e.stop()}else if('li'==n.name&&o.nodeBefore&&('ul'==o.nodeBefore.name||'ol'==o.nodeBefore.name)){const r=i.toModelElement(n);let a=1,s=o.nodeBefore;for(;s&&(s.is('ul')||s.is('ol'));)a+=i.getModelLength(s),s=s.previousSibling;t.modelPosition=Uu.createBefore(r).getShiftedBy(a),e.stop()}}function Ta(e,t){function o(e){const t=e.nodeBefore;if(!t||!t.is('listItem')){const t=e.nodeAfter;t&&t.is('listItem')&&a.set(t,t)}else{let o=t;if(a.has(o))return;for(;o.previousSibling&&o.previousSibling.is('listItem');)if(o=o.previousSibling,a.has(o))return;a.set(e.nodeBefore,o)}}function n(e){for(let o=0,n=null;e&&e.is('listItem');){const i=e.getAttribute('indent');if(i>o){let r;null===n?(n=i-o,r=o):(n>i&&(n=i),r=i-n),t.setAttribute('indent',r,e),s=!0}else n=null,o=e.getAttribute('indent')+1;e=e.nextSibling}}function i(e){for(let o=[],n=null;e&&e.is('listItem');){const i=e.getAttribute('indent');if(n&&n.getAttribute('indent')>i&&(o=o.slice(0,i+1)),0!=i)if(o[i]){const n=o[i];e.getAttribute('type')!=n&&(t.setAttribute('type',n,e),s=!0)}else o[i]=e.getAttribute('type');n=e,e=e.nextSibling}}const r=e.document.differ.getChanges(),a=new Map;let s=!1;for(const n of r)if('insert'==n.type&&'listItem'==n.name)o(n.position);else if('insert'==n.type&&'listItem'!=n.name){if('$text'!=n.name){const e=n.position.nodeAfter;e.hasAttribute('indent')&&(t.removeAttribute('indent',e),s=!0),e.hasAttribute('type')&&(t.removeAttribute('type',e),s=!0)}const e=n.position.getShiftedBy(n.length);o(e)}else'remove'==n.type&&'listItem'==n.name?o(n.position):'attribute'==n.type&&'indent'==n.attributeKey?o(n.range.start):'attribute'==n.type&&'type'==n.attributeKey&&o(n.range.start);for(const o of a.values())n(o),i(o);return s}function Pa(e,[t,o]){let n=t.is('documentFragment')?t.getChild(0):t;if(n&&n.is('listItem')){const e=o.getFirstPosition();let t=null;if(e.parent.is('listItem')?t=e.parent:e.nodeBefore&&e.nodeBefore.is('listItem')&&(t=e.nodeBefore),t){const e=t.getAttribute('indent');if(0<e)for(;n&&n.is('listItem');)n._setAttribute('indent',n.getAttribute('indent')+e),n=n.nextSibling}}}function Ea(e,t){const o=t.mapper,n=t.writer,i='numbered'==e.getAttribute('type')?'ol':'ul',r=pa(n),a=n.createContainerElement(i,null);return n.insert(vc.createAt(a),r),o.bindElements(e,r),r}function Sa(e,t){const o=!!t.sameIndent,n=!!t.smallerIndent,i=e instanceof ju?e.getAttribute('indent'):t.indent;for(let r=e instanceof ju?e.previousSibling:e.nodeBefore;r&&'listItem'==r.name;){const e=r.getAttribute('indent');if(o&&i==e||n&&i>e)return r;r=r.previousSibling}return null}function Oa(e,t,o){return t&&o&&('ul'==t.name||'ol'==t.name)&&t.name==o.name?e.mergeContainers(vc.createAfter(t)):null}function Ra(e,t,o){const n=t.parent,i=o.mapper,r=o.writer;let a=i.toViewPosition(Uu.createBefore(e));const s=Sa(e,{sameIndent:!0,smallerIndent:!0}),l=e.previousSibling;if(s&&s.getAttribute('indent')==e.getAttribute('indent')){const e=i.toViewElement(s);a=r.breakContainer(vc.createAfter(e))}else a=l&&'listItem'==l.name?i.toViewPosition(Uu.createAt(l,'end')):i.toViewPosition(Uu.createBefore(e));if(a=Va(a),r.insert(a,n),l&&'listItem'==l.name){const e=i.toViewElement(l),o=new wc({boundaries:new yc(vc.createAt(e,0),a),ignoreElementEnd:!0});for(const e of o)if(e.item.is('li')){const n=r.breakContainer(vc.createBefore(e.item)),i=e.item.parent,a=vc.createAt(t,'end');Oa(r,a.nodeBefore,a.nodeAfter),r.move(yc.createOn(i),a),o.position=n}}else{const o=n.nextSibling;if(o&&(o.is('ul')||o.is('ol'))){let n=null;for(const t of o.getChildren()){const o=i.toModelElement(t);if(o&&o.getAttribute('indent')>e.getAttribute('indent'))n=t;else break}n&&(r.breakContainer(vc.createAfter(n)),r.move(yc.createOn(n.parent),vc.createAt(t,'end')))}}Oa(r,n,n.nextSibling),Oa(r,n.previousSibling,n)}function Ia(e,t,o,n,i){const r=Sa(t,{sameIndent:!0,smallerIndent:!0,indent:e}),a=i.mapper,s=i.writer,l=r?r.getAttribute('indent'):null;let d;if(!r)d=o;else if(l==e){const e=a.toViewElement(r).parent;d=vc.createAfter(e)}else{const e=Uu.createAt(r,'end');d=a.toViewPosition(e)}d=Va(d);for(const r of[...n.getChildren()])(r.is('ul')||r.is('ol'))&&(d=s.move(yc.createOn(r),d).end,Oa(s,r,r.nextSibling),Oa(s,r.previousSibling,r))}function Va(e){return e.getLastMatchingPosition((e)=>e.item.is('uiElement'))}function Fa(e){let t=1;for(const o of e.getChildren())if('ul'==o.name||'ol'==o.name)for(const e of o.getChildren())t+=Fa(e);return t}var Na=Number.POSITIVE_INFINITY,Ma=Math.max,Da=Math.min,Ba=Math.floor;Object.defineProperty(t,'__esModule',{value:!0});var La=Object.getPrototypeOf,za=function(e){return La(Object(e))},ja=function(e){var t=!1;if(null!=e&&'function'!=typeof e.toString)try{t=!!(e+'')}catch(t){}return t},qa=function(e){return!!e&&'object'==typeof e},Wa=Object.prototype,Ua=Function.prototype.toString,Ha=Wa.hasOwnProperty,Ka=Ua.call(Object),Ga=Wa.toString,$a=function(e){if(!qa(e)||Ga.call(e)!='[object Object]'||ja(e))return!1;var t=za(e);if(null===t)return!0;var o=Ha.call(t,'constructor')&&t.constructor;return'function'==typeof o&&o instanceof o&&Ua.call(o)==Ka};class Ja{constructor(e,t){this._config={},t&&this.define(t),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}_setToTarget(e,t,o,n=!1){if($a(t))return void this._setObjectToTarget(e,t,n);const i=t.split('.');t=i.pop();for(const r of i)$a(e[r])||(e[r]={}),e=e[r];return $a(o)?($a(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,o,n)):void(n&&'undefined'!=typeof e[t]||(e[t]=o))}_getFromSource(e,t){const o=t.split('.');t=o.pop();for(const n of o){if(!$a(e[n])){e=null;break}e=e[n]}return e?e[t]:void 0}_setObjectToTarget(e,t,o){Object.keys(t).forEach((n)=>{this._setToTarget(e,n,t[n],o)})}}const Qa='https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html';class Ya extends Error{constructor(e,t){e=n(e),t&&(e+=' '+JSON.stringify(t)),super(e),this.name='CKEditorError',this.data=t}static isCKEditorError(e){return e instanceof Ya}}var Xa=function(){return function e(){e.called=!0}};class Za{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=Xa(),this.off=Xa()}}const es={get(e){return'number'==typeof e?e:this[e]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};var ts=es;const os=Symbol('listeningTo'),ns=Symbol('emitterId'),is={on(e,t,o={}){this.listenTo(this,e,t,o)},once(e,t,o){this.listenTo(this,e,function(e,...o){e.off(),t.call(this,e,...o)},o)},off(e,t){this.stopListening(this,e,t)},listenTo(e,t,o,n={}){let i,r;this[os]||(this[os]={});const l=this[os];s(e)||a(e);const d=s(e);(i=l[d])||(i=l[d]={emitter:e,callbacks:{}}),(r=i.callbacks[t])||(r=i.callbacks[t]=[]),r.push(o),c(e,t);const m=u(e,t),p=ts.get(n.priority),g={callback:o,priority:p};for(const r of m){let e=!1;for(let t=0;t<r.length;t++)if(r[t].priority<p){r.splice(t,0,g),e=!0;break}e||r.push(g)}},stopListening(e,t,o){const n=this[os];let i=e&&s(e);const r=n&&i&&n[i],a=r&&t&&r.callbacks[t];if(n&&(!e||r)&&(!t||a))if(o)g(e,t,o);else if(a){for(;o=a.pop();)g(e,t,o);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete n[i]}else{for(i in n)this.stopListening(n[i].emitter);delete this[os]}},fire(e,...t){const o=e instanceof Za?e:new Za(this,e),n=o.name;let r=m(this,n);if(o.path.push(this),r){const e=[o,...t];r=Array.from(r);for(let t=0;t<r.length&&(r[t].callback.apply(this,e),o.off.called&&(delete o.off.called,g(this,n,r[t].callback)),!o.stop.called);t++);}if(this._delegations){const e=this._delegations.get(n),i=this._delegations.get('*');e&&p(e,o,t),i&&p(i,o,t)}return o.return},delegate(...e){return{to:(t,o)=>{this._delegations||(this._delegations=new Map);for(const n of e){const e=this._delegations.get(n);e?e.set(t,o):this._delegations.set(n,new Map([[t,o]]))}}}},stopDelegating(e,t){if(this._delegations)if(!e)this._delegations.clear();else if(!t)this._delegations.delete(e);else{const o=this._delegations.get(e);o&&o.delete(t)}}};var rs=is,as=function(e,t){return e===t||e!==e&&t!==t},ss=function(e,t){for(var o=e.length;o--;)if(as(e[o][0],t))return o;return-1},ls=Array.prototype,ds=ls.splice;h.prototype.clear=function(){this.__data__=[]},h.prototype['delete']=function(e){var t=this.__data__,o=ss(t,e);if(0>o)return!1;var n=t.length-1;return o==n?t.pop():ds.call(t,o,1),!0},h.prototype.get=function(e){var t=this.__data__,o=ss(t,e);return 0>o?void 0:t[o][1]},h.prototype.has=function(e){return-1<ss(this.__data__,e)},h.prototype.set=function(e,t){var o=this.__data__,n=ss(o,e);return 0>n?o.push([e,t]):o[n][1]=t,this};var cs=h,us=function(e){var t=typeof e;return!!e&&('object'==t||'function'==t)},ms=Object.prototype,ps=ms.toString,gs=function(e){var t=us(e)?ps.call(e):'';return t=='[object Function]'||t=='[object GeneratorFunction]'},fs=Function.prototype.toString,hs=function(e){if(null!=e){try{return fs.call(e)}catch(t){}try{return e+''}catch(t){}}return''},bs=/[\\^$.*+?()[\]{}|]/g,ks=/^\[object .+?Constructor\]$/,_s=Object.prototype,ws=Function.prototype.toString,vs=_s.hasOwnProperty,ys=RegExp('^'+ws.call(vs).replace(bs,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),xs=function(e){if(!us(e))return!1;var t=gs(e)||ja(e)?ys:ks;return t.test(hs(e))},Cs=function(e,t){var o=e[t];return xs(o)?o:void 0},As=Cs(Object,'create'),Ts=As,Ps=Object.prototype,Es=Ps.hasOwnProperty,Ss=Object.prototype,Os=Ss.hasOwnProperty;b.prototype.clear=function(){this.__data__=Ts?Ts(null):{}},b.prototype['delete']=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if(Ts){var o=t[e];return o==='__lodash_hash_undefined__'?void 0:o}return Es.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return Ts?t[e]!==void 0:Os.call(t,e)},b.prototype.set=function(e,t){var o=this.__data__;return o[e]=Ts&&void 0===t?'__lodash_hash_undefined__':t,this};var Rs=b,Is=o(1),Vs=Cs(Is.a,'Map'),Fs=Vs,Ns=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e},Ms=function(e,t){var o=e.__data__;return Ns(t)?o['string'==typeof t?'string':'hash']:o.map};k.prototype.clear=function(){this.__data__={hash:new Rs,map:new(Fs||cs),string:new Rs}},k.prototype['delete']=function(e){return Ms(this,e)['delete'](e)},k.prototype.get=function(e){return Ms(this,e).get(e)},k.prototype.has=function(e){return Ms(this,e).has(e)},k.prototype.set=function(e,t){return Ms(this,e).set(e,t),this};var Ds=k;_.prototype.clear=function(){this.__data__=new cs},_.prototype['delete']=function(e){return this.__data__['delete'](e)},_.prototype.get=function(e){return this.__data__.get(e)},_.prototype.has=function(e){return this.__data__.has(e)},_.prototype.set=function(e,t){var o=this.__data__;return o instanceof cs&&o.__data__.length==200&&(o=this.__data__=new Ds(o.__data__)),o.set(e,t),this};var Bs=_,Ls=function(e,t){for(var o=-1,n=e.length;++o<n&&!(!1===t(e[o],o,e)););return e},zs=Object.prototype,js=zs.hasOwnProperty,qs=w,Ws=function(e,t,o,n){o||(o={});for(var i=-1,r=t.length;++i<r;){var a=t[i],s=n?n(o[a],e[a],a,o,e):e[a];qs(o,a,s)}return o},Us=Object.prototype,Hs=Us.hasOwnProperty,Ks=v,Gs=Object.keys,$s=function(e){return Gs(Object(e))},Js=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n},Qs=function(e){return function(t){return null==t?void 0:t[e]}},Ys=Qs('length'),Xs=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991},Zs=function(e){return null!=e&&Xs(Ys(e))&&!gs(e)},el=function(e){return qa(e)&&Zs(e)},tl=Object.prototype,ol=tl.hasOwnProperty,nl=tl.toString,il=tl.propertyIsEnumerable,rl=function(e){return el(e)&&ol.call(e,'callee')&&(!il.call(e,'callee')||nl.call(e)=='[object Arguments]')},al=Array.isArray,sl=al,ll=Object.prototype,dl=ll.toString,cl=function(e){return'string'==typeof e||!sl(e)&&qa(e)&&dl.call(e)=='[object String]'},ul=function(e){var t=e?e.length:void 0;return Xs(t)&&(sl(e)||cl(e)||rl(e))?Js(t,String):null},ml=/^(?:0|[1-9]\d*)$/,pl=function(e,t){return t=null==t?9007199254740991:t,!!t&&('number'==typeof e||ml.test(e))&&-1<e&&0==e%1&&e<t},gl=Object.prototype,fl=function(e){var t=e&&e.constructor,o='function'==typeof t&&t.prototype||gl;return e===o},hl=function(e){var t=fl(e);if(!(t||Zs(e)))return $s(e);var o=ul(e),n=o||[],i=n.length;for(var r in e)!Ks(e,r)||!!o&&('length'==r||pl(r,i))||t&&'constructor'==r||n.push(r);return n},bl=function(e,t){return e&&Ws(t,hl(t),e)},kl=function(e,t){if(t)return e.slice();var o=new e.constructor(e.length);return e.copy(o),o},_l=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t},wl=Object.getOwnPropertySymbols;wl||(y=function(){return[]});var vl=y,yl=function(e,t){return Ws(e,vl(e),t)},xl=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e},Cl=function(e,t,o){var n=t(e);return sl(e)?n:xl(n,o(e))},Al=function(e){return Cl(e,hl,vl)},Tl=Cs(Is.a,'DataView'),Pl=Tl,El=Cs(Is.a,'Promise'),Sl=El,Ol=Cs(Is.a,'Set'),Rl=Ol,Il=Cs(Is.a,'WeakMap'),Vl=Il,Fl='[object Map]',Nl='[object Promise]',Ml='[object Set]',Dl='[object WeakMap]',Bl='[object DataView]',Ll=Object.prototype,zl=Ll.toString,jl=hs(Pl),ql=hs(Fs),Wl=hs(Sl),Ul=hs(Rl),Hl=hs(Vl);(Pl&&x(new Pl(new ArrayBuffer(1)))!=Bl||Fs&&x(new Fs)!=Fl||Sl&&x(Sl.resolve())!=Nl||Rl&&x(new Rl)!=Ml||Vl&&x(new Vl)!=Dl)&&(x=function(e){var t=zl.call(e),o=t=='[object Object]'?e.constructor:void 0,n=o?hs(o):void 0;if(n)switch(n){case jl:return Bl;case ql:return Fl;case Wl:return Nl;case Ul:return Ml;case Hl:return Dl;}return t});var Kl=x,Gl=Object.prototype,$l=Gl.hasOwnProperty,Jl=function(e){var t=e.length,o=e.constructor(t);return t&&'string'==typeof e[0]&&$l.call(e,'index')&&(o.index=e.index,o.input=e.input),o},Ql=Is.a.Uint8Array,Yl=Ql,Xl=function(e){var t=new e.constructor(e.byteLength);return new Yl(t).set(new Yl(e)),t},Zl=function(e,t){var o=t?Xl(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)},ed=function(e,t){return e.set(t[0],t[1]),e},td=function(e,t,o,n){var i=-1,r=e.length;for(n&&r&&(o=e[++i]);++i<r;)o=t(o,e[i],i,e);return o},od=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,n){o[++t]=[n,e]}),o},nd=function(e,t,o){var n=t?o(od(e),!0):od(e);return td(n,ed,new e.constructor)},id=/\w*$/,rd=function(e){var t=new e.constructor(e.source,id.exec(e));return t.lastIndex=e.lastIndex,t},ad=function(e,t){return e.add(t),e},sd=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o},ld=function(e,t,o){var n=t?o(sd(e),!0):sd(e);return td(n,ad,new e.constructor)},dd=Is.a.Symbol,cd=dd,ud=cd?cd.prototype:void 0,md=ud?ud.valueOf:void 0,pd=function(e){return md?Object(md.call(e)):{}},gd=function(e,t){var o=t?Xl(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)},fd=function(e,t,o,n){var i=e.constructor;return t==='[object ArrayBuffer]'?Xl(e):t==='[object Boolean]'||t==='[object Date]'?new i(+e):t==='[object DataView]'?Zl(e,n):t==='[object Float32Array]'||t==='[object Float64Array]'||t==='[object Int8Array]'||t==='[object Int16Array]'||t==='[object Int32Array]'||t==='[object Uint8Array]'||t==='[object Uint8ClampedArray]'||t==='[object Uint16Array]'||t==='[object Uint32Array]'?gd(e,n):t==='[object Map]'?nd(e,n,o):t==='[object Number]'||t==='[object String]'?new i(e):t==='[object RegExp]'?rd(e):t==='[object Set]'?ld(e,n,o):t==='[object Symbol]'?pd(e):void 0},hd=Object.create,bd=function(e){return us(e)?hd(e):{}},kd=function(e){return'function'!=typeof e.constructor||fl(e)?{}:bd(za(e))},_d=o(9),wd='[object Arguments]',vd='[object Function]',yd='[object GeneratorFunction]',xd='[object Object]',Cd={};Cd[wd]=Cd['[object Array]']=Cd['[object ArrayBuffer]']=Cd['[object DataView]']=Cd['[object Boolean]']=Cd['[object Date]']=Cd['[object Float32Array]']=Cd['[object Float64Array]']=Cd['[object Int8Array]']=Cd['[object Int16Array]']=Cd['[object Int32Array]']=Cd['[object Map]']=Cd['[object Number]']=Cd[xd]=Cd['[object RegExp]']=Cd['[object Set]']=Cd['[object String]']=Cd['[object Symbol]']=Cd['[object Uint8Array]']=Cd['[object Uint8ClampedArray]']=Cd['[object Uint16Array]']=Cd['[object Uint32Array]']=!0,Cd['[object Error]']=Cd[vd]=Cd['[object WeakMap]']=!1;var Ad=C,Td=function(e){return Ad(e,!1,!0)};class Pd{constructor(){this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new Ya('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.parent instanceof Pd?this.parent.document:null}getPath(){const e=[];for(let t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),n=e.getAncestors(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),n=A(t,o);return!('prefix'!==n)||'extension'!==n&&t[n]<o[n]}isAfter(e){return this!=e&&!(this.root!==e.root)&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire('change:'+e,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Td(this);return delete e.parent,e}is(e){return'node'==e}}f(Pd,rs);class Ed extends Pd{constructor(e){super(),this._textData=e}is(e){return'text'==e||super.is(e)}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange('text',this),this._textData=e}isSimilar(e){return!!(e instanceof Ed)&&(this===e||this.data===e.data)}_clone(){return new Ed(this.data)}}class Sd{constructor(e,t,o){if(this.textNode=e,0>t||t>e.data.length)throw new Ya('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>o||t+o>e.data.length)throw new Ya('view-textproxy-wrong-length: Given length value is incorrect.');this.data=e.data.substring(t,t+o),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return'textProxy'==e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this.textNode:this.parent;null!==o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}}class Od{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)('string'==typeof t||t instanceof RegExp)&&(t={name:t}),t.classes&&('string'==typeof t.classes||t.classes instanceof RegExp)&&(t.classes=[t.classes]),this._patterns.push(t)}match(...e){for(const t of e)for(const e of this._patterns){const o=E(t,e);if(o)return{element:t,pattern:e,match:o}}return null}matchAll(...e){const t=[];for(const o of e)for(const e of this._patterns){const n=E(o,e);n&&t.push({element:o,pattern:e,match:n})}return 0<t.length?t:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return'function'!=typeof e&&t&&!(t instanceof RegExp)?t:null}}class Rd extends Pd{constructor(e,t,o){if(super(),this.name=e,this._attrs=V(t),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has('class')){const e=this._attrs.get('class');N(this._classes,e),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(F(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(e,t=null){return t?'element'==e&&t==this.name:'element'==e||e==this.name||super.is(e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(const e of this._attrs.keys())yield e}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(e){if('class'==e)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==e){if(0<this._styles.size){let e='';for(const[t,o]of this._styles)e+=`${t}:${o};`;return e}return}return this._attrs.get(e)}hasAttribute(e){return'class'==e?0<this._classes.size:'style'==e?0<this._styles.size:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Rd))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,o]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==o)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const[t,o]of this._styles)if(!e._styles.has(t)||e._styles.get(t)!==o)return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.get(e)}getStyleNames(){return this._styles.keys()}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Od(...e);for(let o=this.parent;o;){if(t.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(','),t=Array.from(this._styles).map((e)=>`${e[0]}:${e[1]}`).sort().join(';'),o=Array.from(this._attrs).map((e)=>`${e[0]}="${e[1]}"`).sort().join(' ');return this.name+(''==e?'':` class="${e}"`)+(''==t?'':` style="${t}"`)+(''==o?'':` ${o}`)}_clone(e=!1){const t=[];if(e)for(const o of this.getChildren())t.push(o._clone(e));const o=new this.constructor(this.name,this._attrs,t);return o._classes=new Set(this._classes),o._styles=new Map(this._styles),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange('children',this);let o=0;const n=M(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,o++;return o}_removeChildren(e,t=1){this._fireChange('children',this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){t=t+'',this._fireChange('attributes',this),'class'==e?N(this._classes,t):'style'==e?F(this._styles,t):this._attrs.set(e,t)}_removeAttribute(e){return this._fireChange('attributes',this),'class'==e?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==e?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._classes.add(e))}_removeClass(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._classes.delete(e))}_setStyle(e,t){if(this._fireChange('attributes',this),$a(e)){const t=Object.keys(e);for(const o of t)this._styles.set(o,e[o])}else this._styles.set(e,t)}_removeStyle(e){this._fireChange('attributes',this),e=Array.isArray(e)?e:[e],e.forEach((e)=>this._styles.delete(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}class Id extends Rd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=D}is(e,t=null){return t?'containerElement'==e&&t==this.name||super.is(e,t):'containerElement'==e||super.is(e)}}var Vd=B,Fd=function(e,t,o){var n=o.length;return 0===n?e.call(t):1===n?e.call(t,o[0]):2===n?e.call(t,o[0],o[1]):3===n?e.call(t,o[0],o[1],o[2]):e.apply(t,o)},Nd=Object.prototype,Md=Nd.toString,Dd=function(e){return'symbol'==typeof e||qa(e)&&Md.call(e)=='[object Symbol]'},Bd=0/0,Ld=/^\s+|\s+$/g,zd=/^[-+]0x[0-9a-f]+$/i,jd=/^0b[01]+$/i,qd=/^0o[0-7]+$/i,Wd=parseInt,Ud=function(e){if('number'==typeof e)return e;if(Dd(e))return Bd;if(us(e)){var t=gs(e.valueOf)?e.valueOf():e;e=us(t)?t+'':t}if('string'!=typeof e)return 0===e?e:+e;e=e.replace(Ld,'');var o=jd.test(e);return o||qd.test(e)?Wd(e.slice(2),o?2:8):zd.test(e)?Bd:+e},Hd=1/0,Kd=function(e){if(!e)return 0===e?e:0;if(e=Ud(e),e===Hd||e===-Hd){var t=0>e?-1:1;return t*17976931348623157e292}return e===e?e:0},Gd=function(e){var t=Kd(e),o=t%1;return t===t?o?t-o:t:0},$d=Ma,Jd=function(e,t){if('function'!=typeof e)throw new TypeError('Expected a function');return t=$d(void 0===t?e.length-1:Gd(t),0),function(){for(var o=arguments,n=-1,i=$d(o.length-t,0),r=Array(i);++n<i;)r[n]=o[t+n];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,o[0],r);case 2:return e.call(this,o[0],o[1],r);}var a=Array(t+1);for(n=-1;++n<t;)a[n]=o[n];return a[t]=r,Fd(e,this,a)}},Qd=Is.a.Reflect,Yd=Qd,Xd=function(e){for(var t=[],o;!(o=e.next()).done;)t.push(o.value);return t},Zd=Object.prototype,ec=Yd?Yd.enumerate:void 0,tc=Zd.propertyIsEnumerable;ec&&!tc.call({valueOf:1},'valueOf')&&(L=function(e){return Xd(ec(e))});var oc=L,nc=Object.prototype,ic=nc.hasOwnProperty,rc=function(e){for(var t=-1,o=fl(e),n=oc(e),i=n.length,r=ul(e),a=r||[],s=a.length;++t<i;){var l=n[t];!!r&&('length'==l||pl(l,s))||'constructor'==l&&(o||!ic.call(e,l))||a.push(l)}return a},ac=Object.prototype,sc=ac.propertyIsEnumerable,lc=!sc.call({valueOf:1},'valueOf'),dc=function(e){return Jd(function(t,o){var n=-1,i=o.length,r=1<i?o[i-1]:void 0,a=2<i?o[2]:void 0;for(r=3<e.length&&'function'==typeof r?(i--,r):void 0,a&&Vd(o[0],o[1],a)&&(r=3>i?void 0:r,i=1),t=Object(t);++n<i;){var s=o[n];s&&e(t,s,n,r)}return t})}(function(e,t){if(lc||fl(t)||Zs(t))return void Ws(t,rc(t),e);for(var o in t)qs(e,o,t[o])}),cc=dc;const uc=Symbol('observableProperties'),mc=Symbol('boundObservables'),pc=Symbol('boundProperties'),gc={set(e,t){if(us(e))return void Object.keys(e).forEach((t)=>{this.set(t,e[t])},this);z(this);const o=this[uc];if(e in this&&!o.has(e))throw new Ya('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get(){return o.get(e)},set(t){const n=o.get(e);n===t&&o.has(e)||(o.set(e,t),this.fire('change:'+e,e,t,n))}}),this[e]=t},bind(...e){if(!e.length||!U(e))throw new Ya('observable-bind-wrong-properties: All properties must be strings.');if(new Set(e).size!==e.length)throw new Ya('observable-bind-duplicate-properties: Properties must be unique.');z(this);const t=this[pc];e.forEach((e)=>{if(t.has(e))throw new Ya('observable-bind-rebind: Cannot bind the same property more that once.')});const o=new Map;return e.forEach((e)=>{const n={property:e,to:[]};t.set(e,n),o.set(e,n)}),{to:j,toMany:q,_observable:this,_bindProperties:e,_to:[],_bindings:o}},unbind(...e){if(!(uc in this))return;const t=this[pc],o=this[mc];if(e.length){if(!U(e))throw new Ya('observable-unbind-wrong-properties: Properties must be strings.');e.forEach((e)=>{const n=t.get(e);if(!n)return;let i,r,a,s;n.to.forEach((e)=>{i=e[0],r=e[1],a=o.get(i),s=a[r],s.delete(n),s.size||delete a[r],Object.keys(a).length||(o.delete(i),this.stopListening(i,'change'))}),t.delete(e)})}else o.forEach((e,t)=>{this.stopListening(t,'change')}),o.clear(),t.clear()},decorate(e){const t=this[e];if(!t)throw new Ya('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:e});this.on(e,(e,o)=>{e.return=t.apply(this,o)}),this[e]=function(...t){return this.fire(e,t)}}};cc(gc,rs);var fc=gc;const hc=Symbol('document');class bc extends Id{constructor(e,t,o){super(e,t,o),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(hc)}set _document(e){if(this.getCustomProperty(hc))throw new Ya('view-editableelement-document-already-set: View document is already set.');this._setCustomProperty(hc,e),this.bind('isReadOnly').to(e),this.bind('isFocused').to(e,'isFocused',(t)=>t&&e.selection.editableElement==this),this.listenTo(e.selection,'change',()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}}f(bc,fc);const kc=Symbol('rootName');class _c extends bc{constructor(e){super(e),this.rootName='main'}is(e,t=null){return t?'rootElement'==e&&t==this.name||super.is(e,t):'rootElement'==e||super.is(e)}get rootName(){return this.getCustomProperty(kc)}set rootName(e){this._setCustomProperty(kc,e)}set _name(e){this.name=e}}class wc{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Ya('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(e.direction&&'forward'!=e.direction&&'backward'!=e.direction)throw new Ya('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:e.direction});this.boundaries=e.boundaries||null,this.position=e.startPosition?vc.createFromPosition(e.startPosition):vc.createFromPosition(e.boundaries['backward'==e.direction?'end':'start']),this.direction=e.direction||'forward',this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,o,n;do n=this.position,({done:t,value:o}=this.next());while(!t&&e(o));t||(this.position=n)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let e=vc.createFromPosition(this.position);const t=this.position,o=e.parent;if(null===o.parent&&e.offset===o.childCount)return{done:!0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};let n;if(o instanceof Ed){if(e.isAtEnd)return this.position=vc.createAfter(o),this._next();n=o.data[e.offset]}else n=o.getChild(e.offset);if(n instanceof Rd)return this.shallow?e.offset++:e=new vc(n,0),this.position=e,this._formatReturnValue('elementStart',n,t,e,1);if(!(n instanceof Ed)){if('string'==typeof n){let n;if(this.singleCharacters)n=1;else{const t=o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length;n=t-e.offset}const i=new Sd(o,e.offset,n);return e.offset+=n,this.position=e,this._formatReturnValue('text',i,t,e,n)}return e=vc.createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',o,t,e)}if(this.singleCharacters)return e=new vc(n,0),this.position=e,this._next();else{let o=n.data.length,i;return n==this._boundaryEndParent?(o=this.boundaries.end.offset,i=new Sd(n,0,o),e=vc.createAfter(i)):(i=new Sd(n,0,n.data.length),e.offset++),this.position=e,this._formatReturnValue('text',i,t,e,o)}}_previous(){let e=vc.createFromPosition(this.position);const t=this.position,o=e.parent;if(null===o.parent&&0===e.offset)return{done:!0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};let n;if(o instanceof Ed){if(e.isAtStart)return this.position=vc.createBefore(o),this._previous();n=o.data[e.offset-1]}else n=o.getChild(e.offset-1);if(n instanceof Rd)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue('elementStart',n,t,e,1)):(e=new vc(n,n.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',n,t,e));if(!(n instanceof Ed)){if('string'==typeof n){let n;if(!this.singleCharacters){const t=o===this._boundaryStartParent?this.boundaries.start.offset:0;n=e.offset-t}else n=1;e.offset-=n;const i=new Sd(o,e.offset,n);return this.position=e,this._formatReturnValue('text',i,t,e,n)}return e=vc.createBefore(o),this.position=e,this._formatReturnValue('elementStart',o,t,e,1)}if(this.singleCharacters)return e=new vc(n,n.data.length),this.position=e,this._previous();else{let o=n.data.length,i;if(n==this._boundaryStartParent){const t=this.boundaries.start.offset;i=new Sd(n,t,n.data.length-t),o=i.data.length,e=vc.createBefore(i)}else i=new Sd(n,0,n.data.length),e.offset--;return this.position=e,this._formatReturnValue('text',i,t,e,o)}}_formatReturnValue(e,t,o,n,i){return t instanceof Sd&&(t.offsetInText+t.data.length==t.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=vc.createAfter(t.textNode):(n=vc.createAfter(t.textNode),this.position=n)),0===t.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=vc.createBefore(t.textNode):(n=vc.createBefore(t.textNode),this.position=n))),{done:!1,value:{type:e,item:t,previousPosition:o,nextPosition:n,length:i}}}}class vc{constructor(e,t){this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof bc);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=vc.createFromPosition(this),o=t.offset+e;return t.offset=0>o?0:o,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new wc(t);return o.skip(e),o.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return'before'==this.compareWith(e)}isAfter(e){return'after'==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return'different';if(this.isEqual(e))return'same';const t=this.parent.is('node')?this.parent.getPath():[],o=e.parent.is('node')?e.parent.getPath():[];t.push(this.offset),o.push(e.offset);const n=A(t,o);return'prefix'===n?'before':'extension'===n?'after':t[n]<o[n]?'before':'after'}static createAt(e,t){if(e instanceof vc)return this.createFromPosition(e);else{const o=e;if('end'==t)t=o.is('text')?o.data.length:o.childCount;else{if('before'==t)return this.createBefore(o);if('after'==t)return this.createAfter(o);t||(t=0)}return new vc(o,t)}}static createAfter(e){if(e.is('textProxy'))return new vc(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new Ya('view-position-after-root: You can not make position after root.',{root:e});return new vc(e.parent,e.index+1)}static createBefore(e){if(e.is('textProxy'))return new vc(e.textNode,e.offsetInText);if(!e.parent)throw new Ya('view-position-before-root: You can not make position before root.',{root:e});return new vc(e.parent,e.index)}static createFromPosition(e){return new this(e.parent,e.offset)}}class yc{constructor(e,t=null){this.start=vc.createFromPosition(e),this.end=t?vc.createFromPosition(t):vc.createFromPosition(e)}*[Symbol.iterator](){yield*new wc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Q,{direction:'backward'}),t=this.end.getLastMatchingPosition(Q);return e.parent.is('text')&&e.isAtStart&&(e=vc.createBefore(e.parent)),t.parent.is('text')&&t.isAtEnd&&(t=vc.createAfter(t.parent)),new yc(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Q);if(e.isAfter(this.end)||e.isEqual(this.end))return new yc(e,e);let t=this.end.getLastMatchingPosition(Q,{direction:'backward'});const o=e.nodeAfter,n=t.nodeBefore;return o&&o.is('text')&&(e=new vc(o,0)),n&&n.is('text')&&(t=new vc(n,n.data.length)),new yc(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new yc(this.start,e.start)),this.containsPosition(e.end)&&t.push(new yc(e.end,this.end))):t.push(yc.createFromRange(this)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new yc(t,o)}return null}getWalker(e={}){return e.boundaries=this,new wc(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new wc(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new wc(e);yield t.position;for(const o of t)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static createFromParentsAndOffsets(e,t,o,n){return new this(new vc(e,t),new vc(o,n))}static createFromRange(e){return new this(e.start,e.end)}static createFromPositionAndShift(e,t){const o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}static createIn(e){return this.createFromParentsAndOffsets(e,0,e,e.childCount)}static createOn(e){const t=e.is('textProxy')?e.offsetSize:1;return this.createFromPositionAndShift(vc.createBefore(e),t)}static createCollapsedAt(e,t){const o=vc.createAt(e,t),n=vc.createFromPosition(o);return new yc(o,n)}}class xc{constructor(e=null,t,o){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',this.setTo(e,t,o)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.end:e.start;return vc.createFromPosition(t)}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1],t=this._lastRangeBackward?e.start:e.end;return vc.createFromPosition(t)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield yc.createFromRange(e)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?yc.createFromRange(e):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?yc.createFromRange(e):null}getFirstPosition(){const e=this.getFirstRange();return e?vc.createFromPosition(e.start):null}getLastPosition(){const e=this.getLastRange();return e?vc.createFromPosition(e.end):null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const n of e._ranges)if(t.isEqual(n)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Y(this.getRanges()),o=Y(e.getRanges());if(t!=o)return!1;if(0==t)return!0;for(let t of this.getRanges()){t=t.getTrimmed();let o=!1;for(let n of e.getRanges())if(n=n.getTrimmed(),t.start.isEqual(n.start)&&t.end.isEqual(n.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof Rd&&t==o?t:null}setTo(e,t,o){if(null===e)this._setRanges([]),this._setFakeOptions(t);else if(e instanceof xc||e instanceof Cc)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof yc)this._setRanges([e],t&&t.backward),this._setFakeOptions(t);else if(e instanceof vc)this._setRanges([new yc(e)]),this._setFakeOptions(t);else if(e instanceof Pd){const n=!!o&&!!o.backward;let i;if(t===void 0)throw new Ya('view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');else i='in'==t?yc.createIn(e):'on'==t?yc.createOn(e):yc.createCollapsedAt(e,t);this._setRanges([i],n),this._setFakeOptions(o)}else if(P(e))this._setRanges(e,t&&t.backward),this._setFakeOptions(t);else throw new Ya('view-selection-setTo-not-selectable: Cannot set selection to given place.');this.fire('change')}setFocus(e,t){if(null===this.anchor)throw new Ya('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const o=vc.createAt(e,t);if('same'!=o.compareWith(this.focus)){const e=this.anchor;this._ranges.pop(),'before'==o.compareWith(e)?this._addRange(new yc(o,e),!0):this._addRange(new yc(e,o)),this.fire('change')}}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake?e.label||'':''}_addRange(e,t=!1){if(!(e instanceof yc))throw new Ya('view-selection-invalid-range: Invalid Range.');this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new Ya('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:t});this._ranges.push(yc.createFromRange(e))}}f(xc,rs);class Cc{constructor(e=null,t,o){this._selection=new xc,this._selection.delegate('change').to(this),this._selection.setTo(e,t,o)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(e,t,o){this._selection.setTo(e,t,o)}_setFocus(e,t){this._selection.setFocus(e,t)}}f(Cc,rs);class Ac{constructor(e={}){this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){let o;const n=this._idProperty;if(n in e){if(o=e[n],'string'!=typeof o)throw new Ya('collection-add-invalid-id');if(this.get(o))throw new Ya('collection-add-item-already-exists')}else e[n]=o=i();if(void 0===t)t=this._items.length;else if(t>this._items.length||0>t)throw new Ya('collection-add-item-invalid-index');return this._items.splice(t,0,e),this._itemMap.set(o,e),this.fire('add',e,t),this}get(e){let t;if('string'==typeof e)t=this._itemMap.get(e);else if('number'==typeof e)t=this._items[e];else throw new Ya('collection-get-invalid-arg: Index or id must be given.');return t||null}getIndex(e){let t;return t='string'==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}remove(e){let t=!1,o,n,i;const r=this._idProperty;if('string'==typeof e?(n=e,i=this._itemMap.get(n),t=!i,i&&(o=this._items.indexOf(i))):'number'==typeof e?(o=e,i=this._items[o],t=!i,i&&(n=i[r])):(i=e,n=i[r],o=this._items.indexOf(i),t=-1==o||!this._itemMap.get(n)),t)throw new Ya('collection-remove-404: Item not found.');this._items.splice(o,1),this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire('remove',i,o),i}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(e){if(this._bindToCollection)throw new Ya('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=e,{as:(e)=>{this._setUpBindToBinding((t)=>new e(t))},using:(e)=>{'function'==typeof e?this._setUpBindToBinding((t)=>e(t)):this._setUpBindToBinding((t)=>t[e])}}}_setUpBindToBinding(e){const t=this._bindToCollection,o=(o,n,i)=>{const r=t._bindToCollection==this,a=t._bindToInternalToExternalMap.get(n);if(r&&a)this._bindToExternalToInternalMap.set(n,a),this._bindToInternalToExternalMap.set(a,n);else{const o=e(n);if(!o)return void this._skippedIndexesFromExternal.push(i);let r=i;for(const e of this._skippedIndexesFromExternal)i>e&&r--;for(const e of t._skippedIndexesFromExternal)r>=e&&r++;this._bindToExternalToInternalMap.set(n,o),this._bindToInternalToExternalMap.set(o,n),this.add(o,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)r<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const n of t)o(null,n,t.getIndex(n));this.listenTo(t,'add',o),this.listenTo(t,'remove',(e,t,o)=>{const n=this._bindToExternalToInternalMap.get(t);n&&this.remove(n),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>(o<t&&e.push(t-1),o>t&&e.push(t),e),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}f(Ac,rs);class Tc{constructor(){this.selection=new Cc,this.roots=new Ac({idProperty:'rootName'}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.set('isComposing',!1),this._postFixers=new Set}getRoot(e='main'){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(t=o(e),t)break;while(t)}}f(Tc,fc);const Pc=10;class Ec extends Rd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=X,this._priority=Pc,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new Ya('attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.');return new Set(this._clonesGroup)}is(e,t=null){return t?'attributeElement'==e&&t==this.name||super.is(e,t):'attributeElement'==e||super.is(e)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Ec.DEFAULT_PRIORITY=Pc;class Sc extends Rd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=ee}is(e,t=null){return t?'emptyElement'==e&&t==this.name||super.is(e,t):'emptyElement'==e||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Pd||0<Array.from(t).length))throw new Ya('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}const Oc=navigator.userAgent.toLowerCase(),Rc={isMac:function(e){return-1<e.indexOf('macintosh')}(Oc)};var Ic=Rc;const Vc={"":'ctrl',"":'shift',"":'alt'},Fc={ctrl:'\u2318',shift:'\u21E7',alt:'\u2325'},Nc=function(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;90>=t;t++){const o=String.fromCharCode(t);e[o.toLowerCase()]=t}for(let t=48;57>=t;t++)e[t-48]=t;for(let t=112;123>=t;t++)e['f'+(t-111)]=t;return e}();class Mc extends Rd{constructor(e,t,o){super(e,t,o),this.getFillerOffset=ae}is(e,t=null){return t?'uiElement'==e&&t==this.name||super.is(e,t):'uiElement'==e||super.is(e)}_insertChild(e,t){if(t&&(t instanceof Pd||0<Array.from(t).length))throw new Ya('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const o of this.getAttributeKeys())t.setAttribute(o,this.getAttribute(o));return t}}class Dc{constructor(e){this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return'documentFragment'==e}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange('children',this);let o=0;const n=le(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,o++;return o}_removeChildren(e,t=1){this._fireChange('children',this);for(let o=e;o<e+t;o++)this._children[o].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire('change:'+e,t)}}f(Dc,rs);class Bc{constructor(e){this.document=e,this._cloneGroups=new Map}setSelection(e,t,o){this.document.selection._setTo(e,t,o)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new Ed(e)}createAttributeElement(e,t,o={}){const n=new Ec(e,t);return o.priority&&(n._priority=o.priority),o.id&&(n._id=o.id),n}createContainerElement(e,t){return new Id(e,t)}createEditableElement(e,t){const o=new bc(e,t);return o._document=this.document,o}createEmptyElement(e,t){return new Sc(e,t)}createUIElement(e,t,o){const n=new Mc(e,t);return o&&(n.render=o),n}setAttribute(e,t,o){o._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,o){$a(e)&&o===void 0&&(o=t),o._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,o){o._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof vc?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is('containerElement'))throw new Ya('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!t.parent)throw new Ya('view-writer-break-root: Trying to break root element.');if(e.isAtStart)return vc.createBefore(t);if(!e.isAtEnd){const o=t._clone(!1);this.insert(vc.createAfter(t),o);const n=new yc(e,vc.createAt(t,'end')),i=new vc(o,0);this.move(n,i)}return vc.createAfter(t)}mergeAttributes(e){const t=e.offset,o=e.parent;if(o.is('text'))return e;if(o.is('attributeElement')&&0===o.childCount){const e=o.parent,t=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new vc(e,t))}const n=o.getChild(t-1),i=o.getChild(t);if(!n||!i)return e;if(n.is('text')&&i.is('text'))return ge(n,i);if(n.is('attributeElement')&&i.is('attributeElement')&&n.isSimilar(i)){const e=n.childCount;return n._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new vc(n,e))}return e}mergeContainers(e){const t=e.nodeBefore,o=e.nodeAfter;if(!t||!o||!t.is('containerElement')||!o.is('containerElement'))throw new Ya('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const n=t.getChild(t.childCount-1),i=n instanceof Ed?vc.createAt(n,'end'):vc.createAt(t,'end');return this.move(yc.createIn(o),vc.createAt(t,'end')),this.remove(yc.createOn(o)),i}insert(e,t){t=P(t)?[...t]:[t],he(t);const o=ce(e);if(!o)throw new Ya('view-writer-invalid-position-container');const n=this._breakAttributes(e,!0),i=o._insertChild(n.offset,t);for(const o of t)this._addToClonedElementsGroup(o);const r=n.getShiftedBy(i),a=this.mergeAttributes(n);if(0===i)return new yc(a,a);else{a.isEqual(n)||r.offset--;const e=this.mergeAttributes(r);return new yc(a,e)}}remove(e){if(ke(e),e.isCollapsed)return new Dc;const{start:t,end:o}=this._breakAttributesRange(e,!0),n=t.parent,i=o.offset-t.offset,r=n._removeChildren(t.offset,i);for(const t of r)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(t);return e.start=a,e.end=vc.createFromPosition(a),new Dc(r)}clear(e,t){ke(e);const o=e.getWalker({direction:'backward',ignoreElementEnd:!0});for(const n of o){const o=n.item;let i;if(o.is('element')&&t.isSimilar(o))i=yc.createOn(o);else if(!n.nextPosition.isAfter(e.start)&&o.is('textProxy')){const e=o.getAncestors().find((e)=>e.is('element')&&t.isSimilar(e));e&&(i=yc.createIn(e))}i&&(i.end.isAfter(e.end)&&(i.end=e.end),i.start.isBefore(e.start)&&(i.start=e.start),this.remove(i))}}move(e,t){let o;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const n=t.parent,i=n.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),t.offset+=n.childCount-i}else o=this.remove(e);return this.insert(t,o)}wrap(e,t){if(!(t instanceof Ec))throw new Ya('view-writer-wrap-invalid-attribute');if(ke(e),!e.isCollapsed)return this._wrapRange(e,t);else{let o=e.start;o.parent.is('element')&&!de(o.parent)&&(o=o.getLastMatchingPosition((e)=>e.item.is('uiElement'))),o=this._wrapPosition(o,t);const n=this.document.selection;return n.isCollapsed&&n.getFirstPosition().isEqual(e.start)&&this.setSelection(o),new yc(o)}}unwrap(e,t){if(!(t instanceof Ec))throw new Ya('view-writer-unwrap-invalid-attribute');if(ke(e),e.isCollapsed)return e;const{start:o,end:n}=this._breakAttributesRange(e,!0);if(n.isEqual(o.getShiftedBy(1))){const e=o.nodeAfter;if(!t.isSimilar(e)&&e instanceof Ec&&this._unwrapAttributeElement(t,e)){const e=this.mergeAttributes(o);e.isEqual(o)||n.offset--;const t=this.mergeAttributes(n);return new yc(e,t)}}const i=o.parent,r=this._unwrapChildren(i,o.offset,n.offset,t),a=this.mergeAttributes(r.start);a.isEqual(r.start)||r.end.offset--;const s=this.mergeAttributes(r.end);return new yc(a,s)}rename(e,t){const o=new Id(t,e.getAttributes());return this.insert(vc.createAfter(e),o),this.move(yc.createIn(e),vc.createAt(o)),this.remove(yc.createOn(e)),o}_wrapChildren(e,t,o,n){let r=t;const i=[];for(;r<o;){const t=e.getChild(r),o=t.is('text'),a=t.is('attributeElement'),s=t.is('emptyElement'),l=t.is('uiElement');if(o||s||l||a&&ue(n,t)){const o=n._clone();t._remove(),o._appendChild(t),e._insertChild(r,o),this._addToClonedElementsGroup(o),i.push(new vc(e,r))}else a&&this._wrapChildren(t,0,t.childCount,n);r++}let a=0;for(const r of i){if(r.offset-=a,r.offset==t)continue;const e=this.mergeAttributes(r);e.isEqual(r)||(a++,o--)}return yc.createFromParentsAndOffsets(e,t,e,o)}_unwrapChildren(e,t,o,n){let r=t;const i=[];for(;r<o;){const t=e.getChild(r);if(t.isSimilar(n)){const n=t.getChildren(),a=t.childCount;t._remove(),e._insertChild(r,n),this._removeFromClonedElementsGroup(t),i.push(new vc(e,r),new vc(e,r+a)),r+=a,o+=a-1}else t.is('attributeElement')&&this._unwrapChildren(t,0,t.childCount,n),r++}let a=0;for(const r of i){if(r.offset-=a,r.offset==t||r.offset==o)continue;const e=this.mergeAttributes(r);e.isEqual(r)||(a++,o--)}return yc.createFromParentsAndOffsets(e,t,e,o)}_wrapRange(e,t){if(fe(e)&&this._wrapAttributeElement(t,e.start.parent)){const t=e.start.parent,o=this.mergeAttributes(vc.createAfter(t)),n=this.mergeAttributes(vc.createBefore(t));return new yc(n,o)}const{start:o,end:n}=this._breakAttributesRange(e,!0);if(n.isEqual(o.getShiftedBy(1))){const e=o.nodeAfter;if(e instanceof Ec&&this._wrapAttributeElement(t,e)){const e=this.mergeAttributes(o);e.isEqual(o)||n.offset--;const t=this.mergeAttributes(n);return new yc(e,t)}}const i=o.parent,r=this._unwrapChildren(i,o.offset,n.offset,t),a=this._wrapChildren(i,r.start.offset,r.end.offset,t),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;const l=this.mergeAttributes(a.end);return new yc(s,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return me(vc.createFromPosition(e));e.parent.is('text')&&(e=pe(e));const o=this.createAttributeElement();o._priority=Na,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const n=new yc(e,e.getShiftedBy(1));this.wrap(n,t);const i=new vc(o.parent,o.index);o._remove();const r=i.nodeBefore,a=i.nodeAfter;return r instanceof Ed&&a instanceof Ed?ge(r,a):me(i)}_wrapAttributeElement(e,t){if(!_e(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if('class'!==o&&'style'!==o&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(t.hasStyle(o)&&t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())'class'!==o&&'style'!==o&&(t.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),t));for(const o of e.getStyleNames())t.hasStyle(o)||this.setStyle(o,e.getStyle(o),t);for(const o of e.getClassNames())t.hasClass(o)||this.addClass(o,t);return!0}_unwrapAttributeElement(e,t){if(!_e(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const o of e.getAttributeKeys())if('class'!==o&&'style'!==o&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!t.hasStyle(o)||t.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())'class'!==o&&'style'!==o&&this.removeAttribute(o,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const o=e.start,n=e.end;if(ke(e),e.isCollapsed){const o=this._breakAttributes(e.start,t);return new yc(o,o)}const i=this._breakAttributes(n,t),r=i.parent.childCount,a=this._breakAttributes(o,t);return i.offset+=i.parent.childCount-r,new yc(a,i)}_breakAttributes(e,t=!1){const o=e.offset,n=e.parent;if(e.parent.is('emptyElement'))throw new Ya('view-writer-cannot-break-empty-element');if(e.parent.is('uiElement'))throw new Ya('view-writer-cannot-break-ui-element');if(!t&&n.is('text')&&be(n.parent))return vc.createFromPosition(e);if(be(n))return vc.createFromPosition(e);if(n.is('text'))return this._breakAttributes(pe(e),t);const i=n.childCount;if(o==i){const e=new vc(n.parent,n.index+1);return this._breakAttributes(e,t)}if(0===o){const e=new vc(n.parent,n.index);return this._breakAttributes(e,t)}else{const e=n.index+1,i=n._clone();n.parent._insertChild(e,i),this._addToClonedElementsGroup(i);const r=n.childCount-o,a=n._removeChildren(o,r);i._appendChild(a);const s=new vc(n.parent,e);return this._breakAttributes(s,t)}}_addToClonedElementsGroup(e){if(!e.root.is('rootElement'))return;if(e.is('element'))for(const t of e.getChildren())this._addToClonedElementsGroup(t);const t=e.id;if(!t)return;let o=this._cloneGroups.get(t);o||(o=new Set,this._cloneGroups.set(t,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is('element'))for(const t of e.getChildren())this._removeFromClonedElementsGroup(t);const t=e.id;if(t){const o=this._cloneGroups.get(t);o&&(o.delete(e),0===o.size&&this._cloneGroups.delete(t))}}}const Lc=[Ed,Ec,Id,Sc,Mc],zc=(e)=>{const t=e.createElement('br');return t.dataset.ckeFiller=!0,t},jc=(e)=>e.createTextNode('\xA0'),qc=7;let Wc='';for(let n=0;n<qc;n++)Wc+='\u200B';const Uc=new WeakMap;class Hc{constructor(e,t){this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=t,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(e,t){if('text'===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if('attributes'===e)this.markedAttributes.add(t);else if('children'===e)this.markedChildren.add(t);else throw new Ya('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let e;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const t of this.markedChildren)this._updateChildren(t,{inlineFillerPosition:e});for(const t of this.markedTexts)!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)&&this._updateText(t,{inlineFillerPosition:e});if(e){const t=this.domConverter.viewPositionToDom(e),o=t.parent.ownerDocument;this._inlineFiller=we(t.parent)?t.parent:this._addInlineFiller(o,t.parent,t.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_addInlineFiller(e,t,o){const n=t instanceof Array?t:t.childNodes,i=n[o];if(Se(i))return i.data=Wc+i.data,i;else{const i=e.createTextNode(Wc);return Array.isArray(t)?n.splice(o,0,i):Pe(t,o,i),i}}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is('text')?vc.createBefore(this.selection.getFirstPosition().parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Se(t.parent)&&we(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!we(e))throw new Ya('view-renderer-filler-was-lost: The inline filler node was lost.');ve(e)?e.parentNode.removeChild(e):e.data=e.data.substr(qc),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is('element'))return!1;if(!Oe(t))return!1;if(o===t.getFillerOffset())return!1;const n=e.nodeBefore,i=e.nodeAfter;return!(n instanceof Ed||i instanceof Ed)}_updateText(e,t){const o=this.domConverter.findCorrespondingDomText(e),n=this.domConverter.viewToDom(e,o.ownerDocument),i=o.data;let r=n.data;const a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(r=Wc+r),i!=r&&(o.data=r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e),o=Array.from(t.attributes).map((e)=>e.name),n=e.getAttributeKeys();for(const o of n)t.setAttribute(o,e.getAttribute(o));for(const n of o)e.hasAttribute(n)||t.removeAttribute(n)}_updateChildren(e,t){function o(e,t){if(e===t)return!0;return Se(e)&&Se(t)?e.data===t.data:!!(xe(e,n.blockFiller)&&xe(t,n.blockFiller))}const n=this.domConverter,r=n.mapViewToDom(e);if(r){const a=r.ownerDocument,s=t.inlineFillerPosition,l=r.childNodes,d=Array.from(n.viewChildrenToDom(e,a,{bind:!0}));s&&s.parent==e&&this._addInlineFiller(a,d,s.offset);const c=Te(l,d,o);let u=0;const i=new Set;for(const e of c)'insert'===e?(Pe(r,u,d[u]),u++):'delete'===e?(i.add(l[u]),Ee(l[u])):(this._markDescendantTextToSync(n.domToView(d[u])),u++);for(const e of i)e.parentNode||this.domConverter.unbindDomElement(e)}}_markDescendantTextToSync(e){if(e)if(e.is('text'))this.markedTexts.add(e);else if(e.is('element'))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}_updateFakeSelection(e){const t=e.ownerDocument;let o=this._fakeSelectionContainer;o||(this._fakeSelectionContainer=o=t.createElement('div'),Object.assign(o.style,{position:'fixed',top:0,left:'-9999px',width:'42px'}),o.appendChild(t.createTextNode('\xA0'))),o.parentElement||e.appendChild(o),o.firstChild.data=this.selection.fakeSelectionLabel||'\xA0';const n=t.getSelection(),i=t.createRange();n.removeAllRanges(),i.selectNodeContents(o),n.addRange(i),this.domConverter.bindFakeSelection(o,this.selection)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){const o=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(o.parent,o.offset),t.extend(n.parent,n.offset)}}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t))&&(this.selection.isCollapsed||!this.selection.isSimilar(t))}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const t=e.activeElement,o=this.domConverter.mapDomToView(t);t&&o&&e.getSelection().removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}f(Hc,fc);var Kc={window,document};class Gc{constructor(e={}){this.blockFiller=e.blockFiller||zc,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new xc(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.childNodes))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}viewToDom(e,t,o={}){if(e.is('text')){const o=this._processDataFromViewText(e);return t.createTextNode(o)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is('documentFragment'))n=t.createDocumentFragment(),o.bind&&this.bindDocumentFragments(n,e);else{if(e.is('uiElement'))return n=e.render(t),o.bind&&this.bindElements(n,e),n;n=t.createElement(e.name),o.bind&&this.bindElements(n,e);for(const t of e.getAttributeKeys())n.setAttribute(t,e.getAttribute(t))}if(o.withChildren||void 0===o.withChildren)for(const i of this.viewChildrenToDom(e,t,o))n.appendChild(i);return n}}*viewChildrenToDom(e,t,o={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const r of e.getChildren())n===i&&(yield this.blockFiller(t)),yield this.viewToDom(r,t,o),i++;n===i&&(yield this.blockFiller(t))}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),n=document.createRange();return n.setStart(t.parent,t.offset),n.setEnd(o.parent,o.offset),n}viewPositionToDom(e){const t=e.parent;if(t.is('text')){const o=this.findCorrespondingDomText(t);if(!o)return null;let n=e.offset;return we(o)&&(n+=qc),{parent:o,offset:n}}else{let o,n,i;if(0===e.offset){if(o=this.mapViewToDom(t),!o)return null;i=o.childNodes[0]}else{const t=e.nodeBefore;if(n=t.is('text')?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore),!n)return null;o=n.parentNode,i=n.nextSibling}if(Se(i)&&we(i))return{parent:i,offset:qc};const r=n?Re(n)+1:0;return{parent:o,offset:r}}}domToView(e,t={}){if(xe(e,this.blockFiller))return null;const o=this.getParentUIElement(e,this._domToViewMapping);if(o)return o;if(Se(e)){if(ve(e))return null;else{const t=this._processDataFromDomText(e);return''===t?null:new Ed(t)}}else if(this.isComment(e))return null;else{if(this.mapDomToView(e))return this.mapDomToView(e);let o;if(this.isDocumentFragment(e))o=new Dc,t.bind&&this.bindDocumentFragments(e,o);else{const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();o=new Rd(n),t.bind&&this.bindElements(e,o);const r=e.attributes;for(let e=r.length-1;0<=e;e--)o._setAttribute(r[e].name,r[e].value)}if(t.withChildren||void 0===t.withChildren)for(const n of this.domChildrenToView(e,t))o._appendChild(n);return o}}*domChildrenToView(e,t={}){for(let o=0;o<e.childNodes.length;o++){const n=e.childNodes[o],i=this.domToView(n,t);null!==i&&(yield i)}}domSelectionToView(e){if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;Se(t)&&(t=t.parentNode);const o=this.fakeSelectionToView(t);if(o)return o}const t=this.isDomSelectionBackward(e),o=[];for(let t=0;t<e.rangeCount;t++){const n=e.getRangeAt(t),i=this.domRangeToView(n);i&&o.push(i)}return new xc(o,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return t&&o?new yc(t,o):null}domPositionToView(e,t){if(xe(e,this.blockFiller))return this.domPositionToView(e.parentNode,Re(e));const o=this.mapDomToView(e);if(o&&o.is('uiElement'))return vc.createBefore(o);if(Se(e)){if(ve(e))return this.domPositionToView(e.parentNode,Re(e));const o=this.findCorrespondingViewText(e);let n=t;return o?(we(e)&&(n-=qc,n=0>n?0:n),new vc(o,n)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new vc(t,0)}else{const o=e.childNodes[t-1],n=Se(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(n&&n.parent)return new vc(n.parent,n.index+1)}return null}mapDomToView(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ve(e))return null;const t=this.getParentUIElement(e);if(t)return t;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const e=this.mapDomToView(o);if(e){const t=e.nextSibling;return t instanceof Ed?e.nextSibling:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof Ed?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:o}=Kc.window,n=[];Ne(t,(e)=>{const{scrollLeft:t,scrollTop:o}=e;n.push([t,o])}),t.focus(),Ne(t,(e)=>{const[t,o]=n.shift();e.scrollLeft=t,e.scrollTop=o}),Kc.window.scrollTo(e,o)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);const o=t.collapsed;return t.detach(),o}getParentUIElement(e){const t=Ie(e);for(t.pop();t.length;){const e=t.pop(),o=this._domToViewMapping.get(e);if(o&&o.is('uiElement'))return o}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(Se(e)&&we(e)&&t<qc)return!1;if(this.isElement(e)&&we(e.childNodes[t]))return!1;const o=this.mapDomToView(e);return!(o&&o.is('uiElement'))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some((e)=>this.preElements.includes(e.name)))return t;if(' '==t.charAt(0)){const o=this._getTouchingViewTextNode(e,!1),n=o&&this._nodeEndsWithSpace(o);(n||!o)&&(t='\xA0'+t.substr(1))}if(' '==t.charAt(t.length-1)){const o=this._getTouchingViewTextNode(e,!0);o||(t=t.substr(0,t.length-1)+'\xA0')}return t.replace(/ {2}/g,' \xA0')}_nodeEndsWithSpace(e){if(e.getAncestors().some((e)=>this.preElements.includes(e.name)))return!1;const t=this._processDataFromViewText(e);return' '==t.charAt(t.length-1)}_processDataFromDomText(e){let t=e.data;if(Fe(e,this.preElements))return ye(e);t=t.replace(/[ \n\t\r]{1,}/g,' ');const o=this._getTouchingDomTextNode(e,!1),n=this._getTouchingDomTextNode(e,!0);return(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^ /,'')),n||we(e)||(t=t.replace(/ $/,'')),t=ye(new Text(t)),t=t.replace(/ \u00A0/g,'  '),(!o||/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))&&(t=t.replace(/^\u00A0/,' ')),n&&'\xA0'!=n.data.charAt(0)||(t=t.replace(/\u00A0( *)$/,' $1')),t}_getTouchingViewTextNode(e,t){const o=new wc({startPosition:t?vc.createAfter(e):vc.createBefore(e),direction:t?'forward':'backward'});for(const n of o){if(n.item.is('containerElement'))return null;if(n.item.is('textProxy'))return n.item}return null}_getTouchingDomTextNode(e,t){if(!e.parentNode)return null;const o=t?'nextNode':'previousNode',n=e.ownerDocument,i=Ie(e)[0],r=n.createTreeWalker(i,NodeFilter.SHOW_TEXT);r.currentNode=e;const a=r[o]();if(null!==a){const t=Ve(e,a);if(t&&!Fe(e,this.blockElements,t)&&!Fe(a,this.blockElements,t))return a}return null}}const $c=cc({},rs,{listenTo(e,...t){if(Me(e)||De(e)){const o=this._getProxyEmitter(e)||new Qc(e);o.attach(...t),e=o}rs.listenTo.call(this,e,...t)},stopListening(e,t,o){if(Me(e)||De(e)){const t=this._getProxyEmitter(e);if(!t)return;e=t}rs.stopListening.call(this,e,t,o),e instanceof Qc&&e.detach(t)},_getProxyEmitter(e){return r(this,Be(e))}});var Jc=$c;class Qc{constructor(e){a(this,Be(e)),this._domNode=e}}cc(Qc.prototype,rs,{attach(e,t,o={}){if(!(this._domListeners&&this._domListeners[e])){const t=this._createDomListener(e,!!o.useCapture);this._domNode.addEventListener(e,t,!!o.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}},detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener(e,t){const o=(t)=>{this.fire(e,t)};return o.removeListener=()=>{this._domNode.removeEventListener(e,o,t),delete this._domListeners[e]},o}});class Yc{constructor(e){this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}f(Yc,Jc);Le.prototype.add=Le.prototype.push=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this},Le.prototype.has=function(e){return this.__data__.has(e)};var Xc=Le,Zc=function(e,t){for(var o=-1,n=e.length;++o<n;)if(t(e[o],o,e))return!0;return!1},eu=function(e,t,o,n,i,r){var a=i&2,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var d=r.get(e);if(d)return d==t;var c=-1,u=!0,m=i&1?new Xc:void 0;for(r.set(e,t);++c<s;){var p=e[c],g=t[c];if(n)var f=a?n(g,p,c,t,e,r):n(p,g,c,e,t,r);if(void 0!==f){if(f)continue;u=!1;break}if(m){if(!Zc(t,function(e,t){if(!m.has(t)&&(p===e||o(p,e,n,i,r)))return m.add(t)})){u=!1;break}}else if(!(p===g||o(p,g,n,i,r))){u=!1;break}}return r['delete'](e),u},tu=cd?cd.prototype:void 0,ou=tu?tu.valueOf:void 0,nu=function(e,t,o,n,i,r,a){switch(o){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return!!(e.byteLength==t.byteLength&&n(new Yl(e),new Yl(t)));case'[object Boolean]':case'[object Date]':return+e==+t;case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object Number]':return e==+e?e==+t:t!=+t;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var s=od;case'[object Set]':var l=r&2;if(s||(s=sd),e.size!=t.size&&!l)return!1;var d=a.get(e);return d?d==t:(r|=1,a.set(e,t),eu(s(e),s(t),n,i,r,a));case'[object Symbol]':if(ou)return ou.call(e)==ou.call(t);}return!1},iu=2,ru={};ru['[object Float32Array]']=ru['[object Float64Array]']=ru['[object Int8Array]']=ru['[object Int16Array]']=ru['[object Int32Array]']=ru['[object Uint8Array]']=ru['[object Uint8ClampedArray]']=ru['[object Uint16Array]']=ru['[object Uint32Array]']=!0,ru['[object Arguments]']=ru['[object Array]']=ru['[object ArrayBuffer]']=ru['[object Boolean]']=ru['[object DataView]']=ru['[object Date]']=ru['[object Error]']=ru['[object Function]']=ru['[object Map]']=ru['[object Number]']=ru['[object Object]']=ru['[object RegExp]']=ru['[object Set]']=ru['[object String]']=ru['[object WeakMap]']=!1;var au=Object.prototype,su=au.toString,lu=function(e){return qa(e)&&Xs(e.length)&&!!ru[su.call(e)]},du='[object Arguments]',cu='[object Array]',uu='[object Object]',mu=Object.prototype,pu=mu.hasOwnProperty,gu=function(e,t,o,n,i,r){var a=sl(e),s=sl(t),l=cu,d=cu;a||(l=Kl(e),l=l==du?uu:l),s||(d=Kl(t),d=d==du?uu:d);var c=l==uu&&!ja(e),u=d==uu&&!ja(t),m=l==d;if(m&&!c)return r||(r=new Bs),a||lu(e)?eu(e,t,o,n,i,r):nu(e,t,l,o,n,i,r);if(!(i&2)){var p=c&&pu.call(e,'__wrapped__'),g=u&&pu.call(t,'__wrapped__');if(p||g){var f=p?e.value():e,h=g?t.value():t;return r||(r=new Bs),o(f,h,n,i,r)}}return!!m&&(r||(r=new Bs),ze(e,t,o,n,i,r))},fu=je,hu=function(e,t,o){o='function'==typeof o?o:void 0;var n=o?o(e,t):void 0;return n===void 0?fu(e,t,o):!!n};class bu extends Yc{constructor(e){super(e),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){function t(e,t){if(!Array.isArray(e))return e===t||!!(e.is('text')&&t.is('text'))&&e.data===t.data}if(0===e.length)return;const o=this.domConverter,n=new Map,i=new Set;for(const t of e)if('childList'===t.type){const e=o.mapDomToView(t.target);if(e&&e.is('uiElement'))continue;e&&!this._isBogusBrMutation(t)&&i.add(e)}for(const t of e){const e=o.mapDomToView(t.target);if(!(e&&e.is('uiElement'))&&'characterData'===t.type){const e=o.findCorrespondingViewText(t.target);e&&!i.has(e.parent)?n.set(e,{type:'text',oldText:e.data,newText:ye(t.target),node:e}):!e&&we(t.target)&&i.add(o.mapDomToView(t.target.parentNode))}}const r=[];for(const t of n.values())this.renderer.markToSync('text',t.node),r.push(t);for(const n of i){const e=o.mapViewToDom(n),i=Array.from(n.getChildren()),a=Array.from(o.domChildrenToView(e,{withChildren:!1}));hu(i,a,t)||(this.renderer.markToSync('children',n),r.push({type:'children',oldChildren:i,newChildren:a,node:n}))}const a=e[0].target.ownerDocument.getSelection();let s=null;if(a&&a.anchorNode){const e=o.domPositionToView(a.anchorNode,a.anchorOffset),t=o.domPositionToView(a.focusNode,a.focusOffset);e&&t&&(s=new xc(e),s.setFocus(t))}this.document.fire('mutations',r,s),this.view.render()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is('element','br')}}class ku{constructor(e,t,o){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,cc(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class _u extends Yc{constructor(e){super(e),this.useCapture=!1}observe(e){const t='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;t.forEach((t)=>{this.listenTo(e,t,(e,t)=>{this.isEnabled&&this.onDomEvent(t)},{useCapture:this.useCapture})})}fire(e,t,o){this.isEnabled&&this.document.fire(e,new ku(this.view,t,o))}}class wu extends _u{constructor(e){super(e),this.domEventType=['keydown','keyup']}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return te(this)}})}}var vu=Date.now,yu=vu,xu='Expected a function',Cu=Ma,Au=Da,Tu=qe;class Pu extends Yc{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Tu((e)=>this.document.fire('selectionChangeDone',e),200)}observe(){const e=this.document;e.on('keydown',(t,o)=>{const n=e.selection;n.isFake&&We(o.keyCode)&&this.isEnabled&&(o.preventDefault(),this._handleSelectionMove(o.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,o=new xc(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Nc.arrowleft||e==Nc.arrowup)&&o.setTo(o.getFirstPosition()),(e==Nc.arrowright||e==Nc.arrowdown)&&o.setTo(o.getLastPosition());const n={oldSelection:t,newSelection:o,domSelection:null};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}const Eu={error(e,t){console.error(n(e),t)},warn(e,t){console.warn(n(e),t)}};var Su=Eu;class Ou extends Yc{constructor(e){super(e),this.mutationObserver=e.getObserver(bu),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Tu((e)=>this.document.fire('selectionChangeDone',e),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument;this._documents.has(t)||(this.listenTo(t,'selectionchange',()=>{this._handleSelectionChange(t)}),this._documents.add(t))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();const t=e.defaultView.getSelection(),o=this.domConverter.domSelectionToView(t);if(!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(t))){if(60<++this._loopbackCounter)return void Su.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(o))this.view.render();else{const e={oldSelection:this.selection,newSelection:o,domSelection:t};this.document.fire('selectionChange',e),this._fireSelectionChangeDoneDebounced(e)}}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Ru extends _u{constructor(e){super(e),this.domEventType=['focus','blur'],this.useCapture=!0;const t=this.document;t.on('focus',()=>{t.isFocused=!0,this._renderTimeoutId=setTimeout(()=>e.render(),50)}),t.on('blur',(o,n)=>{const i=t.selection.editableElement;(null===i||i===n.target)&&(t.isFocused=!1,e.render())})}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Iu extends _u{constructor(e){super(e),this.domEventType=['compositionstart','compositionupdate','compositionend'];const t=this.document;t.on('compositionstart',()=>{t.isComposing=!0}),t.on('compositionend',()=>{t.isComposing=!1})}onDomEvent(e){this.fire(e.type,e)}}var Vu=function(e){return!!e&&1===e.nodeType&&qa(e)&&!$a(e)};class Fu{constructor(e){const t=Ue(e);if(Object.defineProperty(this,'_source',{value:e._source||e,writable:!0,enumerable:!1}),Vu(e)||t){const o=t?e.startContainer:e;o.ownerDocument&&o.ownerDocument.body.contains(o)||Su.warn('rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',{source:e}),t?Ke(this,Fu.getDomRangeRects(e)[0]):Ke(this,e.getBoundingClientRect())}else if(De(e)){const{innerWidth:t,innerHeight:o}=e;Ke(this,{top:0,right:t,bottom:o,left:0,width:t,height:o})}else Ke(this,e)}clone(){return new Fu(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Ma(this.top,e.top),right:Da(this.right,e.right),bottom:Da(this.bottom,e.bottom),left:Ma(this.left,e.left)};return t.width=t.right-t.left,t.height=t.bottom-t.top,0>t.width||0>t.height?null:new Fu(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!Ge(e))for(let o=e.parentNode||e.commonAncestorContainer;o&&!Ge(o);){const e=new Fu(o),n=t.getIntersection(e);if(n)n.getArea()<t.getArea()&&(t=n);else return null;o=o.parentNode}return t}isEqual(e){for(const t of Nu)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,o;if(De(e))t=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight;else{const n=He(this._source);t=e.offsetWidth-e.clientWidth,o=e.offsetHeight-e.clientHeight,this.moveBy(n.left,n.top)}return this.width-=t,this.right-=t,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const t=[],o=Array.from(e.getClientRects());if(o.length)for(const e of o)t.push(new Fu(e));else{let o=e.startContainer;Se(o)&&(o=o.parentNode);const n=new Fu(o.getBoundingClientRect());n.right=n.left,n.width=0,t.push(n)}return t}}const Nu=['top','right','bottom','left','width','height'];Object.assign({},{scrollViewportToShowTarget:$e,scrollAncestorsToShowTarget:function(e){const t=nt(e);Qe(t,()=>new Fu(e))}});class Mu{constructor(){this.document=new Tc,this.domConverter=new Gc,this._renderer=new Hc(this.domConverter,this.document.selection),this._renderer.bind('isFocused').to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._writer=new Bc(this.document),this.addObserver(bu),this.addObserver(Ou),this.addObserver(Ru),this.addObserver(wu),this.addObserver(Pu),this.addObserver(Iu),Ce(this),re(this),this.on('render',()=>{this._render()})}attachDomRoot(e,t='main'){const o=this.document.getRoot(t);o._name=e.tagName.toLowerCase(),this.domRoots.set(t,e),this.domConverter.bindElements(e,o),this._renderer.markToSync('children',o),this._renderer.domDocuments.add(e.ownerDocument),o.on('change:children',(e,t)=>this._renderer.markToSync('children',t)),o.on('change:attributes',(e,t)=>this._renderer.markToSync('attributes',t)),o.on('change:text',(e,t)=>this._renderer.markToSync('text',t));for(const o of this._observers.values())o.observe(e,t)}getDomRoot(e='main'){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[o,n]of this.domRoots)t.observe(n,o);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&$e({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e?(this.domConverter.focus(e),this.render()):Su.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}change(e){if(this._renderingInProgress||this._postFixersInProgress)throw new Ya('cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.');return this._ongoingChange?void e(this._writer):void(this._ongoingChange=!0,e(this._writer),this._ongoingChange=!1,this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire('render'))}render(){this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.stopListening()}_render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}f(Mu,fc);class Du{constructor(e){this.parent=null,this._attrs=rt(e)}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new Ya('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new Ya('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get document(){return this.root==this?null:this.root.document||null}getPath(){const e=[];for(let t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}getCommonAncestor(e,t={}){const o=this.getAncestors(t),n=e.getAncestors(t);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0==r?null:o[r-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),o=e.getPath(),n=A(t,o);return!('prefix'!==n)||'extension'!==n&&t[n]<o[n]}isAfter(e){return this!=e&&!(this.root!==e.root)&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=[...this._attrs]),e}_clone(){return new Du(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=rt(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}is(e){return'node'==e}}class Bu extends Du{constructor(e,t){super(t),this._data=e||''}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return'text'==e||super.is(e)}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Bu(this.data,this.getAttributes())}static fromJSON(e){return new Bu(e.data,e.attributes)}}class Lu{constructor(e,t,o){if(this.textNode=e,0>t||t>e.offsetSize)throw new Ya('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>o||t+o>e.offsetSize)throw new Ya('model-textproxy-wrong-length: Given length value is incorrect.');this.data=e.data.substring(t,t+o),this.offsetInText=t}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return'textProxy'==e}getPath(){const e=this.textNode.getPath();return 0<e.length&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={includeSelf:!1,parentFirst:!1}){const t=[];for(let o=e.includeSelf?this:this.parent;o;)t[e.parentFirst?'push':'unshift'](o),o=o.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class zu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new Ya('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const o of this._nodes){if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}if(t!=e)throw new Ya('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}_insertNodes(e,t){for(const o of t)if(!(o instanceof Du))throw new Ya('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e)=>e.toJSON())}}class ju extends Du{constructor(e,t,o){super(t),this.name=e,this._children=new zu,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(e,t=null){return t?'element'==e&&t==this.name:'element'==e||e==this.name||super.is(e)}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}toJSON(){const e=super.toJSON();if(e.name=this.name,0<this._children.length){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map((e)=>e._clone(!0)):null;return new ju(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=at(t);for(const n of o)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const n of o)n.parent=null;return o}static fromJSON(e){let t=null;if(e.children){t=[];for(const o of e.children)o.name?t.push(ju.fromJSON(o)):t.push(Bu.fromJSON(o))}return new ju(e.name,e.attributes,t)}}class qu{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new Ya('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const t=e.direction||'forward';if('forward'!=t&&'backward'!=t)throw new Ya('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:t});this.direction=t,this.boundaries=e.boundaries||null,this.position=e.startPosition?Uu.createFromPosition(e.startPosition):Uu.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,o,n,i;do n=this.position,i=this._visitedParent,({done:t,value:o}=this.next());while(!t&&e(o));t||(this.position=n,this._visitedParent=i)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const e=this.position,t=Uu.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&t.offset===o.maxOffset)return{done:!0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};const n=t.textNode?t.textNode:t.nodeAfter;if(n instanceof ju)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=n),this.position=t,st('elementStart',n,e,t,1);if(n instanceof Bu){let i;if(this.singleCharacters)i=1;else{let e=n.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),i=e-t.offset}const r=t.offset-n.startOffset,a=new Lu(n,r,i);return t.offset+=i,this.position=t,st('text',a,e,t,i)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():st('elementEnd',o,e,t)}_previous(){const e=this.position,t=Uu.createFromPosition(this.position),o=this._visitedParent;if(null===o.parent&&0===t.offset)return{done:!0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};const n=t.textNode?t.textNode:t.nodeBefore;if(n instanceof ju)return t.offset--,this.shallow?(this.position=t,st('elementStart',n,e,t,1)):(t.path.push(n.maxOffset),this.position=t,this._visitedParent=n,this.ignoreElementEnd?this._previous():st('elementEnd',n,e,t));if(n instanceof Bu){let i;if(this.singleCharacters)i=1;else{let e=n.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),i=t.offset-e}const r=t.offset-n.startOffset,a=new Lu(n,r-i,i);return t.offset-=i,this.position=t,st('text',a,e,t,i)}return t.path.pop(),this.position=t,this._visitedParent=o.parent,st('elementStart',o,e,t,1)}}var Wu=function(e){var t=e?e.length:0;return t?e[t-1]:void 0};class Uu{constructor(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new Ya('model-position-root-invalid: Position root invalid.');if(!(t instanceof Array)||0===t.length)throw new Ya('model-position-path-incorrect: Position path must be an array with at least one item.',{path:t});t=e.getPath().concat(t),e=e.root,this.root=e,this.path=t}get offset(){return Wu(this.path)}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)e=e.getChild(e.offsetToIndex(this.path[t]));return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const e=this.parent.getChild(this.index);return e instanceof Bu&&e.startOffset<this.offset?e:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return'different';const t=A(this.path,e.path);return'same'===t?'same':'prefix'===t?'before':'extension'===t?'after':this.path[t]<e.path[t]?'before':'after'}getLastMatchingPosition(e,t={}){t.startPosition=this;const o=new qu(t);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(e){if(this.root!=e.root)return[];const t=A(this.path,e.path),o='string'==typeof t?Da(this.path.length,e.path.length):t;return this.path.slice(0,o)}getCommonAncestor(e){const t=this.getAncestors(),o=e.getAncestors();let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}getShiftedBy(e){const t=Uu.createFromPosition(this),o=t.offset+e;return t.offset=0>o?0:o,t}isAfter(e){return'after'==this.compareWith(e)}isBefore(e){return'before'==this.compareWith(e)}isEqual(e){return'same'==this.compareWith(e)}isTouching(e){let t=null,o=null;const n=this.compareWith(e);switch(n){case'same':return!0;case'before':t=Uu.createFromPosition(this),o=Uu.createFromPosition(e);break;case'after':t=Uu.createFromPosition(e),o=Uu.createFromPosition(this);break;default:return!1;}for(let n=t.parent;t.path.length+o.path.length;){if(t.isEqual(o))return!0;if(t.path.length>o.path.length){if(t.offset!==n.maxOffset)return!1;t.path=t.path.slice(0,-1),n=n.parent,t.offset++}else{if(0!==o.offset)return!1;o.path=o.path.slice(0,-1)}}}_getTransformedByDeletion(e,t){const o=Uu.createFromPosition(this);if(this.root!=e.root)return o;if('same'==A(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;o.offset-=t}}else if('prefix'==A(e.getParentPath(),this.getParentPath())){const n=e.path.length-1;if(e.offset<=this.path[n]){if(e.offset+t>this.path[n])return null;o.path[n]-=t}}return o}_getTransformedByInsertion(e,t,o){const n=Uu.createFromPosition(this);if(this.root!=e.root)return n;if('same'==A(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&o)&&(n.offset+=t);else if('prefix'==A(e.getParentPath(),this.getParentPath())){const o=e.path.length-1;e.offset<=this.path[o]&&(n.path[o]+=t)}return n}_getTransformedByMove(e,t,o,n,i){let r=this._getTransformedByDeletion(e,o);return t=t._getTransformedByDeletion(e,o),r=null===r||i&&r.isEqual(e)?this._getCombined(e,t):r._getTransformedByInsertion(t,o,n),r}_getCombined(e,t){const o=e.path.length-1,n=Uu.createFromPosition(t);return n.offset=n.offset+this.path[o]-e.offset,n.path=n.path.concat(this.path.slice(o+1)),n}static createAt(e,t){if(e instanceof Uu)return this.createFromPosition(e);else{const o=e;if('end'==t)t=o.maxOffset;else{if('before'==t)return this.createBefore(o);if('after'==t)return this.createAfter(o);t||(t=0)}return this.createFromParentAndOffset(o,t)}}static createAfter(e){if(!e.parent)throw new Ya('model-position-after-root: You cannot make a position after root.',{root:e});return this.createFromParentAndOffset(e.parent,e.endOffset)}static createBefore(e){if(!e.parent)throw new Ya('model-position-before-root: You cannot make a position before root.',{root:e});return this.createFromParentAndOffset(e.parent,e.startOffset)}static createFromParentAndOffset(e,t){if(!e.is('element')&&!e.is('documentFragment'))throw new Ya('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const o=e.getPath();return o.push(t),new this(e.root,o)}static createFromPosition(e){return new this(e.root,e.path.slice())}static fromJSON(e,t){if('$graveyard'===e.root)return new Uu(t.graveyard,e.path);if(!t.getRoot(e.root))throw new Ya('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:e.root});return new Uu(t.getRoot(e.root),e.path)}}class Hu{constructor(e,t=null){this.start=Uu.createFromPosition(e),this.end=t?Uu.createFromPosition(t):Uu.createFromPosition(e)}*[Symbol.iterator](){yield*new qu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const o=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return o&&n}containsItem(e){const t=Uu.createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Hu(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Hu(e.end,this.end))):t.push(Hu.createFromRange(this)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,o=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(o=e.end),new Hu(t,o)}return null}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,o=Uu.createFromPosition(this.start);for(let n=o.parent;o.path.length>t+1;){const t=n.maxOffset-o.offset;0!=t&&e.push(new Hu(o,o.getShiftedBy(t))),o.path=o.path.slice(0,-1),o.offset++,n=n.parent}for(;o.path.length<=this.end.path.length;){const t=this.end.path[o.path.length-1],n=t-o.offset;0!=n&&e.push(new Hu(o,o.getShiftedBy(n))),o.offset=t,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new qu(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new qu(e);for(const o of t)yield o.item}*getPositions(e={}){e.boundaries=this;const t=new qu(e);yield t.position;for(const o of t)yield o.nextPosition}getTransformedByDelta(e){const t=[Hu.createFromRange(this)],o=new Set(['insert','move','remove','reinsert']);for(const n of e.operations)if(o.has(n.type))for(let o=0;o<t.length;o++){let i;i='insert'==n.type?t[o]._getTransformedByDocumentChange(n.type,e.type,n.position,n.nodes.maxOffset):t[o]._getTransformedByDocumentChange(n.type,e.type,n.targetPosition,n.howMany,n.sourcePosition),t.splice(o,1,...i),o+=i.length-1}return t}getTransformedByDeltas(e){const t=[Hu.createFromRange(this)];for(const o of e)for(let e=0;e<t.length;e++){const n=t[e].getTransformedByDelta(o);t.splice(e,1,...n),e+=n.length-1}for(let o=0;o<t.length;o++){const e=t[o];for(let n=o+1;n<t.length;n++){const o=t[n];(e.containsRange(o)||o.containsRange(e)||e.isEqual(o))&&t.splice(n,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}_getTransformedByDocumentChange(e,t,o,n,i){if('insert'==e)return this._getTransformedByInsertion(o,n,!1,!1);else{const e=Hu.createFromPositionAndShift(i,n);if('merge'==t&&this.isCollapsed&&(this.start.isEqual(e.start)||this.start.isEqual(e.end))){const t=this.start.offset-e.start.offset;return[new Hu(o.getShiftedBy(t))]}if('split'==t&&this.isCollapsed&&this.end.isEqual(e.end))return[new Hu(o.getShiftedBy(n))];if((e.containsPosition(this.start)||e.start.isEqual(this.start))&&this.containsPosition(e.end)&&this.end.isAfter(o)){const e=this.start._getCombined(i,o._getTransformedByDeletion(i,n)),t=this.end._getTransformedByMove(i,o,n,!1,!1);return[new Hu(e,t)]}if((e.containsPosition(this.end)||e.end.isEqual(this.end))&&this.containsPosition(e.start)&&this.start.isBefore(o)){const e=this.start._getTransformedByMove(i,o,n,!0,!1),t=this.end._getCombined(i,o._getTransformedByDeletion(i,n));return[new Hu(e,t)]}return this._getTransformedByMove(i,o,n)}}_getTransformedByInsertion(e,t,o=!1,n=!1){if(o&&this.containsPosition(e))return[new Hu(this.start,e),new Hu(e._getTransformedByInsertion(e,t,!0),this.end._getTransformedByInsertion(e,t,this.isCollapsed))];else{const o=Hu.createFromRange(this),i=!!o.isCollapsed||n;return o.start=o.start._getTransformedByInsertion(e,t,!n),o.end=o.end._getTransformedByInsertion(e,t,i),[o]}}_getTransformedByMove(e,t,o){if(this.isCollapsed){const n=this.start._getTransformedByMove(e,t,o,!0,!1);return[new Hu(n)]}let n;const i=new Hu(e,e.getShiftedBy(o)),r=this.getDifference(i);let a=null;const s=this.getIntersection(i);1==r.length?a=new Hu(r[0].start._getTransformedByDeletion(e,o),r[0].end._getTransformedByDeletion(e,o)):2==r.length&&(a=new Hu(this.start,this.end._getTransformedByDeletion(e,o)));const l=t._getTransformedByDeletion(e,o);return n=a?a._getTransformedByInsertion(l,o,null!==s):[],s&&n.push(new Hu(s.start._getCombined(i.start,l),s.end._getCombined(i.start,l))),n}static createFromPositionAndShift(e,t){const o=e,n=e.getShiftedBy(t);return 0<t?new this(o,n):new this(n,o)}static createFromParentsAndOffsets(e,t,o,n){return new this(Uu.createFromParentAndOffset(e,t),Uu.createFromParentAndOffset(o,n))}static createFromRange(e){return new this(e.start,e.end)}static createIn(e){return this.createFromParentsAndOffsets(e,0,e,e.maxOffset)}static createOn(e){return this.createFromPositionAndShift(Uu.createBefore(e),e.offsetSize)}static createCollapsedAt(e,t){const o=Uu.createAt(e,t),n=Uu.createFromPosition(o);return new Hu(o,n)}static createFromRanges(e){if(0===e.length)throw new Ya('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==e.length)return this.createFromRange(e[0]);const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const o=e.indexOf(t),n=new this(t.start,t.end);for(let t=o-1;0<=t&&e[t].end.isEqual(n.start);t++)n.start=Uu.createFromPosition(e[t].start);for(let t=o+1;t<e.length&&e[t].start.isEqual(n.end);t++)n.end=Uu.createFromPosition(e[t].end);return n}static fromJSON(e,t){return new this(Uu.fromJSON(e.start,t),Uu.fromJSON(e.end,t))}}class Ku{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on('modelToViewPosition',(e,t)=>{if(!t.viewPosition){const e=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this._findPositionIn(e,t.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(e,t)=>{if(t.modelPosition)return;let o=t.viewPosition.parent,n=this._viewToModelMapping.get(o);for(;!n;)o=o.parent,n=this._viewToModelMapping.get(o);const i=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,o);t.modelPosition=Uu.createFromParentAndOffset(n,i)},{priority:'low'})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);this._viewToModelMapping.delete(e),this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const o=this._markerNameToElements.get(t)||new Set;o.add(e),this._markerNameToElements.set(t,o)}unbindElementsFromMarkerName(e){this._markerNameToElements.delete(e)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Hu(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new yc(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire('viewToModelPosition',t),t.modelPosition}toViewPosition(e,t={isPhantom:!1}){const o={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire('modelToViewPosition',o),o.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const o=new Set;for(const n of t)if(n.is('attributeElement'))for(const e of n.getElementsWithSameId())o.add(e);else o.add(n);return o}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}_toModelOffset(e,t,o){if(o!=e){const n=this._toModelOffset(e.parent,e.index,o),i=this._toModelOffset(e,t,e);return n+i}if(e.is('text'))return t;let n=0;for(let r=0;r<t;r++)n+=this.getModelLength(e.getChild(r));return n}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){const t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is('text'))return e.data.length;if(e.is('uiElement'))return 0;else{let t=0;for(const o of e.getChildren())t+=this.getModelLength(o);return t}}_findPositionIn(e,t){let o=0,n=0,i=0,r;if(e.is('text'))return new vc(e,t);for(;n<t;)r=e.getChild(i),o=this.getModelLength(r),n+=o,i++;return n==t?this._moveViewPositionToTextNode(new vc(e,i)):this._findPositionIn(r,t-(n-o))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,o=e.nodeAfter;if(t instanceof Ed)return new vc(t,t.data.length);return o instanceof Ed?new vc(o,0):e}}f(Ku,rs);class Gu{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=lt(t),e instanceof Lu&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=lt(t),e instanceof Lu&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=lt(t),e instanceof Lu&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const n=o.get(t);return void 0===n?null:n}revert(e,t){t=lt(t),e instanceof Lu&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,t);return!1===o?(this._consumable.get(e).set(t,!0),!0):!0!==o&&null}_getSymbolForTextProxy(e){let t=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const n=o.get(e.endOffset);n&&(t=n.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}_addSymbolForTextProxy(e,t,o){const n=Symbol('textProxySymbol');let i,r;return i=this._textProxyRegistry.get(e),i||(i=new Map,this._textProxyRegistry.set(e,i)),r=i.get(t),r||(r=new Map,i.set(t,r)),r.set(o,n),n}}class $u{constructor(e={}){this.conversionApi=cc({dispatcher:this},e)}convertChanges(e,t){for(const o of e.getMarkersToRemove())this.convertMarkerRemove(o.name,o.range,t);for(const o of e.getChanges())'insert'==o.type?this.convertInsert(Hu.createFromPositionAndShift(o.position,o.length),t):'remove'==o.type?this.convertRemove(o.position,o.length,o.name,t):this.convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,t);for(const o of e.getMarkersToAdd())this.convertMarkerAdd(o.name,o.range,t)}convertInsert(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);for(const o of e){const e=o.item,t=Hu.createFromPositionAndShift(o.previousPosition,o.length),n={item:e,range:t};this._testAndFire('insert',n);for(const t of e.getAttributeKeys())n.attributeKey=t,n.attributeOldValue=null,n.attributeNewValue=e.getAttribute(t),this._testAndFire(`attribute:${t}`,n)}this._clearConversionApi()}convertRemove(e,t,o,n){this.conversionApi.writer=n,this.fire('remove:'+o,{position:e,length:t},this.conversionApi),this._clearConversionApi()}convertAttribute(e,t,o,n,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const r of e){const e=r.item,i=Hu.createFromPositionAndShift(r.previousPosition,r.length);this._testAndFire(`attribute:${t}`,{item:e,range:i,attributeKey:t,attributeOldValue:o,attributeNewValue:n})}this._clearConversionApi()}convertSelection(e,t,o){const n=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=o,this.conversionApi.consumable=this._createSelectionConsumable(e,n),this.fire('selection',{selection:e},this.conversionApi),!!e.isCollapsed){for(const t of n){const o=t.getRange();if(!dt(e.getFirstPosition(),t,this.conversionApi.mapper))continue;const n={item:e,markerName:t.name,markerRange:o};this.conversionApi.consumable.test(e,'addMarker:'+t.name)&&this.fire('addMarker:'+t.name,n,this.conversionApi)}for(const t of e.getAttributeKeys()){const o={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.conversionApi.consumable.test(e,'attribute:'+o.attributeKey)&&this.fire('attribute:'+o.attributeKey,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(e,t,o){if(t.root.document&&'$graveyard'!=t.root.rootName){this.conversionApi.writer=o;const n='addMarker:'+e;if(t.isCollapsed){const o=new Gu;return o.add(t,n),this.conversionApi.consumable=o,void this.fire(n,{markerName:e,markerRange:t},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(t,n);for(const o of t.getItems()){if(!this.conversionApi.consumable.test(o,n))continue;const i={item:o,range:Hu.createOn(o),markerName:e,markerRange:t};this.fire(n,i,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(e,t,o){t.root.document&&'$graveyard'!=t.root.rootName&&(this.conversionApi.writer=o,this.fire('removeMarker:'+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(e){const t=new Gu;for(const o of e){const e=o.item;t.add(e,'insert');for(const o of e.getAttributeKeys())t.add(e,'attribute:'+o)}return t}_createConsumableForRange(e,t){const o=new Gu;for(const n of e.getItems())o.add(n,t);return o}_createSelectionConsumable(e,t){const o=new Gu;o.add(e,'selection');for(const n of t)o.add(e,'addMarker:'+n.name);for(const n of e.getAttributeKeys())o.add(e,'attribute:'+n);return o}_testAndFire(e,t){if(this.conversionApi.consumable.test(t.item,e)){const o=t.item.name||'$text';this.fire(e+':'+o,t,this.conversionApi)}}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}f($u,rs);class Ju{constructor(e,t,o){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,t,o)}get anchor(){if(0<this._ranges.length){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(0<this._ranges.length){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){const e=this._ranges.length;return!(1!==e)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let o=!1;for(const n of e._ranges)if(t.isEqual(n)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield Hu.createFromRange(e)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?Hu.createFromRange(e):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?Hu.createFromRange(e):null}getFirstPosition(){const e=this.getFirstRange();return e?Uu.createFromPosition(e.start):null}getLastPosition(){const e=this.getLastRange();return e?Uu.createFromPosition(e.end):null}setTo(e,t,o){if(null===e)this._setRanges([]);else if(e instanceof Ju)this._setRanges(e.getRanges(),e.isBackward);else if(e&&'function'==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Hu)this._setRanges([e],!!t&&!!t.backward);else if(e instanceof Uu)this._setRanges([new Hu(e)]);else if(e instanceof Du){const n=!!o&&!!o.backward;let i;if('in'==t)i=Hu.createIn(e);else if('on'==t)i=Hu.createOn(e);else if(t!==void 0)i=Hu.createCollapsedAt(e,t);else throw new Ya('model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');this._setRanges([i],n)}else if(P(e))this._setRanges(e,t&&!!t.backward);else throw new Ya('model-selection-setTo-not-selectable: Cannot set selection to given place.')}_setRanges(e,t=!1){e=Array.from(e);const o=e.some((e)=>{if(!(e instanceof Hu))throw new Ya('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((t)=>!t.isEqual(e))});if(e.length!==this._ranges.length||o){this._removeAllRanges();for(const t of e)this._pushRange(t);this._lastRangeBackward=!!t,this.fire('change:range',{directChange:!0})}}setFocus(e,t){if(null===this.anchor)throw new Ya('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const o=Uu.createAt(e,t);if('same'!=o.compareWith(this.focus)){const e=this.anchor;this._ranges.length&&this._popRange(),'before'==o.compareWith(e)?(this._pushRange(new Hu(o,e)),this._lastRangeBackward=!0):(this._pushRange(new Hu(e,o)),this._lastRangeBackward=!1),this.fire('change:range',{directChange:!0})}}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire('change:attribute',{attributeKeys:[e],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const e=this.getFirstRange(),t=e.start.nodeAfter,o=e.end.nodeBefore;return t instanceof ju&&t==o?t:null}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const o=ut(t.start,e);o&&(yield o);for(const o of t.getWalker())'elementEnd'==o.type&&ct(o.item,e)&&(yield o.item);const n=ut(t.end,e);n&&!t.end.isTouching(Uu.createAt(n))&&(yield n)}}containsEntireContent(e=this.anchor.root){const t=Uu.createAt(e),o=Uu.createAt(e,'end');return t.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(Hu.createFromRange(e))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new Ya('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:e,intersectingRange:this._ranges[t]})}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}_popRange(){this._ranges.pop()}}f(Ju,rs);class Qu extends Hu{constructor(e,t){super(e,t),mt.call(this)}detach(){this.stopListening()}}f(Qu,rs);const Yu='selection:';class Xu{constructor(e){this._selection=new Zu(e),this._selection.delegate('change:range').to(this),this._selection.delegate('change:attribute').to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,o){this._selection.setTo(e,t,o)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Yu+e}static _isStoreAttributeKey(e){return e.startsWith(Yu)}}f(Xu,rs);class Zu extends Ju{constructor(e){super(),this._model=e.model,this._document=e,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on('change:range',()=>{for(const e of this.getRanges())if(!this._document._validateSelectionRange(e))throw new Ya('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:e})}),this.listenTo(this._document,'change',(e,t)=>{this._updateAttributes(!1),ft(this._model,t)}),this.listenTo(this._model,'applyOperation',()=>{for(;this._fixGraveyardRangesData.length;){const{liveRange:e,sourcePosition:t}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(e,t)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire('change:range',{directChange:!1}))},{priority:'lowest'})}get isCollapsed(){const e=this._ranges.length;return 0===e?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return 0<this._ranges.length}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,o){super.setTo(e,t,o),this._refreshAttributes()}setFocus(e,t){super.setFocus(e,t),this._refreshAttributes()}setAttribute(e,t){if(this._setAttribute(e,t)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){this.fire('change:attribute',{attributeKeys:[e],directChange:!0})}}overrideGravity(){const e=i();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new Ya('document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.',{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return void Su.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');const t=Qu.createFromRange(e);return t.on('change:range',(e,o,n)=>{this._hasChangedRange=!0,t.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:t,sourcePosition:n.sourcePosition})}),t}_updateAttributes(e){const t=rt(this._getSurroundingAttributes()),o=rt(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[e,t]of this._attributePriority)'low'==t&&(this._attrs.delete(e),this._attributePriority.delete(e));this._setAttributesTo(t);const n=[];for(const[t,i]of this.getAttributes())o.has(t)&&o.get(t)===i||n.push(t);for(const[t]of o)this.hasAttribute(t)||n.push(t);0<n.length&&this.fire('change:attribute',{attributeKeys:n,directChange:!1})}_setAttribute(e,t,o=!0){const n=o?'normal':'low';if('low'==n&&'normal'==this._attributePriority.get(e))return!1;const i=super.getAttribute(e);return i!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}_removeAttribute(e,t=!0){const o=t?'normal':'low';return('low'!=o||'normal'!=this._attributePriority.get(e))&&(this._attributePriority.set(e,o),!!super.hasAttribute(e))&&(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[t,o]of this.getAttributes())e.get(t)!==o&&this._removeAttribute(t,!1);for(const[o,n]of e){const e=this._setAttribute(o,n,!1);e&&t.add(o)}return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(Yu)){const o=t.substr(Yu.length);yield[o,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let o=null;if(!this.isCollapsed){const e=this.getFirstRange();for(const n of e){if(n.item.is('element')&&t.isObject(n.item))break;'text'==n.type&&null===o&&(o=n.item.getAttributes())}}else{const t=e.textNode?e.textNode:e.nodeBefore,n=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=gt(t)),o||(o=gt(n)),!this.isGravityOverridden&&!o)for(let e=t;e&&!o;)e=e.previousSibling,o=gt(e);if(!o)for(let e=n;e&&!o;)e=e.nextSibling,o=gt(e);o||(o=this._getStoredAttributes())}return o}_fixGraveyardSelection(e,t){const o=Uu.createFromPosition(t),n=this._model.schema.getNearestSelectionRange(o),i=this._ranges.indexOf(e);if(this._ranges.splice(i,1),e.detach(),n){const e=this._prepareRange(n);this._ranges.splice(i,0,e)}}}var em=function(e){return Ad(e,!0,!0)};class tm{constructor(e){this.model=e,this.view=new Mu,this.mapper=new Ku,this.downcastDispatcher=new $u({mapper:this.mapper});const t=this.model.document,o=t.selection,n=this.model.markers;this.listenTo(t,'change',()=>{this.view.change((e)=>{this.downcastDispatcher.convertChanges(t.differ,e),this.downcastDispatcher.convertSelection(o,n,e)})},{priority:'low'}),this.listenTo(this.view.document,'selectionChange',Et(this.model,this.mapper)),this.downcastDispatcher.on('insert:$text',Ct(),{priority:'lowest'}),this.downcastDispatcher.on('remove',At(),{priority:'low'}),this.downcastDispatcher.on('selection',Rt(),{priority:'low'}),this.downcastDispatcher.on('selection',St(),{priority:'low'}),this.downcastDispatcher.on('selection',Ot(),{priority:'low'}),this.view.document.roots.bindTo(this.model.document.roots).using((e)=>{if('$graveyard'==e.rootName)return null;const t=new _c(e.name);return t.rootName=e.rootName,t._document=this.view.document,this.mapper.bindElements(e,t),t})}destroy(){this.view.destroy(),this.stopListening()}}f(tm,fc);class om{constructor(e,t=[]){this._editor=e,this._availablePlugins=new Map,this._plugins=new Map;for(const o of t)this._availablePlugins.set(o,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const e of this._plugins)'function'==typeof e[0]&&(yield e)}get(e){return this._plugins.get(e)}load(e,t=[]){function o(e){return u.includes(e)||a.get(e)||l.has(e)?void 0:n(e).catch((t)=>{throw Su.error('plugincollection-load: It was not possible to load the plugin.',{plugin:e}),t})}function n(e){return new Promise((n)=>{l.add(e),e.requires&&e.requires.forEach((n)=>{const r=i(n);if(t.includes(r))throw new Ya('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:r,requiredBy:e});o(r)});const r=new e(s);a._add(e,r),d.push(r),n()})}function i(e){return'function'==typeof e?e:a._availablePlugins.get(e)}function r(e){return e.map((e)=>i(e)).filter((e)=>!!e)}const a=this,s=this._editor,l=new Set,d=[],c=r(e),u=r(t),m=function(e){const t=[];for(const o of e)i(o)||t.push(o);return t.length?t:null}(e);if(m){const e='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return Su.error(e,{plugins:m}),Promise.reject(new Ya(e,{plugins:m}))}return Promise.all(c.map(o)).then(()=>d)}destroy(){const e=Array.from(this).map(([,e])=>e).filter((e)=>'function'==typeof e.destroy).map((e)=>e.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const o=e.pluginName;o&&(this._plugins.has(o)?Su.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e}):this._plugins.set(o,t))}}class nm{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const o=this.get(e);if(!o)throw new Ya('commandcollection-command-not-found: Command does not exist.',{commandName:e});o.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class im{constructor(e){this.language=e||'en',this.t=(...e)=>this._t(...e)}_t(e,t){let o=It(this.language,e);return t&&(o=o.replace(/%(\d+)/g,(e,o)=>o<t.length?t[o]:e)),o}}class rm{constructor(){this._consumables=new Map}add(e,t){let o;return e.is('text')||e.is('documentFragment')?void this._consumables.set(e,!0):void(this._consumables.has(e)?o=this._consumables.get(e):(o=new am,this._consumables.set(e,o)),o.add(t))}test(e,t){const o=this._consumables.get(e);return void 0===o?null:e.is('text')||e.is('documentFragment')?o:o.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const o=this._consumables.get(e);o!==void 0&&(e.is('text')||e.is('documentFragment')?this._consumables.set(e,!0):o.revert(t))}static consumablesFromElement(e){const t={name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const n of o)'style'!=n&&'class'!=n&&t.attributes.push(n);const n=e.getClassNames();for(const o of n)t.classes.push(o);const i=e.getStyleNames();for(const o of i)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new rm),e.is('text'))return t.add(e),t;e.is('element')&&t.add(e,rm.consumablesFromElement(e)),e.is('documentFragment')&&t.add(e);for(const o of e.getChildren())t=rm.createFrom(o,t);return t}}class am{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){for(const t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t in this._consumables)if(t in e){const o=this._test(t,e[t]);if(!0!==o)return o}return!0}consume(e){for(const t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}revert(e){for(const t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}_add(e,t){const o=sl(t)?t:[t],n=this._consumables[e];for(const i of o){if('attributes'===e&&('class'===i||'style'===i))throw new Ya('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');n.set(i,!0)}}_test(e,t){const o=sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles',t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}else{const e=n.get(i);if(e===void 0)return null;if(!e)return!1}return!0}_consume(e,t){const o=sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles';this._consume(e,[...this._consumables[e].keys()])}else n.set(i,!1)}_revert(e,t){const o=sl(t)?t:[t],n=this._consumables[e];for(const i of o)if('attributes'===e&&('class'===i||'style'===i)){const e='class'==i?'classes':'styles';this._revert(e,[...this._consumables[e].keys()])}else{const e=n.get(i);!1===e&&n.set(i,!0)}}}class sm{constructor(){this._sourceDefinitions={},this.decorate('checkChild'),this.decorate('checkAttribute'),this.on('checkAttribute',(e,t)=>{t[0]=new lm(t[0])},{priority:'highest'}),this.on('checkChild',(e,t)=>{t[0]=new lm(t[0]),t[1]=this.getDefinition(t[1])},{priority:'highest'})}register(e,t){if(this._sourceDefinitions[e])throw new Ya('schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.',{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new Ya('schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.',{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t='string'==typeof e?e:e.is&&(e.is('text')||e.is('textProxy'))?'$text':e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!(t&&t.isLimit)}isObject(e){const t=this.getDefinition(e);return!!(t&&t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof Uu){const t=e.nodeBefore,o=e.nodeAfter;if(!(t instanceof ju))throw new Ya('schema-check-merge-no-element-before: The node before the merge position must be an element.');if(!(o instanceof ju))throw new Ya('schema-check-merge-no-element-after: The node after the merge position must be an element.');return this.checkMerge(t,o)}for(const o of t.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on('checkChild',(t,[o,n])=>{if(n){const i=e(o,n);'boolean'==typeof i&&(t.stop(),t.return=i)}},{priority:'high'})}addAttributeCheck(e){this.on('checkAttribute',(t,[o,n])=>{const i=e(o,n);'boolean'==typeof i&&(t.stop(),t.return=i)},{priority:'high'})}getLimitElement(e){let t=Array.from(e.getRanges()).reduce((e,t)=>{const o=t.getCommonAncestor();return e?e.getCommonAncestor(o,{includeSelf:!0}):o},null);for(;!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed)return this.checkAttribute([...e.getFirstPosition().getAncestors(),'$text'],t);else{const o=e.getRanges();for(const e of o)for(const o of e)if(this.checkAttribute(o.item,t))return!0}return!1}getValidRanges(e,t){const o=[];for(const n of e){let e=n.start,i=n.start;const r=n.end;for(const r of n.getWalker())this.checkAttribute(r.item,t)||(!i.isEqual(e)&&o.push(new Hu(i,e)),i=r.nextPosition),e=r.nextPosition;i&&!i.isEqual(r)&&o.push(new Hu(i,r))}return o}getNearestSelectionRange(e,t='both'){if(this.checkChild(e,'$text'))return new Hu(e);let o,n;('both'==t||'backward'==t)&&(o=new qu({startPosition:e,direction:'backward'})),('both'==t||'forward'==t)&&(n=new qu({startPosition:e}));for(const i of $t(o,n)){const e=i.walker==o?'elementEnd':'elementStart',t=i.value;if(t.type==e&&this.isObject(t.item))return Hu.createOn(t.item);if(this.checkChild(t.nextPosition,'$text'))return new Hu(t.nextPosition)}return null}findAllowedParent(e,t){for(let o=t.parent;o;){if(this.checkChild(o,e))return o;if(this.isLimit(o)||this.isObject(o))return null;o=o.parent}return null}removeDisallowedAttributes(e,t){for(const o of e){for(const e of o.getAttributeKeys())this.checkAttribute(o,e)||t.removeAttribute(e,o);o.is('element')&&this.removeDisallowedAttributes(o.getChildren(),t)}}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,o=Object.keys(t);for(const n of o)e[n]=Nt(t[n],n);for(const t of o)Mt(e,t);for(const t of o)Dt(e,t);for(const t of o)Bt(e,t),Lt(e,t);for(const t of o)zt(e,t),jt(e,t);this._compiledDefinitions=e}_checkContextMatch(e,t,o=t.length-1){const n=t.getItem(o);if(!e.allowIn.includes(n.name))return!1;else if(0==o)return!0;else{const e=this.getDefinition(n);return this._checkContextMatch(e,t,o-1)}}}f(sm,fc);class lm{constructor(e){return e instanceof lm?e:void('string'==typeof e?e=[e]:!Array.isArray(e)&&(e=e.getAncestors({includeSelf:!0})),e[0]&&'string'!=typeof e[0]&&e[0].is('documentFragment')&&e.shift(),this._items=e.map(Gt))}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new lm([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e)=>e.name)}endsWith(e){return Array.from(this.getNames()).join(' ').endsWith(e)}}class dm{constructor(e={}){this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}convert(e,t,o=['$root']){this.fire('viewCleanup',e),this._modelCursor=Qt(o,t),this.conversionApi.writer=t,this.conversionApi.consumable=rm.createFrom(e),this.conversionApi.store={};const{modelRange:n}=this._convertItem(e,this._modelCursor),i=t.createDocumentFragment();if(n){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=Jt(i,t)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){const o=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is('element')?this.fire('element:'+e.name,o,this.conversionApi):e.is('text')?this.fire('text',o,this.conversionApi):this.fire('documentFragment',o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof Hu))throw new Ya('view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.');return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,t){const o=new Hu(t);let n=t;for(const i of Array.from(e.getChildren())){const e=this._convertItem(i,n);e.modelRange instanceof Hu&&(o.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:o,modelCursor:n}}_splitToAllowedParent(e,t){const o=this.conversionApi.schema.findAllowedParent(e,t);if(!o)return null;if(o===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(o))return null;const n=this.conversionApi.writer.split(t,o);for(const o of n.range.getPositions())o.isEqual(n.position)||this._removeIfEmpty.add(o.parent);return{position:n.position,cursorParent:n.range.end.parent}}_removeEmptyElements(){let e=!1;for(const t of this._removeIfEmpty)t.isEmpty&&(this.conversionApi.writer.remove(t),this._removeIfEmpty.delete(t),e=!0);e&&this._removeEmptyElements()}}f(dm,rs);class cm{constructor(e,t){this.model=e,this.processor=t,this.mapper=new Ku,this.downcastDispatcher=new $u({mapper:this.mapper}),this.downcastDispatcher.on('insert:$text',Ct(),{priority:'lowest'}),this.upcastDispatcher=new dm({schema:e.schema}),this.upcastDispatcher.on('text',co(),{priority:'lowest'}),this.upcastDispatcher.on('element',lo(),{priority:'lowest'}),this.upcastDispatcher.on('documentFragment',lo(),{priority:'lowest'}),this.decorate('init')}get(e='main'){return this.stringify(this.model.document.getRoot(e))}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){const t=Hu.createIn(e),o=new Dc,n=new Bc(new Tc());if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(t,n),!e.is('documentFragment')){const t=uo(e);for(const[e,o]of t)this.downcastDispatcher.convertMarkerAdd(e,o,n)}return this.mapper.clearBindings(),o}init(e,t='main'){if(this.model.document.version)throw new Ya('datacontroller-init-document-not-empty: Trying to set initial data to not empty document.');const o=this.model.document.getRoot(t);return this.model.enqueueChange('transparent',(t)=>{t.insert(this.parse(e,o),o)}),Promise.resolve()}set(e,t='main'){const o=this.model.document.getRoot(t);this.model.enqueueChange('transparent',(t)=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()),t.remove(Hu.createIn(o)),t.insert(this.parse(e,o),o)})}parse(e,t='$root'){const o=this.processor.toView(e);return this.toModel(o,t)}toModel(e,t='$root'){return this.model.change((o)=>this.upcastDispatcher.convert(e,o,t))}destroy(){}}f(cm,fc);class um{constructor(){this._dispatchersGroups=new Map}register(e,t){if(this._dispatchersGroups.has(e))throw new Ya('conversion-register-group-exists: Trying to register a group name that was already registered.');this._dispatchersGroups.set(e,t)}for(e){const t=this._getDispatchers(e);return{add(e){return mo(t,e),this}}}elementToElement(e){this.for('downcast').add(ht(e));for(const{model:t,view:o}of po(e))this.for('upcast').add(Yt({model:t,view:o,priority:e.priority}))}attributeToElement(e){this.for('downcast').add(bt(e));for(const{model:t,view:o}of po(e))this.for('upcast').add(Xt({view:o,model:t,priority:e.priority}))}attributeToAttribute(e){this.for('downcast').add(kt(e));for(const{model:t,view:o}of po(e))this.for('upcast').add(Zt({view:o,model:t}))}_getDispatchers(e){const t=this._dispatchersGroups.get(e);if(!t)throw new Ya('conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.');return t}}class mm{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion}_validate(){}toJSON(){const e=Td(this,!0);return e.__className=this.constructor.className,delete e.delta,delete e.isDocumentOperation,e}static get className(){return'engine.model.operation.Operation'}static fromJSON(e){return new this(e.baseVersion)}}class pm{constructor(e){this.markers=new Map,this._children=new zu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(e){return'documentFragment'==e}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const o of e)t=t.getChild(t.offsetToIndex(o));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const o of e)o.name?t.push(ju.fromJSON(o)):t.push(Bu.fromJSON(o));return new pm(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const o=fo(t);for(const n of o)null!==n.parent&&n._remove(),n.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,t=1){const o=this._children._removeNodes(e,t);for(const n of o)n.parent=null;return o}}var gm=function(e,t){return fu(e,t)};class fm extends mm{constructor(e,t,o,n,i){super(i),this.range=Hu.createFromRange(e),this.key=t,this.oldValue=o===void 0?null:o,this.newValue=n===void 0?null:n}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new fm(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new fm(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){for(const e of this.range.getItems()){if(null!==this.oldValue&&!gm(e.getAttribute(this.key),this.oldValue))throw new Ya('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new Ya('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:e,key:this.key})}}_execute(){gm(this.oldValue,this.newValue)||_o(this.range,this.key,this.newValue)}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(e,t){return new fm(Hu.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class hm extends mm{constructor(e,t,o,n){super(n),this.sourcePosition=Uu.createFromPosition(e),this.howMany=t,this.targetPosition=Uu.createFromPosition(o),this.isSticky=!1}get type(){return'move'}clone(){const e=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return e.isSticky=this.isSticky,e}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),t=new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1);return t.isSticky=this.isSticky,t}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(!e||!t)throw new Ya('move-operation-position-invalid: Source position or target position is invalid.');else if(o+this.howMany>e.maxOffset)throw new Ya('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(e===t&&o<n&&n<o+this.howMany)throw new Ya('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==A(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=o&&this.targetPosition.path[e]<o+this.howMany)throw new Ya('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}}_execute(){ko(Hu.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(e,t){const o=Uu.fromJSON(e.sourcePosition,t),n=Uu.fromJSON(e.targetPosition,t),i=new this(o,e.howMany,n,e.baseVersion);return e.isSticky&&(i.isSticky=!0),i}}class bm extends hm{get position(){return this.targetPosition}set position(e){this.targetPosition=e}get type(){return'reinsert'}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new km(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new Ya('reinsert-operation-on-detached-item: Cannot reinsert detached item.');if(!this.targetPosition.root.document)throw new Ya('reinsert-operation-to-detached-parent: Cannot reinsert item to detached parent.')}static get className(){return'engine.model.operation.ReinsertOperation'}}class km extends hm{get type(){return'remove'}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new bm(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new Ya('remove-operation-on-detached-item: Cannot remove detached item.')}static get className(){return'engine.model.operation.RemoveOperation'}}class _m extends mm{constructor(e,t,o){super(o),this.position=Uu.createFromPosition(e),this.nodes=new zu(wo(t))}get type(){return'insert'}clone(){const e=new zu([...this.nodes].map((e)=>e._clone(!0)));return new _m(this.position,e,this.baseVersion)}getReversed(){const e=this.position.root.document.graveyard,t=new Uu(e,[0]);return new km(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new Ya('insert-operation-position-invalid: Insertion position is invalid.')}_execute(){const e=this.nodes;this.nodes=new zu([...e].map((e)=>e._clone(!0))),ho(this.position,e)}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(e,t){const o=[];for(const n of e.nodes)n.name?o.push(ju.fromJSON(n)):o.push(Bu.fromJSON(n));return new _m(Uu.fromJSON(e.position,t),o,e.baseVersion)}}class wm extends mm{constructor(e,t,o,n,i){super(i),this.name=e,this.oldRange=t?Hu.createFromRange(t):null,this.newRange=o?Hu.createFromRange(o):null,this._markers=n}get type(){return'marker'}clone(){return new wm(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new wm(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const e=this.newRange?'_set':'_remove';this._markers[e](this.name,this.newRange,!0)}toJSON(){const e=super.toJSON();return delete e._markers,e}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(e,t){return new wm(e.name,e.oldRange?Hu.fromJSON(e.oldRange,t):null,e.newRange?Hu.fromJSON(e.newRange,t):null,t.model.markers,e.baseVersion)}}class vm extends mm{get type(){return'noop'}clone(){return new vm(this.baseVersion)}getReversed(){return new vm(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}class ym extends mm{constructor(e,t,o,n){super(n),this.position=e,this.oldName=t,this.newName=o}get type(){return'rename'}clone(){return new ym(Uu.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ym(Uu.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ju))throw new Ya('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(e.name!==this.oldName)throw new Ya('rename-operation-wrong-name: Element to change has different name than operation\'s old name.')}_execute(){const e=this.position.nodeAfter;e.name=this.newName}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(e,t){return new ym(Uu.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class xm extends mm{constructor(e,t,o,n,i){super(i),this.root=e,this.key=t,this.oldValue=o,this.newValue=n}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new xm(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new xm(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is('documentFragment'))throw new Ya('rootattribute-operation-not-a-root: The element to change is not a root element.',{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Ya('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Ya('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key})}_execute(){null===this.newValue?this.root._removeAttribute(this.key):this.root._setAttribute(this.key,this.newValue)}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(e,t){if(!t.getRoot(e.root))throw new Ya('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:e});return new xm(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}const Cm={};Cm[fm.className]=fm,Cm[_m.className]=_m,Cm[wm.className]=wm,Cm[hm.className]=hm,Cm[vm.className]=vm,Cm[mm.className]=mm,Cm[bm.className]=bm,Cm[km.className]=km,Cm[ym.className]=ym,Cm[xm.className]=xm;class Am{static fromJSON(e,t){return Cm[e.__className].fromJSON(e,t)}}const Tm=new Map;class Pm{static fromJSON(e,t){if(!Tm.has(e.__className))throw new Ya('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:e.__className});const o=Tm.get(e.__className),n=new o;for(const o of e.operations)n.addOperation(Am.fromJSON(o,t));for(const o in e)'__className'!=o&&void 0===n[o]&&(n[o]=e[o]);return n}static register(e){Tm.set(e.className,e)}}class Em{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(e){for(const t of this.operations)t.baseVersion=e++}get _reverseDeltaClass(){return Em}addOperation(e){return e.delta=this,this.operations.push(e),e}clone(){const e=new this.constructor;for(const t of this.operations)e.addOperation(t.clone());return e}getReversed(){const e=new this._reverseDeltaClass;for(const t of this.operations)e.addOperation(t.getReversed());e.operations.reverse();for(let t=0;t<e.operations.length;t++)e.operations[t].baseVersion=this.operations[this.operations.length-1].baseVersion+t+1;return e}toJSON(){const e=Td(this);return e.__className=this.constructor.className,delete e.batch,e}static get className(){return'engine.model.delta.Delta'}}Pm.register(Em);class Sm extends Em{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let e=null,t=null;for(const o of this.operations)o instanceof vm||((null===e||e.isAfter(o.range.start))&&(e=o.range.start),(null===t||t.isBefore(o.range.end))&&(t=o.range.end));return e&&t?(this._range=new Hu(e,t),this._range):null}get _reverseDeltaClass(){return Sm}toJSON(){const e=super.toJSON();return delete e._range,e}static get className(){return'engine.model.delta.AttributeDelta'}}Pm.register(Sm);class Om extends Em{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]&&this.operations[1]instanceof hm?this.operations[1]:null}get _reverseDeltaClass(){return Rm}static get className(){return'engine.model.delta.SplitDelta'}}Pm.register(Om);class Rm extends Em{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Om}static get className(){return'engine.model.delta.MergeDelta'}}Pm.register(Rm);class Im extends Em{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Im}static get className(){return'engine.model.delta.MoveDelta'}}Pm.register(Im);class Vm extends Im{static get className(){return'engine.model.delta.RemoveDelta'}}Pm.register(Vm);class Fm extends Em{get type(){return'rename'}get _reverseDeltaClass(){return Fm}static get className(){return'engine.model.delta.RenameDelta'}}Pm.register(Fm);class Nm extends Em{get type(){return'wrap'}get range(){const e=this._moveOperation;return e?Hu.createFromPositionAndShift(e.sourcePosition,e.howMany):null}get howMany(){const e=this.range;return e?e.end.offset-e.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Mm}static get className(){return'engine.model.delta.WrapDelta'}}Pm.register(Nm);class Mm extends Em{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Nm}static get className(){return'engine.model.delta.UnwrapDelta'}}Pm.register(Mm);class Dm extends Em{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Vm}static get className(){return'engine.model.delta.InsertDelta'}}Pm.register(Dm);class Bm extends Dm{static get className(){return'engine.model.delta.WeakInsertDelta'}}Pm.register(Bm);var Lm=function(e,t,o={isStrong:!1}){let n,i;e instanceof _m?n=zm.InsertOperation:e instanceof fm?n=zm.AttributeOperation:e instanceof xm?n=zm.RootAttributeOperation:e instanceof ym?n=zm.RenameOperation:e instanceof wm?n=zm.MarkerOperation:e instanceof hm?n=zm.MoveOperation:i=Co,n&&(t instanceof _m?i=n.InsertOperation:t instanceof fm?i=n.AttributeOperation:t instanceof xm?i=n.RootAttributeOperation:t instanceof ym?i=n.RenameOperation:t instanceof wm?i=n.MarkerOperation:t instanceof hm?i=n.MoveOperation:i=Co);const r=i(e,t,o);return Ao(e.baseVersion,r)};const zm={InsertOperation:{InsertOperation(e,t,o){const n=e.clone(),i=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=n.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,i),[n]},AttributeOperation:Co,RootAttributeOperation:Co,RenameOperation:Co,MarkerOperation:Co,MoveOperation(e,t,o){const n=e.clone(),i=void 0===o.insertBefore?!o.isStrong:o.insertBefore;return n.position=e.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,i,t.isSticky&&!o.forceNotSticky),[n]}},AttributeOperation:{InsertOperation(e,t){const o=e.range._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0,!1);return o.reverse().map((t)=>new fm(t,e.key,e.oldValue,e.newValue,e.baseVersion))},AttributeOperation(e,t,o){if(e.key===t.key){const n=e.range.getDifference(t.range).map((t)=>new fm(t,e.key,e.oldValue,e.newValue,e.baseVersion)),i=e.range.getIntersection(t.range);return i&&(o.isStrong?n.push(new fm(i,t.key,t.newValue,e.newValue,e.baseVersion)):0===n.length&&n.push(new vm(0))),n}return[e.clone()]},RootAttributeOperation:Co,RenameOperation:Co,MarkerOperation:Co,MoveOperation(e,t){const o=Hu.createFromPositionAndShift(t.sourcePosition,t.howMany);let n=[];const i=Po(e.range.getDifference(o)),r=e.range.getIntersection(o);return null!==i&&(i.start=i.start._getTransformedByDeletion(t.sourcePosition,t.howMany),i.end=i.end._getTransformedByDeletion(t.sourcePosition,t.howMany),n=i._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,!0,!1).reverse()),null!==r&&(r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.push(r)),n.map((t)=>new fm(t,e.key,e.oldValue,e.newValue,e.baseVersion))}},RootAttributeOperation:{InsertOperation:Co,AttributeOperation:Co,RootAttributeOperation(e,t,o){return e.root!==t.root||e.key!==t.key||(e.newValue===t.newValue||o.isStrong)&&e.newValue!==t.newValue?[e.clone()]:[new vm(e.baseVersion)]},RenameOperation:Co,MarkerOperation:Co,MoveOperation:Co},RenameOperation:{InsertOperation(e,t){const o=e.clone();return o.position=o.position._getTransformedByInsertion(t.position,t.nodes.maxOffset,!0),[o]},AttributeOperation:Co,RootAttributeOperation:Co,RenameOperation(e,t,o){const n=e.clone();if(e.position.isEqual(t.position))if(o.isStrong)n.oldName=t.newName;else return[new vm(e.baseVersion)];return[n]},MarkerOperation:Co,MoveOperation(e,t){const o=e.clone(),n=o.position.isEqual(t.sourcePosition);return o.position=o.position._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!0,n),[o]}},MarkerOperation:{InsertOperation(e,t){const o=e.clone();return o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,!1)[0]),[o]},AttributeOperation:Co,RootAttributeOperation:Co,RenameOperation:Co,MarkerOperation(e,t,o){const n=e.clone();if(e.name==t.name)if(o.isStrong)n.oldRange=t.newRange;else return[new vm(e.baseVersion)];return[n]},MoveOperation(e,t){const o=e.clone();if(o.oldRange){const e=o.oldRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.oldRange=Hu.createFromRanges(e)}if(o.newRange){const e=o.newRange._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);o.newRange=Hu.createFromRanges(e)}return[o]}},MoveOperation:{InsertOperation(e,t,o){let n=Hu.createFromPositionAndShift(e.sourcePosition,e.howMany);const i=e.isSticky&&!o.forceNotSticky;n=n._getTransformedByInsertion(t.position,t.nodes.maxOffset,!1,i)[0];const r=void 0===o.insertBefore?!o.isStrong:o.insertBefore,a=new e.constructor(n.start,n.end.offset-n.start.offset,e.targetPosition._getTransformedByInsertion(t.position,t.nodes.maxOffset,r),e.baseVersion);return a.isSticky=e.isSticky,[a]},AttributeOperation:Co,RootAttributeOperation:Co,RenameOperation:Co,MarkerOperation:Co,MoveOperation(e,t,o){const n=Hu.createFromPositionAndShift(e.sourcePosition,e.howMany),i=Hu.createFromPositionAndShift(t.sourcePosition,t.howMany);let r=o.isStrong;const a=e.isSticky&&!o.forceNotSticky,s=void 0===o.insertBefore?!r:o.insertBefore,l=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,s,t.isSticky&&!o.forceNotSticky);if(To(e,t)&&To(t,e))return[t.getReversed()];const d=n.containsPosition(t.targetPosition)||n.start.isEqual(t.targetPosition)&&a||n.end.isEqual(t.targetPosition)&&a;if(d&&n.containsRange(i,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!a),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a),Eo([n],l,e);const c=i.containsPosition(e.targetPosition)||i.start.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky||i.end.isEqual(e.targetPosition)&&t.isSticky&&!o.forceNotSticky;if(c&&i.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),Eo([n],l,e);const u=A(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if('prefix'==u||'extension'==u)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!a),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,a),Eo([n],l,e);o.forceWeakRemove||(e instanceof km&&!(t instanceof km)?r=!0:!(e instanceof km)&&t instanceof km&&(r=!1));const m=[],p=n.getDifference(i);for(const n of p){n.start=n.start._getTransformedByDeletion(t.sourcePosition,t.howMany),n.end=n.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e='same'==A(n.start.getParentPath(),t.getMovedRangeStart().getParentPath()),o=n._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e,a);m.push(...o)}const g=n.getIntersection(i);return null!==g&&r&&!d&&(g.start=g.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),g.end=g.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===m.length?m.push(g):1==m.length?i.start.isBefore(n.start)||i.start.isEqual(n.start)?m.unshift(g):m.push(g):m.splice(1,0,g)),0===m.length?[new vm(e.baseVersion)]:Eo(m,l,e)}}};var ot=function(e,t,o){var n=-1,i=e.length;0>t&&(t=-t>i?0:i+t),o=o>i?i:o,0>o&&(o+=i),i=t>o?0:o-t>>>0,t>>>=0;for(var r=Array(i);++n<i;)r[n]=e[n+t];return r},jm=Math.ceil,qm=function(e){return sl(e)||rl(e)},Wm=Oo,Um=function(e,t,o){for(var n=e.length,i=t+(o?0:-1);o?i--:++i<n;){var r=e[i];if(r!==r)return i}return-1},Hm=function(e,t,o){if(t!==t)return Um(e,o);for(var n=o-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1},Km=function(e,t){return!!e.length&&-1<Hm(e,t,0)},Gm=function(e,t,o){for(var n=-1,i=e.length;++n<i;)if(o(t,e[n]))return!0;return!1},$m=function(e,t){for(var o=-1,n=e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i},Jm=function(e){return function(t){return e(t)}},Qm=function(e,t){return e.has(t)},Ym=function(e,t,o,n){var i=-1,r=Km,a=!0,s=e.length,l=[],d=t.length;if(!s)return l;o&&(t=$m(t,Jm(o))),n?(r=Gm,a=!1):t.length>=200&&(r=Qm,a=!1,t=new Xc(t));outer:for(;++i<s;){var c=e[i],u=o?o(c):c;if(c=n||0!==c?c:0,a&&u===u){for(var m=d;m--;)if(t[m]===u)continue outer;l.push(c)}else r(t,u,n)||l.push(c)}return l},Xm=Jd(function(e,t){return el(e)?Ym(e,Wm(t,1,el,!0)):[]}),Zm=1,ep=2,tp=function(e){return e===e&&!us(e)},op=function(e,t){return $m(t,function(t){return[t,e[t]]})},np=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=[e,e]}),o},ip=function(e){return function(t){var o=Kl(t);return o=='[object Map]'?od(t):o=='[object Set]'?np(t):op(t,e(t))}}(hl),rp=function(e){for(var t=ip(e),o=t.length;o--;)t[o][2]=tp(t[o][1]);return t},ap=function(e,t){return function(o){return null!=o&&o[e]===t&&(t!==void 0||e in Object(o))}},sp=function(e){var t=rp(e);return 1==t.length&&t[0][2]?ap(t[0][0],t[0][1]):function(o){return o===e||Ro(o,e,t)}},lp='Expected a function';Io.Cache=Ds;var dp=cd?cd.prototype:void 0,cp=dp?dp.toString:void 0,up=function(e){if('string'==typeof e)return e;if(Dd(e))return cp?cp.call(e):'';var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t},mp=function(e){return null==e?'':up(e)},pp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,gp=/\\(\\)?/g,fp=Io(function(e){var t=[];return mp(e).replace(pp,function(e,o,n,i){t.push(n?i.replace(gp,'$1'):o||e)}),t}),hp=function(e){return sl(e)?e:fp(e)},bp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kp=/^\w*$/,_p=Vo,wp=function(e){if('string'==typeof e||Dd(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t},vp=function(e,t){t=_p(t,e)?[t]:hp(t);for(var o=0,n=t.length;null!=e&&o<n;)e=e[wp(t[o++])];return o&&o==n?e:void 0},yp=function(e,t,o){var n=null==e?void 0:vp(e,t);return n===void 0?o:n},xp=function(e,t,o){t=_p(t,e)?[t]:hp(t);for(var n=-1,i=t.length,r;++n<i;){var a=wp(t[n]);if(!(r=null!=e&&o(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&Xs(i)&&pl(a,i)&&(sl(e)||cl(e)||rl(e))},Cp=function(e,t){return null!=e&&xp(e,t,Fo)},Ap=function(e,t){return _p(e)&&tp(t)?ap(wp(e),t):function(o){var n=yp(o,e);return n===void 0&&n===t?Cp(o,e):fu(t,n,void 0,1|2)}},Tp=function(e){return e},Pp=function(e){return function(t){return vp(t,e)}},Ep=function(e){return _p(e)?Qs(wp(e)):Pp(e)},Sp=function(e){return'function'==typeof e?e:null==e?Tp:'object'==typeof e?sl(e)?Ap(e[0],e[1]):sp(e):Ep(e)},Op=Jd(function(e,t){var o=Wu(t);return el(o)&&(o=void 0),el(e)?Ym(e,Wm(t,1,el,!0),Sp(o)):[]}),Rp=Jd(function(e,t){var o=Wu(t);return el(o)&&(o=void 0),el(e)?Ym(e,Wm(t,1,el,!0),void 0,o):[]}),Ip=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:Gd(t),ot(e,0>t?0:t,n)):[]},Vp=function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:Gd(t),t=n-t,ot(e,0,0>t?0:t)):[]},Fp=function(e,t,o,n){for(var i=e.length,r=n?i:-1;(n?r--:++r<i)&&t(e[r],r,e););return o?ot(e,n?0:r,n?r+1:i):ot(e,n?r+1:0,n?i:r)},Np=function(e,t,o){return e===e&&(void 0!==o&&(e=e<=o?e:o),void 0!==t&&(e=e>=t?e:t)),e},Mp=function(e){return e?Np(Gd(e),0,4294967295):0},Dp=function(e,t,o,n){var i=e.length;for(o=Gd(o),0>o&&(o=-o>i?0:i+o),n=void 0===n||n>i?i:Gd(n),0>n&&(n+=i),n=o>n?0:Mp(n);o<n;)e[o++]=t;return e},Bp=function(e,t,o){for(var n=e.length,i=o?n:-1;o?i--:++i<n;)if(t(e[i],i,e))return i;return-1},Lp=function(e){return e&&e.length?e[0]:void 0},zp=function(e,t,o){for(var n=o?Gm:Km,i=e[0].length,r=e.length,a=r,s=Array(r),l=Infinity,d=[];a--;){var c=e[a];a&&t&&(c=$m(c,Jm(t))),l=Da(c.length,l),s[a]=!o&&(t||120<=i&&120<=c.length)?new Xc(a&&c):void 0}c=e[0];var u=-1,m=s[0];outer:for(;++u<i&&d.length<l;){var p=c[u],g=t?t(p):p;if(p=o||0!==p?p:0,m?!Qm(m,g):!n(d,g,o)){for(a=r;--a;){var f=s[a];if(f?!Qm(f,g):!n(e[a],g,o))continue outer}m&&m.push(g),d.push(p)}}return d},jp=function(e){return el(e)?e:[]},qp=Jd(function(e){var t=$m(e,jp);return t.length&&t[0]===e[0]?zp(t):[]}),Wp=Jd(function(e){var t=Wu(e),o=$m(e,jp);return t===Wu(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?zp(o,Sp(t)):[]}),Up=Jd(function(e){var t=Wu(e),o=$m(e,jp);return t===Wu(o)?t=void 0:o.pop(),o.length&&o[0]===e[0]?zp(o,void 0,t):[]}),Hp=Array.prototype,Kp=Hp.join,Gp=function(e,t){var o=e.length;if(o)return t+=0>t?o:0,pl(t,o)?e[t]:void 0},$p=function(e,t,o,n){for(var i=o-1,r=e.length;++i<r;)if(n(e[i],t))return i;return-1},Jp=Array.prototype,Qp=Jp.splice,Yp=function(e,t,o,n){var i=n?$p:Hm,r=-1,a=t.length,s=e;for(o&&(s=$m(e,Jm(o)));++r<a;)for(var l=0,d=t[r],c=o?o(d):d;-1<(l=i(s,c,l,n));)s!==e&&Qp.call(s,l,1),Qp.call(e,l,1);return e},Xp=function(e,t){return e&&e.length&&t&&t.length?Yp(e,t):e},Zp=Jd(Xp),eg=function(e,t){for(var o=-1,n=t.length,i=Array(n);++o<n;)i[o]=null==e?void 0:yp(e,t[o]);return i},tg=function(e,t){return 1==t.length?e:vp(e,ot(t,0,-1))},og=Array.prototype,ng=og.splice,ig=function(e,t){for(var o=e?t.length:0,n=o-1;o--;){var i=t[o];if(o==n||i!==r){var r=i;if(pl(i))ng.call(e,i,1);else if(!_p(i,e)){var a=hp(i),s=tg(e,a);null!=s&&delete s[wp(Wu(a))]}else delete e[wp(i)]}}return e},rg=function(e,t){if(e!==t){var o=e!==void 0,n=null===e,i=e===e,r=Dd(e),a=t!==void 0,s=null===t,l=t===t,d=Dd(t);if(!s&&!d&&!r&&e>t||r&&a&&l&&!s&&!d||n&&a&&l||!o&&l||!i)return 1;if(!n&&!r&&!d&&e<t||d&&o&&i&&!n&&!r||s&&o&&i||!a&&i||!l)return-1}return 0},ag=Jd(function(e,t){t=Wm(t,1);var o=e?e.length:0,n=eg(e,t);return ig(e,$m(t,function(e){return pl(e,o)?+e:e}).sort(rg)),n}),sg=Array.prototype,lg=sg.reverse,dg=function(e,t,o,n){t=o(t);for(var i=0,r=e?e.length:0,a=t!==t,s=null===t,l=Dd(t),d=void 0===t;i<r;){var c=Ba((i+r)/2),u=o(e[c]),m=u!==void 0,p=null===u,g=u===u,f=Dd(u);if(a)var h=n||g;else h=d?g&&(n||m):s?g&&m&&(n||!p):l?g&&m&&!p&&(n||!f):!(p||f)&&(n?u<=t:u<t);h?i=c+1:r=c}return Da(r,4294967295-1)},cg=function(e,t,o){var n=0,i=e?e.length:n;if('number'==typeof t&&t===t&&i<=4294967295>>>1){for(;n<i;){var r=n+i>>>1,a=e[r];null!==a&&!Dd(a)&&(o?a<=t:a<t)?n=r+1:i=r}return i}return dg(e,t,Tp,o)},ug=function(e,t){for(var o=-1,n=e.length,i=0,r=[];++o<n;){var a=e[o],s=t?t(a):a;if(!o||!as(s,l)){var l=s;r[i++]=0===a?0:a}}return r},mg=Rl&&1/sd(new Rl([,-0]))[1]==1/0?function(e){return new Rl(e)}:function(){},pg=function(e,t,o){var n=-1,i=Km,r=e.length,a=!0,s=[],l=s;if(o)a=!1,i=Gm;else if(r>=200){var d=t?null:mg(e);if(d)return sd(d);a=!1,i=Qm,l=new Xc}else l=t?[]:s;outer:for(;++n<r;){var c=e[n],u=t?t(c):c;if(c=o||0!==c?c:0,a&&u===u){for(var m=l.length;m--;)if(l[m]===u)continue outer;t&&l.push(u),s.push(c)}else i(l,u,o)||(l!==s&&l.push(u),s.push(c))}return s},gg=Jd(function(e){return pg(Wm(e,1,el,!0))}),fg=Jd(function(e){var t=Wu(e);return el(t)&&(t=void 0),pg(Wm(e,1,el,!0),Sp(t))}),hg=Jd(function(e){var t=Wu(e);return el(t)&&(t=void 0),pg(Wm(e,1,el,!0),void 0,t)}),bg=function(e,t){for(var o=-1,n=e.length,i=0,r=[];++o<n;){var a=e[o];t(a,o,e)&&(r[i++]=a)}return r},kg=function(e){if(!(e&&e.length))return[];var t=0;return e=bg(e,function(e){if(el(e))return t=Ma(e.length,t),!0}),Js(t,function(t){return $m(e,Qs(t))})},_g=function(e,t){if(!(e&&e.length))return[];var o=kg(e);return null==t?o:$m(o,function(e){return Fd(t,void 0,e)})},wg=Jd(function(e,t){return el(e)?Ym(e,t):[]}),vg=function(e,t,o){for(var n=-1,i=e.length;++n<i;)var r=r?xl(Ym(r,e[n],t,o),Ym(e[n],r,t,o)):e[n];return r&&r.length?pg(r,t,o):[]},yg=Jd(function(e){return vg(bg(e,el))}),xg=Jd(function(e){var t=Wu(e);return el(t)&&(t=void 0),vg(bg(e,el),Sp(t))}),Cg=Jd(function(e){var t=Wu(e);return el(t)&&(t=void 0),vg(bg(e,el),void 0,t)}),Ag=Jd(kg),Tg=function(e,t,o){for(var n=-1,i=e.length,r=t.length,a={};++n<i;){var s=n<r?t[n]:void 0;o(a,e[n],s)}return a},Pg=function(e,t,o,n){t=_p(t,e)?[t]:hp(t);for(var i=-1,r=t.length,a=e;null!=a&&++i<r;){var s=wp(t[i]);if(us(a)){var l=o;if(i!=r-1){var d=a[s];l=n?n(d,s,a):void 0,l===void 0&&(l=null==d?pl(t[i+1])?[]:{}:d)}qs(a,s,l)}a=a[s]}return e},Eg=Jd(function(e){var t=e.length,o=1<t?e[t-1]:void 0;return o='function'==typeof o?(e.pop(),o):void 0,_g(e,o)}),Sg={chunk:function(e,t,o){t=(o?Vd(e,t,o):void 0===t)?1:Ma(Gd(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var i=0,r=0,a=Array(jm(n/t));i<n;)a[r++]=ot(e,i,i+=t);return a},compact:function(e){for(var t=-1,o=e?e.length:0,n=0,i=[];++t<o;){var r=e[t];r&&(i[n++]=r)}return i},concat:function(){for(var e=arguments.length,t=Array(e?e-1:0),o=arguments[0],n=e;n--;)t[n-1]=arguments[n];return e?xl(sl(o)?_l(o):[o],Wm(t,1)):[]},difference:Xm,differenceBy:Op,differenceWith:Rp,drop:Ip,dropRight:Vp,dropRightWhile:function(e,t){return e&&e.length?Fp(e,Sp(t,3),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?Fp(e,Sp(t,3),!0):[]},fill:function(e,t,o,n){var i=e?e.length:0;return i?(o&&'number'!=typeof o&&Vd(e,t,o)&&(o=0,n=i),Dp(e,t,o,n)):[]},findIndex:function(e,t){return e&&e.length?Bp(e,Sp(t,3)):-1},findLastIndex:function(e,t){return e&&e.length?Bp(e,Sp(t,3),!0):-1},first:Lp,flatten:function(e){var t=e?e.length:0;return t?Wm(e,1):[]},flattenDeep:function(e){var t=e?e.length:0;return t?Wm(e,1/0):[]},flattenDepth:function(e,t){var o=e?e.length:0;return o?(t=void 0===t?1:Gd(t),Wm(e,t)):[]},fromPairs:function(e){for(var t=-1,o=e?e.length:0,n={};++t<o;){var i=e[t];n[i[0]]=i[1]}return n},head:Lp,indexOf:function(e,t,o){var n=e?e.length:0;return n?(o=Gd(o),0>o&&(o=Ma(n+o,0)),Hm(e,t,o)):-1},initial:function(e){return Vp(e,1)},intersection:qp,intersectionBy:Wp,intersectionWith:Up,join:function(e,t){return e?Kp.call(e,t):''},last:Wu,lastIndexOf:function(e,t,o){var n=e?e.length:0;if(!n)return-1;var i=n;if(void 0!==o&&(i=Gd(o),i=(0>i?Ma(n+i,0):Da(i,n-1))+1),t!==t)return Um(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},nth:function(e,t){return e&&e.length?Gp(e,Gd(t)):void 0},pull:Zp,pullAll:Xp,pullAllBy:function(e,t,o){return e&&e.length&&t&&t.length?Yp(e,t,Sp(o)):e},pullAllWith:function(e,t,o){return e&&e.length&&t&&t.length?Yp(e,t,void 0,o):e},pullAt:ag,remove:function(e,t){var o=[];if(!(e&&e.length))return o;var n=-1,i=[],r=e.length;for(t=Sp(t,3);++n<r;){var a=e[n];t(a,n,e)&&(o.push(a),i.push(n))}return ig(e,i),o},reverse:function(e){return e?lg.call(e):e},slice:function(e,t,o){var n=e?e.length:0;return n?(o&&'number'!=typeof o&&Vd(e,t,o)?(t=0,o=n):(t=null==t?0:Gd(t),o=void 0===o?n:Gd(o)),ot(e,t,o)):[]},sortedIndex:function(e,t){return cg(e,t)},sortedIndexBy:function(e,t,o){return dg(e,t,Sp(o))},sortedIndexOf:function(e,t){var o=e?e.length:0;if(o){var n=cg(e,t);if(n<o&&as(e[n],t))return n}return-1},sortedLastIndex:function(e,t){return cg(e,t,!0)},sortedLastIndexBy:function(e,t,o){return dg(e,t,Sp(o),!0)},sortedLastIndexOf:function(e,t){var o=e?e.length:0;if(o){var n=cg(e,t,!0)-1;if(as(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?ug(e):[]},sortedUniqBy:function(e,t){return e&&e.length?ug(e,Sp(t)):[]},tail:function(e){return Ip(e,1)},take:function(e,t,o){return e&&e.length?(t=o||void 0===t?1:Gd(t),ot(e,0,0>t?0:t)):[]},takeRight:function(e,t,o){var n=e?e.length:0;return n?(t=o||void 0===t?1:Gd(t),t=n-t,ot(e,0>t?0:t,n)):[]},takeRightWhile:function(e,t){return e&&e.length?Fp(e,Sp(t,3),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?Fp(e,Sp(t,3)):[]},union:gg,unionBy:fg,unionWith:hg,uniq:function(e){return e&&e.length?pg(e):[]},uniqBy:function(e,t){return e&&e.length?pg(e,Sp(t)):[]},uniqWith:function(e,t){return e&&e.length?pg(e,void 0,t):[]},unzip:kg,unzipWith:_g,without:wg,xor:yg,xorBy:xg,xorWith:Cg,zip:Ag,zipObject:function(e,t){return Tg(e||[],t||[],qs)},zipObjectDeep:function(e,t){return Tg(e||[],t||[],Pg)},zipWith:Eg};const Og=new Map,Rg={transform(e,t,o){const n=Rg.getTransformationCase(e,t)||Rg.defaultTransform,i=n(e,t,Object.assign({},o)),r=Sg.last(t.operations).baseVersion;return No(r,i)},defaultTransform(e,t,o){const n=[];let i=t.operations,r=[];for(const a of e.operations){const e=[a];for(const t of i)for(let n=0;n<e.length;n++){const i=e[n],a=Lm(i,t,o);Array.prototype.splice.apply(e,[n,1].concat(a)),n+=a.length-1;const s=Object.assign({},o);s.isStrong=!o.isStrong,s.insertBefore=o.insertBefore===void 0?void 0:!o.insertBefore;const l=Lm(t,i,s);Array.prototype.push.apply(r,l)}i=r,r=[];for(const t of e)n.push(t)}return Ho(e.constructor,n)},addTransformationCase(e,t,o){let n=Og.get(e);n||(n=new Map,Og.set(e,n)),n.set(t,o)},getTransformationCase(e,t){let o=Og.get(e.constructor);if(!o||!o.get(t.constructor)){const n=Og.keys();for(const i of n)if(e instanceof i&&Og.get(i).get(t.constructor)){o=Og.get(i);break}}return o?o.get(t.constructor):void 0},transformDeltaSets(e,t,o=null){const n=Array.from(e),i=Array.from(t),r=null!==o,a={isStrong:!0};if(r){a.wasAffected=new Map,a.originalDelta=new Map,a.document=o,a.undoMode=!0;for(const e of i)a.originalDelta.set(e,e)}for(let s=0;s<n.length;s++){const e=[n[s]];for(let t=0;t<i.length;t++){const o=[i[t]];for(let t=0;t<e.length;t++)for(let n=0;n<o.length;n++){r&&Bo(e[t],o[n],a);const i=Rg.transform(e[t],o[n],{insertBefore:a.insertBefore,forceNotSticky:a.forceNotSticky,isStrong:a.isStrong,forceWeakRemove:a.forceWeakRemove,undoMode:a.undoMode}),s=Rg.transform(o[n],e[t],{insertBefore:!a.insertBefore,forceNotSticky:a.forceNotSticky,isStrong:!a.isStrong,forceWeakRemove:a.forceWeakRemove,undoMode:a.undoMode});if(r){Uo(e[t],i,a);const r=a.originalDelta.get(o[n]);for(const e of s)a.originalDelta.set(e,r)}e.splice(t,1,...i),t+=i.length-1,o.splice(n,1,...s),n+=s.length-1}i.splice(t,1,...o),t+=o.length-1}n.splice(s,1,...e),s+=e.length-1}const s=Mo(n)-Mo(e),l=Mo(i)-Mo(t);return l<s?Do(i,s-l):s<l&&Do(n,l-s),{deltasA:n,deltasB:i}}};var Ig=Rg;class Vg extends Em{get type(){return'marker'}get _reverseDeltaClass(){return Vg}static get className(){return'engine.model.delta.MarkerDelta'}}Pm.register(Vg);const Fg=Ig.addTransformationCase,Ng=Ig.defaultTransform;Fg(Sm,Bm,(e,t,o)=>{const n=Ng(e,t,o);return e.range.containsPosition(t.position)&&n.push(Go(t,e)),n}),Fg(Sm,Om,(e,t,o)=>{if(!t.position)return Ng(e,t,o);const n=o.undoMode,i=new Uu(t.position.root,t.position.path.slice(0,-1)),r=Ng(e,t,o);if(n||!(t._cloneOperation instanceof _m))return r;for(const n of e.operations)if(n.range.containsPosition(i)||n.range.start.isEqual(i)){const e=new Sm,o=i.getShiftedBy(1),a=Uu.createFromPosition(o);a.path.push(0);const s=t._cloneOperation.nodes.getNode(0).getAttribute(n.key);e.addOperation(new fm(new Hu(o,a),n.key,s===void 0?null:s,n.newValue,0)),r.push(e);break}return r}),Fg(Dm,Rm,(e,t,o)=>{if(!t.position)return Ng(e,t,o);const n=o.undoMode;return!n&&e.position.isEqual(t.position)?[t.getReversed(),e.clone()]:Ng(e,t,o)}),Fg(Vg,Om,Ko),Fg(Vg,Rm,Ko),Fg(Vg,Nm,Ko),Fg(Vg,Mm,Ko),Fg(Vg,Im,Ko),Fg(Vg,Fm,Ko),Fg(Im,Rm,(e,t,o)=>{const n=o.undoMode;if(n||!t.position)return Ng(e,t,o);const i=e.sourcePosition.root==t.position.root&&'same'===A(e.sourcePosition.getParentPath(),t.position.getParentPath()),r=e.sourcePosition.offset<=t.position.offset&&e.sourcePosition.offset+e.howMany>t.position.offset;return i&&r?[t.getReversed(),e.clone()]:Ng(e,t,o)}),Fg(Rm,Dm,(e,t,o)=>{if(!e.position)return Ng(e,t,o);const n=o.undoMode;return!n&&e.position.isEqual(t.position)?[$o()]:Ng(e,t,o)}),Fg(Rm,Im,(e,t,o)=>{const n=o.undoMode;if(n||!e.position)return Ng(e,t,o);const i=e.position.root==t.sourcePosition.root&&'same'===A(e.position.getParentPath(),t.sourcePosition.getParentPath()),r=t.sourcePosition.offset<=e.position.offset&&t.sourcePosition.offset+t.howMany>e.position.offset;return i&&r?[$o()]:Ng(e,t,o)}),Fg(Om,Om,(e,t,o)=>{const n=o.undoMode;if(n)return Ng(e,t,o);if(!e.position||!t.position)return Ng(e,t,o);const i=e.position.getParentPath(),r=t.position.getParentPath();if(e.position.root==t.position.root&&'same'==A(i,r))if(e=e.clone(),e.position.offset<t.position.offset||e.position.offset==t.position.offset&&o.isStrong){e._cloneOperation instanceof bm&&t._cloneOperation instanceof bm&&e._cloneOperation.sourcePosition.offset>t._cloneOperation.sourcePosition.offset&&e._cloneOperation.sourcePosition.offset--;const o=Hu.createFromPositionAndShift(e.position,e._moveOperation.howMany),n=Hu.createFromPositionAndShift(t.position,t._moveOperation.howMany),i=o.getDifference(n);let r=0;for(const e of i)r+=e.end.offset-e.start.offset;return 0==r?(e.operations.pop(),e.addOperation(new vm(e.operations[0].baseVersion+1))):e.operations[1].howMany=r,[e]}else{const n=Object.assign({},o);return n.isStrong=!0,n.insertBefore=!0,Ng(e,t,n)}return Ng(e,t,o)}),Fg(Om,Mm,(e,t,o)=>e.position?e.position.root==t.position.root&&'same'===A(t.position.path,e.position.getParentPath())?[$o()]:Ng(e,t,o):Ng(e,t,o)),Fg(Om,Nm,(e,t,o)=>{if(!e.position)return Ng(e,t,o);const n=e.position.root==t.range.start.root,i=n&&'same'===A(e.position.getParentPath(),t.range.start.getParentPath()),r=t.range.start.offset<e.position.offset&&t.range.end.offset>=e.position.offset;if(i&&r)return[$o()];if(n&&'same'===A(e.position.getParentPath(),t.range.end.getShiftedBy(-1).path)){const o=e.clone(),n=Uu.createFromPosition(t.range.start);n.path.push(t.howMany-1);const i=n.getShiftedBy(1);o._cloneOperation.position=i;const r=Uu.createFromPosition(n);r.path.push(e.position.offset),o._moveOperation.sourcePosition=r;const a=Uu.createFromPosition(i);return a.path.push(0),o._moveOperation.targetPosition=a,[o]}return Ng(e,t,o)}),Fg(Om,Sm,(e,t,o)=>{if(!e.position)return Ng(e,t,o);e=e.clone();const n=o.undoMode,i=new Uu(e.position.root,e.position.path.slice(0,-1));if(n||!(e._cloneOperation instanceof _m))return[e];for(const n of t.operations)if(n.range.containsPosition(i)||n.range.start.isEqual(i)){null===n.newValue?e._cloneOperation.nodes.getNode(0)._removeAttribute(n.key):e._cloneOperation.nodes.getNode(0)._setAttribute(n.key,n.newValue);break}return[e]}),Fg(Mm,Om,(e,t,o)=>t.position?e.position.root==t.position.root&&'same'===A(e.position.path,t.position.getParentPath())?[t.getReversed(),e.clone()]:Ng(e,t,o):Ng(e,t,o)),Fg(Bm,Sm,(e,t)=>{const o=[e.clone()];return t.range.containsPosition(e.position)&&o.push(Go(e,t)),o}),Fg(Nm,Om,(e,t,o)=>{if(!t.position)return Ng(e,t,o);const n=e.range.start.root==t.position.root,i=n&&'same'===A(e.range.start.getParentPath(),t.position.getParentPath()),r=e.range.start.offset<t.position.offset&&e.range.end.offset>=t.position.offset;if(i&&r)return[t.getReversed(),e.clone()];if(n&&'same'===A(t.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){const t=e.clone();return t._insertOperation.position.offset++,t._moveOperation.howMany++,t._moveOperation.targetPosition.path[t._moveOperation.targetPosition.path.length-2]++,[t]}return Ng(e,t,o)}),Fg(Fm,Om,(e,t,o)=>{const n=o.undoMode,i=Ng(e,t,o);if(n||!(t._cloneOperation instanceof _m))return i;const r=t._cloneOperation.position.getShiftedBy(-1);if(r&&e.operations[0].position.isEqual(r)){const t=e.clone();t.operations[0].position=r.getShiftedBy(1),i.push(t)}return i}),Fg(Om,Fm,(e,t,o)=>{e=e.clone();const n=o.undoMode;if(n||!(e._cloneOperation instanceof _m))return[e];const i=e._cloneOperation.position.getShiftedBy(-1);if(i&&!n&&t.operations[0].position.isEqual(i)){const o=t.clone();return o.operations[0].position=i.getShiftedBy(1),o.operations[0].oldName=e._cloneOperation.nodes.getNode(0).name,[e,o]}return[e]}),Fg(Vm,Om,(e,t,o)=>{const n=Ng(e,t,o),i=t._cloneOperation.position||t._cloneOperation.targetPosition;if(!i)return Ng(e,t,o);const r=o.undoMode;if(r)return n;for(const r of n)if(r instanceof Vm){const e=r._moveOperation,t=e.sourcePosition.getShiftedBy(e.howMany);t.isEqual(i)&&(e.howMany+=1)}return n}),Fg(Om,Vm,(e,t,o)=>{const n=o.undoMode;if(n)return Ng(e,t,o);const i=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!i)return Ng(e,t,o);t=t.clone();const r=t._moveOperation,a=r.sourcePosition.getShiftedBy(r.howMany);return a.isEqual(i)&&(r.howMany+=1),Ng(e,t,o)});class Mg{constructor(e='default'){this.deltas=[],this.type=e}get baseVersion(){for(const e of this.deltas)if(null!==e.baseVersion)return e.baseVersion;return null}addDelta(e){return e.batch=this,this.deltas.push(e),e}*getOperations(){for(const e of this.deltas)yield*e.operations}}class Dg extends Em{static get className(){return'engine.model.delta.RootAttributeDelta'}}Pm.register(Dg);class Bg extends mm{constructor(e,t){super(null),this.sourcePosition=Uu.createFromPosition(e),this.howMany=t}get type(){return'detach'}_validate(){if(this.sourcePosition.root.document)throw new Ya('detach-operation-on-document-node: Cannot detach document node.')}_execute(){bo(Hu.createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return'engine.model.operation.DetachOperation'}}class Lg extends ju{constructor(e,t,o='main'){super(t),this._doc=e,this.rootName=o}get document(){return this._doc}is(e,t){return t?'rootElement'==e&&t==this.name||super.is(e,t):'rootElement'==e||super.is(e)}toJSON(){return this.rootName}}class zg{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Bu(e,t)}createElement(e,t){return new ju(e,t)}createDocumentFragment(){return new pm}insert(e,t,o){this._assertWriterUsedCorrectly();const n=Uu.createAt(t,o),i=e instanceof Bu&&!e.parent?new Bm:new Dm;if(e.parent){if(Zo(e.root,n.root))return void this.move(Hu.createOn(e),n);if(e.root.document)throw new Error('model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.');else this.remove(e)}const r=n.root.document?n.root.document.version:null,a=new _m(n,e,r);if(this.batch.addDelta(i),i.addOperation(a),this.model.applyOperation(a),e instanceof pm)for(const[t,o]of e.markers){const e=Uu.createAt(o.root),i=new Hu(o.start._getCombined(e,n),o.end._getCombined(e,n));this.addMarker(t,{range:i,usingOperation:!0})}}insertText(e,t,o,n){t instanceof pm||t instanceof ju||t instanceof Uu?this.insert(this.createText(e),t,o):this.insert(this.createText(e,t),o,n)}insertElement(e,t,o,n){t instanceof pm||t instanceof ju||t instanceof Uu?this.insert(this.createElement(e),t,o):this.insert(this.createElement(e,t),o,n)}append(e,t){this.insert(e,t,'end')}appendText(e,t,o){t instanceof pm||t instanceof ju?this.insert(this.createText(e),t,'end'):this.insert(this.createText(e,t),o,'end')}appendElement(e,t,o){t instanceof pm||t instanceof ju?this.insert(this.createElement(e),t,'end'):this.insert(this.createElement(e,t),o,'end')}setAttribute(e,t,o){this._assertWriterUsedCorrectly(),o instanceof Hu?Jo(this,e,t,o):Qo(this,e,t,o)}setAttributes(e,t){for(const[o,n]of rt(e))this.setAttribute(o,n,t)}removeAttribute(e,t){this._assertWriterUsedCorrectly(),t instanceof Hu?Jo(this,e,null,t):Qo(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=(e)=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(!(e instanceof Hu))t(e);else for(const o of e.getItems())t(o)}move(e,t,o){if(this._assertWriterUsedCorrectly(),!(e instanceof Hu))throw new Ya('writer-move-invalid-range: Invalid range to move.');if(!e.isFlat)throw new Ya('writer-move-range-not-flat: Range to move is not flat.');const n=Uu.createAt(t,o);if(!Zo(e.root,n.root))throw new Ya('writer-move-different-document: Range is going to be moved between different documents.');const i=new Im;this.batch.addDelta(i);const r=e.root.document?e.root.document.version:null,a=new hm(e.start,e.end.offset-e.start.offset,n,r);i.addOperation(a),this.model.applyOperation(a)}remove(e){this._assertWriterUsedCorrectly();const t=(e,t)=>{const o=new Vm;this.batch.addDelta(o),Xo(e,t,o,this.model)};if(e instanceof Hu){const o=e.getMinimalFlatRanges().reverse();for(const e of o)t(e.start,e.end.offset-e.start.offset)}else{const o=e.is('text')?e.offsetSize:1;t(Uu.createBefore(e),o)}}merge(e){this._assertWriterUsedCorrectly();const t=new Rm;this.batch.addDelta(t);const o=e.nodeBefore,n=e.nodeAfter;if(!(o instanceof ju))throw new Ya('writer-merge-no-element-before: Node before merge position must be an element.');if(!(n instanceof ju))throw new Ya('writer-merge-no-element-after: Node after merge position must be an element.');const i=Uu.createFromParentAndOffset(n,0),r=Uu.createFromParentAndOffset(o,o.maxOffset),a=e.root.document?e.root.document.version:null,s=new hm(i,n.maxOffset,r,a);s.isSticky=!0,t.addOperation(s),this.model.applyOperation(s),Xo(e,1,t,this.model)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ju))throw new Ya('writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const o=new Fm;this.batch.addDelta(o);const n=e.root.document?e.root.document.version:null,i=new ym(Uu.createBefore(e),e.name,t,n);o.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let o=e.parent;if(!o.parent)throw new Ya('writer-split-element-no-parent: Element with no parent can not be split.');if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new Ya('writer-split-invalid-limit-element: Limit element is not a position ancestor.');let n,i;do{const t=new Om;this.batch.addDelta(t);const r=new ju(o.name,o.getAttributes()),a=o.root.document?o.root.document.version:null,s=new _m(Uu.createAfter(o),r,a);t.addOperation(s),this.model.applyOperation(s);const l=null===a?null:a+1,d=new hm(e,o.maxOffset-e.offset,Uu.createFromParentAndOffset(r,0),l);d.isSticky=!0,t.addOperation(d),this.model.applyOperation(d),n||i||(n=o,i=r),e=Uu.createBefore(r),o=e.parent}while(o!==t);return{position:e,range:new Hu(Uu.createAt(n,'end'),Uu.createAt(i))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new Ya('writer-wrap-range-not-flat: Range to wrap is not flat.');const o=t instanceof ju?t:new ju(t);if(0<o.childCount)throw new Ya('writer-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==o.parent)throw new Ya('writer-wrap-element-attached: Element to wrap with is already attached to tree model.');const n=new Nm;this.batch.addDelta(n);const i=e.root.document?e.root.document.version:null,r=new _m(e.end,o,i);n.addOperation(r),this.model.applyOperation(r);const a=null===i?null:i+1,s=Uu.createFromParentAndOffset(o,0),l=new hm(e.start,e.end.offset-e.start.offset,s,a);n.addOperation(l),this.model.applyOperation(l)}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new Ya('writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const t=new Mm;this.batch.addDelta(t);const o=Uu.createFromParentAndOffset(e,0),n=o.root.document?o.root.document.version:null,i=new hm(o,e.maxOffset,Uu.createBefore(e),n);i.isSticky=!0,t.addOperation(i),this.model.applyOperation(i),Xo(Uu.createBefore(e),1,t,this.model)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||'boolean'!=typeof t.usingOperation)throw new Ya('writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.');const o=t.usingOperation,n=t.range;if(this.model.markers.has(e))throw new Ya('writer-addMarker-marker-exists: Marker with provided name already exists.');if(!n)throw new Ya('writer-addMarker-no-range: Range parameter is required when adding a new marker.');return o?(Yo(this,e,null,n),this.model.markers.get(e)):this.model.markers._set(e,n,o)}updateMarker(e,t){this._assertWriterUsedCorrectly();const o='string'==typeof e?e:e.name,n=this.model.markers.get(o);if(!n)throw new Ya('writer-updateMarker-marker-not-exists: Marker with provided name does not exists.');const i=t&&t.range,r=!!t&&'boolean'==typeof t.usingOperation;if(!r&&!i)throw new Ya('writer-updateMarker-wrong-options: One of options is required - provide range or usingOperations.');if(r&&t.usingOperation!==n.managedUsingOperations){if(t.usingOperation)Yo(this,o,null,i?i:n.getRange());else{const e=n.getRange();Yo(this,o,e,null),this.model.markers._set(o,i?i:e)}return}n.managedUsingOperations?Yo(this,o,n.getRange(),i):this.model.markers._set(o,i)}removeMarker(e){this._assertWriterUsedCorrectly();const t='string'==typeof e?e:e.name;if(!this.model.markers.has(t))throw new Ya('writer-removeMarker-no-marker: Trying to remove marker which does not exist.');const o=this.model.markers.get(t);if(!o.managedUsingOperations)return void this.model.markers._remove(t);const n=o.getRange();Yo(this,t,n,null)}setSelection(e,t,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,o)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._setSelectionAttribute(e,t);else for(const[t,o]of rt(e))this._setSelectionAttribute(t,o)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),'string'==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const n=Xu._getStoreAttributeKey(e);this.setAttribute(n,t,o.anchor.parent)}o._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=Xu._getStoreAttributeKey(e);this.removeAttribute(o,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Ya('writer-incorrect-use: Trying to use a writer outside the change() block.')}}class jg{constructor(e){this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(e){switch(e.type){case'insert':{if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case'addAttribute':case'removeAttribute':case'changeAttribute':{for(const t of e.range.getItems())this._isInInsertedElement(t.parent)||this._markAttribute(t);break}case'remove':case'move':case'reinsert':{const t=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case'rename':{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=Hu.createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t)}break}}this._cachedChanges=null}bufferMarkerChange(e,t,o){const n=this._changedMarkers.get(e);n?(n.newRange=o,null==n.oldRange&&null==n.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:o})}getMarkersToRemove(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.oldRange&&e.push({name:t,range:o.oldRange});return e}getMarkersToAdd(){const e=[];for(const[t,o]of this._changedMarkers)null!=o.newRange&&e.push({name:t,range:o.newRange});return e}getChanges(e={includeChangesInGraveyard:!1}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const t=[];for(const o of this._changesInElement.keys()){const e=this._changesInElement.get(o).sort((e,t)=>e.offset===t.offset?e.type==t.type?0:'remove'==e.type?-1:1:e.offset<t.offset?-1:1),n=this._elementSnapshots.get(o),r=en(o.getChildren()),a=tn(n.length,e);let s=0,i=0;for(const e of a)if('i'===e)t.push(this._getInsertDiff(o,s,r[s].name)),s++;else if('r'===e)t.push(this._getRemoveDiff(o,s,n[i].name)),i++;else if('a'===e){const e=r[s].attributes,a=n[i].attributes;let l;if('$text'==r[s].name)l=Hu.createFromParentsAndOffsets(o,s,o,s+1);else{const e=o.offsetToIndex(s);l=Hu.createFromParentsAndOffsets(o,s,o.getChild(e),0)}t.push(...this._getAttributesDiff(l,a,e)),s++,i++}else s++,i++}t.sort((e,t)=>e.position.root==t.position.root?e.position.isEqual(t.position)?e.changeCount<t.changeCount?-1:1:e.position.isBefore(t.position)?-1:1:e.position.root.rootName<t.position.root.rootName?-1:1);for(let o=1;o<t.length;o++){const e=t[o-1],n=t[o],i='remove'==e.type&&'remove'==n.type&&'$text'==e.name&&'$text'==n.name&&e.position.isEqual(n.position),r='insert'==e.type&&'insert'==n.type&&'$text'==e.name&&'$text'==n.name&&e.position.parent==n.position.parent&&e.position.offset+e.length==n.position.offset,a='attribute'==e.type&&'attribute'==n.type&&e.position.parent==n.position.parent&&e.range.isFlat&&n.range.isFlat&&e.position.offset+e.length==n.position.offset&&e.attributeKey==n.attributeKey&&e.attributeOldValue==n.attributeOldValue&&e.attributeNewValue==n.attributeNewValue;(i||r||a)&&(t[o-1].length++,a&&(t[o-1].range.end=t[o-1].range.end.getShiftedBy(1)),t.splice(o,1),o--)}for(const o of t)delete o.changeCount,'attribute'==o.type&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(on),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(e,t,o){const n={type:'insert',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n)}_markRemove(e,t,o){const n={type:'remove',offset:t,howMany:o,count:this._changeCount++};this._markChange(e,n),this._removeAllNestedChanges(e,t,o)}_markAttribute(e){const t={type:'attribute',offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(t,o),o.push(t);for(let n=0;n<o.length;n++)1>o[n].howMany&&(o.splice(n,1),n--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,en(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const o of t){const n=e.offset+e.howMany,i=o.offset+o.howMany;if('insert'==e.type&&('insert'==o.type&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<i&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),'remove'==o.type&&e.offset<o.offset&&(o.offset+=e.howMany),'attribute'==o.type))if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<i){const i=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:'attribute',offset:n,howMany:i-o.howMany,count:this._changeCount++})}if('remove'==e.type){if('insert'==o.type)if(n<=o.offset)o.offset-=e.howMany;else if(n<=i){if(e.offset<o.offset){const t=n-o.offset;o.offset=e.offset,o.howMany-=t,e.nodesToHandle-=t}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;}else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<i){const t=i-e.offset;o.howMany-=t,e.nodesToHandle-=t}if('remove'==o.type&&(n<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),'attribute'==o.type)if(n<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const t=n-o.offset;o.offset=e.offset,o.howMany-=t}else if(e.offset<i)if(n<=i){const n=o.howMany;o.howMany=e.offset-o.offset;const i=n-o.howMany-e.nodesToHandle;t.unshift({type:'attribute',offset:e.offset,howMany:i,count:this._changeCount++})}else o.howMany-=i-e.offset}if('attribute'==e.type){if('insert'==o.type)if(e.offset<o.offset&&n>o.offset){if(n>i){const e={type:'attribute',offset:i,howMany:n-i,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<i&&(n>i?(e.nodesToHandle=n-i,e.offset=i):e.nodesToHandle=0);'attribute'==o.type&&(e.offset>=o.offset&&n<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&n>=i&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,o){return{type:'insert',position:Uu.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,o){return{type:'remove',position:Uu.createFromParentAndOffset(e,t),name:o,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,o){const n=[];o=new Map(o);for(const[i,r]of t){const t=o.has(i)?o.get(i):null;t!==r&&n.push({type:'attribute',position:e.start,range:Hu.createFromRange(e),length:1,attributeKey:i,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++}),o.delete(i)}for(const[i,r]of o)n.push({type:'attribute',position:e.start,range:Hu.createFromRange(e),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return n}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const o=this._changesInElement.get(t),n=e.startOffset;if(o)for(const e of o)if('insert'==e.type&&n>=e.offset&&n<e.offset+e.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,o){const n=Hu.createFromParentsAndOffsets(e,t,e,t+o);for(const i of n.getItems({shallow:!0}))i.is('element')&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}class qg{constructor(){this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}addDelta(e){if(0<e.operations.length&&!this._historyPoints.has(e.baseVersion)){const t=this._deltas.length;this._deltas[t]=e,this._historyPoints.set(e.baseVersion,t)}}*getDeltas(e=0,t=Na){if(0!==this._deltas.length){let o=this._getIndex(e);if(-1!=o)for(;o<this._deltas.length;){const e=this._deltas[o++];if(e.baseVersion>=t)break;yield e}}}getDelta(e){const t=this._historyPoints.get(e);return t===void 0?null:this._deltas[t]}setDeltaAsUndone(e,t){this._undoPairs.set(t,e),this._undoneDeltas.add(e)}isUndoingDelta(e){return this._undoPairs.has(e)}isUndoneDelta(e){return this._undoneDeltas.has(e)}getUndoneDelta(e){return this._undoPairs.get(e)}_getIndex(e){const t=this._historyPoints.get(e);if(t===void 0){const t=this._deltas[this._deltas.length-1],o=t.baseVersion+t.operations.length;if(0>e||e>=o)return-1;throw new Ya('model-history-wrong-version: Given base version points to the middle of a delta.')}return t}}const Wg='$graveyard';class Ug{constructor(e){this.model=e,this.version=0,this.history=new qg(this),this.selection=new Xu(this),this.roots=new Ac({idProperty:'rootName'}),this.differ=new jg(e.markers),this._postFixers=new Set,this.createRoot('$root',Wg),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];if(o.isDocumentOperation&&o.baseVersion!==this.version)throw new Ya('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:o})},{priority:'highest'}),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:'high'}),this.listenTo(e,'applyOperation',(e,t)=>{const o=t[0];o.isDocumentOperation&&(this.version++,this.history.addDelta(o.delta))},{priority:'low'});let t=!1;this.listenTo(this.selection,'change',()=>{t=!0}),this.listenTo(e,'_change',(e,o)=>{(!this.differ.isEmpty||t)&&(this._callPostFixers(o),this.fire('change',o.batch),this.differ.reset(),t=!1)}),this.listenTo(e.markers,'update',(e,t,o,n)=>{this.differ.bufferMarkerChange(t.name,o,n),null===o&&t.on('change',(e,o)=>{this.differ.bufferMarkerChange(t.name,o,t.getRange())})})}get graveyard(){return this.getRoot(Wg)}createRoot(e='$root',t='main'){if(this.roots.get(t))throw new Ya('model-document-createRoot-name-exists: Root with specified name already exists.',{name:t});const o=new Lg(this,e,t);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e='main'){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,(e)=>e.rootName).filter((e)=>e!=Wg)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Td(this);return e.selection='[engine.model.DocumentSelection]',e.model='[engine.model.Model]',e}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model.schema,o=new Uu(e,[0]),n=t.getNearestSelectionRange(o);return n||new Hu(o)}_validateSelectionRange(e){return dn(e.start)&&dn(e.end)}_callPostFixers(e){let t=!1;do for(const o of this._postFixers)if(t=o(e),t)break;while(t)}}f(Ug,rs);class Hg{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,o=!1){const n=e instanceof Kg?e.name:e,i=this._markers.get(n);if(i){const e=i.getRange();let r=!1;return e.isEqual(t)||(i._attachLiveRange(Qu.createFromRange(t)),r=!0),o!=i.managedUsingOperations&&(i._managedUsingOperations=o,r=!0),r&&this.fire('update:'+n,i,e,t),i}const r=Qu.createFromRange(t),a=new Kg(n,r,o);return this._markers.set(n,a),this.fire('update:'+n,a,null,t),a}_remove(e){const t=e instanceof Kg?e.name:e,o=this._markers.get(t);return!!o&&(this._markers.delete(t),this.fire('update:'+t,o,o.getRange(),null),this._destroyMarker(o),!0)}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+':')&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}f(Hg,rs);class Kg{constructor(e,t,o){this.name=e,this._managedUsingOperations=o,this._liveRange=this._attachLiveRange(t)}get managedUsingOperations(){if(!this._liveRange)throw new Ya('marker-destroyed: Cannot use a destroyed marker instance.');return this._managedUsingOperations}getStart(){if(!this._liveRange)throw new Ya('marker-destroyed: Cannot use a destroyed marker instance.');return Uu.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new Ya('marker-destroyed: Cannot use a destroyed marker instance.');return Uu.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new Ya('marker-destroyed: Cannot use a destroyed marker instance.');return Hu.createFromRange(this._liveRange)}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate('change:range').to(this),e.delegate('change:content').to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating('change:range',this),this._liveRange.stopDelegating('change:content',this),this._liveRange.detach(),this._liveRange=null}}f(Kg,rs);class Gg extends Uu{constructor(e,t,o){if(super(e,t),!this.root.is('rootElement'))throw new Ya('model-liveposition-root-not-rootelement: LivePosition\'s root has to be an instance of RootElement.');this.stickiness=o||'sticksToNext',cn.call(this)}detach(){this.stopListening()}}f(Gg,rs);class $g{constructor(e,t,o){this.model=e,this.writer=t,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._filterAttributesOf=[]}handleNodes(e,t){e=Array.from(e);for(let o=0;o<e.length;o++){const n=e[o];this._handleNode(n,{isFirst:0===o&&t.isFirst,isLast:o===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?Hu.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}_handleNode(e,t){if(this.schema.isObject(e))return void this._handleObject(e,t);const o=this._checkAndSplitToAllowedPosition(e,t);return o?void(this._insert(e),this._mergeSiblingsOf(e,t)):void this._handleDisallowedNode(e,t)}_handleObject(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}_handleDisallowedNode(e,t){e.is('element')?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}_insert(e){if(!this.schema.checkChild(this.position,e))return void Su.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:e,position:this.position});const t=Gg.createFromPosition(this.position);this.writer.insert(e,this.position),this.position=Uu.createFromPosition(t),t.detach(),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,'$text')?e:null,this._filterAttributesOf.push(e)}_mergeSiblingsOf(e,t){if(e instanceof ju){const o=this._canMergeLeft(e,t),n=this._canMergeRight(e,t),i=Gg.createBefore(e),r=Gg.createAfter(e);if(o){const e=Gg.createFromPosition(this.position);this.writer.merge(i),this.position=Uu.createFromPosition(e),e.detach()}if(n){this.position.isEqual(r)||Su.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=Uu.createAt(r.nodeBefore,'end');const e=new Gg(this.position.root,this.position.path,'sticksToPrevious');this.writer.merge(r),this.position=Uu.createFromPosition(e),e.detach()}(o||n)&&this._filterAttributesOf.push(this.position.parent),i.detach(),r.detach()}}_canMergeLeft(e,t){const o=e.previousSibling;return t.isFirst&&o instanceof ju&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,e)}_canMergeRight(e,t){const o=e.nextSibling;return t.isLast&&o instanceof ju&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(e,o)}_tryAutoparagraphing(e,t){const o=this.writer.createElement('paragraph');this._getAllowedIn(o,this.position.parent)&&this.schema.checkChild(o,e)&&(o._appendChild(e),this._handleNode(o,t))}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const e=this.position.parent;this.position=Uu.createBefore(e),e.isEmpty&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=Uu.createAfter(this.position.parent);else{const e=Uu.createAfter(this.position.parent);this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}const Jg=' ,.?!:;"-()';class Qg{constructor(){this.markers=new Hg,this.document=new Ug(this),this.schema=new sm,this._pendingChanges=[],this._currentWriter=null,['insertContent','deleteContent','modifySelection','getSelectedContent','applyOperation'].forEach((e)=>this.decorate(e)),this.on('applyOperation',(e,t)=>{const o=t[0];o._validate()},{priority:'highest'}),this.schema.register('$root',{isLimit:!0}),this.schema.register('$block',{allowIn:'$root',isBlock:!0}),this.schema.register('$text',{allowIn:'$block'}),this.schema.register('$clipboardHolder',{allowContentOf:'$root',isLimit:!0}),this.schema.extend('$text',{allowIn:'$clipboardHolder'}),this.schema.register('$marker',{allowIn:['$root','$block']})}change(e){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Mg,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}enqueueChange(e,t){'string'==typeof e?e=new Mg(e):'function'==typeof e&&(t=e,e=new Mg),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(e){e._execute()}transformDeltas(e,t,o=!1){return Ig.transformDeltaSets(e,t,o?this.document:null)}insertContent(e,t){mn(this,e,t)}deleteContent(e,t){pn(this,e,t)}modifySelection(e,t){wn(this,e,t)}getSelectedContent(e){return Pn(this,e)}hasContent(e){if(e instanceof ju&&(e=Hu.createIn(e)),e.isCollapsed)return!1;for(const t of e.getItems())if(t.is('textProxy')||this.schema.isObject(t))return!0;return!1}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new zg(this,t);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.fire('_change',this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return e}}f(Qg,fc);class Yg{constructor(){this._listener=Object.create(Jc)}listenTo(e){this._listener.listenTo(e,'keydown',(e,t)=>{this._listener.fire('_keydown:'+te(t),t)})}set(e,t,o={}){const n=oe(e),i=o.priority;this._listener.listenTo(this._listener,'_keydown:'+n,(e,o)=>{t(o,()=>{o.preventDefault(),o.stopPropagation(),e.stop()}),e.return=!0},{priority:i})}press(e){return!!this._listener.fire('_keydown:'+te(e),e)}destroy(){this._listener.stopListening()}}class Xg extends Yg{constructor(e){super(),this.editor=e}set(e,t,o={}){if('string'==typeof t){const e=t;t=(t,o)=>{this.editor.execute(e),o()}}super.set(e,t,o)}}class Zg{constructor(e){const t=this.constructor.build&&this.constructor.build.plugins;this.config=new Ja(e,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',t),this.plugins=new om(this,t),this.commands=new nm,this.locale=new im(this.config.get('language')),this.t=this.locale.t,this.set('isReadOnly',!1),this.model=new Qg,this.data=new cm(this.model),this.editing=new tm(this.model),this.editing.view.document.bind('isReadOnly').to(this),this.conversion=new um,this.conversion.register('downcast',[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register('editingDowncast',[this.editing.downcastDispatcher]),this.conversion.register('dataDowncast',[this.data.downcastDispatcher]),this.conversion.register('upcast',[this.data.upcastDispatcher]),this.keystrokes=new Xg(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){function e(e,t){return e.reduce((e,o)=>o[t]?e.then(o[t].bind(o)):e,Promise.resolve())}const t=this,o=this.config;return function(){const e=o.get('plugins')||[],n=o.get('removePlugins')||[];return t.plugins.load(e,n)}().then((t)=>e(t,'init').then(()=>e(t,'afterInit'))).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...e){this.commands.execute(...e)}static create(e){return new Promise((t)=>{const o=new this(e);t(o.initPlugins().then(()=>{o.fire('dataReady'),o.fire('ready')}).then(()=>o))})}}f(Zg,fc);const ef={setData(e){this.data.set(e)},getData(){return this.data.get()}};const tf={updateElement(){Sn(this.element,this.data.get())}};class of{getHtml(e){const t=document.implementation.createHTMLDocument(''),o=t.createElement('div');return o.appendChild(e),o.innerHTML}}class nf{constructor(){this._domParser=new DOMParser,this._domConverter=new Gc({blockFiller:jc}),this._htmlWriter=new of}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,'text/html'),o=t.createDocumentFragment(),n=t.body.childNodes;for(;0<n.length;)o.appendChild(n[0]);return o}}class rf{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){if(this.has(e))throw new Ya('componentfactory-item-exists: The item already exists in the component factory.',{name:e});this._components.set(Rn(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new Ya('componentfactory-item-missing: The required component is not registered in the factory.',{name:e});return this._components.get(Rn(e)).callback(this.editor.locale)}has(e){return this._components.has(Rn(e))}}class af{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e))throw new Ya('focusTracker-add-element-already-exist');this.listenTo(e,'focus',()=>this._focus(e),{useCapture:!0}),this.listenTo(e,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}f(af,Jc),f(af,fc);class sf{constructor(e,t){this.editor=e,this.view=t,this.componentFactory=new rf(e),this.focusTracker=new af,this._toolbarConfig=Vn(e.config.get('toolbar'))}init(){const e=this.editor,t=this.view;t.render(),t.stickyPanel.bind('isActive').to(this.focusTracker,'isFocused'),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);const o=e.editing.view.document.getRoot();t.editable.bind('isReadOnly').to(o),t.editable.bind('isFocused').to(e.editing.view.document),t.editable.name=o.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),In({origin:e.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:this.view.toolbar})}destroy(){this.view.destroy()}}class lf extends Ac{constructor(e){super({idProperty:'viewUid'}),this.on('add',(e,t,o)=>{t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[o])}),this.on('remove',(e,t)=>{t.element&&this._parentElement&&t.element.remove()}),this.locale=e,this._parentElement=null}destroy(){this.map((e)=>e.destroy())}setParent(e){this._parentElement=e}delegate(...e){if(!e.length||!Fn(e))throw new Ya('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(t)=>{for(const o of this)for(const n of e)o.delegate(n).to(t);this.on('add',(o,n)=>{for(const i of e)n.delegate(i).to(t)}),this.on('remove',(o,n)=>{for(const i of e)n.stopDelegating(i,t)})}}}}f(Ac,fc);var df=function(e,t){return Ad(e,!0,!0,t)};class cf{constructor(e){Object.assign(this,qn(jn(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=ti(),this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new Ya('ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.');this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const o of t.children)Xn(o)?yield o:Zn(o)&&(yield*e(o))}yield*e(this)}static bind(e,t){return{to(o,n){return new mf({eventNameOrFunction:o,attribute:o,observable:e,emitter:t,callback:n})},if(o,n,i){return new pf({observable:e,emitter:t,attribute:o,valueIfTrue:n,callback:i})}}}static extend(e,t){e._isRendered&&Su.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),Qn(e,qn(jn(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new Ya('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(''),Nn(this.text)?this._bindToObservable({schema:this.text,updater:Bn(t),data:e}):t.textContent=this.text.join(''),t}_renderAttributes(e){let t,o,n,i;if(this.attributes){const r=e.node,a=e.revertData;for(t in this.attributes)if(n=r.getAttribute(t),o=this.attributes[t],a&&(a.attributes[t]=n),i=us(o[0])&&o[0].ns?o[0].ns:null,Nn(o)){const s=i?o[0].value:o;a&&oi(t)&&s.unshift(n),this._bindToObservable({schema:s,updater:Ln(r,t,i),data:e})}else'style'==t&&'string'!=typeof o[0]?this._renderStyleAttribute(o[0],e):(a&&n&&oi(t)&&o.unshift(n),o=o.map((e)=>e?e.value||e:e).reduce((e,t)=>e.concat(t),[]).reduce($n,''),Yn(o)||r.setAttributeNS(i,t,o))}}_renderStyleAttribute(e,t){const o=t.node;for(const n in e){const i=e[n];Nn(i)?this._bindToObservable({schema:[i],updater:zn(o,n),data:t}):o.style[n]=i}}_renderElementChildren(e){const t=e.node,o=e.intoFragment?document.createDocumentFragment():t,n=e.isApplying;let i=0;for(const r of this.children)if(ei(r)){if(!n){r.setParent(t);for(const e of r)o.appendChild(e.element)}}else if(Xn(r))n||(!r.isRendered&&r.render(),o.appendChild(r.element));else if(Me(r))o.appendChild(r);else if(n){const t=e.revertData,n=ti();t.children.push(n),r._renderNode({node:o.childNodes[i++],isApplying:!0,revertData:n})}else o.appendChild(r.render());e.intoFragment&&t.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const o=this.eventListeners[t].map((o)=>{const[n,i]=t.split('@');return o.activateDomEventListener(n,i,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:t,data:o}){const n=o.revertData;Dn(e,t,o);const i=e.filter((e)=>!Yn(e)).filter((e)=>e.observable).map((n)=>n.activateAttributeListener(e,t,o));n&&n.bindings.push(i)}_revertTemplateFromNode(e,t){for(const o of t.bindings)for(const e of o)e();if(t.text)return void(e.textContent=t.text);for(const o in t.attributes){const n=t.attributes[o];null===n?e.removeAttribute(o):e.setAttribute(o,n)}for(let o=0;o<t.children.length;++o)this._revertTemplateFromNode(e.childNodes[o],t.children[o])}}f(cf,rs);class uf{constructor(e){Object.assign(this,e)}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,o){const n=()=>Dn(e,t,o);return this.emitter.listenTo(this.observable,'change:'+this.attribute,n),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,n)}}}class mf extends uf{activateDomEventListener(e,t,o){const n=(e,o)=>{(!t||o.target.matches(t))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(o.node,e,n),()=>{this.emitter.stopListening(o.node,e,n)}}}class pf extends uf{getValue(e){const t=super.getValue(e);return!Yn(t)&&(this.valueIfTrue||!0)}}var gf=o(11),ff=o.n(gf);class hf{constructor(e){this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Ac,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(t,o)=>{o.locale=e}),this.decorate('render')}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=cf.bind(this,this)}createCollection(){const e=new lf;return this._viewCollections.add(e),e}registerChild(e){P(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){P(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new cf(e)}extendTemplate(e){cf.extend(this.template,e)}render(){if(this.isRendered)throw new Ya('ui-view-render-already-rendered: This View has already been rendered.');this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e)=>e.destroy())}}f(hf,Jc),f(hf,fc);var bf=o(14),kf=o.n(bf);class _f extends hf{constructor(e){super(e),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const e=this._bodyCollectionContainer=new cf({tag:'div',attributes:{class:['ck','ck-reset_all','ck-body','ck-rounded-corners']},children:this.body}).render();document.body.appendChild(e)}}var wf=o(16),vf=o.n(wf);class yf extends hf{constructor(e){super(e),this.set('text'),this.set('for');const t=this.bindTemplate;this.setTemplate({tag:'label',attributes:{class:['ck','ck-label'],for:t.to('for')},children:[{text:t.to('text')}]})}}class xf extends _f{constructor(e){super(e);const t=i();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(t),this.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:e.language,"aria-labelledby":`ck-editor__aria-label_${t}`},children:[this._voiceLabelView,{tag:'div',attributes:{class:['ck','ck-editor__top','ck-reset_all'],role:'presentation'},children:this.top},{tag:'div',attributes:{class:['ck','ck-editor__main'],role:'presentation'},children:this.main}]})}_createVoiceLabel(e){const o=this.t,t=new yf;return t.text=o('ae'),t.extendTemplate({attributes:{id:`ck-editor__aria-label_${e}`,class:'ck-voice-label'}}),t}}class Cf extends hf{constructor(e,t){super(e);const o=this.bindTemplate;t&&(this.element=this.editableElement=t),this.setTemplate({tag:'div',attributes:{class:['ck','ck-content','ck-editor__editable','ck-rounded-corners',o.to('isFocused',(e)=>e?'ck-focused':'ck-blurred')],contenteditable:o.to('isReadOnly',(e)=>!e)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=t}render(){super.render(),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}class Af extends Cf{constructor(e,o){super(e,o);const n=this.bindTemplate,i=this.t;this.set('name',null);this.extendTemplate({attributes:{role:'textbox',"aria-label":n.to('name',(e)=>i('af',[e])),class:'ck-editor__editable_inline'}})}}var Tf=o(18),Pf=o.n(Tf);const Ef=ni('px');class Sf extends hf{constructor(e){super(e);const t=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterBottomOffset',50),this.set('viewportTopOffset',0),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),this.set('_hasViewportTopOffset',!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new cf({tag:'div',attributes:{class:['ck','ck-sticky-panel__placeholder'],style:{display:t.to('isSticky',(e)=>e?'block':'none'),height:t.to('isSticky',(e)=>e?Ef(this._panelRect.height):null)}}}).render(),this._contentPanel=new cf({tag:'div',attributes:{class:['ck','ck-sticky-panel__content',t.if('isSticky','ck-sticky-panel__content_sticky'),t.if('_isStickyToTheLimiter','ck-sticky-panel__content_sticky_bottom-limit')],style:{width:t.to('isSticky',(e)=>e?Ef(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to('_hasViewportTopOffset',(e)=>e?Ef(this.viewportTopOffset):null),bottom:t.to('_isStickyToTheLimiter',(e)=>e?Ef(this.limiterBottomOffset):null),marginLeft:t.to('_marginLeft')}},children:this.content}).render(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-sticky-panel']},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Kc.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Ef(-Kc.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Of{constructor(e){if(Object.assign(this,e),e.actions&&e.keystrokeHandler)for(const t in e.actions){let o=e.actions[t];'string'==typeof o&&(o=[o]);for(const n of o)e.keystrokeHandler.set(n,(e,o)=>{this[t](),o()})}}get first(){return this.focusables.find(ii)||null}get last(){return this.focusables.filter(ii).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((t,o)=>{const n=t.element===this.focusTracker.focusedElement;return n&&(e=o),n}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,o=this.focusables.length;if(!o)return null;if(null===t)return this[1===e?'first':'last'];let n=(t+o+e)%o;do{const t=this.focusables.get(n);if(ii(t))return t;n=(n+o+e)%o}while(n!==t);return null}}class Rf extends hf{constructor(e){super(e),this.setTemplate({tag:'span',attributes:{class:['ck','ck-toolbar__separator']}})}}var If=o(20),Vf=o.n(If);class Ff extends hf{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new af,this.keystrokes=new Yg,this.set('isVertical',!1),this.set('className'),this._focusCycler=new Of({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.setTemplate({tag:'div',attributes:{class:['ck','ck-toolbar',t.if('isVertical','ck-toolbar_vertical'),t.to('className')]},children:this.items,on:{mousedown:ri(this)}})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on('add',(e,t)=>{this.focusTracker.add(t.element)}),this.items.on('remove',(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){e.map((e)=>{'|'==e?this.items.add(new Rf):t.has(e)?this.items.add(t.create(e)):Su.warn('toolbarview-item-unavailable: The requested toolbar item is unavailable.',{name:e})})}}var Nf=o(22),Mf=o.n(Nf);class Df extends xf{constructor(e){super(e),this.stickyPanel=new Sf(e),this.toolbar=new Ff(e),this.editable=new Af(e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}get editableElement(){return this.editable.element}}class Bf{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display='none',t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display='',t&&t.remove()}),this._replacedElements=[]}}class Lf extends Zg{constructor(e,t){super(t),this._elementReplacer=new Bf,this.element=e,this.data.processor=new nf,this.model.document.createRoot(),this.ui=new sf(this,new Df(this.locale)),On(this)}destroy(){return this.updateElement(),this._elementReplacer.restore(),this.ui.destroy(),super.destroy()}static create(e,t){return new Promise((o)=>{const n=new this(e,t);o(n.initPlugins().then(()=>n.ui.init()).then(()=>{n._elementReplacer.replace(e,n.ui.view.element),n.fire('uiReady')}).then(()=>n.editing.view.attachDomRoot(n.ui.view.editableElement)).then(()=>n.data.init(ai(e))).then(()=>{n.fire('dataReady'),n.fire('ready')}).then(()=>n))})}}f(Lf,ef),f(Lf,tf);class zf{constructor(e){this.editor=e}destroy(){this.stopListening()}}f(zf,fc);class jf{constructor(e){this.files=si(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}class qf extends _u{constructor(e){function t(e,t){t.preventDefault();const n=t.dropRange?[t.dropRange]:Array.from(o.selection.getRanges());o.fire('clipboardInput',{dataTransfer:t.dataTransfer,targetRanges:n})}super(e);const o=this.document;this.domEventType=['paste','copy','cut','drop','dragover'],this.listenTo(o,'paste',t,{priority:'low'}),this.listenTo(o,'drop',t,{priority:'low'})}onDomEvent(e){const t={dataTransfer:new jf(e.clipboardData?e.clipboardData:e.dataTransfer)};'drop'==e.type&&(t.dropRange=li(this.view,e)),this.fire(e.type,e,t)}}const Wf=['figcaption','li'];class Uf extends zf{static get pluginName(){return'Clipboard'}init(){function e(e,n){const r=n.dataTransfer;n.preventDefault();const a=t.data.toView(t.model.getSelectedContent(o.selection));i.fire('clipboardOutput',{dataTransfer:r,content:a,method:e.name})}const t=this.editor,o=t.model.document,n=t.editing.view,i=n.document;this._htmlDataProcessor=new nf,n.addObserver(qf),this.listenTo(i,'clipboardInput',(e,o)=>{if(t.isReadOnly)return;const i=o.dataTransfer;let r='';i.getData('text/html')?r=ci(i.getData('text/html')):i.getData('text/plain')&&(r=di(i.getData('text/plain'))),r=this._htmlDataProcessor.toView(r),this.fire('inputTransformation',{content:r}),n.scrollToTheSelection()},{priority:'low'}),this.listenTo(this,'inputTransformation',(e,t)=>{if(!t.content.isEmpty){const e=this.editor.data,n=this.editor.model,i=e.toModel(t.content,'$clipboardHolder');if(0==i.childCount)return;n.insertContent(i,o.selection)}},{priority:'low'}),this.listenTo(i,'copy',e,{priority:'low'}),this.listenTo(i,'cut',(o,n)=>{t.isReadOnly?n.preventDefault():e(o,n)},{priority:'low'}),this.listenTo(i,'clipboardOutput',(e,n)=>{n.content.isEmpty||(n.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(n.content)),n.dataTransfer.setData('text/plain',ui(n.content))),'cut'==n.method&&t.model.deleteContent(o.selection)},{priority:'low'})}}class Hf{constructor(e){function t(){this.isEnabled=!1}this.editor=e,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.model.document,'change',()=>{this.refresh()}),this.on('execute',(e)=>{this.isEnabled||e.stop()},{priority:'high'}),this.listenTo(e,'change:isReadOnly',(e,o,n)=>{n?(this.on('change:isEnabled',t,{priority:'lowest'}),this.isEnabled=!1):(this.off('change:isEnabled',t),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}f(Hf,fc);class Kf extends Hf{execute(){const e=this.editor.model,t=e.document;e.change((o)=>{mi(this.editor.model,o,t.selection,e.schema),this.fire('afterExecute',{writer:o})})}}class Gf extends Yc{constructor(e){super(e);const t=this.document;t.on('keydown',(e,o)=>{if(this.isEnabled&&o.keyCode==Nc.enter){let n;t.once('enter',(e)=>n=e,{priority:'highest'}),t.fire('enter',new ku(t,o.domEvent)),n&&n.stop.called&&e.stop()}})}observe(){}}class $f extends zf{static get pluginName(){return'Enter'}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(Gf),e.commands.add('enter',new Kf(e)),this.listenTo(o,'enter',(o,n)=>{e.execute('enter'),n.preventDefault(),t.scrollToTheSelection()},{priority:'low'})}}class Jf{constructor(e,t=20){this.model=e,this.size=0,this.limit=t,this.isLocked=!1,this._changeCallback=(e,t)=>{'transparent'!=t.type&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on('change',this._changeCallback),this.model.document.selection.on('change:range',this._selectionChangeCallback),this.model.document.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=new Mg),this._batch}input(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off('change',this._changeCallback),this.model.document.selection.off('change:range',this._selectionChangeCallback),this.model.document.selection.off('change:attribute',this._selectionChangeCallback)}_reset(e){(!this.isLocked||e)&&(this._batch=null,this.size=0)}}class Qf extends Hf{constructor(e,t){super(e),this._buffer=new Jf(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,o=t.document,n=e.text||'',i=n.length,r=e.range||o.selection.getFirstRange(),a=e.resultRange;t.enqueueChange(this._buffer.batch,(e)=>{const t=r.isCollapsed;this._buffer.lock(),t||e.remove(r),n&&e.insertText(n,o.selection.getAttributes(),r.start),a?e.setSelection(a):t&&e.setSelection(r.start.getShiftedBy(i)),this._buffer.unlock(),this._buffer.input(i)})}}class Yf extends zf{static get pluginName(){return'Input'}init(){const e=this.editor,t=e.editing.view,o=new Qf(e,e.config.get('typing.undoStep')||20);e.commands.add('input',o),this.listenTo(t.document,'keydown',(e,t)=>{this._handleKeydown(t,o)},{priority:'lowest'}),this.listenTo(t.document,'mutations',(e,t,o)=>{this._handleMutations(t,o)})}_handleKeydown(e,t){const o=this.editor.model,n=o.document,i=t.buffer;!t.isEnabled||fi(e)||n.selection.isCollapsed||(i.lock(),o.enqueueChange(i.batch,()=>{this.editor.model.deleteContent(n.selection)}),i.unlock())}_handleMutations(e,t){new Xf(this.editor).handle(e,t)}}class Xf{constructor(e){this.editor=e,this.editing=this.editor.editing}handle(e,t){if(_i(e))this._handleContainerChildrenMutations(e,t);else for(const o of e)this._handleTextMutation(o,t),this._handleTextNodeInsertion(o)}_handleContainerChildrenMutations(e,t){const o=ki(e);if(!o)return;const n=this.editor.editing.view.domConverter,i=n.mapViewToDom(o),r=new Gc,a=this.editor.data.toModel(r.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(o);if(!s)return;const l=Array.from(a.getChildren()),d=Array.from(s.getChildren());if(!wi(l)||!wi(d))return;const c=l.map((e)=>e.data).join('').replace(/\u00A0/g,' '),u=d.map((e)=>e.data).join('');if(u===c)return;const m=Te(u,c),{firstChangeAt:p,insertions:g,deletions:f}=vi(m);let h=null;t&&(h=this.editing.mapper.toModelRange(t.getFirstRange()));const b=c.substr(p,g),k=Hu.createFromParentsAndOffsets(s,p,s,p+f);this.editor.execute('input',{text:b,range:k,resultRange:h})}_handleTextMutation(e,t){if('text'!=e.type)return;const o=e.newText.replace(/\u00A0/g,' '),n=e.oldText.replace(/\u00A0/g,' '),i=Te(n,o),{firstChangeAt:r,insertions:a,deletions:s}=vi(i);let l=null;t&&(l=this.editing.mapper.toModelRange(t.getFirstRange()));const d=new vc(e.node,r),c=this.editing.mapper.toModelPosition(d),u=Hu.createFromPositionAndShift(c,s),m=o.substr(r,a);this.editor.execute('input',{text:m,range:u,resultRange:l})}_handleTextNodeInsertion(e){if('children'==e.type){const t=bi(e),o=new vc(e.node,t.index),n=this.editing.mapper.toModelPosition(o),i=t.values[0].data;this.editor.execute('input',{text:i.replace(/\u00A0/g,' '),range:new Hu(n)})}}}const Zf=[te('arrowUp'),te('arrowRight'),te('arrowDown'),te('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let n=112;135>=n;n++)Zf.push(n);class eh extends Hf{constructor(e,t){super(e),this.direction=t,this._buffer=new Jf(e.model,e.config.get('typing.undoStep'))}execute(e={}){const t=this.editor.model,o=t.document;t.enqueueChange(this._buffer.batch,(n)=>{this._buffer.lock();const i=new Ju(o.selection),r=i.isCollapsed;if(i.isCollapsed&&t.modifySelection(i,{direction:this.direction,unit:e.unit}),this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1))return void this._replaceEntireContentWithParagraph(n);if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach((e)=>{a+=Y(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(i,{doNotResetEntireContent:r}),this._buffer.input(a),n.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(1<e)return!1;const t=this.editor.model,o=t.document,n=o.selection,i=t.schema.getLimitElement(n),r=n.isCollapsed&&n.containsEntireContent(i);if(!r)return!1;if(!t.schema.checkChild(i,'paragraph'))return!1;const a=i.getChild(0);return!(a&&'paragraph'===a.name)}_replaceEntireContentWithParagraph(e){const t=this.editor.model,o=t.document,n=o.selection,i=t.schema.getLimitElement(n),r=new ju('paragraph');e.remove(Hu.createIn(i)),e.insert(r,i),e.setSelection(r,0)}}class th extends Yc{constructor(e){super(e);const t=e.document;let o=0;t.on('keyup',(e,t)=>{(t.keyCode==Nc.delete||t.keyCode==Nc.backspace)&&(o=0)}),t.on('keydown',(e,n)=>{const i={};if(n.keyCode==Nc.delete)i.direction='forward',i.unit='character';else if(n.keyCode==Nc.backspace)i.direction='backward',i.unit='codePoint';else return;const r=Ic.isMac?n.altKey:n.ctrlKey;i.unit=r?'word':i.unit,i.sequence=++o;let a;t.once('delete',(e)=>a=e,{priority:'highest'}),t.fire('delete',new ku(t,n.domEvent,i)),a&&a.stop.called&&e.stop()})}observe(){}}class oh extends zf{static get pluginName(){return'Delete'}init(){const e=this.editor,t=e.editing.view,o=t.document;t.addObserver(th),e.commands.add('forwardDelete',new eh(e,'forward')),e.commands.add('delete',new eh(e,'backward')),this.listenTo(o,'delete',(o,n)=>{e.execute('forward'==n.direction?'forwardDelete':'delete',{unit:n.unit,sequence:n.sequence}),n.preventDefault(),t.scrollToTheSelection()})}}class nh extends zf{static get requires(){return[Yf,oh]}static get pluginName(){return'Typing'}}class ih extends Hf{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=0<this._stack.length}addBatch(e){const t=this.editor.model.document.selection,o={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,o){const n=this.editor.model,i=n.document,r=[];for(const n of e){const e=yi(n,o),t=e.find((e)=>e.start.root!=i.graveyard);t&&r.push(t)}r.length&&n.change((e)=>{e.setSelection(r,{backward:t})})}_undo(e,t){const o=this.editor.model,n=o.document;this._createdBatches.add(t);const i=e.deltas.slice();i.reverse();for(const r of i)if(r.operations.some((e)=>e.isDocumentOperation)){const e=r.baseVersion+r.operations.length,i=Array.from(n.history.getDeltas(e)),a=o.transformDeltas([r.getReversed()],i,!0),s=a.deltasA;for(const e of s){e.baseVersion=n.version,t.addDelta(e);for(const t of e.operations)o.applyOperation(t);n.history.setDeltaAsUndone(r,e)}}}}class rh extends ih{execute(e=null){const t=e?this._stack.findIndex((t)=>t.batch==e):this._stack.length-1,o=this._stack.splice(t,1)[0],n=new Mg;this.editor.model.enqueueChange(n,()=>{this._undo(o.batch,n);const e=this.editor.model.document.history.getDeltas(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,e),this.fire('revert',o.batch,n)}),this.refresh()}}class ah extends ih{execute(){const e=this._stack.pop(),t=new Mg;this.editor.model.enqueueChange(t,()=>{const o=e.batch.deltas[e.batch.deltas.length-1],n=o.baseVersion+o.operations.length,i=this.editor.model.document.history.getDeltas(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,t)}),this.refresh()}}class sh extends zf{constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new rh(e),this._redoCommand=new ah(e),e.commands.add('undo',this._undoCommand),e.commands.add('redo',this._redoCommand),this.listenTo(e.model,'applyOperation',(e,t)=>{const o=t[0];if(o.isDocumentOperation){const e=o.delta.batch;this._batchRegistry.has(e)||'transparent'==e.type||(this._redoCommand._createdBatches.has(e)?this._undoCommand.addBatch(e):!this._undoCommand._createdBatches.has(e)&&(this._undoCommand.addBatch(e),this._redoCommand.clearStack()),this._batchRegistry.add(e))}},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(e,t,o)=>{this._redoCommand.addBatch(o)}),e.keystrokes.set('CTRL+Z','undo'),e.keystrokes.set('CTRL+Y','redo'),e.keystrokes.set('CTRL+SHIFT+Z','redo')}}var lh=o(24),dh=o.n(lh);class ch extends hf{constructor(){super();const e=this.bindTemplate;this.set('content',''),this.set('viewBox','0 0 20 20'),this.set('fillColor',''),this.setTemplate({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:['ck','ck-icon'],viewBox:e.to('viewBox')}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on('change:content',()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on('change:fillColor',()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),'image/svg+xml'),t=e.querySelector('svg'),o=t.getAttribute('viewBox');for(o&&(this.viewBox=o),this.element.innerHTML='';0<t.childNodes.length;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll('.ck-icon__fill').forEach((e)=>{e.style.fill=this.fillColor})}}var uh=o(26),mh=o.n(uh);class ph extends hf{constructor(e){super(e),this.set('text',''),this.set('position','s');const t=this.bindTemplate;this.setTemplate({tag:'span',attributes:{class:['ck','ck-tooltip',t.to('position',(e)=>'ck-tooltip_'+e),t.if('text','ck-hidden',(e)=>!e.trim())]},children:[{tag:'span',attributes:{class:['ck','ck-tooltip__text']},children:[{text:t.to('text')}]}]})}}var gh=o(28),fh=o.n(gh);class hh extends hf{constructor(e){super(e);const t=this.bindTemplate;this.set('icon'),this.set('isEnabled',!0),this.set('isOn',!1),this.set('isVisible',!0),this.set('keystroke'),this.set('label'),this.set('tabindex',-1),this.set('tooltip'),this.set('tooltipPosition','s'),this.set('type','button'),this.set('withText',!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(),this.iconView=new ch,this.iconView.extendTemplate({attributes:{class:'ck-button__icon'}}),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this)),this.setTemplate({tag:'button',attributes:{class:['ck','ck-button',t.to('isEnabled',(e)=>e?'ck-enabled':'ck-disabled'),t.if('isVisible','ck-hidden',(e)=>!e),t.to('isOn',(e)=>e?'ck-on':'ck-off'),t.if('withText','ck-button_with-text')],type:t.to('type',(e)=>e?e:'button'),tabindex:t.to('tabindex')},children:this.children,on:{mousedown:t.to((e)=>{e.preventDefault()}),click:t.to((e)=>{this.isEnabled?this.fire('execute'):e.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind('content').to(this,'icon'),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const e=new ph;return e.bind('text').to(this,'_tooltipString'),e.bind('position').to(this,'tooltipPosition'),e}_createLabelView(){const e=new hf;return e.setTemplate({tag:'span',attributes:{class:['ck','ck-button__label']},children:[{text:this.bindTemplate.to('label')}]}),e}_getTooltipString(e,t,o){return e?'string'==typeof e?e:(o&&(o=ne(o)),e instanceof Function?e(t,o):`${t}${o?` (${o})`:''}`):''}}var bh=o(30),kh=o.n(bh),_h=o(31),wh=o.n(_h);class vh extends zf{init(){const e=this.editor,o=e.t;this._addButton('undo',o('ag'),'CTRL+Z',kh.a),this._addButton('redo',o('ah'),'CTRL+Y',wh.a)}_addButton(e,t,o,n){const i=this.editor;i.ui.componentFactory.add(e,(r)=>{const a=i.commands.get(e),s=new hh(r);return s.set({label:t,icon:n,keystroke:o,tooltip:!0}),s.bind('isEnabled').to(a,'isEnabled'),this.listenTo(s,'execute',()=>i.execute(e)),s})}}class yh extends zf{static get requires(){return[sh,vh]}static get pluginName(){return'Undo'}}class xh extends zf{static get requires(){return[Uf,$f,nh,yh]}static get pluginName(){return'Essentials'}}class Ch{constructor(){const e=new window.FileReader;this._reader=e,this.set('loaded',0),e.onprogress=(e)=>{this.loaded=e.loaded}}get error(){return this._reader.error}read(e){const t=this._reader;return this.total=e.size,new Promise((o,n)=>{t.onload=()=>{o(t.result)},t.onerror=()=>{n('error')},t.onabort=()=>{n('aborted')},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}f(Ch,fc);class Ah extends zf{static get pluginName(){return'FileRepository'}init(){this.loaders=new Ac,this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(e,t)=>t?100*(e/t):0)}getLoader(e){for(const t of this.loaders)if(t.file==e)return t;return null}createLoader(e){if(!this.createUploadAdapter)return Su.error('filerepository-no-upload-adapter: Upload adapter is not defined.'),null;const t=new Th(e);return t._adapter=this.createUploadAdapter(t),this.loaders.add(t),t.on('change:uploaded',()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e}),t.on('change:uploadTotal',()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e}),t}destroyLoader(e){const t=e instanceof Th?e:this.getLoader(e);t._destroy(),this.loaders.remove(t)}}f(Ah,fc);class Th{constructor(e,t){this.id=i(),this.file=e,this._adapter=t,this._reader=new Ch,this.set('status','idle'),this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(e,t)=>t?100*(e/t):0),this.set('uploadResponse',null)}read(){if('idle'!=this.status)throw new Ya('filerepository-read-wrong-status: You cannot call read if the status is different than idle.');return this.status='reading',this._reader.read(this.file).then((e)=>(this.status='idle',e)).catch((e)=>{if('aborted'===e)throw this.status='aborted','aborted';throw this.status='error',this._reader.error})}upload(){if('idle'!=this.status)throw new Ya('filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.');return this.status='uploading',this._adapter.upload().then((e)=>(this.uploadResponse=e,this.status='idle',e)).catch((e)=>{if('aborted'===this.status)throw'aborted';throw this.status='error',e})}abort(){const e=this.status;this.status='aborted','reading'==e&&this._reader.abort(),'uploading'==e&&this._adapter.abort&&this._adapter.abort(),this._destroy()}_destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}f(Th,fc);const Ph='ckCsrfToken',Eh=40,Sh='abcdefghijklmnopqrstuvwxyz0123456789';class Oh extends zf{static get requires(){return[Ah]}static get pluginName(){return'CKFinderUploadAdapter'}init(){const e=this.editor.config.get('ckfinder.uploadUrl');e&&(this.editor.plugins.get(Ah).createUploadAdapter=(t)=>new Rh(t,e,this.editor.t))}}class Rh{constructor(e,o,n){this.loader=e,this.url=o,this.t=n}upload(){return new Promise((e,t)=>{this._initRequest(),this._initListeners(e,t),this._sendRequest()})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open('POST',this.url,!0),e.responseType='json'}_initListeners(e,o){const n=this.xhr,i=this.loader,r=this.t,t=r('a')+` ${i.file.name}.`;n.addEventListener('error',()=>o(t)),n.addEventListener('abort',()=>o()),n.addEventListener('load',()=>{const i=n.response;return i&&i.uploaded?void e({default:i.url}):o(i&&i.error&&i.error.message?i.error.message:t)}),n.upload&&n.upload.addEventListener('progress',(e)=>{e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)})}_sendRequest(){const e=new FormData;e.append('upload',this.loader.file),e.append('ckCsrfToken',Ci()),this.xhr.send(e)}}class Ih{constructor(e,t,o){let n;if('function'==typeof o)n=o;else{n=()=>{e.execute(o)}}e.model.document.on('change',(o,i)=>{if('transparent'==i.type)return;const r=Array.from(e.model.document.differ.getChanges()),a=r[0];if(1!=r.length||'insert'!==a.type||'$text'!=a.name||1!=a.length)return;const s=a.position.textNode||a.position.nodeAfter;if(!s.parent.is('paragraph'))return;const l=t.exec(s.data);l&&e.model.enqueueChange((e)=>{const t=Hu.createFromParentsAndOffsets(s.parent,0,s.parent,l[0].length);e.remove(t),n({match:l})})})}}class Vh{constructor(e,t,o){let n,i,r,a;t instanceof RegExp?n=t:r=t,'string'==typeof o?i=o:a=o,r=r||((e)=>{let t;const o=[],i=[];for(;null!==(t=n.exec(e))&&!(t&&4>t.length);){let{index:e,1:n,2:r,3:a}=t;e+=t[0].length-(n+r+a).length;const s=[e,e+n.length],l=[e+n.length+r.length,e+n.length+r.length+a.length];o.push(s),o.push(l),i.push([e+n.length,e+n.length+r.length])}return{remove:o,format:i}}),a=a||((e,t)=>{for(const o of t)e.setAttribute(i,!0,o);e.removeSelectionAttribute(i)}),e.model.document.on('change',(t,o)=>{if('transparent'==o.type)return;const n=e.model.document.selection;if(!n.isCollapsed)return;const s=Array.from(e.model.document.differ.getChanges()),l=s[0];if(1!=s.length||'insert'!==l.type||'$text'!=l.name||1!=l.length)return;const d=n.focus.parent,c=Ei(d).slice(0,n.focus.offset),u=r(c),m=Si(d,u.format),p=Si(d,u.remove);m.length&&p.length&&e.model.enqueueChange((t)=>{const o=e.model.schema.getValidRanges(m,i);a(t,o);for(const e of p.reverse())t.remove(e)})})}}class Fh extends zf{static get pluginName(){return'Autoformat'}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get('bulletedList')&&new Ih(this.editor,/^[*-]\s$/,'bulletedList'),e.get('numberedList')&&new Ih(this.editor,/^\d+[.|)]\s$/,'numberedList')}_addBasicStylesAutoformats(){const e=this.editor.commands;e.get('bold')&&(new Vh(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new Vh(this.editor,/(__)([^_]+)(__)$/g,'bold')),e.get('italic')&&(new Vh(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new Vh(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')),e.get('code')&&new Vh(this.editor,/(`)([^`]+)(`)$/g,'code')}_addHeadingAutoformats(){const e=this.editor.commands.get('heading');e&&e.modelElements.filter((e)=>e.match(/^heading[1-6]$/)).forEach((e)=>{const t=e[7],o=new RegExp(`^(#{${t}})\\s$`);new Ih(this.editor,o,()=>{this.editor.execute('heading',{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get('blockQuote')&&new Ih(this.editor,/^>\s$/,'blockQuote')}}class Nh extends Hf{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.hasAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,o=t.document,n=o.selection,i=e.forceValue===void 0?!this.value:e.forceValue;t.change((e)=>{if(n.isCollapsed)i?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const o=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of o)i?e.setAttribute(this.attributeKey,i,t):e.removeAttribute(this.attributeKey,t)}})}}const Mh='bold';class Dh extends zf{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:Mh}),e.conversion.attributeToElement({model:Mh,view:'strong',upcastAlso:['b',{styles:{"font-weight":'bold'}}]}),e.commands.add(Mh,new Nh(e,Mh)),e.keystrokes.set('CTRL+B',Mh)}}var Bh=o(32),Lh=o.n(Bh);const zh='bold';class jh extends zf{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(zh,(t)=>{const n=e.commands.get(zh),i=new hh(t);return i.set({label:o('b'),icon:Lh.a,keystroke:'CTRL+B',tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute(zh)),i})}}class qh extends zf{static get requires(){return[Dh,jh]}static get pluginName(){return'Bold'}}const Wh='italic';class Uh extends zf{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:Wh}),e.conversion.attributeToElement({model:Wh,view:'i',upcastAlso:['em',{styles:{"font-style":'italic'}}]}),e.commands.add(Wh,new Nh(e,Wh)),e.keystrokes.set('CTRL+I',Wh)}}var Hh=o(33),Kh=o.n(Hh);const Gh='italic';class $h extends zf{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add(Gh,(t)=>{const n=e.commands.get(Gh),i=new hh(t);return i.set({label:o('c'),icon:Kh.a,keystroke:'CTRL+I',tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute(Gh)),i})}}class Jh extends zf{static get requires(){return[Uh,$h]}static get pluginName(){return'Italic'}}class Qh extends Hf{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,o=e.schema,n=Array.from(t.selection.getSelectedBlocks());e.change((e)=>{if(this.value)this._removeQuote(e,n.filter(Ri));else{const t=n.filter((e)=>Ri(e)||Vi(o,e));this._applyQuote(e,t)}})}_getValue(){const e=Oi(this.editor.model.document.selection.getSelectedBlocks());return!!(e&&Ri(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=Oi(e.getSelectedBlocks());return!!o&&Vi(t,o)}_removeQuote(e,t){Ii(t).reverse().forEach((t)=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const o=Uu.createBefore(t.start.parent);return void e.move(t,o)}t.end.isAtEnd||e.split(t.end);const o=Uu.createAfter(t.end.parent);e.move(t,o)})}_applyQuote(e,t){const o=[];Ii(t).reverse().forEach((t)=>{let n=Ri(t.start);n||(n=new ju('blockQuote'),e.wrap(t,n)),o.push(n)}),o.reverse().reduce((t,o)=>t.nextSibling==o?(e.merge(Uu.createAfter(t)),t):o)}}class Yh extends zf{init(){const e=this.editor,t=e.model.schema;e.commands.add('blockQuote',new Qh(e)),t.register('blockQuote',{allowWhere:'$block',allowContentOf:'$root'}),t.addChildCheck((e,t)=>{if(e.endsWith('blockQuote')&&'blockQuote'==t.name)return!1}),e.conversion.elementToElement({model:'blockQuote',view:'blockquote'})}afterInit(){const e=this.editor,t=e.commands.get('blockQuote');this.listenTo(this.editor.editing.view.document,'enter',(e,o)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&i.isEmpty&&t.value&&(this.editor.execute('blockQuote'),this.editor.editing.view.scrollToTheSelection(),o.preventDefault(),e.stop())})}}var Xh=o(34),Zh=o.n(Xh),eb=o(35),tb=o.n(eb);class ob extends zf{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add('blockQuote',(t)=>{const n=e.commands.get('blockQuote'),i=new hh(t);return i.set({label:o('d'),icon:Zh.a,tooltip:!0}),i.bind('isOn','isEnabled').to(n,'value','isEnabled'),this.listenTo(i,'execute',()=>e.execute('blockQuote')),i})}}class nb extends zf{static get requires(){return[Yh,ob]}static get pluginName(){return'BlockQuote'}}const ib=/^data:(\S*?);base64,/;class rb{constructor(e,t,o){if(!e)throw new Error('File must be provided');if(!t)throw new Error('Token must be provided');if(!o)throw new Error('Api address must be provided');this.file=Ni(e)?Fi(e):e,this._token=t,this._apiAddress=o}onProgress(e){return this.on('progress',(t,o)=>e(o)),this}onError(e){return this.once('error',(t,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open('POST',this._apiAddress),e.setRequestHeader('Authorization',this._token.value),e.responseType='json',this.xhr=e}_attachXHRListeners(){function e(e){return()=>t.fire('error',e)}const t=this,o=this.xhr;o.addEventListener('error',e('Network Error')),o.addEventListener('abort',e('Abort')),o.upload&&o.upload.addEventListener('progress',(e)=>{e.lengthComputable&&this.fire('progress',{total:e.total,uploaded:e.loaded})}),o.addEventListener('load',()=>{const e=o.status,t=o.response;if(200>e||299<e)return this.fire('error',t.message||t.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append('file',this.file),new Promise((o,n)=>{t.addEventListener('load',()=>{const e=t.status,i=t.response;return 200>e||299<e?n(i.message||i.error):o(i)}),t.addEventListener('error',()=>n('Network Error')),t.addEventListener('abort',()=>n('Abort')),t.send(e)})}}f(rb,rs);const ab={refreshInterval:36e5,autoRefresh:!0};class sb{constructor(e,t=ab){if(!e)throw new Error('`tokenUrl` must be provided');this.set('value',t.initValue),this._tokenUrl=e,this._options=Object.assign({},ab,t)}init(){return new Promise((e,t)=>(this._options.autoRefresh&&this._startRefreshing(),this.value?void e(this):void this._refreshToken().then(e).catch(t)))}_refreshToken(){return new Promise((e,t)=>{const o=new XMLHttpRequest;o.open('GET',this._tokenUrl),o.addEventListener('load',()=>{const n=o.status,i=o.response;return 200>n||299<n?t('Cannot download new token!'):(this.set('value',i),e(this))}),o.addEventListener('error',()=>t('Network Error')),o.addEventListener('abort',()=>t('Abort')),o.send()})}_startRefreshing(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(e,t=ab){const o=new sb(e,t);return o.init()}}f(sb,fc);class lb extends zf{init(){const e=this.editor,t=e.config,o=t.get('cloudServices')||{};for(const e in o)this[e]=o[e];return this.tokenUrl?(this.token=new lb.Token(this.tokenUrl),this.token.init()):void(this.token=null)}}lb.Token=sb;class db extends zf{static get requires(){return[Ah,lb]}init(){const e=this.editor,t=e.plugins.get(lb),o=t.token,n=t.uploadUrl;o&&(this._uploadGateway=new db._UploadGateway(o,n),e.plugins.get(Ah).createUploadAdapter=(e)=>new cb(this._uploadGateway,e))}}class cb{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on('progress',(e,t)=>{this.loader.uploadTotal=t.total,this.loader.uploaded=t.uploaded}),this.fileUploader.send()}abort(){this.fileUploader.abort()}}db._UploadGateway=class{constructor(e,t){if(!e)throw new Error('Token must be provided');if(!t)throw new Error('Api address must be provided');this._token=e,this._apiAddress=t}upload(e){return new rb(e,this._token,this._apiAddress)}};class ub{constructor(){this._stack=[]}add(e,t){const o=this._stack,n=o[0];this._insertDescriptor(e);const i=o[0];n===i||Li(n,i)||this.fire('change:top',{oldDescriptor:n,newDescriptor:i,writer:t})}remove(e,t){const o=this._stack,n=o[0];this._removeDescriptor(e);const i=o[0];n===i||Li(n,i)||this.fire('change:top',{oldDescriptor:n,newDescriptor:i,writer:t})}_insertDescriptor(e){const t=this._stack,o=t.findIndex((t)=>t.id===e.id);if(!Li(e,t[o])){-1<o&&t.splice(o,1);let n=0;for(;t[n]&&zi(t[n],e);)n++;t.splice(n,0,e)}}_removeDescriptor(e){const t=this._stack,o=t.findIndex((t)=>t.id===e);-1<o&&t.splice(o,1)}}f(ub,rs);const mb=Symbol('isWidget'),pb=Symbol('label'),gb='ck-widget',fb='ck-widget_selected',hb=Symbol('isImage');class bb extends zf{init(){const e=this.editor,o=e.model.schema,n=e.t,t=e.conversion;o.register('image',{isObject:!0,isBlock:!0,allowWhere:'$block',allowAttributes:['alt','src','srcset']}),t.for('dataDowncast').add(ht({model:'image',view:(e,t)=>Zi(t)})),t.for('editingDowncast').add(ht({model:'image',view:(e,t)=>Ji(Zi(t),t,n('o'))})),t.for('downcast').add(Bi('src')).add(Bi('alt')).add(Di()),t.for('upcast').add(Yt({view:{name:'img',attributes:{src:!0}},model:(e,t)=>t.createElement('image',{src:e.getAttribute('src')})})).add(Zt({view:{name:'img',key:'alt'},model:'alt'})).add(Zt({view:{name:'img',key:'srcset'},model:{key:'srcset',value:(e)=>{const t={data:e.getAttribute('srcset')};return e.hasAttribute('width')&&(t.width=e.getAttribute('width')),t}}})).add(Mi())}}class kb extends _u{constructor(e){super(e),this.domEventType='mousedown'}onDomEvent(e){this.fire(e.type,e)}}var _b=o(37),wb=o.n(_b);const vb=oe('Ctrl+A');class yb extends zf{static get pluginName(){return'Widget'}init(){const e=this.editor.editing.view,t=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on('selection',(e,t,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const n=o.writer,i=n.document.selection,r=i.getSelectedElement();for(const a of i.getRanges())for(const e of a){const t=e.item;t.is('element')&&qi(t)&&(n.addClass(fb,t),this._previouslySelected.add(t),t==r&&n.setSelection(i.getRanges(),{fake:!0,label:Ki(r)}))}},{priority:'low'}),e.addObserver(kb),this.listenTo(t,'mousedown',(...e)=>this._onMousedown(...e)),this.listenTo(t,'keydown',(...e)=>this._onKeydown(...e),{priority:'high'}),this.listenTo(t,'delete',(e,t)=>{this._handleDelete('forward'==t.direction)&&(t.preventDefault(),e.stop())},{priority:'high'})}_onMousedown(e,t){const o=this.editor,n=o.editing.view,i=n.document;let r=t.target;if(!or(r)&&(qi(r)||(r=r.findAncestor(qi),!!r))){t.preventDefault(),i.isFocused||n.focus();const e=o.editing.mapper.toModelElement(r);this._setSelectionOverElement(e)}}_onKeydown(e,t){const o=t.keyCode,n=o==Nc.delete||o==Nc.arrowdown||o==Nc.arrowright;let i=!1;er(o)?i=this._handleArrowKeys(n):tr(t)&&(i=this._selectAllNestedEditableContent()||this._selectAllContent()),i&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const t=this.editor.model.document,o=t.selection;if(!o.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);if(n)return this.editor.model.change((e)=>{for(let t=o.anchor.parent;t.isEmpty;){const o=t;t=o.parent,e.remove(o)}this._setSelectionOverElement(n)}),!0}_handleArrowKeys(e){const t=this.editor.model,o=t.schema,n=t.document,i=n.selection,r=i.getSelectedElement();if(r&&o.isObject(r)){const n=e?i.getLastPosition():i.getFirstPosition(),r=o.getNearestSelectionRange(n,e?'forward':'backward');return r&&t.change((e)=>{e.setSelection(r)}),!0}if(i.isCollapsed){const t=this._getObjectElementNextToSelection(e);if(t instanceof ju&&o.isObject(t))return this._setSelectionOverElement(t),!0}}_selectAllNestedEditableContent(){const e=this.editor.model,t=e.document.selection,o=e.schema.getLimitElement(t);return t.getFirstRange().root!=o&&(e.change((e)=>{e.setSelection(Hu.createIn(o))}),!0)}_selectAllContent(){const e=this.editor.model,t=this.editor.editing,o=t.view,n=o.document,i=n.selection,r=i.getSelectedElement();if(r&&qi(r)){const o=t.mapper.toModelElement(r.parent);return e.change((e)=>{e.setSelection(Hu.createIn(o))}),!0}return!1}_setSelectionOverElement(e){this.editor.model.change((t)=>{t.setSelection(Hu.createOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,o=t.schema,n=t.document.selection,i=new Ju(n);t.modifySelection(i,{direction:e?'forward':'backward'});const r=e?i.focus.nodeBefore:i.focus.nodeAfter;return r instanceof ju&&o.isObject(r)?r:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(fb,t);this._previouslySelected.clear()}}class xb extends Hf{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Xi(e),this.value=!!(Xi(e)&&e.hasAttribute('alt'))&&e.getAttribute('alt')}execute(e){const t=this.editor.model,o=t.document.selection.getSelectedElement();t.change((t)=>{t.setAttribute('alt',e.newValue,o)})}}class Cb extends zf{init(){this.editor.commands.add('imageTextAlternative',new xb(this.editor))}}class Ab extends hf{constructor(e,t){super(e);const o=`ck-input-${i()}`;this.set('label'),this.set('value'),this.set('isReadOnly',!1),this.labelView=this._createLabelView(o),this.inputView=this._createInputView(t,o);const n=this.bindTemplate;this.setTemplate({tag:'div',attributes:{class:['ck','ck-labeled-input',n.if('isReadOnly','ck-disabled')]},children:[this.labelView,this.inputView]})}_createLabelView(e){const t=new yf(this.locale);return t.for=e,t.bind('text').to(this,'label'),t}_createInputView(e,t){const o=new e(this.locale);return o.id=t,o.bind('value').to(this),o.bind('isReadOnly').to(this),o}select(){this.inputView.select()}focus(){this.inputView.focus()}}var Tb=o(39),Pb=o.n(Tb);class Eb extends hf{constructor(e){super(e),this.set('value'),this.set('id'),this.set('placeholder'),this.set('isReadOnly',!1);const t=this.bindTemplate;this.setTemplate({tag:'input',attributes:{type:'text',class:['ck','ck-input','ck-input-text'],id:t.to('id'),placeholder:t.to('placeholder'),readonly:t.to('isReadOnly')}})}render(){super.render();const e=(e)=>{this.element.value=e||0===e?e:''};e(this.value),this.on('change:value',(t,o,n)=>{e(n)})}select(){this.element.select()}focus(){this.element.focus()}}var Sb=o(3),Ob=o.n(Sb),Rb=o(4),Ib=o.n(Rb),Vb=o(41),Fb=o.n(Vb);class Nb extends hf{constructor(e){super(e);const o=this.locale.t;this.focusTracker=new af,this.keystrokes=new Yg,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o('ab'),Ob.a,'ck-button-save'),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(o('ac'),Ib.a,'ck-button-cancel','cancel'),this._focusables=new lf,this._focusCycler=new Of({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'form',attributes:{class:['ck','ck-text-alternative-form'],tabindex:'-1'},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ir({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)})}_createButton(e,t,o,n){const i=new hh(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:o}}),n&&i.delegate('execute').to(this,n),i}_createLabeledInputView(){const e=this.locale.t,t=new Ab(this.locale,Eb);return t.label=e('ai'),t.inputView.placeholder=e('ai'),t}}var Mb=o(43),Db=o.n(Mb);const Bb=ni('px'),Lb=Kc.document.body;class zb extends hf{constructor(e){super(e);const t=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','arrow_nw'),this.set('isVisible',!1),this.set('withArrow',!0),this.set('className'),this.content=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-balloon-panel',t.to('position',(e)=>`ck-balloon-panel_${e}`),t.if('isVisible','ck-balloon-panel_visible'),t.if('withArrow','ck-balloon-panel_with-arrow'),t.to('className')],style:{top:t.to('top',Bb),left:t.to('left',Bb)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=zb.defaultPositions,o=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast],limiter:Lb,fitInViewport:!0},e),{top:n,left:i,name:r}=ar(o);Object.assign(this,{top:n,left:i,position:r})}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=cr(e.target),o=e.limiter?cr(e.limiter):Lb;this.listenTo(Kc.document,'scroll',(n,i)=>{const r=i.target,a=t&&r.contains(t),s=o&&r.contains(o);(a||s||!t||!o)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(Kc.window,'resize',()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(Kc.document,'scroll'),this.stopListening(Kc.window,'resize')}}zb.arrowHorizontalOffset=25,zb.arrowVerticalOffset=10,zb.defaultPositions={northArrowSouth:(e,t)=>({top:ur(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_s'}),northArrowSouthEast:(e,t)=>({top:ur(e,t),left:e.left+e.width/2-t.width+zb.arrowHorizontalOffset,name:'arrow_se'}),northArrowSouthWest:(e,t)=>({top:ur(e,t),left:e.left+e.width/2-zb.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouth:(e,t)=>({top:ur(e,t),left:e.left-t.width/2,name:'arrow_s'}),northWestArrowSouthWest:(e,t)=>({top:ur(e,t),left:e.left-zb.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouthEast:(e,t)=>({top:ur(e,t),left:e.left-t.width+zb.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouth:(e,t)=>({top:ur(e,t),left:e.right-t.width/2,name:'arrow_s'}),northEastArrowSouthEast:(e,t)=>({top:ur(e,t),left:e.right-t.width+zb.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouthWest:(e,t)=>({top:ur(e,t),left:e.right-zb.arrowHorizontalOffset,name:'arrow_sw'}),southArrowNorth:(e,t)=>({top:mr(e,t),left:e.left+e.width/2-t.width/2,name:'arrow_n'}),southArrowNorthEast:(e,t)=>({top:mr(e,t),left:e.left+e.width/2-t.width+zb.arrowHorizontalOffset,name:'arrow_ne'}),southArrowNorthWest:(e,t)=>({top:mr(e,t),left:e.left+e.width/2-zb.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorth:(e,t)=>({top:mr(e,t),left:e.left-t.width/2,name:'arrow_n'}),southWestArrowNorthWest:(e,t)=>({top:mr(e,t),left:e.left-zb.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorthEast:(e,t)=>({top:mr(e,t),left:e.left-t.width+zb.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorth:(e,t)=>({top:mr(e,t),left:e.right-t.width/2,name:'arrow_n'}),southEastArrowNorthEast:(e,t)=>({top:mr(e,t),left:e.right-t.width+zb.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorthWest:(e,t)=>({top:mr(e,t),left:e.right-zb.arrowHorizontalOffset,name:'arrow_nw'})};class jb extends zf{static get pluginName(){return'ContextualBalloon'}init(){this.view=new zb,this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document,o=t.selection.editableElement;return o?e.domConverter.mapViewToDom(o.root):null},this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const e=this._stack.get(this.view.content.get(0));return e?e.view:null}hasView(e){return this._stack.has(e)}add(e){if(this.hasView(e.view))throw new Ya('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(e.view,e),this._show(e)}remove(e){if(!this.hasView(e))throw new Ya('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===e){this.view.content.remove(e),this._stack.delete(e);const t=Array.from(this._stack.values()).pop();t?this._show(t):this.view.hide()}else this._stack.delete(e)}updatePosition(e){e&&(this._stack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition())}_show({view:e,balloonClassName:t=''}){this.view.className=t,this.view.content.add(e),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let e=Oi(this._stack.values()).position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}}var qb=o(45),Wb=o.n(qb);class Ub extends zf{static get requires(){return[jb]}init(){this._createButton(),this._createForm()}_createButton(){const e=this.editor,o=e.t;e.ui.componentFactory.add('imageTextAlternative',(t)=>{const n=e.commands.get('imageTextAlternative'),i=new hh(t);return i.set({label:o('w'),icon:Wb.a,tooltip:!0}),i.bind('isEnabled').to(n,'isEnabled'),this.listenTo(i,'execute',()=>this._showForm()),i})}_createForm(){const e=this.editor,t=e.editing.view,o=t.document;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new Nb(e.locale),this._form.render(),this.listenTo(this._form,'submit',()=>{e.execute('imageTextAlternative',{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,'cancel',()=>{this._hideForm(!0)}),this._form.keystrokes.set('Esc',(e,t)=>{this._hideForm(!0),t()}),this.listenTo(t,'render',()=>{Yi(o.selection)?this._isVisible&&pr(e):this._hideForm(!0)}),nr({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const e=this.editor,t=e.commands.get('imageTextAlternative'),o=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:gr(e)}),o.value=o.inputView.element.value=t.value||'',this._form.labeledInput.select()}}_hideForm(e){this._isVisible&&(this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class Hb extends zf{static get requires(){return[Cb,Ub]}static get pluginName(){return'ImageTextAlternative'}}var Kb=o(46),Gb=o.n(Kb);class $b extends zf{static get requires(){return[bb,yb,Hb]}static get pluginName(){return'Image'}}class Jb extends hf{constructor(e){super(e),this.buttonView=new hh(e),this._fileInputView=new Qb(e),this._fileInputView.bind('acceptedType').to(this),this._fileInputView.bind('allowMultipleFiles').to(this),this._fileInputView.delegate('done').to(this),this.setTemplate({tag:'span',attributes:{class:'ck-file-dialog-button'},children:[this.buttonView,this._fileInputView]}),this.buttonView.on('execute',()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Qb extends hf{constructor(e){super(e),this.set('acceptedType'),this.set('allowMultipleFiles',!1);const t=this.bindTemplate;this.setTemplate({tag:'input',attributes:{class:['ck-hidden'],type:'file',tabindex:'-1',accept:t.to('acceptedType'),multiple:t.to('allowMultipleFiles')},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire('done',this.element.files),this.element.value=''})}})}open(){this.element.click()}}var Yb=o(48),Xb=o.n(Yb);class Zb extends zf{init(){const e=this.editor,o=e.t;e.ui.componentFactory.add('imageUpload',(t)=>{const n=new Jb(t),i=e.commands.get('imageUpload');return n.set({acceptedType:'image/*',allowMultipleFiles:!0}),n.buttonView.set({label:o('q'),icon:Xb.a,tooltip:!0}),n.buttonView.bind('isEnabled').to(i),n.on('done',(t,o)=>{for(const n of Array.from(o)){const t=hr(e.model.document.selection);fr(n)&&e.execute('imageUpload',{file:n,insertAt:t})}}),n})}}var ek=o(49),tk=o.n(ek),ok=o(50),nk=o.n(ok);class ik extends zf{constructor(e){super(e),this.placeholder='data:image/svg+xml;utf8,'+encodeURIComponent(tk.a)}init(){const e=this.editor;e.editing.downcastDispatcher.on('attribute:uploadStatus:image',(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,o){const n=this.editor,i=t.item,r=i.getAttribute('uploadId');if(o.consumable.consume(t.item,e.name)){const e=n.plugins.get(Ah),a=r?t.attributeNewValue:null,s=this.placeholder,l=n.editing.mapper.toViewElement(i),d=o.writer;if('reading'==a)return br(l,d),void _r(s,l,d);if('uploading'==a){const t=e.loaders.get(r);return br(l,d),void(t?(wr(l,d),vr(l,d,t,n.editing.view)):_r(s,l,d))}yr(l,d),wr(l,d),kr(l,d)}}}const rk=Symbol('progress-bar');class ak extends Hf{execute(e){const t=this.editor,o=t.model.document,n=e.file,i=t.plugins.get(Ah);t.model.change((r)=>{const a=i.createLoader(n);if(!a)return;const s=new ju('image',{uploadId:a.id});let l;l=e.insertAt?new Ju([new Hu(e.insertAt)]):o.selection,t.model.insertContent(s,l),s.parent&&r.setSelection(Hu.createOn(s))})}}class sk extends zf{static get pluginName(){return'Notification'}init(){this.on('show:warning',(e,t)=>{window.alert(t.message)},{priority:'lowest'})}showSuccess(e,t={}){this._showNotification({message:e,type:'success',namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:'info',namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:'warning',namespace:t.namespace,title:t.title})}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:'');this.fire(t,{message:e.message,type:e.type,title:e.title||''})}}class lk extends zf{static get requires(){return[Ah,sk]}init(){const e=this.editor,t=e.model.document,o=e.model.schema,n=e.plugins.get(Ah);o.extend('image',{allowAttributes:['uploadId','uploadStatus']}),e.commands.add('imageUpload',new ak(e)),e.editing.view.document.on('clipboardInput',(o,n)=>{if(Ar(n.dataTransfer))return;let i=new Ju(n.targetRanges.map((t)=>e.editing.mapper.toModelRange(t)));for(const r of n.dataTransfer.files){const n=hr(i);fr(r)&&(e.execute('imageUpload',{file:r,insertAt:n}),o.stop()),i=t.selection}}),e.editing.view.document.on('dragover',(e,t)=>{t.preventDefault()}),t.on('change',()=>{const e=t.differ.getChanges({includeChangesInGraveyard:!0});for(const t of e)if('insert'==t.type&&'image'==t.name){const e=t.position.nodeAfter,o='$graveyard'==t.position.root.rootName,i=e.getAttribute('uploadId');if(!i)continue;const r=n.loaders.get(i);if(!r)continue;o?r.abort():'idle'==r.status&&this._load(r,e)}})}_load(e,o){function n(){r.enqueueChange('transparent',(e)=>{e.removeAttribute('uploadId',o),e.removeAttribute('uploadStatus',o)}),t.destroyLoader(e)}const i=this.editor,r=i.model,a=i.locale.t,t=i.plugins.get(Ah),s=i.plugins.get(sk);return r.enqueueChange('transparent',(e)=>{e.setAttribute('uploadStatus','reading',o)}),e.read().then((t)=>{const n=i.editing.mapper.toViewElement(o),a=n.getChild(0),s=e.upload();return i.editing.view.change((e)=>{e.setAttribute('src',t,a)}),r.enqueueChange('transparent',(e)=>{e.setAttribute('uploadStatus','uploading',o)}),s}).then((e)=>{r.enqueueChange('transparent',(t)=>{t.setAttributes({uploadStatus:'complete',src:e.default},o);let n=0;const i=Object.keys(e).filter((e)=>{const t=parseInt(e,10);if(!isNaN(t))return n=Ma(n,t),!0}).map((t)=>`${e[t]} ${t}w`).join(', ');''!=i&&t.setAttribute('srcset',{data:i,width:n},o)}),n()}).catch((t)=>{if('error'!==e.status&&'aborted'!==e.status)throw t;'error'==e.status&&s.showWarning(t,{title:a('r'),namespace:'upload'}),n(),r.enqueueChange('transparent',(e)=>{e.remove(o)})})}}class dk extends zf{static get pluginName(){return'ImageUpload'}static get requires(){return[lk,Zb,ik]}}class ck extends zf{static get requires(){return[db,$b,dk]}static get pluginName(){return'EasyImage'}}class uk extends Hf{refresh(){const e=this.editor.model,t=e.document,o=Oi(t.selection.getSelectedBlocks());this.value=!!o&&o.is('paragraph'),this.isEnabled=!!o&&Tr(o,e.schema)}execute(e={}){const t=this.editor.model,o=t.document;t.change((n)=>{const i=(e.selection||o.selection).getSelectedBlocks();for(const e of i)!e.is('paragraph')&&Tr(e,t.schema)&&n.rename(e,'paragraph')})}}class mk extends zf{static get pluginName(){return'Paragraph'}init(){const e=this.editor,t=e.model,o=e.data;e.commands.add('paragraph',new uk(e)),t.schema.register('paragraph',{inheritAllFrom:'$block'}),e.conversion.elementToElement({model:'paragraph',view:'p'}),o.upcastDispatcher.on('element',(e,t,o)=>{if(o.consumable.test(t.viewItem,{name:t.viewItem.name}))if(mk.paragraphLikeElements.has(t.viewItem.name)){if(t.viewItem.isEmpty)return;const e=o.writer.createElement('paragraph'),n=o.splitToAllowedParent(e,t.modelCursor);if(!n)return;o.writer.insert(e,n.position);const{modelRange:i}=o.convertChildren(t.viewItem,Uu.createAt(e));t.modelRange=new Hu(Uu.createBefore(e),i.end),t.modelCursor=t.modelRange.end}else Er(t.viewItem,t.modelCursor,o.schema)&&(t=Object.assign(t,Pr(t.viewItem,t.modelCursor,o)))},{priority:'low'}),o.upcastDispatcher.on('text',(e,t,o)=>{t.modelRange||Er(t.viewItem,t.modelCursor,o.schema)&&(t=Object.assign(t,Pr(t.viewItem,t.modelCursor,o)))},{priority:'lowest'}),t.document.registerPostFixer((e)=>this._autoparagraphEmptyRoots(e)),e.on('dataReady',()=>{t.enqueueChange('transparent',(e)=>this._autoparagraphEmptyRoots(e))},{priority:'lowest'})}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const o of t.document.getRootNames()){const n=t.document.getRoot(o);if(n.isEmpty&&'$graveyard'!=n.rootName&&t.schema.checkChild(n,'paragraph'))return e.insertElement('paragraph',n),!0}}}mk.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);class pk extends Hf{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Oi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((t)=>Sr(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,o=t.document,n=e.value;t.change((e)=>{const i=Array.from(o.selection.getSelectedBlocks()).filter((e)=>Sr(e,n,t.schema));for(const t of i)t.is(n)||e.rename(t,n)})}}const gk='paragraph';class fk extends zf{constructor(e){super(e),e.config.define('heading',{options:[{model:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{model:'heading1',view:'h2',title:'Heading 1',class:'ck-heading_heading1'},{model:'heading2',view:'h3',title:'Heading 2',class:'ck-heading_heading2'},{model:'heading3',view:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[mk]}init(){const e=this.editor,t=e.config.get('heading.options'),o=[];for(const n of t)n.model!==gk&&(e.model.schema.register(n.model,{inheritAllFrom:'$block'}),e.conversion.elementToElement(n),o.push(n.model));e.commands.add('heading',new pk(e,o))}afterInit(){const e=this.editor,t=e.commands.get('enter'),o=e.config.get('heading.options');t&&this.listenTo(t,'afterExecute',(t,n)=>{const i=e.model.document.selection.getFirstPosition().parent,r=o.some((e)=>i.is(e.model));r&&!i.is(gk)&&0===i.childCount&&n.writer.rename(i,gk)})}}class hk{constructor(e,t){t&&cc(this,t),e&&this.set(e)}}f(hk,fc);class bk extends hf{constructor(e){super(e);const t=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck','ck-reset','ck-dropdown__panel',t.if('isVisible','ck-dropdown__panel-visible')]},children:this.children,on:{selectstart:t.to((e)=>e.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const e=this.children.last;'function'==typeof e.focusLast?e.focusLast():e.focus()}}}var kk=o(52),_k=o.n(kk);class wk extends hf{constructor(e,t,o){super(e);const n=this.bindTemplate;this.buttonView=t,this.panelView=o,this.set('isOpen',!1),this.set('isEnabled',!0),this.focusTracker=new af,this.keystrokes=new Yg,this.setTemplate({tag:'div',attributes:{class:['ck','ck-dropdown',n.to('isEnabled',(e)=>e?'':'ck-disabled')]},children:[t,o]}),t.extendTemplate({attributes:{class:['ck-dropdown__button']}})}render(){super.render(),this.listenTo(this.buttonView,'open',()=>{this.isOpen=!this.isOpen}),this.panelView.bind('isVisible').to(this,'isOpen'),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const e=(e,t)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,t())};this.keystrokes.set('arrowdown',(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set('arrowright',(e,t)=>{this.isOpen&&t()}),this.keystrokes.set('arrowleft',e),this.keystrokes.set('esc',e)}focus(){this.buttonView.focus()}}var vk=o(54),yk=o.n(vk);class xk extends hh{constructor(e){super(e),this.arrowView=this._createArrowView(),this.delegate('execute').to(this,'open')}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ch;return e.content=yk.a,e.extendTemplate({attributes:{class:'ck-dropdown__arrow'}}),e}}var Ck=o(55),Ak=o.n(Ck);class Tk extends hf{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new af,this.keystrokes=new Yg,this._focusCycler=new Of({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.setTemplate({tag:'ul',attributes:{class:['ck','ck-reset','ck-list']},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on('add',(e,t)=>{this.focusTracker.add(t.element)}),this.items.on('remove',(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Pk extends hf{constructor(){super(),this.set('tabindex',-1),this.keystrokes=new Yg;const e=this.bindTemplate;this.setTemplate({tag:'li',attributes:{class:['ck','ck-list__item',e.to('class'),e.if('isActive','ck-list__item_active')],style:e.to('style'),tabindex:e.to('tabindex')},children:[{text:e.to('label')}],on:{click:e.to('execute')}})}render(){super.render();const e=(e,t)=>{this.fire('execute'),t()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',e),this.keystrokes.set('Space',e)}focus(){this.element.focus()}}var Ek=o(57),Sk=o.n(Ek),Ok=o(59),Rk=o.n(Ok),Ik=o(5),Vk=o.n(Ik);class Fk extends zf{init(){const e=this.editor,o=e.t,t=Mr(e),n=o('e'),i=o('f');e.ui.componentFactory.add('heading',(o)=>{const r={},a=new Ac,s=e.commands.get('heading'),l=e.commands.get('paragraph'),d=[s];for(const e of t){const t=new hk({label:e.title,class:e.class});'paragraph'===e.model?(t.bind('isActive').to(l,'value'),t.set('commandName','paragraph'),d.push(l)):(t.bind('isActive').to(s,'value',(t)=>t===e.model),t.set({commandName:'heading',commandValue:e.model})),a.add(t),r[e.model]=e.title}const c=Or(o);return Rr(c,a),c.buttonView.set({isOn:!1,withText:!0,tooltip:i}),c.extendTemplate({attributes:{class:['ck-heading-dropdown']}}),c.bind('isEnabled').toMany(d,'isEnabled',(...e)=>e.some((e)=>e)),c.buttonView.bind('label').to(s,'value',l,'value',(e,t)=>{const o=e||t&&'paragraph';return r[o]?r[o]:n}),this.listenTo(c,'execute',(t)=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:void 0),e.editing.view.focus()}),c})}}class Nk extends zf{static get requires(){return[fk,Fk]}static get pluginName(){return'Heading'}}var Mk=o(62),Dk=o.n(Mk);const Bk=new WeakMap,Lk=Symbol('imageCaption');class zk extends zf{init(){const e=this.editor,o=e.editing.view,n=e.model.schema,i=e.data,r=e.editing,a=e.t;n.register('caption',{allowIn:'image',allowContentOf:'$block',isLimit:!0}),e.model.document.registerPostFixer((e)=>this._insertMissingModelCaptionElement(e)),e.conversion.for('upcast').add(Yt({view:qr,model:'caption'}));i.downcastDispatcher.on('insert:caption',Wr((e)=>e.createContainerElement('figcaption'),!1));const t=zr(o,a('g'));r.downcastDispatcher.on('insert:caption',Wr(t)),r.downcastDispatcher.on('insert',this._fixCaptionVisibility((e)=>e.item),{priority:'high'}),r.downcastDispatcher.on('remove',this._fixCaptionVisibility((e)=>e.position.parent),{priority:'high'}),o.document.registerPostFixer((e)=>this._updateCaptionVisibility(e))}_updateCaptionVisibility(e){const t=this.editor.editing.mapper,o=this._lastSelectedCaption;let n;const i=this.editor.model.document.selection,r=i.getSelectedElement();if(r&&r.is('image')){const e=jr(r);n=t.toViewElement(e)}const a=i.getFirstPosition(),s=Hr(a.parent);if(s&&(n=t.toViewElement(s)),n)return o?o===n?Gr(n,e):(Kr(o,e),this._lastSelectedCaption=n,Gr(n,e)):(this._lastSelectedCaption=n,Gr(n,e));if(o){const t=Kr(o,e);return this._lastSelectedCaption=null,t}return!1}_fixCaptionVisibility(e){return(t,o,n)=>{const i=e(o),r=Hr(i),a=this.editor.editing.mapper,s=n.writer;if(r){const e=a.toViewElement(r);e&&(r.childCount?s.removeClass('ck-hidden',e):s.addClass('ck-hidden',e))}}}_insertMissingModelCaptionElement(e){const t=this.editor.model,o=t.document.differ.getChanges();for(const t of o)if('insert'==t.type&&'image'==t.name){const o=t.position.nodeAfter;if(!jr(o))return e.appendElement('caption',o),!0}}}var jk=o(64),qk=o.n(jk);class Wk extends zf{static get requires(){return[zk]}static get pluginName(){return'ImageCaption'}}class Uk extends Hf{constructor(e,t){super(e),this._defaultStyle=!1,this.styles=t.reduce((e,t)=>(e[t.name]=t,t.isDefault&&(this._defaultStyle=t.name),e),{})}refresh(){const e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Xi(e),!e)this.value=!1;else if(e.hasAttribute('imageStyle')){const t=e.getAttribute('imageStyle');this.value=!!this.styles[t]&&t}else this.value=this._defaultStyle}execute(e){const t=e.value,o=this.editor.model,n=o.document.selection.getSelectedElement();o.change((e)=>{this.styles[t].isDefault?e.removeAttribute('imageStyle',n):e.setAttribute('imageStyle',t,n)})}}var Hk=o(66),Kk=o.n(Hk),Gk=o(67),$k=o.n(Gk),Jk=o(68),Qk=o.n(Jk),Yk=o(69),Xk=o.n(Yk);const Zk={full:{name:'full',title:'Full size image',icon:Kk.a,isDefault:!0},side:{name:'side',title:'Side image',icon:Xk.a,className:'image-style-side'},alignLeft:{name:'alignLeft',title:'Left aligned image',icon:$k.a,className:'image-style-align-left'},alignCenter:{name:'alignCenter',title:'Centered image',icon:Qk.a,className:'image-style-align-center'},alignRight:{name:'alignRight',title:'Right aligned image',icon:Xk.a,className:'image-style-align-right'}},e_={full:Kk.a,left:$k.a,right:Xk.a,center:Qk.a};class t_ extends zf{static get requires(){return[bb]}static get pluginName(){return'ImageStyleEditing'}init(){const e=this.editor,t=e.model.schema,o=e.data,n=e.editing;e.config.define('image.styles',['full','side']);const i=Yr(e.config.get('image.styles'));t.extend('image',{allowAttributes:'imageStyle'});const r=$r(i);n.downcastDispatcher.on('attribute:imageStyle:image',r),o.downcastDispatcher.on('attribute:imageStyle:image',r),o.upcastDispatcher.on('element:figure',Jr(i),{priority:'low'}),e.commands.add('imageStyle',new Uk(e,i))}}var o_=o(70),n_=o.n(o_);class i_ extends zf{get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Full size image":e('h'),"Side image":e('i'),"Left aligned image":e('j'),"Centered image":e('k'),"Right aligned image":e('l')}}init(){const e=this.editor,t=e.config.get('image.styles'),o=Zr(Yr(t),this.localizedDefaultStylesTitles);for(const e of o)this._createButton(e)}_createButton(e){const t=this.editor,o=`imageStyle:${e.name}`;t.ui.componentFactory.add(o,(o)=>{const n=t.commands.get('imageStyle'),i=new hh(o);return i.set({label:e.title,icon:e.icon,tooltip:!0}),i.bind('isEnabled').to(n,'isEnabled'),i.bind('isOn').to(n,'value',(t)=>t===e.name),this.listenTo(i,'execute',()=>t.execute('imageStyle',{value:e.name})),i})}}class r_ extends zf{static get requires(){return[t_,i_]}static get pluginName(){return'ImageStyle'}}class a_ extends zf{static get requires(){return[jb]}static get pluginName(){return'ImageToolbar'}init(){const e=this.editor,t=e.plugins.get('BalloonToolbar');t&&this.listenTo(t,'show',(t)=>{Yi(e.editing.view.document.selection)&&t.stop()},{priority:'high'})}afterInit(){const e=this.editor,t=e.config.get('image.toolbar');t&&t.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new Ff,this._toolbar.fillFromConfig(t,e.ui.componentFactory),this.listenTo(e.editing.view,'render',()=>{this._checkIsVisible()}),this.listenTo(e.ui.focusTracker,'change:isFocused',()=>{this._checkIsVisible()},{priority:'low'}))}_checkIsVisible(){const e=this.editor;e.ui.focusTracker.isFocused?Yi(e.editing.view.document.selection)?this._showToolbar():this._hideToolbar():this._hideToolbar()}_showToolbar(){const e=this.editor;this._isVisible?pr(e):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:gr(e),balloonClassName:'ck-toolbar-container'})}_hideToolbar(){this._isVisible&&this._balloon.remove(this._toolbar)}get _isVisible(){return this._balloon.visibleView==this._toolbar}}class s_ extends Hf{refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute('linkHref'),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,'linkHref')}execute(e){const t=this.editor.model,o=t.document.selection;t.change((n)=>{if(o.isCollapsed){const t=o.getFirstPosition();if(o.hasAttribute('linkHref')){const t=ea(o.getFirstPosition(),o.getAttribute('linkHref'));n.setAttribute('linkHref',e,t),n.setSelection(t)}else if(''!==e){const i=rt(o.getAttributes());i.set('linkHref',e);const r=n.createText(e,i);n.insert(r,t),n.setSelection(Hu.createOn(r))}}else{const i=t.schema.getValidRanges(o.getRanges(),'linkHref');for(const t of i)n.setAttribute('linkHref',e,t)}})}}class l_ extends Hf{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute('linkHref')}execute(){const e=this.editor.model,t=e.document.selection;e.change((e)=>{const o=t.isCollapsed?[ea(t.getFirstPosition(),t.getAttribute('linkHref'))]:t.getRanges();for(const t of o)e.removeAttribute('linkHref',t)})}}const d_=Symbol('linkElement');class c_{constructor(e,t,o){this.model=e,this.attribute=o,this._modelSelection=e.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,t.listenTo(this._modelSelection,'change:range',(e,t)=>this._isNextGravityRestorationSkipped?void(this._isNextGravityRestorationSkipped=!1):void(!this._isGravityOverridden||!t.directChange&&ra(this._modelSelection.getFirstPosition(),o)||this._restoreGravity()))}handleForwardMovement(e,t){const o=this.attribute;return this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute?void 0:la(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):aa(e,o)?(this._preventCaretMovement(t),this._overrideGravity(),!0):sa(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}handleBackwardMovement(e,t){const o=this.attribute;if(this._isGravityOverridden)return la(e,o)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0);return la(e,o)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&sa(e,o)?this._hasSelectionAttribute?void(da(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(da(e,o)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change((e)=>e.overrideSelectionGravity())}_restoreGravity(){this.model.change((e)=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(e){e.preventDefault()}_removeSelectionAttribute(){this.model.change((e)=>{e.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(e){const t=this.attribute;this.model.change((o)=>{o.setSelectionAttribute(this.attribute,e.nodeBefore.getAttribute(t))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}var u_=o(72),m_=o.n(u_);const p_='ck-link_selected';class g_ extends zf{init(){const e=this.editor;e.model.schema.extend('$text',{allowAttributes:'linkHref'}),e.conversion.for('downcast').add(bt({model:'linkHref',view:na})),e.conversion.for('upcast').add(Xt({view:{name:'a',attributes:{href:!0}},model:{key:'linkHref',value:(e)=>e.getAttribute('href')}})),e.commands.add('link',new s_(e)),e.commands.add('unlink',new l_(e)),ia(e.editing.view,e.model,this,'linkHref'),this._setupLinkHighlight()}_setupLinkHighlight(){const e=this.editor,t=e.editing.view,o=new Set;t.document.registerPostFixer((t)=>{const n=e.model.document.selection;if(n.hasAttribute('linkHref')){const i=ea(n.getFirstPosition(),n.getAttribute('linkHref')),r=e.editing.mapper.toViewRange(i);for(const e of r.getItems())e.is('a')&&(t.addClass(p_,e),o.add(e))}}),e.conversion.for('editingDowncast').add((e)=>{function n(){t.change((e)=>{for(const t of o.values())e.removeClass(p_,t),o.delete(t)})}e.on('insert',n,{priority:'highest'}),e.on('remove',n,{priority:'highest'}),e.on('attribute',n,{priority:'highest'}),e.on('selection',n,{priority:'highest'})})}}class f_ extends _u{constructor(e){super(e),this.domEventType='click'}onDomEvent(e){this.fire(e.type,e)}}var h_=o(74),b_=o.n(h_);class k_ extends hf{constructor(e){super(e);const o=e.t;this.focusTracker=new af,this.keystrokes=new Yg,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o('ab'),Ob.a,'ck-button-save'),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(o('ac'),Ib.a,'ck-button-cancel','cancel'),this._focusables=new lf,this._focusCycler=new Of({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'form',attributes:{class:['ck','ck-link-form'],tabindex:'-1'},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ir({view:this});const e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Ab(this.locale,Eb);return t.label=e('ad'),t.inputView.placeholder='https://example.com',t}_createButton(e,t,o,n){const i=new hh(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:o}}),n&&i.delegate('execute').to(this,n),i}}var __=o(76),w_=o.n(__),v_=o(77),y_=o.n(v_),x_=o(78),C_=o.n(x_);class A_ extends hf{constructor(e){super(e);const o=e.t;this.focusTracker=new af,this.keystrokes=new Yg,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o('x'),w_.a,'unlink'),this.editButtonView=this._createButton(o('y'),y_.a,'edit'),this.set('href'),this._focusables=new lf,this._focusCycler=new Of({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'div',attributes:{class:['ck','ck-link-actions'],tabindex:'-1'},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach((e)=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,o){const n=new hh(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n.delegate('execute').to(this,o),n}_createPreviewButton(){const e=new hh(this.locale),o=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n('z')}),e.extendTemplate({attributes:{class:['ck','ck-link-actions__preview'],href:o.to('href'),target:'_blank'}}),e.bind('label').to(this,'href',(e)=>e||n('aa')),e.bind('isEnabled').to(this,'href',(e)=>!!e),e.template.tag='a',e.template.eventListeners={},e}}var T_=o(80),P_=o.n(T_);const E_='Ctrl+K';class S_ extends zf{static get requires(){return[jb]}init(){const e=this.editor;e.editing.view.addObserver(f_),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(jb),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new A_(e.locale),o=e.commands.get('link'),n=e.commands.get('unlink');return t.bind('href').to(o,'value'),t.editButtonView.bind('isEnabled').to(o),t.unlinkButtonView.bind('isEnabled').to(n),this.listenTo(t,'edit',()=>{this._addFormView()}),this.listenTo(t,'unlink',()=>{e.execute('unlink'),this._hideUI()}),t.keystrokes.set('Esc',(e,t)=>{this._hideUI(),t()}),t.keystrokes.set(E_,(e,t)=>{this._addFormView(),t()}),t}_createFormView(){const e=this.editor,t=new k_(e.locale),o=e.commands.get('link');return t.urlInputView.bind('value').to(o,'value'),t.urlInputView.bind('isReadOnly').to(o,'isEnabled',(e)=>!e),t.saveButtonView.bind('isEnabled').to(o),this.listenTo(t,'submit',()=>{e.execute('link',t.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(t,'cancel',()=>{this._removeFormView()}),t.keystrokes.set('Esc',(e,t)=>{this._removeFormView(),t()}),t}_createToolbarLinkButton(){const e=this.editor,o=e.commands.get('link'),n=e.t;e.keystrokes.set(E_,(e,t)=>{t(),o.isEnabled&&this._showUI()}),e.ui.componentFactory.add('link',(e)=>{const t=new hh(e);return t.isEnabled=!0,t.label=n('p'),t.icon=P_.a,t.keystroke=E_,t.tooltip=!0,t.bind('isEnabled').to(o,'isEnabled'),this.listenTo(t,'execute',()=>this._showUI()),t})}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,'click',()=>{const e=this._getSelectedLinkElement();e&&this._showUI()}),this.editor.keystrokes.set('Tab',(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:'high'}),this.editor.keystrokes.set('Esc',(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),nr({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(!this._isFormInPanel){const e=this.editor,t=e.commands.get('link');this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||''}}_removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){const e=this.editor,t=e.commands.get('link');t.isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUIOnViewRender())}_hideUI(){if(this._isUIInPanel){const e=this.editor.editing.view;this.stopListening(e,'render'),this._removeFormView(),this._balloon.remove(this.actionsView),e.focus()}}_startUpdatingUIOnViewRender(){function e(){return n.document.selection.focus.getAncestors().reverse().find((e)=>e.is('element'))}const t=this.editor,o=t.editing,n=o.view;let i=this._getSelectedLinkElement(),r=e();this.listenTo(n,'render',()=>{const t=this._getSelectedLinkElement(),o=e();(!i||t)&&(i||o===r)?this._balloon.updatePosition(this._getBalloonPositionData()):this._hideUI(),i=t,r=o})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document,o=this._getSelectedLinkElement(),n=o?e.domConverter.mapViewToDom(o):e.domConverter.viewRangeToDom(t.selection.getFirstRange());return{target:n}}_getSelectedLinkElement(){const e=this.editor.editing.view.document.selection;if(e.isCollapsed)return ca(e.getFirstPosition());else{const t=e.getFirstRange().getTrimmed(),o=ca(t.start),n=ca(t.end);return o&&o==n?yc.createIn(o).getTrimmed().isEqual(t)?o:null:null}}}class O_ extends zf{static get requires(){return[g_,S_]}static get pluginName(){return'Link'}}class R_ extends Hf{constructor(e,t){super(e),this.type='bulleted'==t?'bulleted':'numbered'}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document,o=Array.from(t.selection.getSelectedBlocks()).filter((t)=>ma(t,e.schema)),n=!0===this.value;e.change((e)=>{if(n){let t=o[o.length-1].nextSibling,n=Na,i=[];for(;t&&'listItem'==t.name&&0!==t.getAttribute('indent');){const e=t.getAttribute('indent');e<n&&(n=e);const o=e-n;i.push({element:t,indent:o}),t=t.nextSibling}i=i.reverse();for(const t of i)e.setAttribute('indent',t.indent,t.element)}if(!n){let e=Na;for(const t of o)t.is('listItem')&&t.getAttribute('indent')<e&&(e=t.getAttribute('indent'));e=0===e?1:e,ua(o,!0,e),ua(o,!1,e)}for(const t of o.reverse())n&&'listItem'==t.name?e.rename(t,'paragraph'):n||'listItem'==t.name?n||'listItem'!=t.name||t.getAttribute('type')==this.type||e.setAttribute('type',this.type,t):(e.setAttributes({type:this.type,indent:0},t),e.rename(t,'listItem'))})}_getValue(){const e=Oi(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is('listItem')&&e.getAttribute('type')==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,o=Oi(e.getSelectedBlocks());return!!o&&ma(o,t)}}class I_ extends Hf{constructor(e,t){super(e),this._indentBy='forward'==t?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let o=Array.from(t.selection.getSelectedBlocks());e.change((e)=>{const t=o[o.length-1];for(let n=t.nextSibling;n&&'listItem'==n.name&&n.getAttribute('indent')>t.getAttribute('indent');)o.push(n),n=n.nextSibling;0>this._indentBy&&(o=o.reverse());for(const t of o){const o=t.getAttribute('indent')+this._indentBy;0>o?e.rename(t,'paragraph'):e.setAttribute('indent',o,t)}})}_checkEnabled(){const e=Oi(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is('listItem'))return!1;if(0<this._indentBy){const t=e.getAttribute('indent'),o=e.getAttribute('type');for(let n=e.previousSibling;n&&n.is('listItem')&&n.getAttribute('indent')>=t;){if(n.getAttribute('indent')==t)return n.getAttribute('type')==o;n=n.previousSibling}return!1}return!0}}class V_ extends zf{static get requires(){return[mk]}init(){const e=this.editor;e.model.schema.register('listItem',{inheritAllFrom:'$block',allowAttributes:['type','indent']});const t=e.data,o=e.editing;e.model.document.registerPostFixer((t)=>Ta(e.model,t)),o.mapper.registerViewToModelLength('li',Fa),t.mapper.registerViewToModelLength('li',Fa),o.mapper.on('modelToViewPosition',Ca),o.mapper.on('viewToModelPosition',Aa),t.mapper.on('modelToViewPosition',Ca),o.downcastDispatcher.on('insert',_a,{priority:'high'}),o.downcastDispatcher.on('insert:listItem',fa),t.downcastDispatcher.on('insert',_a,{priority:'high'}),t.downcastDispatcher.on('insert:listItem',fa),o.downcastDispatcher.on('attribute:type:listItem',ba),t.downcastDispatcher.on('attribute:type:listItem',ba),o.downcastDispatcher.on('attribute:indent:listItem',ka),t.downcastDispatcher.on('attribute:indent:listItem',ka),o.downcastDispatcher.on('remove:listItem',ha),o.downcastDispatcher.on('remove',wa,{priority:'low'}),t.downcastDispatcher.on('remove:listItem',ha),t.downcastDispatcher.on('remove',wa,{priority:'low'}),t.upcastDispatcher.on('element:ul',ya,{priority:'high'}),t.upcastDispatcher.on('element:ol',ya,{priority:'high'}),t.upcastDispatcher.on('element:li',xa,{priority:'high'}),t.upcastDispatcher.on('element:li',va),e.model.on('insertContent',Pa,{priority:'high'}),e.commands.add('numberedList',new R_(e,'numbered')),e.commands.add('bulletedList',new R_(e,'bulleted')),e.commands.add('indentList',new I_(e,'forward')),e.commands.add('outdentList',new I_(e,'backward'));const n=this.editor.editing.view.document;this.listenTo(n,'enter',(e,t)=>{const o=this.editor.model.document,n=o.selection.getLastPosition().parent;o.selection.isCollapsed&&'listItem'==n.name&&n.isEmpty&&(this.editor.execute('outdentList'),t.preventDefault(),e.stop())}),this.listenTo(n,'delete',(e,t)=>{if('backward'===t.direction){const o=this.editor.model.document.selection;if(o.isCollapsed){const n=o.getFirstPosition();if(n.isAtStart){const o=n.parent;if('listItem'===o.name){const n=o.previousSibling&&'listItem'===o.previousSibling.name;n||(this.editor.execute('outdentList'),t.preventDefault(),e.stop())}}}}},{priority:'high'});const i=(e)=>(t,o)=>{const n=this.editor.commands.get(e);n.isEnabled&&(this.editor.execute(e),o())};this.editor.keystrokes.set('Tab',i('indentList')),this.editor.keystrokes.set('Shift+Tab',i('outdentList'))}}var F_=o(81),N_=o.n(F_),M_=o(82),D_=o.n(M_);class B_ extends zf{init(){const e=this.editor.t;this._addButton('numberedList',e('m'),N_.a),this._addButton('bulletedList',e('n'),D_.a)}_addButton(e,t,o){const n=this.editor;n.ui.componentFactory.add(e,(i)=>{const r=n.commands.get(e),a=new hh(i);return a.set({label:t,icon:o,tooltip:!0}),a.bind('isOn','isEnabled').to(r,'value','isEnabled'),this.listenTo(a,'execute',()=>n.execute(e)),a})}}class L_ extends zf{static get requires(){return[V_,B_]}static get pluginName(){return'List'}}class z_ extends Lf{}t['default']=z_,z_.build={plugins:[xh,Oh,Fh,qh,Jh,nb,ck,Nk,$b,Wk,r_,a_,dk,O_,L_,mk],config:{toolbar:{items:['heading','|','bold','italic','link','bulletedList','numberedList','imageUpload','blockQuote','undo','redo']},image:{toolbar:['imageStyle:full','imageStyle:side','|','imageTextAlternative']},language:'en'}}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e,t){'use strict';t.a=function(e){return e&&e.Object===Object?e:null}},function(e,t,o){'use strict';(function(e){var n=o(10),i=o(1),r={function:!0,object:!0},a=r[typeof exports]&&exports&&!exports.nodeType?exports:void 0,s=r[typeof e]&&e&&!e.nodeType?e:void 0,l=s&&s.exports===a?a:void 0,d=l?i.a.Buffer:void 0,c=d?function(e){return e instanceof d}:Object(n.a)(!1);t.a=c}).call(t,o(2)(e))},function(e,t){'use strict';t.a=function(e){return function(){return e}}},function(e,t,o){var n=o(12);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:999;--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:#77baf8;--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-focus-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-focus-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-focus-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-item-background-hover:var(--ck-color-base-foreground);--ck-color-list-item-background-active:var(--ck-color-base-active);--ck-color-list-item-background-active-focus:var(--ck-color-base-active-focus);--ck-color-list-item-text-active:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#ebf8ff;--ck-disabled-opacity:.5;--ck-focus-outer-shadow:0 0 3px var(--ck-color-focus-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}'},function(e){e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,'/'),i=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return e;var r;return r=0===i.indexOf('//')?i:0===i.indexOf('/')?o+i:n+i.replace(/^\.\//,''),'url('+JSON.stringify(r)+')'});return i}},function(e,t,o){var n=o(15);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}'},function(e,t,o){var n=o(17);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}'},function(e,t,o){var n=o(19);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}'},function(e,t,o){var n=o(21);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}'},function(e,t,o){var n=o(23);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}'},function(e,t,o){var n=o(25);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon *{fill:currentColor}'},function(e,t,o){var n=o(27);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:transparent transparent var(--ck-color-tooltip-background);border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:var(--ck-color-tooltip-background) transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(e,t,o){var n=o(29);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}.ck.ck-button,a.ck.ck-button{position:relative}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):focus,.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):focus,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-focus-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):focus,.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):focus,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-focus-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):focus,.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):focus,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-focus-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z" fill="#000" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z" fill="#000" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z" fill="#000" fill-rule="evenodd"/></svg>\n'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z" fill="#333" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z"/></g></svg>\n'},function(e,t,o){var n=o(36);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}'},function(e,t,o){var n=o(38);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-widget-outline-thickness:3px;--ck-color-widget-border-blurred:#dedede;--ck-color-widget-border-hover:#ffd15c;--ck-color-widget-editable-focused-background:var(--ck-color-base-background),}.ck .ck-widget{margin:var(--ck-spacing-standard) 0;padding:0}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck-editor__editable.ck-blurred .ck .ck-widget.ck-widget_selected{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-blurred)}.ck .ck-widget:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-hover)}.ck .ck-widget .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-widget .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-widget .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focused-background)}'},function(e,t,o){var n=o(40);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}'},function(e,t,o){var n=o(42);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e,t,o){var n=o(44);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-z-default)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(47);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><g fill="none" fill-rule="evenodd"><rect width="700" height="250" fill="#F7F7F7" rx="4"/><text fill="#5F6F77" font-family="Arial,sans-serif" font-size="24"><tspan x="247.9" y="135">Uploading image\u2026</tspan></text></g></svg>\n'},function(e,t,o){var n=o(51);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image{position:relative;overflow:hidden}.ck-content .image.ck-infinite-progress:before{content:"";position:absolute;top:0;right:0}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:a .7s}.ck-content .image.ck-infinite-progress:before{width:var(--ck-image-upload-progress-line-width);height:2px;background:var(--ck-color-upload-infinite-background);animation-name:b;animation-duration:1.5s;animation-iteration-count:infinite;transition-timing-function:linear}.ck-content .image.ck-image-upload-placeholder>img{width:100%}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes a{0%{opacity:0}to{opacity:1}}@keyframes b{0%{width:var(--ck-image-upload-progress-line-width);right:0}50%{width:calc(var(--ck-image-upload-progress-line-width) * 1.5)}to{right:100%}}'},function(e,t,o){var n=o(53);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default);position:absolute;top:50%;transform:translate3d(0,-50%,0)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button{padding-right:calc(2.5 * var(--ck-spacing-standard))}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{border-radius:0;box-shadow:var(--ck-drop-shadow),0 0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}'},function(e){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z" fill="#000" fill-rule="evenodd"/></svg>'},function(e,t,o){var n=o(56);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.ck.ck-list .ck-list__item{display:block}.ck.ck-list .ck-list__item:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{padding:var(--ck-spacing-medium);cursor:default;min-width:12em}.ck.ck-list__item:focus,.ck.ck-list__item:hover{background:var(--ck-color-list-item-background-hover)}.ck.ck-list__item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-list__item_active{background:var(--ck-color-list-item-background-active);color:var(--ck-color-list-item-text-active)}.ck.ck-list__item_active:focus,.ck.ck-list__item_active:hover{background:var(--ck-color-list-item-background-active-focus)}'},function(e,t,o){var n=o(58);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}'},function(e,t,o){var n=o(60);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list>.ck-list__item{line-height:calc(.8*var(--ck-line-height-base)*var(--ck-font-size-base));padding:calc(.4*var(--ck-line-height-base)*var(--ck-font-size-base))}'},function(e){e.exports='.ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}'},function(e,t,o){var n=o(63);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}'},function(e,t,o){var n=o(65);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z" fill-rule="nonzero"/></svg>'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e){e.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(e,t,o){var n=o(71);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports=':root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}'},function(e,t,o){var n=o(73);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}'},function(e,t,o){var n=o(75);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-form .ck-labeled-input{display:inline-block}.ck.ck-link-form .ck-label{display:none}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></g></svg>'},function(e){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(e,t,o){var n=o(79);'string'==typeof n&&(n=[[e.i,n,'']]);var i={singleton:!0,hmr:!0},r;i.transform=r,i.insertInto=void 0;o(0)(n,i);n.locals&&(e.exports=n.locals),!1},function(e){e.exports='.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-standard);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z" fill="#000" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(e){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z" fill="#454545" fill-rule="evenodd"/></svg>'}])['default']});
//# sourceMappingURL=ckeditor.js.map

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMmM1NDM4OTcyY2I5ZWQzNGJhNWIiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2JhY2svanMvZWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMvYnVpbGQvY2tlZGl0b3IuanMiXSwibmFtZXMiOlsiQ2xhc3NpY0VkaXRvciIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRpbmciLCJvcHRpb25zIiwibW9kZWwiLCJ0aXRsZSIsImNsYXNzIiwidmlldyIsInRvb2xiYXIiLCJ0aGVuIiwid2luZG93IiwiZWRpdG9yIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJlcnIiLCJzdGFjayJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdEQTs7QUFFQSx5RUFBQUEsQ0FDS0MsTUFETCxDQUNZQyxTQUFTQyxhQUFULENBQXVCLFdBQXZCLENBRFosRUFDaUQ7QUFDekNDLGFBQVM7QUFDTEMsaUJBQVMsQ0FDTCxFQUFFQyxPQUFPLFdBQVQsRUFBc0JDLE9BQU8sV0FBN0IsRUFBMENDLE9BQU8sc0JBQWpELEVBREssRUFFTCxFQUFFRixPQUFPLFVB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O0FBQzV1dGEsb0MiLCJmaWxlIjoianMvc2NyaXB0L2VkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9idWlsZC9iYWNrL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9hc3NldHMvYmFjay9qcy9lZGl0b3IuanNcIik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMmM1NDM4OTcyY2I5ZWQzNGJhNWIiLCJpbXBvcnQgQ2xhc3NpY0VkaXRvciBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMnO1xuXG5DbGFzc2ljRWRpdG9yXG4gICAgLmNyZWF0ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2tlZGl0b3InKSwge1xuICAgICAgICBoZWFkaW5nOiB7XG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyBtb2RlbDogJ3BhcmFncmFwaCcsIHRpdGxlOiAnUGFyYWdyYXBoJywgY2xhc3M6ICdjay1oZWFkaW5nX3BhcmFncmFwaCcgfSxcbiAgICAgICAgICAgICAgICB7IG1vZGVsOiAnaGVhZGluZzEnLCB2aWV3OiAnaDEnLCB0aXRsZTogJ0hlYWRpbmcgMScsIGNsYXNzOiAnY2staGVhZGluZ19oZWFkaW5nMScgfSxcbiAgICAgICAgICAgICAgICB7IG1vZGVsOiAnaGVhZGluZzInLCB2aWV3OiAnaDInLCB0aXRsZTogJ0hlYWRpbmcgMicsIGNsYXNzOiAnY2staGVhZGluZ19oZWFkaW5nMicgfSxcbiAgICAgICAgICAgICAgICB7IG1vZGVsOiAnaGVhZGluZzMnLCB2aWV3OiAnaDMnLCB0aXRsZTogJ0hlYWRpbmcgMycsIGNsYXNzOiAnY2staGVhZGluZ19oZWFkaW5nMycgfSxcbiAgICAgICAgICAgICAgICB7IG1vZGVsOiAnaGVhZGluZzQnLCB2aWV3OiAnaDQnLCB0aXRsZTogJ0hlYWRpbmcgNCcsIGNsYXNzOiAnY2staGVhZGluZ19oZWFkaW5nNCcgfSxcbiAgICAgICAgICAgICAgICB7IG1vZGVsOiAnaGVhZGluZzUnLCB2aWV3OiAnaDUnLCB0aXRsZTogJ0hlYWRpbmcgNScsIGNsYXNzOiAnY2staGVhZGluZ19oZWFkaW5nNScgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB0b29sYmFyOiBbJ2hlYWRpbmcnLCd8JywgJ2JvbGQnLCAnaXRhbGljJywgJ2xpbmsnLCdVbmRlcmxpbmUnLCAnYnVsbGV0ZWRMaXN0JywgJ251bWJlcmVkTGlzdCcsICdibG9ja1F1b3RlJywgJ3VuZG8nLCAncmVkbycgXVxuICAgIH0pXG4gICAgLnRoZW4oZWRpdG9yID0+IHtcbiAgICAgICAgd2luZG93LmVkaXRvciA9IGVkaXRvcjtcbiAgICB9KVxuICAgIC5jYXRjaCggZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvciggZXJyLnN0YWNrICk7XG4gICAgfSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXNzZXRzL2JhY2svanMvZWRpdG9yLmpzIiwiLyoqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxOCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kLlxuICovXG4oZnVuY3Rpb24oZSl7ZS5lbj1PYmplY3QuYXNzaWduKGUuZW58fHt9LHthOidDYW5ub3QgdXBsb2FkIGZpbGU6JyxiOidCb2xkJyxjOidJdGFsaWMnLGQ6J0Jsb2NrIHF1b3RlJyxlOidDaG9vc2UgaGVhZGluZycsZjonSGVhZGluZycsZzonRW50ZXIgaW1hZ2UgY2FwdGlvbicsaDonRnVsbCBzaXplIGltYWdlJyxpOidTaWRlIGltYWdlJyxqOidMZWZ0IGFsaWduZWQgaW1hZ2UnLGs6J0NlbnRlcmVkIGltYWdlJyxsOidSaWdodCBhbGlnbmVkIGltYWdlJyxtOidOdW1iZXJlZCBMaXN0JyxuOidCdWxsZXRlZCBMaXN0JyxvOidpbWFnZSB3aWRnZXQnLHA6J0xpbmsnLHE6J0luc2VydCBpbWFnZScscjonVXBsb2FkIGZhaWxlZCcsczonUGFyYWdyYXBoJyx0OidIZWFkaW5nIDEnLHU6J0hlYWRpbmcgMicsdjonSGVhZGluZyAzJyx3OidDaGFuZ2UgaW1hZ2UgdGV4dCBhbHRlcm5hdGl2ZScseDonVW5saW5rJyx5OidFZGl0IGxpbmsnLHo6J09wZW4gbGluayBpbiBuZXcgdGFiJyxhYTonVGhpcyBsaW5rIGhhcyBubyBVUkwnLGFiOidTYXZlJyxhYzonQ2FuY2VsJyxhZDonTGluayBVUkwnLGFlOidSaWNoIFRleHQgRWRpdG9yJyxhZjonUmljaCBUZXh0IEVkaXRvciwgJTAnLGFnOidVbmRvJyxhaDonUmVkbycsYWk6J1RleHQgYWx0ZXJuYXRpdmUnfSl9KSh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TfHwod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUz17fSkpLGZ1bmN0aW9uKGUsdCl7J29iamVjdCc9PXR5cGVvZiBleHBvcnRzJiYnb2JqZWN0Jz09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6J2Z1bmN0aW9uJz09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6J29iamVjdCc9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xhc3NpY0VkaXRvcj10KCk6ZS5DbGFzc2ljRWRpdG9yPXQoKX0oJ3VuZGVmaW5lZCc9PXR5cGVvZiBzZWxmP3RoaXM6c2VsZixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG4pe2lmKG9bbl0pcmV0dXJuIG9bbl0uZXhwb3J0czt2YXIgaT1vW25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyx0KSxpLmw9ITAsaS5leHBvcnRzfXZhciBvPXt9O3JldHVybiB0Lm09ZSx0LmM9byx0LmQ9ZnVuY3Rpb24oZSxvLG4pe3QubyhlLG8pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6bn0pfSx0Lm49ZnVuY3Rpb24oZSl7dmFyIG89ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGVbJ2RlZmF1bHQnXX06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHQuZChvLCdhJyxvKSxvfSx0Lm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQucD0nJyx0KHQucz02KX0oW2Z1bmN0aW9uKGUsdCxvKXtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBuPWVbb10saT1nW24uaWRdO2lmKGkpe2kucmVmcysrO2Zvcih2YXIgcj0wO3I8aS5wYXJ0cy5sZW5ndGg7cisrKWkucGFydHNbcl0obi5wYXJ0c1tyXSk7Zm9yKDtyPG4ucGFydHMubGVuZ3RoO3IrKylpLnBhcnRzLnB1c2goYyhuLnBhcnRzW3JdLHQpKX1lbHNle2Zvcih2YXIgYT1bXSxyPTA7cjxuLnBhcnRzLmxlbmd0aDtyKyspYS5wdXNoKGMobi5wYXJ0c1tyXSx0KSk7Z1tuLmlkXT17aWQ6bi5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBvPVtdLG49e30scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLGE9dC5iYXNlP2lbMF0rdC5iYXNlOmlbMF0scz1pWzFdLGw9aVsyXSxkPWlbM10sYz17Y3NzOnMsbWVkaWE6bCxzb3VyY2VNYXA6ZH07blthXT9uW2FdLnBhcnRzLnB1c2goYyk6by5wdXNoKG5bYV09e2lkOmEscGFydHM6W2NdfSl9cmV0dXJuIG99ZnVuY3Rpb24gcihlLHQpe3ZhciBvPWIoZS5pbnNlcnRJbnRvKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlIFxcJ2luc2VydEludG9cXCcgcGFyYW1ldGVyIGlzIGludmFsaWQuJyk7dmFyIG49d1t3Lmxlbmd0aC0xXTtpZigndG9wJz09PWUuaW5zZXJ0QXQpbj9uLm5leHRTaWJsaW5nP28uaW5zZXJ0QmVmb3JlKHQsbi5uZXh0U2libGluZyk6by5hcHBlbmRDaGlsZCh0KTpvLmluc2VydEJlZm9yZSh0LG8uZmlyc3RDaGlsZCksdy5wdXNoKHQpO2Vsc2UgaWYoJ2JvdHRvbSc9PT1lLmluc2VydEF0KW8uYXBwZW5kQ2hpbGQodCk7ZWxzZSBpZignb2JqZWN0Jz09dHlwZW9mIGUuaW5zZXJ0QXQmJmUuaW5zZXJ0QXQuYmVmb3JlKXt2YXIgaT1iKGUuaW5zZXJ0SW50bysnICcrZS5pbnNlcnRBdC5iZWZvcmUpO28uaW5zZXJ0QmVmb3JlKHQsaSl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ1tTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcXCdpbnNlcnRBdFxcJyAoXFwnb3B0aW9ucy5pbnNlcnRBdFxcJykgZm91bmQuXFxuIE11c3QgYmUgXFwndG9wXFwnLCBcXCdib3R0b21cXCcsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcbicpfWZ1bmN0aW9uIGEoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9dy5pbmRleE9mKGUpOzA8PXQmJncuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gcyhlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO3JldHVybiBlLmF0dHJzLnR5cGU9J3RleHQvY3NzJyxkKHQsZS5hdHRycykscihlLHQpLHR9ZnVuY3Rpb24gbChlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7cmV0dXJuIGUuYXR0cnMudHlwZT0ndGV4dC9jc3MnLGUuYXR0cnMucmVsPSdzdHlsZXNoZWV0JyxkKHQsZS5hdHRycykscihlLHQpLHR9ZnVuY3Rpb24gZChlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obyl7ZS5zZXRBdHRyaWJ1dGUobyx0W29dKX0pfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbyxuLGkscjtpZih0LnRyYW5zZm9ybSYmZS5jc3MpaWYocj10LnRyYW5zZm9ybShlLmNzcykscillLmNzcz1yO2Vsc2UgcmV0dXJuIGZ1bmN0aW9uKCl7fTtpZih0LnNpbmdsZXRvbil7dmFyIGQ9XysrO289a3x8KGs9cyh0KSksbj11LmJpbmQobnVsbCxvLGQsITEpLGk9dS5iaW5kKG51bGwsbyxkLCEwKX1lbHNlIGUuc291cmNlTWFwJiYnZnVuY3Rpb24nPT10eXBlb2YgVVJMJiYnZnVuY3Rpb24nPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmJ2Z1bmN0aW9uJz09dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwmJidmdW5jdGlvbic9PXR5cGVvZiBCbG9iJiYnZnVuY3Rpb24nPT10eXBlb2YgYnRvYT8obz1sKHQpLG49cC5iaW5kKG51bGwsbyx0KSxpPWZ1bmN0aW9uKCl7YShvKSxvLmhyZWYmJlVSTC5yZXZva2VPYmplY3RVUkwoby5ocmVmKX0pOihvPXModCksbj1tLmJpbmQobnVsbCxvKSxpPWZ1bmN0aW9uKCl7YShvKX0pO3JldHVybiBuKGUpLGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuY3NzPT09ZS5jc3MmJnQubWVkaWE9PT1lLm1lZGlhJiZ0LnNvdXJjZU1hcD09PWUuc291cmNlTWFwKXJldHVybjtuKGU9dCl9ZWxzZSBpKCl9fWZ1bmN0aW9uIHUoZSx0LG8sbil7dmFyIGk9bz8nJzpuLmNzcztpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9eSh0LGkpO2Vsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaSksYT1lLmNoaWxkTm9kZXM7YVt0XSYmZS5yZW1vdmVDaGlsZChhW3RdKSxhLmxlbmd0aD9lLmluc2VydEJlZm9yZShyLGFbdF0pOmUuYXBwZW5kQ2hpbGQocil9fWZ1bmN0aW9uIG0oZSx0KXt2YXIgbz10LmNzcyxuPXQubWVkaWE7aWYobiYmZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJyxuKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bztlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvKSl9fWZ1bmN0aW9uIHAoZSx0LG8pe3ZhciBuPW8uY3NzLGk9by5zb3VyY2VNYXAscj10LmNvbnZlcnRUb0Fic29sdXRlVXJscz09PXZvaWQgMCYmaTsodC5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fHIpJiYobj12KG4pKSxpJiYobis9J1xcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsJytidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKSsnICovJyk7dmFyIGE9bmV3IEJsb2IoW25dLHt0eXBlOid0ZXh0L2Nzcyd9KSxzPWUuaHJlZjtlLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfXZhciBnPXt9LGY9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuJ3VuZGVmaW5lZCc9PXR5cGVvZiB0JiYodD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksdH19KGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSksaD1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYj1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0KXtpZignZnVuY3Rpb24nPT10eXBlb2YgdClyZXR1cm4gdCgpO2lmKCd1bmRlZmluZWQnPT10eXBlb2YgZVt0XSl7dmFyIG89aC5jYWxsKHRoaXMsdCk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZvIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtvPW8uY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2godCl7bz1udWxsfWVbdF09b31yZXR1cm4gZVt0XX19KCksaz1udWxsLF89MCx3PVtdLHY9bygxMyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoJ3VuZGVmaW5lZCchPXR5cGVvZiBERUJVRyYmREVCVUcmJidvYmplY3QnIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCdUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQnKTt0PXR8fHt9LHQuYXR0cnM9J29iamVjdCc9PXR5cGVvZiB0LmF0dHJzP3QuYXR0cnM6e30sdC5zaW5nbGV0b258fCdib29sZWFuJz09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249ZigpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89J2hlYWQnKSx0Lmluc2VydEF0fHwodC5pbnNlcnRBdD0nYm90dG9tJyk7dmFyIG89aShlLHQpO3JldHVybiBuKG8sdCksZnVuY3Rpb24oZSl7Zm9yKHZhciByPVtdLGE9MDthPG8ubGVuZ3RoO2ErKyl7dmFyIHM9b1thXSxsPWdbcy5pZF07bC5yZWZzLS0sci5wdXNoKGwpfWlmKGUpe3ZhciBkPWkoZSx0KTtuKGQsdCl9Zm9yKHZhciBhPTAsbDthPHIubGVuZ3RoO2ErKylpZihsPXJbYV0sMD09PWwucmVmcyl7Zm9yKHZhciBjPTA7YzxsLnBhcnRzLmxlbmd0aDtjKyspbC5wYXJ0c1tjXSgpO2RlbGV0ZSBnW2wuaWRdfX19O3ZhciB5PWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQsbyl7cmV0dXJuIGVbdF09byxlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKX19KCl9LGZ1bmN0aW9uKGUsdCxvKXsndXNlIHN0cmljdCc7KGZ1bmN0aW9uKGUsbil7dmFyIGk9byg4KSxyPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9LGE9clt0eXBlb2YgZXhwb3J0c10mJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlP2V4cG9ydHM6dm9pZCAwLHM9clt0eXBlb2YgZV0mJmUmJiFlLm5vZGVUeXBlP2U6dm9pZCAwLGw9T2JqZWN0KGkuYSkoYSYmcyYmJ29iamVjdCc9PXR5cGVvZiBuJiZuKSxkPU9iamVjdChpLmEpKHJbdHlwZW9mIHNlbGZdJiZzZWxmKSxjPU9iamVjdChpLmEpKHJbdHlwZW9mIHdpbmRvd10mJndpbmRvdyksdT1PYmplY3QoaS5hKShyW3R5cGVvZiB0aGlzXSYmdGhpcyksbT1sfHxjIT09KHUmJnUud2luZG93KSYmY3x8ZHx8dXx8RnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTt0LmE9bX0pLmNhbGwodCxvKDIpKGUpLG8oNykpfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIWUud2VicGFja1BvbHlmaWxsKXt2YXIgdD1PYmplY3QuY3JlYXRlKGUpO3QuY2hpbGRyZW58fCh0LmNoaWxkcmVuPVtdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwnbG9hZGVkJyx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCdpZCcse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwnZXhwb3J0cycse2VudW1lcmFibGU6ITB9KSx0LndlYnBhY2tQb2x5ZmlsbD0xfXJldHVybiB0fX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk02Ljk3MiAxNi42MTVhLjk5Ny45OTcgMCAwIDEtLjc0NC0uMjkybC00LjU5Ni00LjU5NmExIDEgMCAxIDEgMS40MTQtMS40MTRsMy45MjYgMy45MjYgOS45MzctOS45MzdhMSAxIDAgMCAxIDEuNDE0IDEuNDE1TDcuNzE3IDE2LjMyM2EuOTk3Ljk5NyAwIDAgMS0uNzQ1LjI5MnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS41OTEgMTAuMTc3bDQuMjQzIDQuMjQyYTEgMSAwIDAgMS0xLjQxNSAxLjQxNWwtNC4yNDItNC4yNDMtNC4yNDMgNC4yNDNhMSAxIDAgMCAxLTEuNDE0LTEuNDE1bDQuMjQzLTQuMjQyTDQuNTIgNS45MzRBMSAxIDAgMCAxIDUuOTM0IDQuNTJsNC4yNDMgNC4yNDMgNC4yNDItNC4yNDNhMSAxIDAgMSAxIDEuNDE1IDEuNDE0bC00LjI0MyA0LjI0M3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNjEpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSx0LG8peyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBuKGUpe2NvbnN0IHQ9ZS5tYXRjaCgvXihbXjpdKyk6Lyk7cmV0dXJuIHQ/ZStgIFJlYWQgbW9yZTogJHtRYX0jZXJyb3ItJHt0WzFdfVxcbmA6ZX1mdW5jdGlvbiBpKCl7bGV0IGU9J2UnO2ZvcihsZXQgdD0wOzg+dDt0KyspZSs9QmEoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBlW29zXSYmZVtvc11bdF0/ZVtvc11bdF0uZW1pdHRlcjpudWxsfWZ1bmN0aW9uIGEoZSx0KXtlW25zXXx8KGVbbnNdPXR8fGkoKSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZVtuc119ZnVuY3Rpb24gbChlKXtyZXR1cm4gZS5fZXZlbnRzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwnX2V2ZW50cycse3ZhbHVlOnt9fSksZS5fZXZlbnRzfWZ1bmN0aW9uIGQoKXtyZXR1cm57Y2FsbGJhY2tzOltdLGNoaWxkRXZlbnRzOltdfX1mdW5jdGlvbiBjKGUsdCl7Y29uc3Qgbz1sKGUpO2lmKG9bdF0pcmV0dXJuO2xldCBuPXQsaT1udWxsO2NvbnN0IHI9W107Zm9yKDsnJyE9PW4mJiFvW25dOylvW25dPWQoKSxyLnB1c2gob1tuXSksaSYmb1tuXS5jaGlsZEV2ZW50cy5wdXNoKGkpLGk9bixuPW4uc3Vic3RyKDAsbi5sYXN0SW5kZXhPZignOicpKTtpZignJyE9PW4pe2Zvcihjb25zdCBlIG9mIHIpZS5jYWxsYmFja3M9b1tuXS5jYWxsYmFja3Muc2xpY2UoKTtvW25dLmNoaWxkRXZlbnRzLnB1c2goaSl9fWZ1bmN0aW9uIHUoZSx0KXtjb25zdCBvPWwoZSlbdF07aWYoIW8pcmV0dXJuW107bGV0IG49W28uY2FsbGJhY2tzXTtmb3IobGV0IHI9MDtyPG8uY2hpbGRFdmVudHMubGVuZ3RoO3IrKyl7Y29uc3QgdD11KGUsby5jaGlsZEV2ZW50c1tyXSk7bj1uLmNvbmNhdCh0KX1yZXR1cm4gbn1mdW5jdGlvbiBtKGUsdCl7bGV0IG87cmV0dXJuIGUuX2V2ZW50cyYmKG89ZS5fZXZlbnRzW3RdKSYmby5jYWxsYmFja3MubGVuZ3RoP28uY2FsbGJhY2tzOi0xPHQuaW5kZXhPZignOicpP20oZSx0LnN1YnN0cigwLHQubGFzdEluZGV4T2YoJzonKSkpOm51bGx9ZnVuY3Rpb24gcChlLHQsbyl7Zm9yKGxldFtuLGldb2YgZSl7aT8nZnVuY3Rpb24nPT10eXBlb2YgaSYmKGk9aSh0Lm5hbWUpKTppPXQubmFtZTtjb25zdCBlPW5ldyBaYSh0LnNvdXJjZSxpKTtlLnBhdGg9Wy4uLnQucGF0aF0sbi5maXJlKGUsLi4ubyl9fWZ1bmN0aW9uIGcoZSx0LG8pe2NvbnN0IG49dShlLHQpO2Zvcihjb25zdCByIG9mIG4pZm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspcltlXS5jYWxsYmFjaz09byYmKHIuc3BsaWNlKGUsMSksZS0tKX1mdW5jdGlvbiBmKGUsLi4udCl7dC5mb3JFYWNoKCh0KT0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKS5mb3JFYWNoKChvKT0+e2lmKCEobyBpbiBlLnByb3RvdHlwZSkpe2NvbnN0IG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG8pO24uZW51bWVyYWJsZT0hMSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsbyxuKX19KX0pfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9LTEsbz1lP2UubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bzspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKX19ZnVuY3Rpb24gYihlKXt2YXIgdD0tMSxvPWU/ZS5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrdDxvOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pfX1mdW5jdGlvbiBrKGUpe3ZhciB0PS0xLG89ZT9lLmxlbmd0aDowO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG87KXt2YXIgbj1lW3RdO3RoaXMuc2V0KG5bMF0sblsxXSl9fWZ1bmN0aW9uIF8oZSl7dGhpcy5fX2RhdGFfXz1uZXcgY3MoZSl9ZnVuY3Rpb24gdyhlLHQsbyl7dmFyIG49ZVt0XTtqcy5jYWxsKGUsdCkmJmFzKG4sbykmJihvIT09dm9pZCAwfHx0IGluIGUpfHwoZVt0XT1vKX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIEhzLmNhbGwoZSx0KXx8J29iamVjdCc9PXR5cGVvZiBlJiZ0IGluIGUmJm51bGw9PT16YShlKX1mdW5jdGlvbiB5KGUpe3JldHVybiB3bChPYmplY3QoZSkpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIHpsLmNhbGwoZSl9ZnVuY3Rpb24gQyhlLHQsbyxuLGkscixhKXt2YXIgcztpZihuJiYocz1yP24oZSxpLHIsYSk6bihlKSksdm9pZCAwIT09cylyZXR1cm4gcztpZighdXMoZSkpcmV0dXJuIGU7dmFyIGw9c2woZSk7aWYoIWwpe3ZhciBkPUtsKGUpLGM9ZD09dmR8fGQ9PXlkO2lmKE9iamVjdChfZC5hKShlKSlyZXR1cm4ga2woZSx0KTtpZihkPT14ZHx8ZD09d2R8fGMmJiFyKXtpZihqYShlKSlyZXR1cm4gcj9lOnt9O2lmKHM9a2QoYz97fTplKSwhdClyZXR1cm4geWwoZSxibChzLGUpKX1lbHNle2lmKCFDZFtkXSlyZXR1cm4gcj9lOnt9O3M9ZmQoZSxkLEMsdCl9fWVsc2UgaWYocz1KbChlKSwhdClyZXR1cm4gX2woZSxzKTthfHwoYT1uZXcgQnMpO3ZhciB1PWEuZ2V0KGUpO2lmKHUpcmV0dXJuIHU7aWYoYS5zZXQoZSxzKSwhbCl2YXIgbT1vP0FsKGUpOmhsKGUpO3JldHVybiBMcyhtfHxlLGZ1bmN0aW9uKGkscil7bSYmKHI9aSxpPWVbcl0pLHFzKHMscixDKGksdCxvLG4scixlLGEpKX0pLHN9ZnVuY3Rpb24gQShlLHQpe2NvbnN0IG89RGEoZS5sZW5ndGgsdC5sZW5ndGgpO2ZvcihsZXQgbj0wO248bztuKyspaWYoZVtuXSE9dFtuXSlyZXR1cm4gbjtyZXR1cm4gZS5sZW5ndGg9PXQubGVuZ3RoPydzYW1lJzplLmxlbmd0aDx0Lmxlbmd0aD8ncHJlZml4JzonZXh0ZW5zaW9uJ31mdW5jdGlvbiBUKGUpe2NvbnN0IHQ9bmV3IE1hcDtmb3IoY29uc3QgbyBpbiBlKXQuc2V0KG8sZVtvXSk7cmV0dXJuIHR9ZnVuY3Rpb24gUChlKXtyZXR1cm4hIShlJiZlW1N5bWJvbC5pdGVyYXRvcl0pfWZ1bmN0aW9uIEUoZSx0KXtpZignZnVuY3Rpb24nPT10eXBlb2YgdClyZXR1cm4gdChlKTtjb25zdCBvPXt9O3JldHVybiB0Lm5hbWUmJihvLm5hbWU9Uyh0Lm5hbWUsZS5uYW1lKSwhby5uYW1lKT9udWxsOnQuYXR0cmlidXRlcyYmKG8uYXR0cmlidXRlcz1PKHQuYXR0cmlidXRlcyxlKSwhby5hdHRyaWJ1dGVzKT9udWxsOiEodC5jbGFzc2VzJiYoby5jbGFzc2VzPVIodC5jbGFzc2VzLGUpLCFvLmNsYXNzZXMpKSYmISh0LnN0eWxlcyYmKG8uc3R5bGVzPUkodC5zdHlsZXMsZSksIW8uc3R5bGVzKSkmJm99ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgUmVnRXhwP2UudGVzdCh0KTplPT09dH1mdW5jdGlvbiBPKGUsdCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl07aWYodC5oYXNBdHRyaWJ1dGUobikpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUobik7aWYoITA9PT1pKW8ucHVzaChuKTtlbHNlIGlmKGkgaW5zdGFuY2VvZiBSZWdFeHApe2lmKGkudGVzdChlKSlvLnB1c2gobik7ZWxzZSByZXR1cm4gbnVsbDt9ZWxzZSBpZihlPT09aSlvLnB1c2gobik7ZWxzZSByZXR1cm4gbnVsbH1lbHNlIHJldHVybiBudWxsfXJldHVybiBvfWZ1bmN0aW9uIFIoZSx0KXtjb25zdCBvPVtdO2Zvcihjb25zdCBuIG9mIGUpaWYobiBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgZT10LmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgdCBvZiBlKW4udGVzdCh0KSYmby5wdXNoKHQpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm4gbnVsbH1lbHNlIGlmKHQuaGFzQ2xhc3Mobikpby5wdXNoKG4pO2Vsc2UgcmV0dXJuIG51bGw7cmV0dXJuIG99ZnVuY3Rpb24gSShlLHQpe2NvbnN0IG89W107Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dO2lmKHQuaGFzU3R5bGUobikpe2NvbnN0IGU9dC5nZXRTdHlsZShuKTtpZihpIGluc3RhbmNlb2YgUmVnRXhwKXtpZihpLnRlc3QoZSkpby5wdXNoKG4pO2Vsc2UgcmV0dXJuIG51bGw7fWVsc2UgaWYoZT09PWkpby5wdXNoKG4pO2Vsc2UgcmV0dXJuIG51bGx9ZWxzZSByZXR1cm4gbnVsbH1yZXR1cm4gb31mdW5jdGlvbiBWKGUpe2U9JGEoZSk/VChlKTpuZXcgTWFwKGUpO2Zvcihjb25zdFt0LG9db2YgZSludWxsPT09bz9lLmRlbGV0ZSh0KTonc3RyaW5nJyE9dHlwZW9mIG8mJmUuc2V0KHQsbysnJyk7cmV0dXJuIGV9ZnVuY3Rpb24gRihlLHQpe2xldCBvPW51bGwsbj0wLHI9MCxhPW51bGw7aWYoZS5jbGVhcigpLCcnIT09dCl7JzsnIT10LmNoYXJBdCh0Lmxlbmd0aC0xKSYmKHQrPSc7Jyk7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspe2NvbnN0IGk9dC5jaGFyQXQocyk7aWYobnVsbD09PW8pc3dpdGNoKGkpe2Nhc2UnOic6YXx8KGE9dC5zdWJzdHIobixzLW4pLHI9cysxKTticmVhaztjYXNlJ1wiJzpjYXNlJ1xcJyc6bz1pO2JyZWFrO2Nhc2UnOyc6Y29uc3QgbD10LnN1YnN0cihyLHMtcik7YSYmZS5zZXQoYS50cmltKCksbC50cmltKCkpLGE9bnVsbCxuPXMrMTt9ZWxzZSBpPT09byYmKG89bnVsbCl9fX1mdW5jdGlvbiBOKGUsdCl7Y29uc3Qgbz10LnNwbGl0KC9cXHMrLyk7ZS5jbGVhcigpLG8uZm9yRWFjaCgodCk9PmUuYWRkKHQpKX1mdW5jdGlvbiBNKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT9bbmV3IEVkKGUpXTooUChlKXx8KGU9W2VdKSxBcnJheS5mcm9tKGUpLm1hcCgoZSk9PidzdHJpbmcnPT10eXBlb2YgZT9uZXcgRWQoZSk6ZSBpbnN0YW5jZW9mIFNkP25ldyBFZChlLmRhdGEpOmUpKX1mdW5jdGlvbiBEKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRDaGlsZHJlbigpKWlmKCFlLmlzKCd1aUVsZW1lbnQnKSlyZXR1cm4gbnVsbDtyZXR1cm4gdGhpcy5jaGlsZENvdW50fWZ1bmN0aW9uIEIoZSx0LG8pe2lmKCF1cyhvKSlyZXR1cm4hMTt2YXIgbj10eXBlb2YgdDtyZXR1cm4hKCdudW1iZXInPT1uPyEoWnMobykmJnBsKHQsby5sZW5ndGgpKTohKCdzdHJpbmcnPT1uJiZ0IGluIG8pKSYmYXMob1t0XSxlKX1mdW5jdGlvbiBMKGUpe2U9bnVsbD09ZT9lOk9iamVjdChlKTt2YXIgdD1bXTtmb3IodmFyIG8gaW4gZSl0LnB1c2gobyk7cmV0dXJuIHR9ZnVuY3Rpb24geihlKXt1YyBpbiBlfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdWMse3ZhbHVlOm5ldyBNYXB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxtYyx7dmFsdWU6bmV3IE1hcH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHBjLHt2YWx1ZTpuZXcgTWFwfSkpfWZ1bmN0aW9uIGooLi4uZSl7Y29uc3QgdD1IKC4uLmUpLG89QXJyYXkuZnJvbSh0aGlzLl9iaW5kaW5ncy5rZXlzKCkpLG49by5sZW5ndGg7aWYoIXQuY2FsbGJhY2smJjE8dC50by5sZW5ndGgpdGhyb3cgbmV3IFlhKCdvYnNlcnZhYmxlLWJpbmQtdG8tbm8tY2FsbGJhY2s6IEJpbmRpbmcgbXVsdGlwbGUgb2JzZXJ2YWJsZXMgb25seSBwb3NzaWJsZSB3aXRoIGNhbGxiYWNrLicpO2lmKDE8biYmdC5jYWxsYmFjayl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtYmluZC10by1leHRyYS1jYWxsYmFjazogQ2Fubm90IGJpbmQgbXVsdGlwbGUgcHJvcGVydGllcyBhbmQgdXNlIGEgY2FsbGJhY2sgaW4gb25lIGJpbmRpbmcuJyk7dC50by5mb3JFYWNoKChlKT0+e2lmKGUucHJvcGVydGllcy5sZW5ndGgmJmUucHJvcGVydGllcy5sZW5ndGghPT1uKXRocm93IG5ldyBZYSgnb2JzZXJ2YWJsZS1iaW5kLXRvLXByb3BlcnRpZXMtbGVuZ3RoOiBUaGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgbXVzdCBtYXRjaC4nKTtlLnByb3BlcnRpZXMubGVuZ3RofHwoZS5wcm9wZXJ0aWVzPXRoaXMuX2JpbmRQcm9wZXJ0aWVzKX0pLHRoaXMuX3RvPXQudG8sdC5jYWxsYmFjayYmKHRoaXMuX2JpbmRpbmdzLmdldChvWzBdKS5jYWxsYmFjaz10LmNhbGxiYWNrKSxKKHRoaXMuX29ic2VydmFibGUsdGhpcy5fdG8pLEcodGhpcyksdGhpcy5fYmluZFByb3BlcnRpZXMuZm9yRWFjaCgoZSk9PnskKHRoaXMuX29ic2VydmFibGUsZSl9KX1mdW5jdGlvbiBxKGUsdCxvKXtpZigxPHRoaXMuX2JpbmRpbmdzLnNpemUpdGhyb3cgbmV3IFlhKCdvYnNlcnZhYmxlLWJpbmQtdG8tbWFueS1ub3Qtb25lLWJpbmRpbmc6IENhbm5vdCBiaW5kIG11bHRpcGxlIHByb3BlcnRpZXMgd2l0aCB0b01hbnkoKS4nKTt0aGlzLnRvKC4uLlcoZSx0KSxvKX1mdW5jdGlvbiBXKGUsdCl7Y29uc3Qgbz1lLm1hcCgoZSk9PltlLHRdKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxvKX1mdW5jdGlvbiBVKGUpe3JldHVybiBlLmV2ZXJ5KChlKT0+J3N0cmluZyc9PXR5cGVvZiBlKX1mdW5jdGlvbiBIKC4uLmUpe2lmKCFlLmxlbmd0aCl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtYmluZC10by1wYXJzZS1lcnJvcjogSW52YWxpZCBhcmd1bWVudCBzeW50YXggaW4gYHRvKClgLicpO2NvbnN0IHQ9e3RvOltdfTtsZXQgbztyZXR1cm4nZnVuY3Rpb24nPT10eXBlb2YgZVtlLmxlbmd0aC0xXSYmKHQuY2FsbGJhY2s9ZS5wb3AoKSksZS5mb3JFYWNoKChlKT0+e2lmKCdzdHJpbmcnPT10eXBlb2YgZSlvLnByb3BlcnRpZXMucHVzaChlKTtlbHNlIGlmKCdvYmplY3QnPT10eXBlb2YgZSlvPXtvYnNlcnZhYmxlOmUscHJvcGVydGllczpbXX0sdC50by5wdXNoKG8pO2Vsc2UgdGhyb3cgbmV3IFlhKCdvYnNlcnZhYmxlLWJpbmQtdG8tcGFyc2UtZXJyb3I6IEludmFsaWQgYXJndW1lbnQgc3ludGF4IGluIGB0bygpYC4nKX0pLHR9ZnVuY3Rpb24gSyhlLHQsbyxuKXtjb25zdCBpPWVbbWNdLHI9aS5nZXQobyksYT1yfHx7fTthW25dfHwoYVtuXT1uZXcgU2V0KSxhW25dLmFkZCh0KSxyfHxpLnNldChvLGEpfWZ1bmN0aW9uIEcoZSl7bGV0IHQ7ZS5fYmluZGluZ3MuZm9yRWFjaCgobyxuKT0+e2UuX3RvLmZvckVhY2goKGkpPT57dD1pLnByb3BlcnRpZXNbby5jYWxsYmFjaz8wOmUuX2JpbmRQcm9wZXJ0aWVzLmluZGV4T2YobildLG8udG8ucHVzaChbaS5vYnNlcnZhYmxlLHRdKSxLKGUuX29ic2VydmFibGUsbyxpLm9ic2VydmFibGUsdCl9KX0pfWZ1bmN0aW9uICQoZSx0KXtjb25zdCBvPWVbcGNdLG49by5nZXQodCk7bGV0IGk7bi5jYWxsYmFjaz9pPW4uY2FsbGJhY2suYXBwbHkoZSxuLnRvLm1hcCgoZSk9PmVbMF1bZVsxXV0pKTooaT1uLnRvWzBdLGk9aVswXVtpWzFdXSksZS5oYXNPd25Qcm9wZXJ0eSh0KT9lW3RdPWk6ZS5zZXQodCxpKX1mdW5jdGlvbiBKKGUsdCl7dC5mb3JFYWNoKCh0KT0+e2NvbnN0IG89ZVttY107bGV0IG47by5nZXQodC5vYnNlcnZhYmxlKXx8ZS5saXN0ZW5Ubyh0Lm9ic2VydmFibGUsJ2NoYW5nZScsKGkscik9PntuPW8uZ2V0KHQub2JzZXJ2YWJsZSlbcl0sbiYmbi5mb3JFYWNoKCh0KT0+eyQoZSx0LnByb3BlcnR5KX0pfSl9KX1mdW5jdGlvbiBRKGUpe3JldHVybiEhKGUuaXRlbS5pcygnYXR0cmlidXRlRWxlbWVudCcpfHxlLml0ZW0uaXMoJ3VpRWxlbWVudCcpKX1mdW5jdGlvbiBZKGUpe2xldCB0PTA7Zm9yKGNvbnN0IG8gb2YgZSl0Kys7cmV0dXJuIHR9ZnVuY3Rpb24gWCgpe2lmKFoodGhpcykpcmV0dXJuIG51bGw7bGV0IGU9dGhpcy5wYXJlbnQ7Zm9yKDtlJiZlLmlzKCdhdHRyaWJ1dGVFbGVtZW50Jyk7KXtpZigxPFooZSkpcmV0dXJuIG51bGw7ZT1lLnBhcmVudH1yZXR1cm4hZXx8MTxaKGUpP251bGw6dGhpcy5jaGlsZENvdW50fWZ1bmN0aW9uIFooZSl7cmV0dXJuIEFycmF5LmZyb20oZS5nZXRDaGlsZHJlbigpKS5maWx0ZXIoKGUpPT4hZS5pcygndWlFbGVtZW50JykpLmxlbmd0aH1mdW5jdGlvbiBlZSgpe3JldHVybiBudWxsfWZ1bmN0aW9uIHRlKGUpe2xldCB0O2lmKCdzdHJpbmcnIT10eXBlb2YgZSl0PWUua2V5Q29kZSsoZS5hbHRLZXk/TmMuYWx0OjApKyhlLmN0cmxLZXk/TmMuY3RybDowKSsoZS5zaGlmdEtleT9OYy5zaGlmdDowKTtlbHNlIGlmKHQ9TmNbZS50b0xvd2VyQ2FzZSgpXSwhdCl0aHJvdyBuZXcgWWEoJ2tleWJvYXJkLXVua25vd24ta2V5OiBVbmtub3duIGtleSBuYW1lLicse2tleTplfSk7cmV0dXJuIHR9ZnVuY3Rpb24gb2UoZSl7cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlJiYoZT1pZShlKSksZS5tYXAoKGUpPT4nc3RyaW5nJz09dHlwZW9mIGU/dGUoZSk6ZSkucmVkdWNlKChlLHQpPT50K2UsMCl9ZnVuY3Rpb24gbmUoZSl7cmV0dXJuIEljLmlzTWFjP2llKGUpLm1hcCgoZSk9PkZjW2UudG9Mb3dlckNhc2UoKV18fGUpLnJlZHVjZSgoZSx0KT0+ZS5zbGljZSgtMSlpbiBWYz9lK3Q6ZSsnKycrdCk6ZX1mdW5jdGlvbiBpZShlKXtyZXR1cm4gZS5zcGxpdCgvXFxzKlxcK1xccyovKX1mdW5jdGlvbiByZShlKXtlLmRvY3VtZW50Lm9uKCdrZXlkb3duJywodCxvKT0+c2UodCxvLGUuZG9tQ29udmVydGVyKSl9ZnVuY3Rpb24gYWUoKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBzZShlLHQsbyl7aWYodC5rZXlDb2RlPT1OYy5hcnJvd3JpZ2h0KXtjb25zdCBlPXQuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCksbj0xPT1lLnJhbmdlQ291bnQmJmUuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQ7aWYobnx8dC5zaGlmdEtleSl7Y29uc3QgdD1lLmZvY3VzTm9kZSxpPWUuZm9jdXNPZmZzZXQscj1vLmRvbVBvc2l0aW9uVG9WaWV3KHQsaSk7aWYobnVsbD09PXIpcmV0dXJuO2xldCBhPSExO2NvbnN0IHM9ci5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbigoZSk9PihlLml0ZW0uaXMoJ3VpRWxlbWVudCcpJiYoYT0hMCksISEoZS5pdGVtLmlzKCd1aUVsZW1lbnQnKXx8ZS5pdGVtLmlzKCdhdHRyaWJ1dGVFbGVtZW50JykpKSk7aWYoYSl7Y29uc3QgdD1vLnZpZXdQb3NpdGlvblRvRG9tKHMpO24/ZS5jb2xsYXBzZSh0LnBhcmVudCx0Lm9mZnNldCk6ZS5leHRlbmQodC5wYXJlbnQsdC5vZmZzZXQpfX19fWZ1bmN0aW9uIGxlKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT9bbmV3IEVkKGUpXTooUChlKXx8KGU9W2VdKSxBcnJheS5mcm9tKGUpLm1hcCgoZSk9PidzdHJpbmcnPT10eXBlb2YgZT9uZXcgRWQoZSk6ZSBpbnN0YW5jZW9mIFNkP25ldyBFZChlLmRhdGEpOmUpKX1mdW5jdGlvbiBkZShlKXtyZXR1cm4gQXJyYXkuZnJvbShlLmdldENoaWxkcmVuKCkpLnNvbWUoKGUpPT4hZS5pcygndWlFbGVtZW50JykpfWZ1bmN0aW9uIGNlKGUpe2xldCB0PWUucGFyZW50O2Zvcig7IWJlKHQpOyl7aWYoIXQpcmV0dXJuO3Q9dC5wYXJlbnR9cmV0dXJuIHR9ZnVuY3Rpb24gdWUoZSx0KXtpZihlLnByaW9yaXR5PHQucHJpb3JpdHkpcmV0dXJuITA7cmV0dXJuIShlLnByaW9yaXR5PnQucHJpb3JpdHkpJiZlLmdldElkZW50aXR5KCk8dC5nZXRJZGVudGl0eSgpfWZ1bmN0aW9uIG1lKGUpe2NvbnN0IHQ9ZS5ub2RlQmVmb3JlO2lmKHQmJnQuaXMoJ3RleHQnKSlyZXR1cm4gbmV3IHZjKHQsdC5kYXRhLmxlbmd0aCk7Y29uc3Qgbz1lLm5vZGVBZnRlcjtyZXR1cm4gbyYmby5pcygndGV4dCcpP25ldyB2YyhvLDApOmV9ZnVuY3Rpb24gcGUoZSl7aWYoZS5vZmZzZXQ9PWUucGFyZW50LmRhdGEubGVuZ3RoKXJldHVybiBuZXcgdmMoZS5wYXJlbnQucGFyZW50LGUucGFyZW50LmluZGV4KzEpO2lmKDA9PT1lLm9mZnNldClyZXR1cm4gbmV3IHZjKGUucGFyZW50LnBhcmVudCxlLnBhcmVudC5pbmRleCk7Y29uc3QgdD1lLnBhcmVudC5kYXRhLnNsaWNlKGUub2Zmc2V0KTtyZXR1cm4gZS5wYXJlbnQuX2RhdGE9ZS5wYXJlbnQuZGF0YS5zbGljZSgwLGUub2Zmc2V0KSxlLnBhcmVudC5wYXJlbnQuX2luc2VydENoaWxkKGUucGFyZW50LmluZGV4KzEsbmV3IEVkKHQpKSxuZXcgdmMoZS5wYXJlbnQucGFyZW50LGUucGFyZW50LmluZGV4KzEpfWZ1bmN0aW9uIGdlKGUsdCl7Y29uc3Qgbz1lLmRhdGEubGVuZ3RoO3JldHVybiBlLl9kYXRhKz10LmRhdGEsdC5fcmVtb3ZlKCksbmV3IHZjKGUsbyl9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGUuc3RhcnQucGFyZW50PT1lLmVuZC5wYXJlbnQmJmUuc3RhcnQucGFyZW50LmlzKCdhdHRyaWJ1dGVFbGVtZW50JykmJjA9PT1lLnN0YXJ0Lm9mZnNldCYmZS5lbmQub2Zmc2V0PT09ZS5zdGFydC5wYXJlbnQuY2hpbGRDb3VudH1mdW5jdGlvbiBoZShlKXtmb3IoY29uc3QgdCBvZiBlKXtpZighTGMuc29tZSgoZSk9PnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgWWEoJ3ZpZXctd3JpdGVyLWluc2VydC1pbnZhbGlkLW5vZGUnKTt0LmlzKCd0ZXh0Jyl8fGhlKHQuZ2V0Q2hpbGRyZW4oKSl9fWZ1bmN0aW9uIGJlKGUpe3JldHVybiBlJiYoZS5pcygnY29udGFpbmVyRWxlbWVudCcpfHxlLmlzKCdkb2N1bWVudEZyYWdtZW50JykpfWZ1bmN0aW9uIGtlKGUpe2NvbnN0IHQ9Y2UoZS5zdGFydCksbz1jZShlLmVuZCk7aWYoIXR8fCFvfHx0IT09byl0aHJvdyBuZXcgWWEoJ3ZpZXctd3JpdGVyLWludmFsaWQtcmFuZ2UtY29udGFpbmVyJyl9ZnVuY3Rpb24gX2UoZSx0KXtyZXR1cm4gbnVsbD09PWUuaWQmJm51bGw9PT10LmlkfWZ1bmN0aW9uIHdlKGUpe3JldHVybiBlIGluc3RhbmNlb2YgVGV4dCYmZS5kYXRhLnN1YnN0cigwLHFjKT09PVdjfWZ1bmN0aW9uIHZlKGUpe3JldHVybiBlLmRhdGEubGVuZ3RoPT1xYyYmd2UoZSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIHdlKGUpP2UuZGF0YS5zbGljZShxYyk6ZS5kYXRhfWZ1bmN0aW9uIHhlKGUsdCl7bGV0IG89VWMuZ2V0KHQpO3JldHVybiBvfHwobz10KHdpbmRvdy5kb2N1bWVudCksVWMuc2V0KHQsbykpLGUuaXNFcXVhbE5vZGUobyl9ZnVuY3Rpb24gQ2UoZSl7ZS5kb2N1bWVudC5vbigna2V5ZG93bicsQWUpfWZ1bmN0aW9uIEFlKGUsdCl7aWYodC5rZXlDb2RlPT1OYy5hcnJvd2xlZnQpe2NvbnN0IGU9dC5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZigxPT1lLnJhbmdlQ291bnQmJmUuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQpe2NvbnN0IHQ9ZS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyLG89ZS5nZXRSYW5nZUF0KDApLnN0YXJ0T2Zmc2V0O3dlKHQpJiZvPD1xYyYmZS5jb2xsYXBzZSh0LDApfX19ZnVuY3Rpb24gVGUoZSx0LG8pe2Z1bmN0aW9uIGkobil7Y29uc3QgaT0oY1tuLTFdPT09dm9pZCAwPy0xOmNbbi0xXSkrMSx1PWNbbisxXT09PXZvaWQgMD8tMTpjW24rMV0sbT1pPnU/LTE6MTtkW24rbV0mJihkW25dPWRbbittXS5zbGljZSgwKSksZFtuXXx8KGRbbl09W10pLGRbbl0ucHVzaChpPnU/cjphKTtsZXQgcD1NYShpLHUpLGc9cC1uO2Zvcig7ZzxzJiZwPGwmJm8oZVtnXSx0W3BdKTspZysrLHArKyxkW25dLnB1c2goJ2VxdWFsJyk7cmV0dXJuIHB9bz1vfHxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dH07bGV0IHIsYTtpZih0Lmxlbmd0aDxlLmxlbmd0aCl7Y29uc3Qgbz1lO2U9dCx0PW8scj0nZGVsZXRlJyxhPSdpbnNlcnQnfWVsc2Ugcj0naW5zZXJ0JyxhPSdkZWxldGUnO2NvbnN0IHM9ZS5sZW5ndGgsbD10Lmxlbmd0aCxuPWwtcyxkPXt9LGM9e307bGV0IHU9MCxtO2Rve2ZvcihtPS11O208bjttKyspY1ttXT1pKG0pO2ZvcihtPW4rdTttPm47bS0tKWNbbV09aShtKTtjW25dPWkobiksdSsrfXdoaWxlKGNbbl0hPT1sKTtyZXR1cm4gZFtuXS5zbGljZSgxKX1mdW5jdGlvbiBQZShlLHQsbyl7ZS5pbnNlcnRCZWZvcmUobyxlLmNoaWxkTm9kZXNbdF18fG51bGwpfWZ1bmN0aW9uIEVlKGUpe2NvbnN0IHQ9ZS5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuJ1tvYmplY3QgVGV4dF0nPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gT2UoZSl7aWYoJ2ZhbHNlJz09ZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKXJldHVybiExO2NvbnN0IHQ9ZS5maW5kQW5jZXN0b3IoKGUpPT5lLmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpO3JldHVybiF0fHwndHJ1ZSc9PXQuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKX1mdW5jdGlvbiBSZShlKXtsZXQgdD0wO2Zvcig7ZS5wcmV2aW91c1NpYmxpbmc7KWU9ZS5wcmV2aW91c1NpYmxpbmcsdCsrO3JldHVybiB0fWZ1bmN0aW9uIEllKGUpe2NvbnN0IHQ9W107Zm9yKDtlJiZlLm5vZGVUeXBlIT1Ob2RlLkRPQ1VNRU5UX05PREU7KXQudW5zaGlmdChlKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gdH1mdW5jdGlvbiBWZShlLHQpe2NvbnN0IG89SWUoZSksbj1JZSh0KTtsZXQgcj0wO2Zvcig7b1tyXT09bltyXSYmb1tyXTspcisrO3JldHVybiAwPT1yP251bGw6b1tyLTFdfWZ1bmN0aW9uIEZlKGUsdCxvKXtsZXQgbj1JZShlKTtyZXR1cm4gbyYmKG49bi5zbGljZShuLmluZGV4T2YobykrMSkpLG4uc29tZSgoZSk9PmUudGFnTmFtZSYmdC5pbmNsdWRlcyhlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpfWZ1bmN0aW9uIE5lKGUsdCl7Zm9yKDtlJiZlIT1LYy5kb2N1bWVudDspdChlKSxlPWUucGFyZW50Tm9kZX1mdW5jdGlvbiBNZShlKXtpZihlKXtpZihlLmRlZmF1bHRWaWV3KXJldHVybiBlIGluc3RhbmNlb2YgZS5kZWZhdWx0Vmlldy5Eb2N1bWVudDtpZihlLm93bmVyRG9jdW1lbnQmJmUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gZSBpbnN0YW5jZW9mIGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5Ob2RlfXJldHVybiExfWZ1bmN0aW9uIERlKGUpe3JldHVybidbb2JqZWN0IFdpbmRvd10nPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGUpfWZ1bmN0aW9uIEJlKGUpe3JldHVybiBlWydkYXRhLWNrLWV4cGFuZG8nXXx8KGVbJ2RhdGEtY2stZXhwYW5kbyddPWkoKSl9ZnVuY3Rpb24gTGUoZSl7dmFyIHQ9LTEsbz1lP2UubGVuZ3RoOjA7Zm9yKHRoaXMuX19kYXRhX189bmV3IERzOysrdDxvOyl0aGlzLmFkZChlW3RdKX1mdW5jdGlvbiB6ZShlLHQsbyxuLGkscil7dmFyIGE9aSZpdSxzPWhsKGUpLGw9cy5sZW5ndGgsZD1obCh0KSxjPWQubGVuZ3RoO2lmKGwhPWMmJiFhKXJldHVybiExO2Zvcih2YXIgdT1sLG07dS0tOylpZihtPXNbdV0sYT8hKG0gaW4gdCk6IUtzKHQsbSkpcmV0dXJuITE7dmFyIHA9ci5nZXQoZSk7aWYocClyZXR1cm4gcD09dDt2YXIgZz0hMDtyLnNldChlLHQpO2Zvcih2YXIgZj1hOysrdTxsOyl7bT1zW3VdO3ZhciBoPWVbbV0sYj10W21dO2lmKG4pdmFyIGs9YT9uKGIsaCxtLHQsZSxyKTpuKGgsYixtLGUsdCxyKTtpZih2b2lkIDA9PT1rPyEoaD09PWJ8fG8oaCxiLG4saSxyKSk6IWspe2c9ITE7YnJlYWt9Znx8KGY9J2NvbnN0cnVjdG9yJz09bSl9aWYoZyYmIWYpe3ZhciBfPWUuY29uc3RydWN0b3Isdz10LmNvbnN0cnVjdG9yO18hPXcmJidjb25zdHJ1Y3RvcidpbiBlJiYnY29uc3RydWN0b3InaW4gdCYmISgnZnVuY3Rpb24nPT10eXBlb2YgXyYmXyBpbnN0YW5jZW9mIF8mJidmdW5jdGlvbic9PXR5cGVvZiB3JiZ3IGluc3RhbmNlb2YgdykmJihnPSExKX1yZXR1cm4gclsnZGVsZXRlJ10oZSksZ31mdW5jdGlvbiBqZShlLHQsbyxuLGkpe3JldHVybiEoZSE9PXQpfHwobnVsbCE9ZSYmbnVsbCE9dCYmKHVzKGUpfHxxYSh0KSk/Z3UoZSx0LGplLG8sbixpKTplIT09ZSYmdCE9PXQpfWZ1bmN0aW9uIHFlKGUsdCxvKXtmdW5jdGlvbiBuKHQpe3ZhciBvPWIsbj1rO3JldHVybiBiPWs9dm9pZCAwLHA9dCx3PWUuYXBwbHkobixvKSx3fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHA9ZSx2PXNldFRpbWVvdXQocyx0KSxnP24oZSk6d31mdW5jdGlvbiByKGUpe3ZhciBvPWUtbSxuPWUtcCxpPXQtbztyZXR1cm4gZj9BdShpLF8tbik6aX1mdW5jdGlvbiBhKGUpe3ZhciBvPWUtbSxuPWUtcDtyZXR1cm4hbXx8bz49dHx8MD5vfHxmJiZuPj1ffWZ1bmN0aW9uIHMoKXt2YXIgZT15dSgpO3JldHVybiBhKGUpP2woZSk6dm9pZCh2PXNldFRpbWVvdXQocyxyKGUpKSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4oY2xlYXJUaW1lb3V0KHYpLHY9dm9pZCAwLGgmJmIpP24oZSk6KGI9az12b2lkIDAsdyl9ZnVuY3Rpb24gZCgpe3ZvaWQgMCE9PXYmJmNsZWFyVGltZW91dCh2KSxtPXA9MCxiPWs9dj12b2lkIDB9ZnVuY3Rpb24gYygpe3JldHVybiB2b2lkIDA9PT12P3c6bCh5dSgpKX1mdW5jdGlvbiB1KCl7dmFyIGU9eXUoKSxvPWEoZSk7aWYoYj1hcmd1bWVudHMsaz10aGlzLG09ZSxvKXtpZih2b2lkIDA9PT12KXJldHVybiBpKG0pO2lmKGYpcmV0dXJuIGNsZWFyVGltZW91dCh2KSx2PXNldFRpbWVvdXQocyx0KSxuKG0pfXJldHVybiB2b2lkIDA9PT12JiYodj1zZXRUaW1lb3V0KHMsdCkpLHd9dmFyIG09MCxwPTAsZz0hMSxmPSExLGg9ITAsYixrLF8sdyx2O2lmKCdmdW5jdGlvbichPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoeHUpO3JldHVybiB0PVVkKHQpfHwwLHVzKG8pJiYoZz0hIW8ubGVhZGluZyxmPSdtYXhXYWl0J2luIG8sXz1mP0N1KFVkKG8ubWF4V2FpdCl8fDAsdCk6XyxoPSd0cmFpbGluZydpbiBvPyEhby50cmFpbGluZzpoKSx1LmNhbmNlbD1kLHUuZmx1c2g9Yyx1fWZ1bmN0aW9uIFdlKGUpe3JldHVybiBlPT1OYy5hcnJvd3JpZ2h0fHxlPT1OYy5hcnJvd2xlZnR8fGU9PU5jLmFycm93dXB8fGU9PU5jLmFycm93ZG93bn1mdW5jdGlvbiBVZShlKXtyZXR1cm4nW29iamVjdCBSYW5nZV0nPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGUpfWZ1bmN0aW9uIEhlKGUpe2NvbnN0IHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSk7cmV0dXJue3RvcDpwYXJzZUludCh0LmJvcmRlclRvcFdpZHRoLDEwKSxyaWdodDpwYXJzZUludCh0LmJvcmRlclJpZ2h0V2lkdGgsMTApLGJvdHRvbTpwYXJzZUludCh0LmJvcmRlckJvdHRvbVdpZHRoLDEwKSxsZWZ0OnBhcnNlSW50KHQuYm9yZGVyTGVmdFdpZHRoLDEwKX19ZnVuY3Rpb24gS2UoZSx0KXtmb3IoY29uc3QgbyBvZiBOdSllW29dPXRbb119ZnVuY3Rpb24gR2UoZSl7cmV0dXJuISFWdShlKSYmZT09PWUub3duZXJEb2N1bWVudC5ib2R5fWZ1bmN0aW9uICRlKHt0YXJnZXQ6ZSx2aWV3cG9ydE9mZnNldDp0PTB9KXtjb25zdCBvPXR0KGUpO2ZvcihsZXQgbj1vLGk9bnVsbDtuOyl7bGV0IHI7cj1uPT1vP250KGUpOm50KGkpLFFlKHIsKCk9Pml0KGUsbikpO2NvbnN0IGE9aXQoZSxuKTtKZShuLGEsdCksbi5wYXJlbnQ9PW4/bj1udWxsOihpPW4uZnJhbWVFbGVtZW50LG49bi5wYXJlbnQpfX1mdW5jdGlvbiBKZShlLHQsbyl7Y29uc3Qgbj10LmNsb25lKCkubW92ZUJ5KDAsbyksaT10LmNsb25lKCkubW92ZUJ5KDAsLW8pLHI9bmV3IEZ1KGUpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpO2lmKCFbaSxuXS5ldmVyeSgoZSk9PnIuY29udGFpbnMoZSkpKXtsZXR7c2Nyb2xsWDphLHNjcm9sbFk6c309ZTtYZShpLHIpP3MtPXIudG9wLXQudG9wK286WWUobixyKSYmKHMrPXQuYm90dG9tLXIuYm90dG9tK28pLFplKHQscik/YS09ci5sZWZ0LXQubGVmdCtvOmV0KHQscikmJihhKz10LnJpZ2h0LXIucmlnaHQrbyksZS5zY3JvbGxUbyhhLHMpfX1mdW5jdGlvbiBRZShlLHQpe2NvbnN0IG89dHQoZSk7Zm9yKGxldCBuLGk7ZSE9by5kb2N1bWVudC5ib2R5OylpPXQoKSxuPW5ldyBGdShlKS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKSxuLmNvbnRhaW5zKGkpfHwoWGUoaSxuKT9lLnNjcm9sbFRvcC09bi50b3AtaS50b3A6WWUoaSxuKSYmKGUuc2Nyb2xsVG9wKz1pLmJvdHRvbS1uLmJvdHRvbSksWmUoaSxuKT9lLnNjcm9sbExlZnQtPW4ubGVmdC1pLmxlZnQ6ZXQoaSxuKSYmKGUuc2Nyb2xsTGVmdCs9aS5yaWdodC1uLnJpZ2h0KSksZT1lLnBhcmVudE5vZGV9ZnVuY3Rpb24gWWUoZSx0KXtyZXR1cm4gZS5ib3R0b20+dC5ib3R0b219ZnVuY3Rpb24gWGUoZSx0KXtyZXR1cm4gZS50b3A8dC50b3B9ZnVuY3Rpb24gWmUoZSx0KXtyZXR1cm4gZS5sZWZ0PHQubGVmdH1mdW5jdGlvbiBldChlLHQpe3JldHVybiBlLnJpZ2h0PnQucmlnaHR9ZnVuY3Rpb24gdHQoZSl7cmV0dXJuIFVlKGUpP2Uuc3RhcnRDb250YWluZXIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzplLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd9ZnVuY3Rpb24gbnQoZSl7aWYoVWUoZSkpe2xldCB0PWUuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIFNlKHQpJiYodD10LnBhcmVudE5vZGUpLHR9cmV0dXJuIGUucGFyZW50Tm9kZX1mdW5jdGlvbiBpdChlLHQpe2NvbnN0IG89dHQoZSksbj1uZXcgRnUoZSk7aWYobz09PXQpcmV0dXJuIG47Zm9yKGxldCBpPW87aSE9dDspe2NvbnN0IGU9aS5mcmFtZUVsZW1lbnQsdD1uZXcgRnUoZSkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCk7bi5tb3ZlQnkodC5sZWZ0LHQudG9wKSxpPWkucGFyZW50fXJldHVybiBufWZ1bmN0aW9uIHJ0KGUpe3JldHVybiAkYShlKT9UKGUpOm5ldyBNYXAoZSl9ZnVuY3Rpb24gYXQoZSl7cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlP1tuZXcgQnUoZSldOihQKGUpfHwoZT1bZV0pLEFycmF5LmZyb20oZSkubWFwKChlKT0+J3N0cmluZyc9PXR5cGVvZiBlP25ldyBCdShlKTplIGluc3RhbmNlb2YgTHU/bmV3IEJ1KGUuZGF0YSxlLmdldEF0dHJpYnV0ZXMoKSk6ZSkpfWZ1bmN0aW9uIHN0KGUsdCxvLG4saSl7cmV0dXJue2RvbmU6ITEsdmFsdWU6e3R5cGU6ZSxpdGVtOnQscHJldmlvdXNQb3NpdGlvbjpvLG5leHRQb3NpdGlvbjpuLGxlbmd0aDppfX19ZnVuY3Rpb24gbHQoZSl7Y29uc3QgdD1lLnNwbGl0KCc6Jyk7cmV0dXJuIDE8dC5sZW5ndGg/dFswXSsnOicrdFsxXTp0WzBdfWZ1bmN0aW9uIGR0KGUsdCxvKXtjb25zdCBuPXQuZ2V0UmFuZ2UoKSxpPUFycmF5LmZyb20oZS5nZXRBbmNlc3RvcnMoKSk7aS5zaGlmdCgpLGkucmV2ZXJzZSgpO2NvbnN0IHI9aS5zb21lKChlKT0+e2lmKG4uY29udGFpbnNJdGVtKGUpKXtjb25zdCB0PW8udG9WaWV3RWxlbWVudChlKTtyZXR1cm4hIXQuZ2V0Q3VzdG9tUHJvcGVydHkoJ2FkZEhpZ2hsaWdodCcpfX0pO3JldHVybiFyfWZ1bmN0aW9uIGN0KGUsdCl7cmV0dXJuIXQuaGFzKGUpJiYodC5hZGQoZSksZS5kb2N1bWVudC5tb2RlbC5zY2hlbWEuaXNCbG9jayhlKSYmZS5wYXJlbnQpfWZ1bmN0aW9uIHV0KGUsdCl7Y29uc3Qgbz1lLnBhcmVudC5nZXRBbmNlc3RvcnMoe3BhcmVudEZpcnN0OiEwLGluY2x1ZGVTZWxmOiEwfSksbj1vLmZpbmQoKGUpPT5jdChlLHQpKTtyZXR1cm4gby5mb3JFYWNoKChlKT0+dC5hZGQoZSkpLG59ZnVuY3Rpb24gbXQoKXtjb25zdCBlPW5ldyBTZXQoWydpbnNlcnQnLCdtb3ZlJywncmVtb3ZlJywncmVpbnNlcnQnXSk7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsJ2FwcGx5T3BlcmF0aW9uJywodCxvKT0+e2NvbnN0IG49b1swXTshbi5pc0RvY3VtZW50T3BlcmF0aW9ufHxlLmhhcyhuLnR5cGUpJiZwdC5jYWxsKHRoaXMsbil9LHtwcmlvcml0eTonbG93J30pfWZ1bmN0aW9uIHB0KGUpe2NvbnN0IHQ9ZS50eXBlLG89ZS5kZWx0YS5iYXRjaDtsZXQgbixpOydpbnNlcnQnPT10P249SHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wb3NpdGlvbixlLm5vZGVzLm1heE9mZnNldCk6KG49SHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSxlLmhvd01hbnkpLGk9ZS5zb3VyY2VQb3NpdGlvbik7Y29uc3Qgcj1uLmVuZC5vZmZzZXQtbi5zdGFydC5vZmZzZXQ7bGV0IGE9bi5zdGFydDsoJ21vdmUnPT10fHwncmVtb3ZlJz09dHx8J3JlaW5zZXJ0Jz09dCkmJihhPWEuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oaSxyKSk7Y29uc3Qgcz10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5RG9jdW1lbnRDaGFuZ2UodCxlLmRlbHRhLnR5cGUsYSxyLGkpOygnbW92ZSc9PXR8fCdyZW1vdmUnPT10fHwncmVpbnNlcnQnPT10KSYmMz09cy5sZW5ndGgmJihzWzJdPW4pO2NvbnN0IGw9SHUuY3JlYXRlRnJvbVJhbmdlcyhzKSxkPSFsLmlzRXF1YWwodGhpcyksYz10aGlzLmNvbnRhaW5zUG9zaXRpb24oYSksdT1pJiYodGhpcy5jb250YWluc1Bvc2l0aW9uKGkpfHx0aGlzLnN0YXJ0LmlzRXF1YWwoaSkpO2lmKGQpe2NvbnN0IGU9SHUuY3JlYXRlRnJvbVJhbmdlKHRoaXMpO3RoaXMuc3RhcnQ9bC5zdGFydCx0aGlzLmVuZD1sLmVuZCx0aGlzLmZpcmUoJ2NoYW5nZTpyYW5nZScsZSx7dHlwZTp0LGJhdGNoOm8scmFuZ2U6bixzb3VyY2VQb3NpdGlvbjppfSl9ZWxzZShjfHx1KSYmdGhpcy5maXJlKCdjaGFuZ2U6Y29udGVudCcsSHUuY3JlYXRlRnJvbVJhbmdlKHRoaXMpLHt0eXBlOnQsYmF0Y2g6byxyYW5nZTpuLHNvdXJjZVBvc2l0aW9uOml9KX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEx1fHxlIGluc3RhbmNlb2YgQnU/ZS5nZXRBdHRyaWJ1dGVzKCk6bnVsbH1mdW5jdGlvbiBmdChlLHQpe2NvbnN0IG89ZS5kb2N1bWVudC5kaWZmZXI7Zm9yKGNvbnN0IG4gb2Ygby5nZXRDaGFuZ2VzKCkpe2lmKCdpbnNlcnQnIT1uLnR5cGUpY29udGludWU7Y29uc3Qgbz1uLnBvc2l0aW9uLnBhcmVudCxpPW4ubGVuZ3RoPT09by5tYXhPZmZzZXQ7aSYmZS5lbnF1ZXVlQ2hhbmdlKHQsKGUpPT57Y29uc3QgdD1BcnJheS5mcm9tKG8uZ2V0QXR0cmlidXRlS2V5cygpKS5maWx0ZXIoKGUpPT5lLnN0YXJ0c1dpdGgoWXUpKTtmb3IoY29uc3QgbiBvZiB0KWUucmVtb3ZlQXR0cmlidXRlKG4sbyl9KX19ZnVuY3Rpb24gaHQoZSl7cmV0dXJuIGU9ZW0oZSksZS52aWV3PV90KGUudmlldywnY29udGFpbmVyJyksKHQpPT57dC5vbignaW5zZXJ0OicrZS5tb2RlbCx4dChlLnZpZXcpLHtwcmlvcml0eTplLnByaW9yaXR5fHwnbm9ybWFsJ30pfX1mdW5jdGlvbiBidChlKXtlPWVtKGUpO2NvbnN0IHQ9ZS5tb2RlbC5rZXk/ZS5tb2RlbC5rZXk6ZS5tb2RlbDtsZXQgbz0nYXR0cmlidXRlOicrdDtpZihlLm1vZGVsLm5hbWUmJihvKz0nOicrZS5tb2RlbC5uYW1lKSxlLm1vZGVsLnZhbHVlcylmb3IoY29uc3QgdCBvZiBlLm1vZGVsLnZhbHVlcyllLnZpZXdbdF09X3QoZS52aWV3W3RdLCdhdHRyaWJ1dGUnKTtlbHNlIGUudmlldz1fdChlLnZpZXcsJ2F0dHJpYnV0ZScpO2NvbnN0IG49dnQoZSk7cmV0dXJuKHQpPT57dC5vbihvLFB0KG4pLHtwcmlvcml0eTplLnByaW9yaXR5fHwnbm9ybWFsJ30pfX1mdW5jdGlvbiBrdChlKXtlPWVtKGUpO2NvbnN0IHQ9ZS5tb2RlbC5rZXk/ZS5tb2RlbC5rZXk6ZS5tb2RlbDtsZXQgbz0nYXR0cmlidXRlOicrdDtpZihlLm1vZGVsLm5hbWUmJihvKz0nOicrZS5tb2RlbC5uYW1lKSxlLm1vZGVsLnZhbHVlcylmb3IoY29uc3QgdCBvZiBlLm1vZGVsLnZhbHVlcyllLnZpZXdbdF09eXQoZS52aWV3W3RdKTtlbHNlIGUudmlldz15dChlLnZpZXcpO2NvbnN0IG49dnQoZSk7cmV0dXJuKHQpPT57dC5vbihvLFR0KG4pLHtwcmlvcml0eTplLnByaW9yaXR5fHwnbm9ybWFsJ30pfX1mdW5jdGlvbiBfdChlLHQpe3JldHVybidmdW5jdGlvbic9PXR5cGVvZiBlP2U6KG8sbik9Pnd0KGUsbix0KX1mdW5jdGlvbiB3dChlLHQsbyl7J3N0cmluZyc9PXR5cGVvZiBlJiYoZT17bmFtZTplfSk7bGV0IG47aWYobj0nY29udGFpbmVyJz09bz90LmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoZS5uYW1lLE9iamVjdC5hc3NpZ24oe30sZS5hdHRyaWJ1dGVzKSk6J2F0dHJpYnV0ZSc9PW8/dC5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KGUubmFtZSxPYmplY3QuYXNzaWduKHt9LGUuYXR0cmlidXRlcykpOnQuY3JlYXRlVUlFbGVtZW50KGUubmFtZSxPYmplY3QuYXNzaWduKHt9LGUuYXR0cmlidXRlcykpLGUuc3R5bGVzKXtjb25zdCBvPU9iamVjdC5rZXlzKGUuc3R5bGVzKTtmb3IoY29uc3QgaSBvZiBvKXQuc2V0U3R5bGUoaSxlLnN0eWxlc1tpXSxuKX1pZihlLmNsYXNzZXMpe2NvbnN0IG89ZS5jbGFzc2VzO2lmKCdzdHJpbmcnPT10eXBlb2Ygbyl0LmFkZENsYXNzKG8sbik7ZWxzZSBmb3IoY29uc3QgZSBvZiBvKXQuYWRkQ2xhc3MoZSxuKX1yZXR1cm4gbn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gZS5tb2RlbC52YWx1ZXM/KHQsbyk9Pntjb25zdCBuPWUudmlld1t0XTtyZXR1cm4gbj9uKHQsbyk6bnVsbH06ZS52aWV3fWZ1bmN0aW9uIHl0KGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT8odCk9Pih7a2V5OmUsdmFsdWU6dH0pOidvYmplY3QnPT10eXBlb2YgZT9lLnZhbHVlPygpPT5lOih0KT0+KHtrZXk6ZS5rZXksdmFsdWU6dH0pOmV9ZnVuY3Rpb24geHQoZSl7cmV0dXJuKHQsbyxuKT0+e2NvbnN0IGk9ZShvLml0ZW0sbi53cml0ZXIpO2lmKGkmJm4uY29uc3VtYWJsZS5jb25zdW1lKG8uaXRlbSwnaW5zZXJ0Jykpe2NvbnN0IGU9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oby5yYW5nZS5zdGFydCk7bi5tYXBwZXIuYmluZEVsZW1lbnRzKG8uaXRlbSxpKSxuLndyaXRlci5pbnNlcnQoZSxpKX19fWZ1bmN0aW9uIEN0KCl7cmV0dXJuKGUsdCxvKT0+e2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSwnaW5zZXJ0Jykpe2NvbnN0IGU9by53cml0ZXIsbj1vLm1hcHBlci50b1ZpZXdQb3NpdGlvbih0LnJhbmdlLnN0YXJ0KSxpPWUuY3JlYXRlVGV4dCh0Lml0ZW0uZGF0YSk7ZS5pbnNlcnQobixpKX19fWZ1bmN0aW9uIEF0KCl7cmV0dXJuKGUsdCxvKT0+e2NvbnN0IG49by5tYXBwZXIudG9WaWV3UG9zaXRpb24odC5wb3NpdGlvbiksaT10LnBvc2l0aW9uLmdldFNoaWZ0ZWRCeSh0Lmxlbmd0aCkscj1vLm1hcHBlci50b1ZpZXdQb3NpdGlvbihpLHtpc1BoYW50b206ITB9KSxhPW5ldyB5YyhuLHIpLHM9by53cml0ZXIucmVtb3ZlKGEuZ2V0VHJpbW1lZCgpKTtmb3IoY29uc3QgbiBvZiB5Yy5jcmVhdGVJbihzKS5nZXRJdGVtcygpKW8ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KG4pfX1mdW5jdGlvbiBUdChlKXtyZXR1cm4gZT1lfHwoKGUsdCk9Pih7dmFsdWU6ZSxrZXk6dC5hdHRyaWJ1dGVLZXl9KSksKHQsbyxuKT0+e2NvbnN0IGk9ZShvLmF0dHJpYnV0ZU9sZFZhbHVlLG8pLHI9ZShvLmF0dHJpYnV0ZU5ld1ZhbHVlLG8pO2lmKChpfHxyKSYmbi5jb25zdW1hYmxlLmNvbnN1bWUoby5pdGVtLHQubmFtZSkpe2NvbnN0IGU9bi5tYXBwZXIudG9WaWV3RWxlbWVudChvLml0ZW0pLHQ9bi53cml0ZXI7aWYobnVsbCE9PW8uYXR0cmlidXRlT2xkVmFsdWUmJmkpaWYoJ2NsYXNzJz09aS5rZXkpe2NvbnN0IG89QXJyYXkuaXNBcnJheShpLnZhbHVlKT9pLnZhbHVlOltpLnZhbHVlXTtmb3IoY29uc3QgbiBvZiBvKXQucmVtb3ZlQ2xhc3MobixlKX1lbHNlIGlmKCdzdHlsZSc9PWkua2V5KXtjb25zdCBvPU9iamVjdC5rZXlzKGkudmFsdWUpO2Zvcihjb25zdCBuIG9mIG8pdC5yZW1vdmVTdHlsZShuLGUpfWVsc2UgdC5yZW1vdmVBdHRyaWJ1dGUoaS5rZXksZSk7aWYobnVsbCE9PW8uYXR0cmlidXRlTmV3VmFsdWUmJnIpaWYoJ2NsYXNzJz09ci5rZXkpe2NvbnN0IG89QXJyYXkuaXNBcnJheShyLnZhbHVlKT9yLnZhbHVlOltyLnZhbHVlXTtmb3IoY29uc3QgbiBvZiBvKXQuYWRkQ2xhc3MobixlKX1lbHNlIGlmKCdzdHlsZSc9PXIua2V5KXtjb25zdCBvPU9iamVjdC5rZXlzKHIudmFsdWUpO2Zvcihjb25zdCBuIG9mIG8pdC5zZXRTdHlsZShuLHIudmFsdWVbbl0sZSl9ZWxzZSB0LnNldEF0dHJpYnV0ZShyLmtleSxyLnZhbHVlLGUpfX19ZnVuY3Rpb24gUHQoZSl7cmV0dXJuKHQsbyxuKT0+e2NvbnN0IGk9ZShvLmF0dHJpYnV0ZU9sZFZhbHVlLG4ud3JpdGVyKSxyPWUoby5hdHRyaWJ1dGVOZXdWYWx1ZSxuLndyaXRlcik7aWYoKGl8fHIpJiZuLmNvbnN1bWFibGUuY29uc3VtZShvLml0ZW0sdC5uYW1lKSl7Y29uc3QgZT1uLndyaXRlcix0PWUuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG8uaXRlbSBpbnN0YW5jZW9mIEp1fHxvLml0ZW0gaW5zdGFuY2VvZiBYdSllLndyYXAodC5nZXRGaXJzdFJhbmdlKCkscik7ZWxzZXtsZXQgdD1uLm1hcHBlci50b1ZpZXdSYW5nZShvLnJhbmdlKTtudWxsIT09by5hdHRyaWJ1dGVPbGRWYWx1ZSYmaSYmKHQ9ZS51bndyYXAodCxpKSksbnVsbCE9PW8uYXR0cmlidXRlTmV3VmFsdWUmJnImJmUud3JhcCh0LHIpfX19fWZ1bmN0aW9uIEV0KGUsdCl7cmV0dXJuKG8sbik9Pntjb25zdCBpPW4ubmV3U2VsZWN0aW9uLHI9bmV3IEp1LGE9W107Zm9yKGNvbnN0IGUgb2YgaS5nZXRSYW5nZXMoKSlhLnB1c2godC50b01vZGVsUmFuZ2UoZSkpO3Iuc2V0VG8oYSx7YmFja3dhcmQ6aS5pc0JhY2t3YXJkfSksci5pc0VxdWFsKGUuZG9jdW1lbnQuc2VsZWN0aW9uKXx8ZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb24ocil9KX19ZnVuY3Rpb24gU3QoKXtyZXR1cm4oZSx0LG8pPT57Y29uc3Qgbj10LnNlbGVjdGlvbjtpZighbi5pc0NvbGxhcHNlZCYmby5jb25zdW1hYmxlLmNvbnN1bWUobiwnc2VsZWN0aW9uJykpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2Ygbi5nZXRSYW5nZXMoKSl7Y29uc3Qgbj1vLm1hcHBlci50b1ZpZXdSYW5nZSh0KTtlLnB1c2gobil9by53cml0ZXIuc2V0U2VsZWN0aW9uKGUse2JhY2t3YXJkOm4uaXNCYWNrd2FyZH0pfX19ZnVuY3Rpb24gT3QoKXtyZXR1cm4oZSx0LG8pPT57Y29uc3Qgbj10LnNlbGVjdGlvbjtpZihuLmlzQ29sbGFwc2VkJiZvLmNvbnN1bWFibGUuY29uc3VtZShuLCdzZWxlY3Rpb24nKSl7Y29uc3QgZT1vLndyaXRlcix0PW4uZ2V0Rmlyc3RQb3NpdGlvbigpLGk9by5tYXBwZXIudG9WaWV3UG9zaXRpb24odCkscj1lLmJyZWFrQXR0cmlidXRlcyhpKTtlLnNldFNlbGVjdGlvbihyKX19fWZ1bmN0aW9uIFJ0KCl7cmV0dXJuKGUsdCxvKT0+e2NvbnN0IG49by53cml0ZXIsaT1uLmRvY3VtZW50LnNlbGVjdGlvbjtmb3IoY29uc3QgbiBvZiBpLmdldFJhbmdlcygpKW4uaXNDb2xsYXBzZWQmJm4uZW5kLnBhcmVudC5kb2N1bWVudCYmby53cml0ZXIubWVyZ2VBdHRyaWJ1dGVzKG4uc3RhcnQpO24uc2V0U2VsZWN0aW9uKG51bGwpfX1mdW5jdGlvbiBJdChlLHQpe2NvbnN0IG89RnQoKTtpZigxPT09byYmKGU9T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUylbMF0pLDA9PT1vfHwhVnQoZSx0KSlyZXR1cm4gdC5yZXBsYWNlKC8gXFxbY29udGV4dDogW15cXF1dK1xcXSQvLCcnKTtjb25zdCBuPXdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlNbZV07cmV0dXJuIG5bdF0ucmVwbGFjZSgvIFxcW2NvbnRleHQ6IFteXFxdXStcXF0kLywnJyl9ZnVuY3Rpb24gVnQoZSx0KXtyZXR1cm4gZSBpbiB3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TJiZ0IGluIHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlNbZV19ZnVuY3Rpb24gRnQoKXtyZXR1cm4gT2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUykubGVuZ3RofWZ1bmN0aW9uIE50KGUsdCl7Y29uc3Qgbz17bmFtZTp0LGFsbG93SW46W10sYWxsb3dDb250ZW50T2Y6W10sYWxsb3dXaGVyZTpbXSxhbGxvd0F0dHJpYnV0ZXM6W10sYWxsb3dBdHRyaWJ1dGVzT2Y6W10saW5oZXJpdFR5cGVzRnJvbTpbXX07cmV0dXJuIHF0KGUsbyksV3QoZSxvLCdhbGxvd0luJyksV3QoZSxvLCdhbGxvd0NvbnRlbnRPZicpLFd0KGUsbywnYWxsb3dXaGVyZScpLFd0KGUsbywnYWxsb3dBdHRyaWJ1dGVzJyksV3QoZSxvLCdhbGxvd0F0dHJpYnV0ZXNPZicpLFd0KGUsbywnaW5oZXJpdFR5cGVzRnJvbScpLFV0KGUsbyksb31mdW5jdGlvbiBNdChlLHQpe2Zvcihjb25zdCBvIG9mIGVbdF0uYWxsb3dDb250ZW50T2YpaWYoZVtvXSl7Y29uc3Qgbj1IdChlLG8pO24uZm9yRWFjaCgoZSk9PntlLmFsbG93SW4ucHVzaCh0KX0pfWRlbGV0ZSBlW3RdLmFsbG93Q29udGVudE9mfWZ1bmN0aW9uIER0KGUsdCl7Zm9yKGNvbnN0IG8gb2YgZVt0XS5hbGxvd1doZXJlKXtjb25zdCBuPWVbb107aWYobil7Y29uc3Qgbz1uLmFsbG93SW47ZVt0XS5hbGxvd0luLnB1c2goLi4ubyl9fWRlbGV0ZSBlW3RdLmFsbG93V2hlcmV9ZnVuY3Rpb24gQnQoZSx0KXtmb3IoY29uc3QgbyBvZiBlW3RdLmFsbG93QXR0cmlidXRlc09mKXtjb25zdCBuPWVbb107aWYobil7Y29uc3Qgbz1uLmFsbG93QXR0cmlidXRlcztlW3RdLmFsbG93QXR0cmlidXRlcy5wdXNoKC4uLm8pfX1kZWxldGUgZVt0XS5hbGxvd0F0dHJpYnV0ZXNPZn1mdW5jdGlvbiBMdChlLHQpe2NvbnN0IG89ZVt0XTtmb3IoY29uc3QgbiBvZiBvLmluaGVyaXRUeXBlc0Zyb20pe2NvbnN0IHQ9ZVtuXTtpZih0KXtjb25zdCBlPU9iamVjdC5rZXlzKHQpLmZpbHRlcigoZSk9PmUuc3RhcnRzV2l0aCgnaXMnKSk7Zm9yKGNvbnN0IG4gb2YgZSluIGluIG98fChvW25dPXRbbl0pfX1kZWxldGUgby5pbmhlcml0VHlwZXNGcm9tfWZ1bmN0aW9uIHp0KGUsdCl7Y29uc3Qgbz1lW3RdLG49by5hbGxvd0luLmZpbHRlcigodCk9PmVbdF0pO28uYWxsb3dJbj1BcnJheS5mcm9tKG5ldyBTZXQobikpfWZ1bmN0aW9uIGp0KGUsdCl7Y29uc3Qgbz1lW3RdO28uYWxsb3dBdHRyaWJ1dGVzPUFycmF5LmZyb20obmV3IFNldChvLmFsbG93QXR0cmlidXRlcykpfWZ1bmN0aW9uIHF0KGUsdCl7Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1PYmplY3Qua2V5cyhvKS5maWx0ZXIoKGUpPT5lLnN0YXJ0c1dpdGgoJ2lzJykpO2Zvcihjb25zdCBuIG9mIGUpdFtuXT1vW25dfX1mdW5jdGlvbiBXdChlLHQsbyl7Zm9yKGNvbnN0IG4gb2YgZSknc3RyaW5nJz09dHlwZW9mIG5bb10/dFtvXS5wdXNoKG5bb10pOkFycmF5LmlzQXJyYXkobltvXSkmJnRbb10ucHVzaCguLi5uW29dKX1mdW5jdGlvbiBVdChlLHQpe2Zvcihjb25zdCBvIG9mIGUpe2NvbnN0IGU9by5pbmhlcml0QWxsRnJvbTtlJiYodC5hbGxvd0NvbnRlbnRPZi5wdXNoKGUpLHQuYWxsb3dXaGVyZS5wdXNoKGUpLHQuYWxsb3dBdHRyaWJ1dGVzT2YucHVzaChlKSx0LmluaGVyaXRUeXBlc0Zyb20ucHVzaChlKSl9fWZ1bmN0aW9uIEh0KGUsdCl7Y29uc3Qgbz1lW3RdO3JldHVybiBLdChlKS5maWx0ZXIoKGUpPT5lLmFsbG93SW4uaW5jbHVkZXMoby5uYW1lKSl9ZnVuY3Rpb24gS3QoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcCgodCk9PmVbdF0pfWZ1bmN0aW9uIEd0KGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZT97bmFtZTplLCpnZXRBdHRyaWJ1dGVLZXlzKCl7fSxnZXRBdHRyaWJ1dGUoKXt9fTp7bmFtZTplLmlzKCdlbGVtZW50Jyk/ZS5uYW1lOickdGV4dCcsKmdldEF0dHJpYnV0ZUtleXMoKXt5aWVsZCplLmdldEF0dHJpYnV0ZUtleXMoKX0sZ2V0QXR0cmlidXRlKHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX19fWZ1bmN0aW9uKiR0KGUsdCl7Zm9yKGxldCBvPSExOyFvOyl7aWYobz0hMCxlKXtjb25zdCB0PWUubmV4dCgpO3QuZG9uZXx8KG89ITEseWllbGR7d2Fsa2VyOmUsdmFsdWU6dC52YWx1ZX0pfWlmKHQpe2NvbnN0IGU9dC5uZXh0KCk7ZS5kb25lfHwobz0hMSx5aWVsZHt3YWxrZXI6dCx2YWx1ZTplLnZhbHVlfSl9fX1mdW5jdGlvbiBKdChlLHQpe2NvbnN0IG89bmV3IFNldCxuPW5ldyBNYXAsaT1IdS5jcmVhdGVJbihlKS5nZXRJdGVtcygpO2Zvcihjb25zdCBuIG9mIGkpJyRtYXJrZXInPT1uLm5hbWUmJm8uYWRkKG4pO2Zvcihjb25zdCBpIG9mIG8pe2NvbnN0IGU9aS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpLG89VXUuY3JlYXRlQmVmb3JlKGkpO24uaGFzKGUpP24uZ2V0KGUpLmVuZD1VdS5jcmVhdGVGcm9tUG9zaXRpb24obyk6bi5zZXQoZSxuZXcgSHUoVXUuY3JlYXRlRnJvbVBvc2l0aW9uKG8pKSksdC5yZW1vdmUoaSl9cmV0dXJuIG59ZnVuY3Rpb24gUXQoZSx0KXtsZXQgbztmb3IoY29uc3QgbiBvZiBuZXcgbG0oZSkpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2Ygbi5nZXRBdHRyaWJ1dGVLZXlzKCkpZVt0XT1uLmdldEF0dHJpYnV0ZSh0KTtjb25zdCBpPXQuY3JlYXRlRWxlbWVudChuLm5hbWUsZSk7byYmdC5hcHBlbmQoaSxvKSxvPVV1LmNyZWF0ZUF0KGkpfXJldHVybiBvfWZ1bmN0aW9uIFl0KGUpe2U9ZW0oZSk7Y29uc3QgdD10byhlKSxvPWVvKGUpLG49bz8nZWxlbWVudDonK286J2VsZW1lbnQnO3JldHVybihvKT0+e28ub24obix0LHtwcmlvcml0eTplLnByaW9yaXR5fHwnbm9ybWFsJ30pfX1mdW5jdGlvbiBYdChlKXtlPWVtKGUpLGlvKGUpO2NvbnN0IHQ9cm8oZSksbz1lbyhlKSxuPW8/J2VsZW1lbnQ6JytvOidlbGVtZW50JztyZXR1cm4obyk9PntvLm9uKG4sdCx7cHJpb3JpdHk6ZS5wcmlvcml0eXx8J25vcm1hbCd9KX19ZnVuY3Rpb24gWnQoZSl7ZT1lbShlKTtsZXQgdD1udWxsOygnc3RyaW5nJz09dHlwZW9mIGUudmlld3x8ZS52aWV3LmtleSkmJih0PW5vKGUpKSxpbyhlLHQpO2NvbnN0IG89cm8oZSk7cmV0dXJuKHQpPT57dC5vbignZWxlbWVudCcsbyx7cHJpb3JpdHk6ZS5wcmlvcml0eXx8J2xvdyd9KX19ZnVuY3Rpb24gZW8oZSl7cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlLnZpZXc/ZS52aWV3OidvYmplY3QnPT10eXBlb2YgZS52aWV3JiYnc3RyaW5nJz09dHlwZW9mIGUudmlldy5uYW1lP2Uudmlldy5uYW1lOm51bGx9ZnVuY3Rpb24gdG8oZSl7Y29uc3QgdD1uZXcgT2QoZS52aWV3KTtyZXR1cm4obyxuLGkpPT57Y29uc3Qgcj10Lm1hdGNoKG4udmlld0l0ZW0pO2lmKHIpe3IubWF0Y2gubmFtZT0hMDtjb25zdCB0PW9vKGUubW9kZWwsbi52aWV3SXRlbSxpLndyaXRlcik7aWYodCYmaS5jb25zdW1hYmxlLnRlc3Qobi52aWV3SXRlbSxyLm1hdGNoKSl7Y29uc3QgZT1pLnNwbGl0VG9BbGxvd2VkUGFyZW50KHQsbi5tb2RlbEN1cnNvcik7aWYoZSl7aS53cml0ZXIuaW5zZXJ0KHQsZS5wb3NpdGlvbik7Y29uc3Qgbz1pLmNvbnZlcnRDaGlsZHJlbihuLnZpZXdJdGVtLFV1LmNyZWF0ZUF0KHQpKTtpLmNvbnN1bWFibGUuY29uc3VtZShuLnZpZXdJdGVtLHIubWF0Y2gpLG4ubW9kZWxSYW5nZT1uZXcgSHUoVXUuY3JlYXRlQmVmb3JlKHQpLFV1LmNyZWF0ZUFmdGVyKG8ubW9kZWxDdXJzb3IucGFyZW50KSksbi5tb2RlbEN1cnNvcj1lLmN1cnNvclBhcmVudD9VdS5jcmVhdGVBdChlLmN1cnNvclBhcmVudCk6bi5tb2RlbFJhbmdlLmVuZH19fX19ZnVuY3Rpb24gb28oZSx0LG8pe3JldHVybiBlIGluc3RhbmNlb2YgRnVuY3Rpb24/ZSh0LG8pOm8uY3JlYXRlRWxlbWVudChlKX1mdW5jdGlvbiBubyhlKXsnc3RyaW5nJz09dHlwZW9mIGUudmlldyYmKGUudmlldz17a2V5OmUudmlld30pO2NvbnN0IHQ9ZS52aWV3LmtleTtsZXQgbztpZignY2xhc3MnPT10fHwnc3R5bGUnPT10KXtjb25zdCBuPSdjbGFzcyc9PXQ/J2NsYXNzZXMnOidzdHlsZXMnO289e1tuXTplLnZpZXcudmFsdWV9fWVsc2V7Y29uc3Qgbj0ndW5kZWZpbmVkJz09dHlwZW9mIGUudmlldy52YWx1ZT8vW1xcc1xcU10qLzplLnZpZXcudmFsdWU7bz17YXR0cmlidXRlczp7W3RdOm59fX1yZXR1cm4gZS52aWV3Lm5hbWUmJihvLm5hbWU9ZS52aWV3Lm5hbWUpLGUudmlldz1vLHR9ZnVuY3Rpb24gaW8oZSx0PW51bGwpe2NvbnN0IG89J29iamVjdCc9PXR5cGVvZiBlLm1vZGVsP2UubW9kZWwua2V5OmUubW9kZWwsbj0nb2JqZWN0JyE9dHlwZW9mIGUubW9kZWx8fCd1bmRlZmluZWQnPT10eXBlb2YgZS5tb2RlbC52YWx1ZT8hKG51bGwhPT10KXx8KChlKT0+ZS5nZXRBdHRyaWJ1dGUodCkpOmUubW9kZWwudmFsdWU7ZS5tb2RlbD17a2V5Om8sdmFsdWU6bn19ZnVuY3Rpb24gcm8oZSl7Y29uc3QgdD1uZXcgT2QoZS52aWV3KTtyZXR1cm4obyxuLGkpPT57Y29uc3Qgcj10Lm1hdGNoKG4udmlld0l0ZW0pO2lmKHIpe2NvbnN0IHQ9ZS5tb2RlbC5rZXksbz0nZnVuY3Rpb24nPT10eXBlb2YgZS5tb2RlbC52YWx1ZT9lLm1vZGVsLnZhbHVlKG4udmlld0l0ZW0pOmUubW9kZWwudmFsdWU7aWYobnVsbCE9PW8mJihhbyhlKT9yLm1hdGNoLm5hbWU9ITA6ZGVsZXRlIHIubWF0Y2gubmFtZSwhIWkuY29uc3VtYWJsZS50ZXN0KG4udmlld0l0ZW0sci5tYXRjaCkpKXtuLm1vZGVsUmFuZ2V8fChuPU9iamVjdC5hc3NpZ24obixpLmNvbnZlcnRDaGlsZHJlbihuLnZpZXdJdGVtLG4ubW9kZWxDdXJzb3IpKSk7Y29uc3QgZT1zbyhuLm1vZGVsUmFuZ2Use2tleTp0LHZhbHVlOm99LGkpO2UmJmkuY29uc3VtYWJsZS5jb25zdW1lKG4udmlld0l0ZW0sci5tYXRjaCl9fX19ZnVuY3Rpb24gYW8oZSl7cmV0dXJuISEoJ29iamVjdCchPXR5cGVvZiBlLnZpZXd8fGVvKGUpKSYmIWUudmlldy5jbGFzc2VzJiYhZS52aWV3LmF0dHJpYnV0ZXMmJiFlLnZpZXcuc3R5bGVzfWZ1bmN0aW9uIHNvKGUsdCxvKXtsZXQgbj0hMTtmb3IoY29uc3QgaSBvZiBBcnJheS5mcm9tKGUuZ2V0SXRlbXMoKSkpby5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUoaSx0LmtleSkmJihvLndyaXRlci5zZXRBdHRyaWJ1dGUodC5rZXksdC52YWx1ZSxpKSxuPSEwKTtyZXR1cm4gbn1mdW5jdGlvbiBsbygpe3JldHVybihlLHQsbyk9PntpZighdC5tb2RlbFJhbmdlJiZvLmNvbnN1bWFibGUuY29uc3VtZSh0LnZpZXdJdGVtLHtuYW1lOiEwfSkpe2NvbnN0e21vZGVsUmFuZ2U6ZSxtb2RlbEN1cnNvcjpufT1vLmNvbnZlcnRDaGlsZHJlbih0LnZpZXdJdGVtLHQubW9kZWxDdXJzb3IpO3QubW9kZWxSYW5nZT1lLHQubW9kZWxDdXJzb3I9bn19fWZ1bmN0aW9uIGNvKCl7cmV0dXJuKGUsdCxvKT0+e2lmKG8uc2NoZW1hLmNoZWNrQ2hpbGQodC5tb2RlbEN1cnNvciwnJHRleHQnKSYmby5jb25zdW1hYmxlLmNvbnN1bWUodC52aWV3SXRlbSkpe2NvbnN0IGU9by53cml0ZXIuY3JlYXRlVGV4dCh0LnZpZXdJdGVtLmRhdGEpO28ud3JpdGVyLmluc2VydChlLHQubW9kZWxDdXJzb3IpLHQubW9kZWxSYW5nZT1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0Lm1vZGVsQ3Vyc29yLGUub2Zmc2V0U2l6ZSksdC5tb2RlbEN1cnNvcj10Lm1vZGVsUmFuZ2UuZW5kfX19ZnVuY3Rpb24gdW8oZSl7Y29uc3QgdD1bXSxvPWUucm9vdC5kb2N1bWVudDtpZighbylyZXR1cm5bXTtjb25zdCBuPUh1LmNyZWF0ZUluKGUpO2Zvcihjb25zdCBpIG9mIG8ubW9kZWwubWFya2Vycyl7Y29uc3QgZT1uLmdldEludGVyc2VjdGlvbihpLmdldFJhbmdlKCkpO2UmJnQucHVzaChbaS5uYW1lLGVdKX1yZXR1cm4gdH1mdW5jdGlvbiBtbyhlLHQpe2Zvcihjb25zdCBvIG9mIGUpdChvKX1mdW5jdGlvbipwbyhlKXtpZihlLm1vZGVsLnZhbHVlcylmb3IoY29uc3QgdCBvZiBlLm1vZGVsLnZhbHVlcyl7Y29uc3Qgbz17a2V5OmUubW9kZWwua2V5LHZhbHVlOnR9LG49ZS52aWV3W3RdLGk9ZS51cGNhc3RBbHNvP2UudXBjYXN0QWxzb1t0XTp2b2lkIDA7eWllbGQqZ28obyxuLGkpfWVsc2UgeWllbGQqZ28oZS5tb2RlbCxlLnZpZXcsZS51cGNhc3RBbHNvKX1mdW5jdGlvbipnbyhlLHQsbyl7aWYoeWllbGR7bW9kZWw6ZSx2aWV3OnR9LG8pe289QXJyYXkuaXNBcnJheShvKT9vOltvXTtmb3IoY29uc3QgdCBvZiBvKXlpZWxke21vZGVsOmUsdmlldzp0fX19ZnVuY3Rpb24gZm8oZSl7cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlP1tuZXcgQnUoZSldOihQKGUpfHwoZT1bZV0pLEFycmF5LmZyb20oZSkubWFwKChlKT0+J3N0cmluZyc9PXR5cGVvZiBlP25ldyBCdShlKTplIGluc3RhbmNlb2YgTHU/bmV3IEJ1KGUuZGF0YSxlLmdldEF0dHJpYnV0ZXMoKSk6ZSkpfWZ1bmN0aW9uIGhvKGUsdCl7dD13byh0KTtjb25zdCBvPXQucmVkdWNlKChlLHQpPT5lK3Qub2Zmc2V0U2l6ZSwwKSxuPWUucGFyZW50O3lvKGUpO2NvbnN0IGk9ZS5pbmRleDtyZXR1cm4gbi5faW5zZXJ0Q2hpbGQoaSx0KSx2byhuLGkrdC5sZW5ndGgpLHZvKG4saSksbmV3IEh1KGUsZS5nZXRTaGlmdGVkQnkobykpfWZ1bmN0aW9uIGJvKGUpe2lmKCFlLmlzRmxhdCl0aHJvdyBuZXcgWWEoJ29wZXJhdGlvbi11dGlscy1yZW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFRyeWluZyB0byByZW1vdmUgYSByYW5nZSB3aGljaCBzdGFydHMgYW5kIGVuZHMgaW4gZGlmZmVyZW50IGVsZW1lbnQuJyk7Y29uc3QgdD1lLnN0YXJ0LnBhcmVudDt5byhlLnN0YXJ0KSx5byhlLmVuZCk7Y29uc3Qgbz10Ll9yZW1vdmVDaGlsZHJlbihlLnN0YXJ0LmluZGV4LGUuZW5kLmluZGV4LWUuc3RhcnQuaW5kZXgpO3JldHVybiB2byh0LGUuc3RhcnQuaW5kZXgpLG99ZnVuY3Rpb24ga28oZSx0KXtpZighZS5pc0ZsYXQpdGhyb3cgbmV3IFlhKCdvcGVyYXRpb24tdXRpbHMtbW92ZS1yYW5nZS1ub3QtZmxhdDogVHJ5aW5nIHRvIG1vdmUgYSByYW5nZSB3aGljaCBzdGFydHMgYW5kIGVuZHMgaW4gZGlmZmVyZW50IGVsZW1lbnQuJyk7Y29uc3Qgbz1ibyhlKTtyZXR1cm4gdD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zdGFydCxlLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQpLGhvKHQsbyl9ZnVuY3Rpb24gX28oZSx0LG8pe3lvKGUuc3RhcnQpLHlvKGUuZW5kKTtmb3IoY29uc3QgbiBvZiBlLmdldEl0ZW1zKCkpe2NvbnN0IGU9bi5pcygndGV4dFByb3h5Jyk/bi50ZXh0Tm9kZTpuO251bGw9PT1vP2UuX3JlbW92ZUF0dHJpYnV0ZSh0KTplLl9zZXRBdHRyaWJ1dGUodCxvKSx2byhlLnBhcmVudCxlLmluZGV4KX12byhlLmVuZC5wYXJlbnQsZS5lbmQuaW5kZXgpfWZ1bmN0aW9uIHdvKGUpe2NvbnN0IHQ9W107ZSBpbnN0YW5jZW9mIEFycmF5fHwoZT1bZV0pO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKWlmKCdzdHJpbmcnPT10eXBlb2YgZVtvXSl0LnB1c2gobmV3IEJ1KGVbb10pKTtlbHNlIGlmKGVbb11pbnN0YW5jZW9mIEx1KXQucHVzaChuZXcgQnUoZVtvXS5kYXRhLGVbb10uZ2V0QXR0cmlidXRlcygpKSk7ZWxzZSBpZihlW29daW5zdGFuY2VvZiBwbXx8ZVtvXWluc3RhbmNlb2YgenUpZm9yKGNvbnN0IG4gb2YgZVtvXSl0LnB1c2gobik7ZWxzZSBlW29daW5zdGFuY2VvZiBEdSYmdC5wdXNoKGVbb10pO2ZvcihsZXQgbz0xO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbb10sbj10W28tMV07ZSBpbnN0YW5jZW9mIEJ1JiZuIGluc3RhbmNlb2YgQnUmJnhvKGUsbikmJih0LnNwbGljZShvLTEsMixuZXcgQnUobi5kYXRhK2UuZGF0YSxuLmdldEF0dHJpYnV0ZXMoKSkpLG8tLSl9cmV0dXJuIHR9ZnVuY3Rpb24gdm8oZSx0KXtjb25zdCBvPWUuZ2V0Q2hpbGQodC0xKSxuPWUuZ2V0Q2hpbGQodCk7aWYobyYmbiYmby5pcygndGV4dCcpJiZuLmlzKCd0ZXh0JykmJnhvKG8sbikpe2NvbnN0IGk9bmV3IEJ1KG8uZGF0YStuLmRhdGEsby5nZXRBdHRyaWJ1dGVzKCkpO2UuX3JlbW92ZUNoaWxkcmVuKHQtMSwyKSxlLl9pbnNlcnRDaGlsZCh0LTEsaSl9fWZ1bmN0aW9uIHlvKGUpe2NvbnN0IHQ9ZS50ZXh0Tm9kZSxvPWUucGFyZW50O2lmKHQpe2NvbnN0IG49ZS5vZmZzZXQtdC5zdGFydE9mZnNldCxpPXQuaW5kZXg7by5fcmVtb3ZlQ2hpbGRyZW4oaSwxKTtjb25zdCByPW5ldyBCdSh0LmRhdGEuc3Vic3RyKDAsbiksdC5nZXRBdHRyaWJ1dGVzKCkpLGE9bmV3IEJ1KHQuZGF0YS5zdWJzdHIobiksdC5nZXRBdHRyaWJ1dGVzKCkpO28uX2luc2VydENoaWxkKGksW3IsYV0pfX1mdW5jdGlvbiB4byhlLHQpe2NvbnN0IG89ZS5nZXRBdHRyaWJ1dGVzKCksbj10LmdldEF0dHJpYnV0ZXMoKTtmb3IoY29uc3QgaSBvZiBvKXtpZihpWzFdIT09dC5nZXRBdHRyaWJ1dGUoaVswXSkpcmV0dXJuITE7bi5uZXh0KCl9cmV0dXJuIG4ubmV4dCgpLmRvbmV9ZnVuY3Rpb24gQ28oZSl7cmV0dXJuW2UuY2xvbmUoKV19ZnVuY3Rpb24gQW8oZSx0KXtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl0W29dLmJhc2VWZXJzaW9uPWUrbysxO3JldHVybiB0fWZ1bmN0aW9uIFRvKGUsdCl7cmV0dXJuIG51bGw9PT1lLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpfWZ1bmN0aW9uIFBvKGUpe3JldHVybiAwPT09ZS5sZW5ndGg/bnVsbDoxPT1lLmxlbmd0aD9lWzBdOihlWzBdLmVuZD1lW2UubGVuZ3RoLTFdLmVuZCxlWzBdKX1mdW5jdGlvbiBFbyhlLHQsbyl7Y29uc3Qgbj1bXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3QgaT1TbyhlW3JdLHQsby5pc1N0aWNreSk7bi5wdXNoKGkpO2ZvcihsZXQgdD1yKzE7dDxlLmxlbmd0aDt0KyspZVt0XT1lW3RdLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShpLnNvdXJjZVBvc2l0aW9uLGkudGFyZ2V0UG9zaXRpb24saS5ob3dNYW55KVswXTt0PXQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGkuc291cmNlUG9zaXRpb24saS50YXJnZXRQb3NpdGlvbixpLmhvd01hbnksITAsITEpfXJldHVybiBufWZ1bmN0aW9uIFNvKGUsdCxvKXtsZXQgbj0nJGdyYXZleWFyZCc9PXQucm9vdC5yb290TmFtZT9rbTonJGdyYXZleWFyZCc9PWUuc3RhcnQucm9vdC5yb290TmFtZT9ibTpobTtjb25zdCBpPW5ldyBuKGUuc3RhcnQsZS5lbmQub2Zmc2V0LWUuc3RhcnQub2Zmc2V0LHQsMCk7cmV0dXJuIGkuaXNTdGlja3k9byxpfWZ1bmN0aW9uIE9vKGUsdCxvLG4saSl7dmFyIHI9LTEsYT1lLmxlbmd0aDtmb3Iob3x8KG89cW0pLGl8fChpPVtdKTsrK3I8YTspe3ZhciBzPWVbcl07MDx0JiZvKHMpPzE8dD9PbyhzLHQtMSxvLG4saSk6eGwoaSxzKTohbiYmKGlbaS5sZW5ndGhdPXMpfXJldHVybiBpfWZ1bmN0aW9uIFJvKGUsdCxvLG4pe3ZhciBpPW8ubGVuZ3RoLHI9aSxhPSFuO2lmKG51bGw9PWUpcmV0dXJuIXI7Zm9yKGU9T2JqZWN0KGUpO2ktLTspe3ZhciBzPW9baV07aWYoYSYmc1syXT9zWzFdIT09ZVtzWzBdXTohKHNbMF1pbiBlKSlyZXR1cm4hMX1mb3IoOysraTxyOyl7cz1vW2ldO3ZhciBsPXNbMF0sZD1lW2xdLGM9c1sxXTtpZighKGEmJnNbMl0pKXt2YXIgdT1uZXcgQnM7aWYobil2YXIgbT1uKGQsYyxsLGUsdCx1KTtpZih2b2lkIDA9PT1tPyFmdShjLGQsbixabXxlcCx1KTohbSlyZXR1cm4hMX1lbHNlIGlmKHZvaWQgMD09PWQmJiEobCBpbiBlKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBJbyhlLHQpe2lmKCdmdW5jdGlvbichPXR5cGVvZiBlfHx0JiYnZnVuY3Rpb24nIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKGxwKTt2YXIgbz1mdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cyxpPXQ/dC5hcHBseSh0aGlzLG4pOm5bMF0scj1vLmNhY2hlO2lmKHIuaGFzKGkpKXJldHVybiByLmdldChpKTt2YXIgYT1lLmFwcGx5KHRoaXMsbik7cmV0dXJuIG8uY2FjaGU9ci5zZXQoaSxhKSxhfTtyZXR1cm4gby5jYWNoZT1uZXcoSW8uQ2FjaGV8fERzKSxvfWZ1bmN0aW9uIFZvKGUsdCl7aWYoc2woZSkpcmV0dXJuITE7dmFyIG89dHlwZW9mIGU7cmV0dXJuISEoJ251bWJlcic9PW98fCdzeW1ib2wnPT1vfHwnYm9vbGVhbic9PW98fG51bGw9PWV8fERkKGUpKXx8a3AudGVzdChlKXx8IWJwLnRlc3QoZSl8fG51bGwhPXQmJmUgaW4gT2JqZWN0KHQpfWZ1bmN0aW9uIEZvKGUsdCl7cmV0dXJuIHQgaW4gT2JqZWN0KGUpfWZ1bmN0aW9uIE5vKGUsdCl7Zm9yKGNvbnN0IG8gb2YgdClmb3IoY29uc3QgdCBvZiBvLm9wZXJhdGlvbnMpdC5iYXNlVmVyc2lvbj0rK2U7cmV0dXJuIHR9ZnVuY3Rpb24gTW8oZSl7cmV0dXJuIGUucmVkdWNlKChlLHQpPT5lK3Qub3BlcmF0aW9ucy5sZW5ndGgsMCl9ZnVuY3Rpb24gRG8oZSx0KXtjb25zdCBvPWVbZS5sZW5ndGgtMV07bGV0IG49by5vcGVyYXRpb25zLmxlbmd0aCtvLmJhc2VWZXJzaW9uO2NvbnN0IHI9bmV3IEVtO2ZvcihsZXQgbz0wO288dDtvKyspci5hZGRPcGVyYXRpb24obmV3IHZtKG4rKykpO2UucHVzaChyKX1mdW5jdGlvbiBCbyhlLHQsbyl7cW8oZSx0LG8pLExvKGUsdCxvKSxqbyh0LG8pLHpvKHQsbyl9ZnVuY3Rpb24gTG8oZSx0LG8pe2NvbnN0IG49by5vcmlnaW5hbERlbHRhLmdldCh0KTtpZihvLmRvY3VtZW50Lmhpc3RvcnkuaXNVbmRvaW5nRGVsdGEobikpe2NvbnN0IHQ9by5kb2N1bWVudC5oaXN0b3J5LmdldFVuZG9uZURlbHRhKG4pLGk9by53YXNBZmZlY3RlZC5nZXQoZSkscj1pLmdldCh0KTtyIT09dm9pZCAwJiYoby5pbnNlcnRCZWZvcmU9cil9fWZ1bmN0aW9uIHpvKGUsdCl7Y29uc3Qgbz10Lm9yaWdpbmFsRGVsdGEuZ2V0KGUpLG49dC5kb2N1bWVudC5oaXN0b3J5O3QuZm9yY2VOb3RTdGlja3k9bi5pc1VuZG9uZURlbHRhKG8pfHxuLmlzVW5kb2luZ0RlbHRhKG8pfWZ1bmN0aW9uIGpvKGUsdCl7Y29uc3Qgbz10LmRvY3VtZW50Lmhpc3Rvcnksbj10Lm9yaWdpbmFsRGVsdGEuZ2V0KGUpO3QuZm9yY2VXZWFrUmVtb3ZlPW8uaXNVbmRvbmVEZWx0YShuKX1mdW5jdGlvbiBxbyhlLHQsbyl7by53YXNBZmZlY3RlZC5nZXQoZSl8fG8ud2FzQWZmZWN0ZWQuc2V0KGUsbmV3IE1hcCk7Y29uc3Qgbj1vLm9yaWdpbmFsRGVsdGEuZ2V0KHQpO2xldCBpPSEhby53YXNBZmZlY3RlZC5nZXQoZSkuZ2V0KG4pO2Zvcihjb25zdCBuIG9mIGUub3BlcmF0aW9ucyl7Zm9yKGNvbnN0IGUgb2YgdC5vcGVyYXRpb25zKWlmKG4gaW5zdGFuY2VvZiBobSYmZSBpbnN0YW5jZW9mIGhtJiZXbyhuLGUpKXtpPSEwO2JyZWFrfWlmKGkpYnJlYWt9by53YXNBZmZlY3RlZC5nZXQoZSkuc2V0KG4saSl9ZnVuY3Rpb24gV28oZSx0KXtjb25zdCBvPWUudGFyZ2V0UG9zaXRpb24sbj10LnNvdXJjZVBvc2l0aW9uLGk9QShuLmdldFBhcmVudFBhdGgoKSxvLmdldFBhcmVudFBhdGgoKSk7cmV0dXJuIShvLnJvb3QhPW4ucm9vdCkmJidzYW1lJz09aSYmbi5vZmZzZXQ8by5vZmZzZXR9ZnVuY3Rpb24gVW8oZSx0LG8pe2RlbGV0ZSBvLmluc2VydEJlZm9yZSxkZWxldGUgby5mb3JjZU5vdFN0aWNreSxkZWxldGUgby5mb3JjZVdlYWtSZW1vdmU7Y29uc3Qgbj1vLndhc0FmZmVjdGVkLmdldChlKTtvLndhc0FmZmVjdGVkLmRlbGV0ZShlKTtmb3IoY29uc3QgaSBvZiB0KW8ud2FzQWZmZWN0ZWQuc2V0KGksbmV3IE1hcChuKSl9ZnVuY3Rpb24gSG8oZSx0KXtsZXQgbj1bXSxpPW51bGwsbztzd2l0Y2goZSl7Y2FzZSBJbTpjYXNlIFZtOmZvcihjb25zdCBlIG9mIHQpaT1lIGluc3RhbmNlb2Ygdm0/bmV3IEVtOmUgaW5zdGFuY2VvZiBrbT9uZXcgVm06bmV3IEltLGkuYWRkT3BlcmF0aW9uKGUpLG4ucHVzaChpKTtyZXR1cm4gbjtjYXNlIE9tOmNhc2UgTm06cmV0dXJuIGk9bmV3IGUsaS5hZGRPcGVyYXRpb24odFswXSksaS5hZGRPcGVyYXRpb24odFsxXSksbj1IbyhJbSx0LnNsaWNlKDIpKSxbaV0uY29uY2F0KG4pO2Nhc2UgUm06Y2FzZSBNbTpyZXR1cm4gbj1IbyhJbSx0LnNsaWNlKDAsLTIpKSxpPW5ldyBlLGkuYWRkT3BlcmF0aW9uKHRbdC5sZW5ndGgtMl0pLGkuYWRkT3BlcmF0aW9uKHRbdC5sZW5ndGgtMV0pLG4uY29uY2F0KGkpO2Nhc2UgRm06cmV0dXJuIGk9dFswXWluc3RhbmNlb2Ygdm0/bmV3IEVtOm5ldyBGbSxpLmFkZE9wZXJhdGlvbih0WzBdKSxbaV07Y2FzZSBTbTpmb3Iobz0wO288dC5sZW5ndGgmJiEhKHRbb11pbnN0YW5jZW9mIHZtKTtvKyspO289PXQubGVuZ3RoP2k9bmV3IEVtOihpPW5ldyBTbSwwIT1vJiZ0LnVuc2hpZnQodC5zcGxpY2UobywxKVswXSkpO2Zvcihjb25zdCBlIG9mIHQpaS5hZGRPcGVyYXRpb24oZSk7cmV0dXJuW2ldO2RlZmF1bHQ6aT1uZXcgZTtmb3IoY29uc3QgZSBvZiB0KWkuYWRkT3BlcmF0aW9uKGUpO3JldHVybltpXTt9fWZ1bmN0aW9uIEtvKGUsdCl7Y29uc3Qgbz1lLmNsb25lKCksbj1vLm9wZXJhdGlvbnNbMF07cmV0dXJuIG4ub2xkUmFuZ2UmJihuLm9sZFJhbmdlPW4ub2xkUmFuZ2UuZ2V0VHJhbnNmb3JtZWRCeURlbHRhKHQpWzBdKSxuLm5ld1JhbmdlJiYobi5uZXdSYW5nZT1uLm5ld1JhbmdlLmdldFRyYW5zZm9ybWVkQnlEZWx0YSh0KVswXSksW29dfWZ1bmN0aW9uIEdvKGUsdCl7ZnVuY3Rpb24gbygpe2NvbnN0IG89bmV3IEh1KGUucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KHMpLGUucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KGwpKSxpPW5ldyBmbShvLHQua2V5LGEsdC52YWx1ZSwwKTtuLmFkZE9wZXJhdGlvbihpKX1jb25zdCBuPW5ldyBTbSxyPWUubm9kZXM7bGV0IGE9ci5nZXROb2RlKDApLmdldEF0dHJpYnV0ZSh0LmtleSkscz0wLGw9ci5nZXROb2RlKDApLm9mZnNldFNpemU7Zm9yKGxldCBuPTE7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGU9ci5nZXROb2RlKG4pLGk9ZS5nZXRBdHRyaWJ1dGUodC5rZXkpO2khPWEmJihhIT10LnZhbHVlJiZvKCksYT1pLHM9bCksbCs9ZS5vZmZzZXRTaXplfXJldHVybiBvKCksbn1mdW5jdGlvbiAkbygpe2NvbnN0IGU9bmV3IEVtO3JldHVybiBlLmFkZE9wZXJhdGlvbihuZXcgdm0oMCkpLGV9ZnVuY3Rpb24gSm8oZSx0LG8sbil7ZnVuY3Rpb24gaSgpezA9PT1yLm9wZXJhdGlvbnMubGVuZ3RoJiZlLmJhdGNoLmFkZERlbHRhKHIpO2NvbnN0IG49bmV3IEh1KGwsZCksaT1uLnJvb3QuZG9jdW1lbnQ/cy52ZXJzaW9uOm51bGwsdT1uZXcgZm0obix0LGMsbyxpKTtyLmFkZE9wZXJhdGlvbih1KSxhLmFwcGx5T3BlcmF0aW9uKHUpfWNvbnN0IHI9bmV3IFNtLGE9ZS5tb2RlbCxzPWEuZG9jdW1lbnQ7bGV0IGw9bi5zdGFydCxkLGMsdTtmb3IoY29uc3QgciBvZiBuKXU9ci5pdGVtLmdldEF0dHJpYnV0ZSh0KSxkJiZjIT11JiYoYyE9byYmaSgpLGw9ZCksZD1yLm5leHRQb3NpdGlvbixjPXU7ZCBpbnN0YW5jZW9mIFV1JiZkIT1sJiZjIT1vJiZpKCl9ZnVuY3Rpb24gUW8oZSx0LG8sbil7Y29uc3QgaT1lLm1vZGVsLHI9aS5kb2N1bWVudCxhPW4uZ2V0QXR0cmlidXRlKHQpO2xldCBzLGw7aWYoYSE9byl7Y29uc3QgZD1uLnJvb3Q9PT1uLGM9ZD9uZXcgRGc6bmV3IFNtO2lmKGUuYmF0Y2guYWRkRGVsdGEoYyksZCl7Y29uc3QgZT1uLmRvY3VtZW50P3IudmVyc2lvbjpudWxsO2w9bmV3IHhtKG4sdCxhLG8sZSl9ZWxzZXtzPW4uaXMoJ2VsZW1lbnQnKT9uZXcgSHUoVXUuY3JlYXRlQmVmb3JlKG4pLFV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobiwwKSk6bmV3IEh1KFV1LmNyZWF0ZUJlZm9yZShuKSxVdS5jcmVhdGVBZnRlcihuKSk7Y29uc3QgZT1zLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGw7bD1uZXcgZm0ocyx0LGEsbyxlKX1jLmFkZE9wZXJhdGlvbihsKSxpLmFwcGx5T3BlcmF0aW9uKGwpfX1mdW5jdGlvbiBZbyhlLHQsbyxuKXtjb25zdCBpPWUubW9kZWwscj1pLmRvY3VtZW50LGE9bmV3IFZnLHM9bmV3IHdtKHQsbyxuLGkubWFya2VycyxyLnZlcnNpb24pO2UuYmF0Y2guYWRkRGVsdGEoYSksYS5hZGRPcGVyYXRpb24ocyksaS5hcHBseU9wZXJhdGlvbihzKX1mdW5jdGlvbiBYbyhlLHQsbyxuKXtsZXQgaTtpZihlLnJvb3QuZG9jdW1lbnQpe2NvbnN0IG89bi5kb2N1bWVudCxyPW5ldyBVdShvLmdyYXZleWFyZCxbMF0pO2k9bmV3IGttKGUsdCxyLG8udmVyc2lvbil9ZWxzZSBpPW5ldyBCZyhlLHQpO28uYWRkT3BlcmF0aW9uKGkpLG4uYXBwbHlPcGVyYXRpb24oaSl9ZnVuY3Rpb24gWm8oZSx0KXtyZXR1cm4hKGUhPT10KXx8ISEoZSBpbnN0YW5jZW9mIExnJiZ0IGluc3RhbmNlb2YgTGcpfWZ1bmN0aW9uIGVuKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG8gb2YgZSlpZihvLmlzKCd0ZXh0JykpZm9yKGxldCBlPTA7ZTxvLmRhdGEubGVuZ3RoO2UrKyl0LnB1c2goe25hbWU6JyR0ZXh0JyxhdHRyaWJ1dGVzOm5ldyBNYXAoby5nZXRBdHRyaWJ1dGVzKCkpfSk7ZWxzZSB0LnB1c2goe25hbWU6by5uYW1lLGF0dHJpYnV0ZXM6bmV3IE1hcChvLmdldEF0dHJpYnV0ZXMoKSl9KTtyZXR1cm4gdH1mdW5jdGlvbiB0bihlLHQpe2NvbnN0IG89W107bGV0IG49MCxpPTA7Zm9yKGNvbnN0IHIgb2YgdClyLm9mZnNldD5uJiYoby5wdXNoKC4uLidlJy5yZXBlYXQoci5vZmZzZXQtbikuc3BsaXQoJycpKSxpKz1yLm9mZnNldC1uKSwnaW5zZXJ0Jz09ci50eXBlPyhvLnB1c2goLi4uJ2knLnJlcGVhdChyLmhvd01hbnkpLnNwbGl0KCcnKSksbj1yLm9mZnNldCtyLmhvd01hbnkpOidyZW1vdmUnPT1yLnR5cGU/KG8ucHVzaCguLi4ncicucmVwZWF0KHIuaG93TWFueSkuc3BsaXQoJycpKSxuPXIub2Zmc2V0LGkrPXIuaG93TWFueSk6KG8ucHVzaCguLi4nYScucmVwZWF0KHIuaG93TWFueSkuc3BsaXQoJycpKSxuPXIub2Zmc2V0K3IuaG93TWFueSxpKz1yLmhvd01hbnkpO3JldHVybiBpPGUmJm8ucHVzaCguLi4nZScucmVwZWF0KGUtaSkuc3BsaXQoJycpKSxvfWZ1bmN0aW9uIG9uKGUpe2NvbnN0IHQ9ZS5wb3NpdGlvbiYmJyRncmF2ZXlhcmQnPT1lLnBvc2l0aW9uLnJvb3Qucm9vdE5hbWUsbz1lLnJhbmdlJiYnJGdyYXZleWFyZCc9PWUucmFuZ2Uucm9vdC5yb290TmFtZTtyZXR1cm4hdCYmIW99ZnVuY3Rpb24gbm4oZSl7cmV0dXJuISFlJiYxPT1lLmxlbmd0aCYmL1tcXHUwMzAwLVxcdTAzNmZcXHUxYWIwLVxcdTFhZmZcXHUxZGMwLVxcdTFkZmZcXHUyMGQwLVxcdTIwZmZcXHVmZTIwLVxcdWZlMmZdLy50ZXN0KGUpfWZ1bmN0aW9uIHJuKGUpe3JldHVybiEhZSYmMT09ZS5sZW5ndGgmJi9bXFx1ZDgwMC1cXHVkYmZmXS8udGVzdChlKX1mdW5jdGlvbiBhbihlKXtyZXR1cm4hIWUmJjE9PWUubGVuZ3RoJiYvW1xcdWRjMDAtXFx1ZGZmZl0vLnRlc3QoZSl9ZnVuY3Rpb24gc24oZSx0KXtyZXR1cm4gcm4oZS5jaGFyQXQodC0xKSkmJmFuKGUuY2hhckF0KHQpKX1mdW5jdGlvbiBsbihlLHQpe3JldHVybiBubihlLmNoYXJBdCh0KSl9ZnVuY3Rpb24gZG4oZSl7Y29uc3QgdD1lLnRleHROb2RlO2lmKHQpe2NvbnN0IG89dC5kYXRhLG49ZS5vZmZzZXQtdC5zdGFydE9mZnNldDtyZXR1cm4hc24obyxuKSYmIWxuKG8sbil9cmV0dXJuITB9ZnVuY3Rpb24gY24oKXtjb25zdCBlPW5ldyBTZXQoWydpbnNlcnQnLCdtb3ZlJywncmVtb3ZlJywncmVpbnNlcnQnXSk7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsJ2FwcGx5T3BlcmF0aW9uJywodCxvKT0+e2NvbnN0IG49b1swXTshbi5pc0RvY3VtZW50T3BlcmF0aW9ufHxlLmhhcyhuLnR5cGUpJiZ1bi5jYWxsKHRoaXMsbil9LHtwcmlvcml0eTonbG93J30pfWZ1bmN0aW9uIHVuKGUpe2xldCB0LG87J2luc2VydCc9PWUudHlwZT90PUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUucG9zaXRpb24sZS5ub2Rlcy5tYXhPZmZzZXQpOih0PUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksZS5ob3dNYW55KSxvPWUuc291cmNlUG9zaXRpb24pO2NvbnN0IG49dC5lbmQub2Zmc2V0LXQuc3RhcnQub2Zmc2V0O2xldCBpO3N3aXRjaChlLnR5cGUpe2Nhc2UnaW5zZXJ0Jzpjb25zdCByPSdzdGlja3NUb05leHQnPT10aGlzLnN0aWNraW5lc3M7aT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQuc3RhcnQsbixyKTticmVhaztjYXNlJ21vdmUnOmNhc2UncmVtb3ZlJzpjYXNlJ3JlaW5zZXJ0Jzpjb25zdCBhPUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG8sbikscz1hLmNvbnRhaW5zUG9zaXRpb24odGhpcyl8fGEuc3RhcnQuaXNFcXVhbCh0aGlzKSYmJ3N0aWNrc1RvTmV4dCc9PXRoaXMuc3RpY2tpbmVzc3x8YS5lbmQuaXNFcXVhbCh0aGlzKSYmJ3N0aWNrc1RvUHJldmlvdXMnPT10aGlzLnN0aWNraW5lc3M7aWYocylpPXRoaXMuX2dldENvbWJpbmVkKG8sdC5zdGFydCk7ZWxzZXtjb25zdCBlPSdzdGlja3NUb05leHQnPT10aGlzLnN0aWNraW5lc3Mscj10LnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKG8sbik7aT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShvLHIsbixlKX19aWYoIXRoaXMuaXNFcXVhbChpKSl7Y29uc3QgZT1VdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7dGhpcy5wYXRoPWkucGF0aCx0aGlzLnJvb3Q9aS5yb290LHRoaXMuZmlyZSgnY2hhbmdlJyxlKX19ZnVuY3Rpb24gbW4oZSx0LG8pe2UuY2hhbmdlKChuKT0+e28uaXNDb2xsYXBzZWR8fGUuZGVsZXRlQ29udGVudChvKTtjb25zdCBpPW5ldyAkZyhlLG4sby5hbmNob3IpO2xldCByO3I9dC5pcygnZG9jdW1lbnRGcmFnbWVudCcpP3QuZ2V0Q2hpbGRyZW4oKTpbdF0saS5oYW5kbGVOb2RlcyhyLHtpc0ZpcnN0OiEwLGlzTGFzdDohMH0pO2NvbnN0IGE9aS5nZXRTZWxlY3Rpb25SYW5nZSgpO2E/byBpbnN0YW5jZW9mIFh1P24uc2V0U2VsZWN0aW9uKGEpOm8uc2V0VG8oYSk6U3Uud2FybignaW5zZXJ0Y29udGVudC1uby1yYW5nZTogQ2Fubm90IGRldGVybWluZSBhIHByb3BlciBzZWxlY3Rpb24gcmFuZ2UgYWZ0ZXIgaW5zZXJ0aW9uLicpfSl9ZnVuY3Rpb24gcG4oZSx0LG89e30pe2lmKHQuaXNDb2xsYXBzZWQpcmV0dXJuO2NvbnN0IG49ZS5zY2hlbWE7ZS5jaGFuZ2UoKGUpPT57aWYoIW8uZG9Ob3RSZXNldEVudGlyZUNvbnRlbnQmJl9uKG4sdCkpcmV0dXJuIHZvaWQga24oZSx0LG4pO2NvbnN0IGk9dC5nZXRGaXJzdFJhbmdlKCkscj1pLnN0YXJ0LGE9R2cuY3JlYXRlRnJvbVBvc2l0aW9uKGkuZW5kKTtpLnN0YXJ0LmlzVG91Y2hpbmcoaS5lbmQpfHxlLnJlbW92ZShpKSxvLmxlYXZlVW5tZXJnZWR8fChnbihlLHIsYSksbi5yZW1vdmVEaXNhbGxvd2VkQXR0cmlidXRlcyhyLnBhcmVudC5nZXRDaGlsZHJlbigpLGUpKSx0IGluc3RhbmNlb2YgWHU/ZS5zZXRTZWxlY3Rpb24ocik6dC5zZXRUbyhyKSxmbihuLHIpJiZibihlLHIsdCksYS5kZXRhY2goKX0pfWZ1bmN0aW9uIGduKGUsdCxvKXtjb25zdCBuPXQucGFyZW50LGk9by5wYXJlbnQ7aWYobiE9aSYmbi5wYXJlbnQmJmkucGFyZW50JiZobih0LG8sZS5tb2RlbC5zY2hlbWEpKXtmb3IodD1VdS5jcmVhdGVBZnRlcihuKSxvPVV1LmNyZWF0ZUJlZm9yZShpKSxvLmlzRXF1YWwodCl8fGUuaW5zZXJ0KGksdCksZS5tZXJnZSh0KTtvLnBhcmVudC5pc0VtcHR5Oyl7Y29uc3QgdD1vLnBhcmVudDtvPVV1LmNyZWF0ZUJlZm9yZSh0KSxlLnJlbW92ZSh0KX1nbihlLHQsbyl9fWZ1bmN0aW9uIGZuKGUsdCl7Y29uc3Qgbz1lLmNoZWNrQ2hpbGQodCwnJHRleHQnKSxuPWUuY2hlY2tDaGlsZCh0LCdwYXJhZ3JhcGgnKTtyZXR1cm4hbyYmbn1mdW5jdGlvbiBobihlLHQsbyl7Y29uc3Qgbj1uZXcgSHUoZSx0KTtmb3IoY29uc3QgaSBvZiBuLmdldFdhbGtlcigpKWlmKG8uaXNPYmplY3QoaS5pdGVtKXx8by5pc0xpbWl0KGkuaXRlbSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYm4oZSx0LG8pe2NvbnN0IG49ZS5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKTtlLmluc2VydChuLHQpLG8gaW5zdGFuY2VvZiBYdT9lLnNldFNlbGVjdGlvbihuLDApOm8uc2V0VG8obiwwKX1mdW5jdGlvbiBrbihlLHQpe2NvbnN0IG89ZS5tb2RlbC5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KHQpO2UucmVtb3ZlKEh1LmNyZWF0ZUluKG8pKSxibihlLFV1LmNyZWF0ZUF0KG8pLHQpfWZ1bmN0aW9uIF9uKGUsdCl7Y29uc3Qgbz1lLmdldExpbWl0RWxlbWVudCh0KTtpZighdC5jb250YWluc0VudGlyZUNvbnRlbnQobykpcmV0dXJuITE7Y29uc3Qgbj10LmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gbi5zdGFydC5wYXJlbnQhPW4uZW5kLnBhcmVudCYmZS5jaGVja0NoaWxkKG8sJ3BhcmFncmFwaCcpfWZ1bmN0aW9uIHduKGUsdCxvPXt9KXtjb25zdCBuPWUuc2NoZW1hLGk9J2JhY2t3YXJkJyE9by5kaXJlY3Rpb24scj1vLnVuaXQ/by51bml0OidjaGFyYWN0ZXInLGE9dC5mb2N1cyxzPW5ldyBxdSh7Ym91bmRhcmllczpDbihhLGkpLHNpbmdsZUNoYXJhY3RlcnM6ITAsZGlyZWN0aW9uOmk/J2ZvcndhcmQnOidiYWNrd2FyZCd9KSxsPXt3YWxrZXI6cyxzY2hlbWE6bixpc0ZvcndhcmQ6aSx1bml0OnJ9O2ZvcihsZXQgbjtuPXMubmV4dCgpOyl7aWYobi5kb25lKXJldHVybjtjb25zdCBvPXZuKGwsbi52YWx1ZSk7aWYobylyZXR1cm4gdm9pZCh0IGluc3RhbmNlb2YgWHU/ZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb25Gb2N1cyhvKX0pOnQuc2V0Rm9jdXMobykpfX1mdW5jdGlvbiB2bihlLHQpe2lmKCd0ZXh0Jz09dC50eXBlKXJldHVybid3b3JkJz09PWUudW5pdD94bihlLndhbGtlcixlLmlzRm9yd2FyZCk6eW4oZS53YWxrZXIsZS51bml0LGUuaXNGb3J3YXJkKTtpZih0LnR5cGU9PShlLmlzRm9yd2FyZD8nZWxlbWVudFN0YXJ0JzonZWxlbWVudEVuZCcpKXtpZihlLnNjaGVtYS5pc09iamVjdCh0Lml0ZW0pKXJldHVybiBVdS5jcmVhdGVBdCh0Lml0ZW0sZS5pc0ZvcndhcmQ/J2FmdGVyJzonYmVmb3JlJyk7aWYoZS5zY2hlbWEuY2hlY2tDaGlsZCh0Lm5leHRQb3NpdGlvbiwnJHRleHQnKSlyZXR1cm4gdC5uZXh0UG9zaXRpb259ZWxzZXtpZihlLnNjaGVtYS5pc0xpbWl0KHQuaXRlbSkpcmV0dXJuIHZvaWQgZS53YWxrZXIuc2tpcCgoKT0+ITApO2lmKGUuc2NoZW1hLmNoZWNrQ2hpbGQodC5uZXh0UG9zaXRpb24sJyR0ZXh0JykpcmV0dXJuIHQubmV4dFBvc2l0aW9ufX1mdW5jdGlvbiB5bihlLHQpe2NvbnN0IG89ZS5wb3NpdGlvbi50ZXh0Tm9kZTtpZihvKXtjb25zdCBuPW8uZGF0YTtmb3IobGV0IGk9ZS5wb3NpdGlvbi5vZmZzZXQtby5zdGFydE9mZnNldDtzbihuLGkpfHwnY2hhcmFjdGVyJz09dCYmbG4obixpKTspZS5uZXh0KCksaT1lLnBvc2l0aW9uLm9mZnNldC1vLnN0YXJ0T2Zmc2V0fXJldHVybiBlLnBvc2l0aW9ufWZ1bmN0aW9uIHhuKGUsdCl7bGV0IG89ZS5wb3NpdGlvbi50ZXh0Tm9kZTtpZihvKWZvcihsZXQgbj1lLnBvc2l0aW9uLm9mZnNldC1vLnN0YXJ0T2Zmc2V0OyFBbihvLmRhdGEsbix0KSYmIVRuKG8sbix0KTspe2UubmV4dCgpO2NvbnN0IGk9dD9lLnBvc2l0aW9uLm5vZGVBZnRlcjplLnBvc2l0aW9uLm5vZGVCZWZvcmU7aWYoaSl7Y29uc3Qgbj1pLmRhdGEuY2hhckF0KHQ/MDppLmRhdGEubGVuZ3RoLTEpO0pnLmluY2x1ZGVzKG4pfHwoZS5uZXh0KCksbz1lLnBvc2l0aW9uLnRleHROb2RlKX1uPWUucG9zaXRpb24ub2Zmc2V0LW8uc3RhcnRPZmZzZXR9cmV0dXJuIGUucG9zaXRpb259ZnVuY3Rpb24gQ24oZSx0KXtjb25zdCBvPWUucm9vdCxuPVV1LmNyZWF0ZUF0KG8sdD8nZW5kJzowKTtyZXR1cm4gdD9uZXcgSHUoZSxuKTpuZXcgSHUobixlKX1mdW5jdGlvbiBBbihlLHQsbyl7Y29uc3Qgbj10KyhvPzA6LTEpO3JldHVybiBKZy5pbmNsdWRlcyhlLmNoYXJBdChuKSl9ZnVuY3Rpb24gVG4oZSx0LG8pe3JldHVybiB0PT09KG8/ZS5lbmRPZmZzZXQ6MCl9ZnVuY3Rpb24gUG4oZSx0KXtyZXR1cm4gZS5jaGFuZ2UoKGUpPT57Y29uc3Qgbz1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPXQuZ2V0Rmlyc3RSYW5nZSgpO2lmKCFufHxuLmlzQ29sbGFwc2VkKXJldHVybiBvO2NvbnN0IGk9bi5zdGFydC5yb290LHI9bi5zdGFydC5nZXRDb21tb25QYXRoKG4uZW5kKSxhPWkuZ2V0Tm9kZUJ5UGF0aChyKTtsZXQgcz1uLnN0YXJ0LnBhcmVudD09bi5lbmQucGFyZW50P246SHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGEsbi5zdGFydC5wYXRoW3IubGVuZ3RoXSxhLG4uZW5kLnBhdGhbci5sZW5ndGhdKzEpO2NvbnN0IGw9cy5lbmQub2Zmc2V0LXMuc3RhcnQub2Zmc2V0O2Zvcihjb25zdCB0IG9mIHMuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSl0LmlzKCd0ZXh0UHJveHknKT9lLmFwcGVuZFRleHQodC5kYXRhLHQuZ2V0QXR0cmlidXRlcygpLG8pOmUuYXBwZW5kKHQuX2Nsb25lKCEwKSxvKTtpZihzIT1uKXtjb25zdCB0PW4uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHMuc3RhcnQsVXUuY3JlYXRlQXQobywwKSxsKVswXSxpPW5ldyBIdShVdS5jcmVhdGVBdChvKSx0LnN0YXJ0KSxyPW5ldyBIdSh0LmVuZCxVdS5jcmVhdGVBdChvLCdlbmQnKSk7RW4ocixlKSxFbihpLGUpfXJldHVybiBvfSl9ZnVuY3Rpb24gRW4oZSx0KXtjb25zdCBvPVtdO0FycmF5LmZyb20oZS5nZXRJdGVtcyh7ZGlyZWN0aW9uOidiYWNrd2FyZCd9KSkubWFwKChlKT0+SHUuY3JlYXRlT24oZSkpLmZpbHRlcigodCk9Pntjb25zdCBvPSh0LnN0YXJ0LmlzQWZ0ZXIoZS5zdGFydCl8fHQuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KSkmJih0LmVuZC5pc0JlZm9yZShlLmVuZCl8fHQuZW5kLmlzRXF1YWwoZS5lbmQpKTtyZXR1cm4gb30pLmZvckVhY2goKGUpPT57by5wdXNoKGUuc3RhcnQucGFyZW50KSx0LnJlbW92ZShlKX0pLG8uZm9yRWFjaCgoZSk9Pntmb3IobGV0IG89ZTtvLnBhcmVudCYmby5pc0VtcHR5Oyl7Y29uc3QgZT1IdS5jcmVhdGVPbihvKTtvPW8ucGFyZW50LHQucmVtb3ZlKGUpfX0pfWZ1bmN0aW9uIFNuKGUsdCl7ZSBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQmJihlLnZhbHVlPXQpLGUuaW5uZXJIVE1MPXR9ZnVuY3Rpb24gT24oZSl7aWYoIWdzKGUudXBkYXRlRWxlbWVudCkpdGhyb3cgbmV3IFlhKCdhdHRhY2h0b2Zvcm0tbWlzc2luZy1lbGVtZW50YXBpLWludGVyZmFjZTogRWxlbWVudEFwaSBpbnRlcmZhY2UgaXMgcmVxdWlyZWQuJyk7Y29uc3QgdD1lLmVsZW1lbnQ7aWYodCYmJ3RleHRhcmVhJz09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LmZvcm0pe2xldCBvO2NvbnN0IG49dC5mb3JtLGk9KCk9PmUudXBkYXRlRWxlbWVudCgpO2dzKG4uc3VibWl0KSYmKG89bi5zdWJtaXQsbi5zdWJtaXQ9KCk9PntpKCksby5hcHBseShuKX0pLG4uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JyxpKSxlLm9uKCdkZXN0cm95JywoKT0+e24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JyxpKSxvJiYobi5zdWJtaXQ9byl9KX19ZnVuY3Rpb24gUm4oZSl7cmV0dXJuKGUrJycpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gSW4oe29yaWdpbjplLG9yaWdpbktleXN0cm9rZUhhbmRsZXI6dCxvcmlnaW5Gb2N1c1RyYWNrZXI6byx0b29sYmFyOm4sYmVmb3JlRm9jdXM6aSxhZnRlckJsdXI6cn0pe28uYWRkKG4uZWxlbWVudCksdC5zZXQoJ0FsdCtGMTAnLChlLHQpPT57by5pc0ZvY3VzZWQmJiFuLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQmJihpJiZpKCksbi5mb2N1cygpLHQoKSl9KSxuLmtleXN0cm9rZXMuc2V0KCdFc2MnLCh0LG8pPT57bi5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYoZS5mb2N1cygpLHImJnIoKSxvKCkpfSl9ZnVuY3Rpb24gVm4oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/e2l0ZW1zOmV9OmU/T2JqZWN0LmFzc2lnbih7aXRlbXM6W119LGUpOntpdGVtczpbXX19ZnVuY3Rpb24gRm4oZSl7cmV0dXJuIGUuZXZlcnkoKGUpPT4nc3RyaW5nJz09dHlwZW9mIGUpfWZ1bmN0aW9uIE5uKGUpe3JldHVybiEhZSYmKChlLnZhbHVlJiYoZT1lLnZhbHVlKSxBcnJheS5pc0FycmF5KGUpKT9lLnNvbWUoTm4pOiEhKGUgaW5zdGFuY2VvZiB1ZikpfWZ1bmN0aW9uIE1uKGUsdCl7cmV0dXJuIGUubWFwKChlKT0+ZSBpbnN0YW5jZW9mIHVmP2UuZ2V0VmFsdWUodCk6ZSl9ZnVuY3Rpb24gRG4oZSx0LHtub2RlOm99KXtsZXQgbj1NbihlLG8pO249MT09ZS5sZW5ndGgmJmVbMF1pbnN0YW5jZW9mIHBmP25bMF06bi5yZWR1Y2UoJG4sJycpLFluKG4pP3QucmVtb3ZlKCk6dC5zZXQobil9ZnVuY3Rpb24gQm4oZSl7cmV0dXJue3NldCh0KXtlLnRleHRDb250ZW50PXR9LHJlbW92ZSgpe2UudGV4dENvbnRlbnQ9Jyd9fX1mdW5jdGlvbiBMbihlLHQsbyl7cmV0dXJue3NldChuKXtlLnNldEF0dHJpYnV0ZU5TKG8sdCxuKX0scmVtb3ZlKCl7ZS5yZW1vdmVBdHRyaWJ1dGVOUyhvLHQpfX19ZnVuY3Rpb24gem4oZSx0KXtyZXR1cm57c2V0KG8pe2Uuc3R5bGVbdF09b30scmVtb3ZlKCl7ZS5zdHlsZVt0XT1udWxsfX19ZnVuY3Rpb24gam4oZSl7Y29uc3QgdD1kZihlLChlKT0+e2lmKGUmJihlIGluc3RhbmNlb2YgdWZ8fFpuKGUpfHxYbihlKXx8ZWkoZSkpKXJldHVybiBlfSk7cmV0dXJuIHR9ZnVuY3Rpb24gcW4oZSl7aWYoJ3N0cmluZyc9PXR5cGVvZiBlP2U9SG4oZSk6ZS50ZXh0JiZLbihlKSxlLm9uJiYoZS5ldmVudExpc3RlbmVycz1VbihlLm9uKSxkZWxldGUgZS5vbiksIWUudGV4dCl7ZS5hdHRyaWJ1dGVzJiZXbihlLmF0dHJpYnV0ZXMpO2NvbnN0IHQ9W107aWYoZS5jaGlsZHJlbilpZihlaShlLmNoaWxkcmVuKSl0LnB1c2goZS5jaGlsZHJlbik7ZWxzZSBmb3IoY29uc3QgbyBvZiBlLmNoaWxkcmVuKVpuKG8pfHxYbihvKXx8TWUobyk/dC5wdXNoKG8pOnQucHVzaChuZXcgY2YobykpO2UuY2hpbGRyZW49dH1yZXR1cm4gZX1mdW5jdGlvbiBXbihlKXtmb3IoY29uc3QgdCBpbiBlKWVbdF0udmFsdWUmJihlW3RdLnZhbHVlPVtdLmNvbmNhdChlW3RdLnZhbHVlKSksR24oZSx0KX1mdW5jdGlvbiBVbihlKXtmb3IoY29uc3QgdCBpbiBlKUduKGUsdCk7cmV0dXJuIGV9ZnVuY3Rpb24gSG4oZSl7cmV0dXJue3RleHQ6W2VdfX1mdW5jdGlvbiBLbihlKXtBcnJheS5pc0FycmF5KGUudGV4dCl8fChlLnRleHQ9W2UudGV4dF0pfWZ1bmN0aW9uIEduKGUsdCl7QXJyYXkuaXNBcnJheShlW3RdKXx8KGVbdF09W2VbdF1dKX1mdW5jdGlvbiAkbihlLHQpe3JldHVybiBZbih0KT9lOlluKGUpP3Q6YCR7ZX0gJHt0fWB9ZnVuY3Rpb24gSm4oZSx0KXtmb3IoY29uc3QgbyBpbiB0KWVbb10/ZVtvXS5wdXNoKC4uLnRbb10pOmVbb109dFtvXX1mdW5jdGlvbiBRbihlLHQpe2lmKHQuYXR0cmlidXRlcyYmKCFlLmF0dHJpYnV0ZXMmJihlLmF0dHJpYnV0ZXM9e30pLEpuKGUuYXR0cmlidXRlcyx0LmF0dHJpYnV0ZXMpKSx0LmV2ZW50TGlzdGVuZXJzJiYoIWUuZXZlbnRMaXN0ZW5lcnMmJihlLmV2ZW50TGlzdGVuZXJzPXt9KSxKbihlLmV2ZW50TGlzdGVuZXJzLHQuZXZlbnRMaXN0ZW5lcnMpKSx0LnRleHQmJmUudGV4dC5wdXNoKC4uLnQudGV4dCksdC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5sZW5ndGgpe2lmKGUuY2hpbGRyZW4ubGVuZ3RoIT10LmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgWWEoJ3VpLXRlbXBsYXRlLWV4dGVuZC1jaGlsZHJlbi1taXNtYXRjaDogVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiBleHRlbmRlZCBkZWZpbml0aW9uIGRvZXMgbm90IG1hdGNoLicpO2xldCBvPTA7Zm9yKGNvbnN0IG4gb2YgdC5jaGlsZHJlbilRbihlLmNoaWxkcmVuW28rK10sbil9fWZ1bmN0aW9uIFluKGUpe3JldHVybiFlJiYwIT09ZX1mdW5jdGlvbiBYbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGhmfWZ1bmN0aW9uIFpuKGUpe3JldHVybiBlIGluc3RhbmNlb2YgY2Z9ZnVuY3Rpb24gZWkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBsZn1mdW5jdGlvbiB0aSgpe3JldHVybntjaGlsZHJlbjpbXSxiaW5kaW5nczpbXSxhdHRyaWJ1dGVzOnt9fX1mdW5jdGlvbiBvaShlKXtyZXR1cm4nY2xhc3MnPT1lfHwnc3R5bGUnPT1lfWZ1bmN0aW9uIG5pKGUpe3JldHVybih0KT0+dCtlfWZ1bmN0aW9uIGlpKGUpe3JldHVybiEhKGUuZm9jdXMmJidub25lJyE9S2Mud2luZG93LmdldENvbXB1dGVkU3R5bGUoZS5lbGVtZW50KS5kaXNwbGF5KX1mdW5jdGlvbiByaShlKXtyZXR1cm4gZS5iaW5kVGVtcGxhdGUudG8oKHQpPT57dC50YXJnZXQ9PT1lLmVsZW1lbnQmJnQucHJldmVudERlZmF1bHQoKX0pfWZ1bmN0aW9uIGFpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudD9lLnZhbHVlOmUuaW5uZXJIVE1MfWZ1bmN0aW9uIHNpKGUpe2NvbnN0IHQ9ZS5maWxlcz9BcnJheS5mcm9tKGUuZmlsZXMpOltdLG89ZS5pdGVtcz9BcnJheS5mcm9tKGUuaXRlbXMpOltdO3JldHVybiB0Lmxlbmd0aD90Om8uZmlsdGVyKChlKT0+J2ZpbGUnPT09ZS5raW5kKS5tYXAoKGUpPT5lLmdldEFzRmlsZSgpKX1mdW5jdGlvbiBsaShlLHQpe2NvbnN0IG89dC50YXJnZXQub3duZXJEb2N1bWVudCxuPXQuY2xpZW50WCxpPXQuY2xpZW50WTtsZXQgcjtyZXR1cm4gby5jYXJldFJhbmdlRnJvbVBvaW50JiZvLmNhcmV0UmFuZ2VGcm9tUG9pbnQobixpKT9yPW8uY2FyZXRSYW5nZUZyb21Qb2ludChuLGkpOnQucmFuZ2VQYXJlbnQmJihyPW8uY3JlYXRlUmFuZ2UoKSxyLnNldFN0YXJ0KHQucmFuZ2VQYXJlbnQsdC5yYW5nZU9mZnNldCksci5jb2xsYXBzZSghMCkpLHI/ZS5kb21Db252ZXJ0ZXIuZG9tUmFuZ2VUb1ZpZXcocik6ZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWZ1bmN0aW9uIGRpKGUpe3JldHVybiBlPWUucmVwbGFjZSgvPC9nLCcmbHQ7JykucmVwbGFjZSgvPi9nLCcmZ3Q7JykucmVwbGFjZSgvXFxuXFxuL2csJzwvcD48cD4nKS5yZXBsYWNlKC9cXG4vZywnICcpLnJlcGxhY2UoL15cXHMvLCcmbmJzcDsnKS5yZXBsYWNlKC9cXHMkLywnJm5ic3A7JykucmVwbGFjZSgvXFxzXFxzL2csJyAmbmJzcDsnKSwtMTxlLmluZGV4T2YoJzwvcD48cD4nKSYmKGU9YDxwPiR7ZX08L3A+YCksZX1mdW5jdGlvbiBjaShlKXtyZXR1cm4gZS5yZXBsYWNlKC88c3Bhbig/OiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwifCk+KFxccyspPFxcL3NwYW4+L2csKGUsdCk9PjE9PXQubGVuZ3RoPycgJzp0KX1mdW5jdGlvbiB1aShlKXtsZXQgdD0nJztpZihlLmlzKCd0ZXh0Jyl8fGUuaXMoJ3RleHRQcm94eScpKXQ9ZS5kYXRhO2Vsc2UgaWYoZS5pcygnaW1nJykmJmUuaGFzQXR0cmlidXRlKCdhbHQnKSl0PWUuZ2V0QXR0cmlidXRlKCdhbHQnKTtlbHNle2xldCBvPW51bGw7Zm9yKGNvbnN0IG4gb2YgZS5nZXRDaGlsZHJlbigpKXtjb25zdCBlPXVpKG4pO28mJihvLmlzKCdjb250YWluZXJFbGVtZW50Jyl8fG4uaXMoJ2NvbnRhaW5lckVsZW1lbnQnKSkmJihXZi5pbmNsdWRlcyhvLm5hbWUpfHxXZi5pbmNsdWRlcyhuLm5hbWUpP3QrPSdcXG4nOnQrPSdcXG5cXG4nKSx0Kz1lLG89bn19cmV0dXJuIHR9ZnVuY3Rpb24gbWkoZSx0LG8sbil7Y29uc3QgaT1vLmlzQ29sbGFwc2VkLHI9by5nZXRGaXJzdFJhbmdlKCksYT1yLnN0YXJ0LnBhcmVudCxzPXIuZW5kLnBhcmVudDtpZihuLmlzTGltaXQoYSl8fG4uaXNMaW1pdChzKSlyZXR1cm4gdm9pZChpfHxhIT1zfHxlLmRlbGV0ZUNvbnRlbnQobykpO2lmKGkpcGkodCxvLHIuc3RhcnQpO2Vsc2V7Y29uc3Qgbj0hKHIuc3RhcnQuaXNBdFN0YXJ0JiZyLmVuZC5pc0F0RW5kKTtlLmRlbGV0ZUNvbnRlbnQobyx7bGVhdmVVbm1lcmdlZDpufSksbiYmKGE9PXM/cGkodCxvLG8uZm9jdXMpOnQuc2V0U2VsZWN0aW9uKHMsMCkpfX1mdW5jdGlvbiBwaShlLHQsbyl7Y29uc3Qgbj1vLnBhcmVudCxpPW5ldyBuLmNvbnN0cnVjdG9yKG4ubmFtZSxuLmdldEF0dHJpYnV0ZXMoKSk7by5pc0F0RW5kP2UuaW5zZXJ0KGksby5wYXJlbnQsJ2FmdGVyJyk6by5pc0F0U3RhcnQ/ZS5pbnNlcnQoaSxvLnBhcmVudCwnYmVmb3JlJyk6ZS5zcGxpdChvKSxlLnNldFNlbGVjdGlvbihvLnBhcmVudC5uZXh0U2libGluZywwKX1mdW5jdGlvbiBnaShlLHQpe2Z1bmN0aW9uIG8oKXthJiYoaS5wdXNoKGEpLGE9bnVsbCl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gYSYmYS50eXBlPT1lfWNvbnN0IGk9W107bGV0IHI9MCxhO3JldHVybiBlLmZvckVhY2goKGUpPT57J2VxdWFsJz09ZT8obygpLHIrKyk6J2luc2VydCc9PWU/KG4oJ2luc2VydCcpP2EudmFsdWVzLnB1c2godFtyXSk6KG8oKSxhPXt0eXBlOidpbnNlcnQnLGluZGV4OnIsdmFsdWVzOlt0W3JdXX0pLHIrKyk6bignZGVsZXRlJyk/YS5ob3dNYW55Kys6KG8oKSxhPXt0eXBlOidkZWxldGUnLGluZGV4OnIsaG93TWFueToxfSl9KSxvKCksaX1mdW5jdGlvbiBmaShlKXtyZXR1cm4hIWUuY3RybEtleXx8WmYuaW5jbHVkZXMoZS5rZXlDb2RlKX1mdW5jdGlvbiBoaShlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgRWQmJnQgaW5zdGFuY2VvZiBFZD9lLmRhdGE9PT10LmRhdGE6ZT09PXR9ZnVuY3Rpb24gYmkoZSl7aWYoMT09ZS5uZXdDaGlsZHJlbi5sZW5ndGgtZS5vbGRDaGlsZHJlbi5sZW5ndGgpe2NvbnN0IHQ9VGUoZS5vbGRDaGlsZHJlbixlLm5ld0NoaWxkcmVuLGhpKSxvPWdpKHQsZS5uZXdDaGlsZHJlbik7aWYoISgxPG8ubGVuZ3RoKSl7Y29uc3QgZT1vWzBdO3JldHVybiBlLnZhbHVlc1swXWluc3RhbmNlb2YgRWQ/ZTp2b2lkIDB9fX1mdW5jdGlvbiBraShlKXtjb25zdCB0PWUubWFwKChlKT0+ZS5ub2RlKS5yZWR1Y2UoKGUsdCk9PmUuZ2V0Q29tbW9uQW5jZXN0b3IodCx7aW5jbHVkZVNlbGY6ITB9KSk7cmV0dXJuIHQ/dC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwLHBhcmVudEZpcnN0OiEwfSkuZmluZCgoZSk9PmUuaXMoJ2NvbnRhaW5lckVsZW1lbnQnKXx8ZS5pcygncm9vdEVsZW1lbnQnKSk6dm9pZCAwfWZ1bmN0aW9uIF9pKGUpe2lmKDA9PWUubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCB0IG9mIGUpaWYoJ2NoaWxkcmVuJz09PXQudHlwZSYmIWJpKHQpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHdpKGUpe3JldHVybiBlLmV2ZXJ5KChlKT0+ZS5pcygndGV4dCcpKX1mdW5jdGlvbiB2aShlKXtsZXQgdD1udWxsLG89bnVsbDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dOydlcXVhbCchPWkmJih0PW51bGw9PT10P246dCxvPW4pfWxldCBuPTAscj0wO2ZvcihsZXQgYT10O2E8PW87YSsrKSdpbnNlcnQnIT1lW2FdJiZuKyssJ2RlbGV0ZSchPWVbYV0mJnIrKztyZXR1cm57aW5zZXJ0aW9uczpyLGRlbGV0aW9uczpuLGZpcnN0Q2hhbmdlQXQ6dH19ZnVuY3Rpb24geWkoZSx0KXtjb25zdCBvPXhpKFtlXSx0KTtvLnNvcnQoKGUsdCk9PmUuc3RhcnQuaXNCZWZvcmUodC5zdGFydCk/LTE6MSk7Zm9yKGxldCBuPTE7bjxvLmxlbmd0aDtuKyspe2NvbnN0IGU9b1tuLTFdLHQ9b1tuXTtlLmVuZC5pc1RvdWNoaW5nKHQuc3RhcnQpJiYoZS5lbmQ9dC5lbmQsby5zcGxpY2UobiwxKSxuLS0pfXJldHVybiBvfWZ1bmN0aW9uIHhpKGUsdCl7Zm9yKGNvbnN0IG8gb2YgdClmb3IoY29uc3QgdCBvZiBvLm9wZXJhdGlvbnMpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2xldCBuO3N3aXRjaCh0LnR5cGUpe2Nhc2UnaW5zZXJ0JzpuPWVbb10uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCwhMCk7YnJlYWs7Y2FzZSdtb3ZlJzpjYXNlJ3JlbW92ZSc6Y2FzZSdyZWluc2VydCc6bj1lW29dLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LCEwKTt9biYmKGUuc3BsaWNlKG8sMSwuLi5uKSxvPW8rbi5sZW5ndGgtMSl9cmV0dXJuIGV9ZnVuY3Rpb24gQ2koKXtsZXQgZT1BaShQaCk7cmV0dXJuIGUmJmUubGVuZ3RoPT1FaHx8KGU9UGkoRWgpLFRpKFBoLGUpKSxlfWZ1bmN0aW9uIEFpKGUpe2U9ZS50b0xvd2VyQ2FzZSgpO2NvbnN0IHQ9ZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1vLnNwbGl0KCc9Jyksbj1kZWNvZGVVUklDb21wb25lbnQodFswXS50cmltKCkudG9Mb3dlckNhc2UoKSk7aWYobj09PWUpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0WzFdKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBUaShlLHQpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoZSkrJz0nK2VuY29kZVVSSUNvbXBvbmVudCh0KSsnO3BhdGg9Lyd9ZnVuY3Rpb24gUGkoZSl7bGV0IHQ9Jyc7Y29uc3Qgbz1uZXcgVWludDhBcnJheShlKTt3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhvKTtmb3IobGV0IG49MDtuPG8ubGVuZ3RoO24rKyl7Y29uc3QgZT1TaC5jaGFyQXQob1tuXSVTaC5sZW5ndGgpO3QrPS41PE1hdGgucmFuZG9tKCk/ZS50b1VwcGVyQ2FzZSgpOmV9cmV0dXJuIHR9ZnVuY3Rpb24gRWkoZSl7cmV0dXJuIEFycmF5LmZyb20oZS5nZXRDaGlsZHJlbigpKS5yZWR1Y2UoKGUsdCk9PmUrdC5kYXRhLCcnKX1mdW5jdGlvbiBTaShlLHQpe3JldHVybiB0LmZpbHRlcigoZSk9PmVbMF0hPT12b2lkIDAmJmVbMV0hPT12b2lkIDApLm1hcCgodCk9Pkh1LmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhlLHRbMF0sZSx0WzFdKSl9ZnVuY3Rpb24gT2koZSl7Y29uc3QgdD1lLm5leHQoKTtyZXR1cm4gdC5kb25lP251bGw6dC52YWx1ZX1mdW5jdGlvbiBSaShlKXtyZXR1cm4nYmxvY2tRdW90ZSc9PWUucGFyZW50Lm5hbWU/ZS5wYXJlbnQ6bnVsbH1mdW5jdGlvbiBJaShlKXtsZXQgdD0wLG87Y29uc3Qgbj1bXTtmb3IoO3Q8ZS5sZW5ndGg7KXtjb25zdCBpPWVbdF0scj1lW3QrMV07b3x8KG89VXUuY3JlYXRlQmVmb3JlKGkpKSxyJiZpLm5leHRTaWJsaW5nPT1yfHwobi5wdXNoKG5ldyBIdShvLFV1LmNyZWF0ZUFmdGVyKGkpKSksbz1udWxsKSx0Kyt9cmV0dXJuIG59ZnVuY3Rpb24gVmkoZSx0KXtjb25zdCBvPWUuY2hlY2tDaGlsZCh0LnBhcmVudCwnYmxvY2tRdW90ZScpLG49ZS5jaGVja0NoaWxkKFsnJHJvb3QnLCdibG9ja1F1b3RlJ10sdCk7cmV0dXJuIG8mJm59ZnVuY3Rpb24gRmkoZSx0PTUxMil7dHJ5e2NvbnN0IG89ZS5tYXRjaChpYilbMV0sbj1hdG9iKGUucmVwbGFjZShpYiwnJykpLGk9W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKz10KXtjb25zdCBvPW4uc2xpY2UoZSxlK3QpLHI9QXJyYXkoby5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXJbZV09by5jaGFyQ29kZUF0KGUpO2kucHVzaChuZXcgVWludDhBcnJheShyKSl9cmV0dXJuIG5ldyBCbG9iKGkse3R5cGU6b30pfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcignUHJvYmxlbSB3aXRoIGRlY29kaW5nIEJhc2U2NCBpbWFnZSBkYXRhLicpfX1mdW5jdGlvbiBOaShlKXtpZignc3RyaW5nJyE9dHlwZW9mIGUpcmV0dXJuITE7Y29uc3QgdD1lLm1hdGNoKGliKTtyZXR1cm4hISh0JiZ0Lmxlbmd0aCl9ZnVuY3Rpb24gTWkoKXtmdW5jdGlvbiBlKGUsdCxvKXtpZihvLmNvbnN1bWFibGUudGVzdCh0LnZpZXdJdGVtLHtuYW1lOiEwLGNsYXNzZXM6J2ltYWdlJ30pKXtjb25zdCBlPUFycmF5LmZyb20odC52aWV3SXRlbS5nZXRDaGlsZHJlbigpKS5maW5kKChlKT0+ZS5pcygnaW1nJykpO2lmKGUmJmUuaGFzQXR0cmlidXRlKCdzcmMnKSYmby5jb25zdW1hYmxlLnRlc3QoZSx7bmFtZTohMH0pKXtjb25zdCBuPW8uY29udmVydEl0ZW0oZSx0Lm1vZGVsQ3Vyc29yKSxpPU9pKG4ubW9kZWxSYW5nZS5nZXRJdGVtcygpKTtpJiYoby5jb252ZXJ0Q2hpbGRyZW4odC52aWV3SXRlbSxVdS5jcmVhdGVBdChpKSksdC5tb2RlbFJhbmdlPW4ubW9kZWxSYW5nZSx0Lm1vZGVsQ3Vyc29yPW4ubW9kZWxDdXJzb3IpfX19cmV0dXJuKHQpPT57dC5vbignZWxlbWVudDpmaWd1cmUnLGUpfX1mdW5jdGlvbiBEaSgpe2Z1bmN0aW9uIGUoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSxlLm5hbWUpKXtjb25zdCBlPW8ud3JpdGVyLG49by5tYXBwZXIudG9WaWV3RWxlbWVudCh0Lml0ZW0pLGk9bi5nZXRDaGlsZCgwKTtpZihudWxsPT09dC5hdHRyaWJ1dGVOZXdWYWx1ZSl7Y29uc3Qgbz10LmF0dHJpYnV0ZU9sZFZhbHVlO28uZGF0YSYmKGUucmVtb3ZlQXR0cmlidXRlKCdzcmNzZXQnLGkpLGUucmVtb3ZlQXR0cmlidXRlKCdzaXplcycsaSksby53aWR0aCYmZS5yZW1vdmVBdHRyaWJ1dGUoJ3dpZHRoJyxpKSl9ZWxzZXtjb25zdCBvPXQuYXR0cmlidXRlTmV3VmFsdWU7by5kYXRhJiYoZS5zZXRBdHRyaWJ1dGUoJ3NyY3NldCcsby5kYXRhLGkpLGUuc2V0QXR0cmlidXRlKCdzaXplcycsJzEwMHZ3JyxpKSxvLndpZHRoJiZlLnNldEF0dHJpYnV0ZSgnd2lkdGgnLG8ud2lkdGgsaSkpfX19cmV0dXJuKHQpPT57dC5vbignYXR0cmlidXRlOnNyY3NldDppbWFnZScsZSl9fWZ1bmN0aW9uIEJpKGUpe2Z1bmN0aW9uIHQoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSxlLm5hbWUpKXtjb25zdCBlPW8ud3JpdGVyLG49by5tYXBwZXIudG9WaWV3RWxlbWVudCh0Lml0ZW0pLGk9bi5nZXRDaGlsZCgwKTtudWxsPT09dC5hdHRyaWJ1dGVOZXdWYWx1ZT9lLnJlbW92ZUF0dHJpYnV0ZSh0LmF0dHJpYnV0ZUtleSxpKTplLnNldEF0dHJpYnV0ZSh0LmF0dHJpYnV0ZUtleSx0LmF0dHJpYnV0ZU5ld1ZhbHVlLGkpfX1yZXR1cm4obyk9PntvLm9uKGBhdHRyaWJ1dGU6JHtlfTppbWFnZWAsdCl9fWZ1bmN0aW9uIExpKGUsdCl7cmV0dXJuIGUmJnQmJmUucHJpb3JpdHk9PXQucHJpb3JpdHkmJmppKGUuY2xhc3Nlcyk9PWppKHQuY2xhc3Nlcyl9ZnVuY3Rpb24gemkoZSx0KXtpZihlLnByaW9yaXR5PnQucHJpb3JpdHkpcmV0dXJuITA7cmV0dXJuIShlLnByaW9yaXR5PHQucHJpb3JpdHkpJiZqaShlLmNsYXNzZXMpPmppKHQuY2xhc3Nlcyl9ZnVuY3Rpb24gamkoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5zb3J0KCkuam9pbignLCcpOmV9ZnVuY3Rpb24gcWkoZSl7cmV0dXJuISFlLmdldEN1c3RvbVByb3BlcnR5KG1iKX1mdW5jdGlvbiBXaShlLHQsbz17fSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOltlXX1yZXR1cm4gdC5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsJ2ZhbHNlJyxlKSx0LmFkZENsYXNzKGdiLGUpLHQuc2V0Q3VzdG9tUHJvcGVydHkobWIsITAsZSksZS5nZXRGaWxsZXJPZmZzZXQ9JGksby5sYWJlbCYmSGkoZSxvLmxhYmVsLHQpLFVpKGUsdCwoZSx0LG8pPT5vLmFkZENsYXNzKG4odC5jbGFzc2VzKSxlKSwoZSx0LG8pPT5vLnJlbW92ZUNsYXNzKG4odC5jbGFzc2VzKSxlKSksZX1mdW5jdGlvbiBVaShlLHQsbyxuKXtjb25zdCBpPW5ldyB1YjtpLm9uKCdjaGFuZ2U6dG9wJywodCxpKT0+e2kub2xkRGVzY3JpcHRvciYmbihlLGkub2xkRGVzY3JpcHRvcixpLndyaXRlciksaS5uZXdEZXNjcmlwdG9yJiZvKGUsaS5uZXdEZXNjcmlwdG9yLGkud3JpdGVyKX0pLHQuc2V0Q3VzdG9tUHJvcGVydHkoJ2FkZEhpZ2hsaWdodCcsKGUsdCxvKT0+aS5hZGQodCxvKSxlKSx0LnNldEN1c3RvbVByb3BlcnR5KCdyZW1vdmVIaWdobGlnaHQnLChlLHQsbyk9PmkucmVtb3ZlKHQsbyksZSl9ZnVuY3Rpb24gSGkoZSx0LG8pe28uc2V0Q3VzdG9tUHJvcGVydHkocGIsdCxlKX1mdW5jdGlvbiBLaShlKXtjb25zdCB0PWUuZ2V0Q3VzdG9tUHJvcGVydHkocGIpO3JldHVybiB0PydmdW5jdGlvbic9PXR5cGVvZiB0P3QoKTp0OicnfWZ1bmN0aW9uIEdpKGUsdCl7cmV0dXJuIHQuYWRkQ2xhc3MoWydjay1lZGl0b3JfX2VkaXRhYmxlJywnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUnXSxlKSx0LnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyxlLmlzUmVhZE9ubHk/J2ZhbHNlJzondHJ1ZScsZSksZS5vbignY2hhbmdlOmlzUmVhZE9ubHknLChvLG4saSk9Pnt0LnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyxpPydmYWxzZSc6J3RydWUnLGUpfSksZS5vbignY2hhbmdlOmlzRm9jdXNlZCcsKG8sbixpKT0+e2k/dC5hZGRDbGFzcygnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCcsZSk6dC5yZW1vdmVDbGFzcygnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCcsZSl9KSxlfWZ1bmN0aW9uICRpKCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gSmkoZSx0LG8pe3JldHVybiB0LnNldEN1c3RvbVByb3BlcnR5KGhiLCEwLGUpLFdpKGUsdCx7bGFiZWw6ZnVuY3Rpb24oKXtjb25zdCB0PWUuZ2V0Q2hpbGQoMCksbj10LmdldEF0dHJpYnV0ZSgnYWx0Jyk7cmV0dXJuIG4/YCR7bn0gJHtvfWA6b319KX1mdW5jdGlvbiBRaShlKXtyZXR1cm4hIWUuZ2V0Q3VzdG9tUHJvcGVydHkoaGIpJiZxaShlKX1mdW5jdGlvbiBZaShlKXtjb25zdCB0PWUuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuISEodCYmUWkodCkpfWZ1bmN0aW9uIFhpKGUpe3JldHVybiBlIGluc3RhbmNlb2YganUmJidpbWFnZSc9PWUubmFtZX1mdW5jdGlvbiBaaShlKXtjb25zdCB0PWUuY3JlYXRlRW1wdHlFbGVtZW50KCdpbWcnKSxvPWUuY3JlYXRlQ29udGFpbmVyRWxlbWVudCgnZmlndXJlJyx7Y2xhc3M6J2ltYWdlJ30pO3JldHVybiBlLmluc2VydCh2Yy5jcmVhdGVBdChvKSx0KSxvfWZ1bmN0aW9uIGVyKGUpe3JldHVybiBlPT1OYy5hcnJvd3JpZ2h0fHxlPT1OYy5hcnJvd2xlZnR8fGU9PU5jLmFycm93dXB8fGU9PU5jLmFycm93ZG93bn1mdW5jdGlvbiB0cihlKXtyZXR1cm4gdGUoZSk9PXZifWZ1bmN0aW9uIG9yKGUpe2Zvcig7ZTspe2lmKGUgaW5zdGFuY2VvZiBiYyYmIShlIGluc3RhbmNlb2YgX2MpKXJldHVybiEwO2U9ZS5wYXJlbnR9cmV0dXJuITF9ZnVuY3Rpb24gbnIoe2VtaXR0ZXI6ZSxhY3RpdmF0b3I6dCxjYWxsYmFjazpvLGNvbnRleHRFbGVtZW50czpufSl7ZS5saXN0ZW5Ubyhkb2N1bWVudCwnbW91c2Vkb3duJywoZSx7dGFyZ2V0Oml9KT0+e2lmKHQoKSl7Zm9yKGNvbnN0IGUgb2YgbilpZihlLmNvbnRhaW5zKGkpKXJldHVybjtvKCl9fSl9ZnVuY3Rpb24gaXIoe3ZpZXc6ZX0pe2UubGlzdGVuVG8oZS5lbGVtZW50LCdzdWJtaXQnLCh0LG8pPT57by5wcmV2ZW50RGVmYXVsdCgpLGUuZmlyZSgnc3VibWl0Jyl9LHt1c2VDYXB0dXJlOiEwfSl9ZnVuY3Rpb24gcnIoZSl7Zm9yKDtlJiYnaHRtbCchPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpOyl7aWYoJ3N0YXRpYychPUtjLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpLnBvc2l0aW9uKXJldHVybiBlO2U9ZS5wYXJlbnRFbGVtZW50fXJldHVybiBudWxsfWZ1bmN0aW9uIGFyKHtlbGVtZW50OmUsdGFyZ2V0OnQscG9zaXRpb25zOm8sbGltaXRlcjpuLGZpdEluVmlld3BvcnQ6aX0pe2dzKHQpJiYodD10KCkpLGdzKG4pJiYobj1uKCkpO2NvbnN0IHI9cnIoZS5wYXJlbnRFbGVtZW50KSxhPW5ldyBGdShlKSxzPW5ldyBGdSh0KTtsZXQgbCxkO2lmKCFuJiYhaSlbZCxsXT1zcihvWzBdLHMsYSk7ZWxzZXtjb25zdCBlPW4mJm5ldyBGdShuKS5nZXRWaXNpYmxlKCksdD1pJiZuZXcgRnUoS2Mud2luZG93KTtbZCxsXT1scihvLHMsYSxlLHQpfHxzcihvWzBdLHMsYSl9bGV0e2xlZnQ6Yyx0b3A6dX09ZHIobCk7aWYocil7Y29uc3QgZT1kcihuZXcgRnUocikpLHQ9SGUocik7Yy09ZS5sZWZ0LHUtPWUudG9wLGMrPXIuc2Nyb2xsTGVmdCx1Kz1yLnNjcm9sbFRvcCxjLT10LmxlZnQsdS09dC50b3B9cmV0dXJue2xlZnQ6Yyx0b3A6dSxuYW1lOmR9fWZ1bmN0aW9uIHNyKGUsdCxvKXtjb25zdHtsZWZ0Om4sdG9wOmksbmFtZTpyfT1lKHQsbyk7cmV0dXJuW3Isby5jbG9uZSgpLm1vdmVUbyhuLGkpXX1mdW5jdGlvbiBscihlLHQsbyxuLGkpe2xldCByPTAsYT0wLHMsbDtjb25zdCBkPW8uZ2V0QXJlYSgpO3JldHVybiBlLnNvbWUoKGUpPT57ZnVuY3Rpb24gYygpe2E9ZyxyPXAscz1tLGw9dX1jb25zdFt1LG1dPXNyKGUsdCxvKTtsZXQgcCxnO2lmKG4paWYoaSl7Y29uc3QgZT1uLmdldEludGVyc2VjdGlvbihpKTtwPWU/ZS5nZXRJbnRlcnNlY3Rpb25BcmVhKG0pOjB9ZWxzZSBwPW4uZ2V0SW50ZXJzZWN0aW9uQXJlYShtKTtyZXR1cm4gaSYmKGc9aS5nZXRJbnRlcnNlY3Rpb25BcmVhKG0pKSxpJiYhbj9nPmEmJmMoKTohaSYmbj9wPnImJmMoKTpnPmEmJnA+PXI/YygpOmc+PWEmJnA+ciYmYygpLHA9PT1kfSkscz9bbCxzXTpudWxsfWZ1bmN0aW9uIGRyKHtsZWZ0OmUsdG9wOnR9KXtjb25zdHtzY3JvbGxYOm8sc2Nyb2xsWTpufT1LYy53aW5kb3c7cmV0dXJue2xlZnQ6ZStvLHRvcDp0K259fWZ1bmN0aW9uIGNyKGUpe3JldHVybiBWdShlKT9lOlVlKGUpP2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI6J2Z1bmN0aW9uJz09dHlwZW9mIGU/Y3IoZSgpKTpudWxsfWZ1bmN0aW9uIHVyKGUsdCl7cmV0dXJuIGUudG9wLXQuaGVpZ2h0LXpiLmFycm93VmVydGljYWxPZmZzZXR9ZnVuY3Rpb24gbXIoZSl7cmV0dXJuIGUuYm90dG9tK3piLmFycm93VmVydGljYWxPZmZzZXR9ZnVuY3Rpb24gcHIoZSl7Y29uc3QgdD1lLnBsdWdpbnMuZ2V0KCdDb250ZXh0dWFsQmFsbG9vbicpO2lmKFlpKGUuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbikpe2NvbnN0IG89Z3IoZSk7dC51cGRhdGVQb3NpdGlvbihvKX19ZnVuY3Rpb24gZ3IoZSl7Y29uc3QgdD1lLmVkaXRpbmcudmlldyxvPXpiLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJue3RhcmdldDp0LmRvbUNvbnZlcnRlci52aWV3VG9Eb20odC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkpLHBvc2l0aW9uczpbby5ub3J0aEFycm93U291dGgsby5ub3J0aEFycm93U291dGhXZXN0LG8ubm9ydGhBcnJvd1NvdXRoRWFzdCxvLnNvdXRoQXJyb3dOb3J0aCxvLnNvdXRoQXJyb3dOb3J0aFdlc3Qsby5zb3V0aEFycm93Tm9ydGhFYXN0XX19ZnVuY3Rpb24gZnIoZSl7Y29uc3QgdD0vXmltYWdlXFwvKGpwZWd8cG5nfGdpZnxibXApJC87cmV0dXJuIHQudGVzdChlLnR5cGUpfWZ1bmN0aW9uIGhyKGUpe2NvbnN0IHQ9ZS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZih0KXJldHVybiBVdS5jcmVhdGVBZnRlcih0KTtjb25zdCBvPWUuZ2V0U2VsZWN0ZWRCbG9ja3MoKS5uZXh0KCkudmFsdWU7aWYobyl7aWYoby5pc0VtcHR5KXJldHVybiBVdS5jcmVhdGVBdChvKTtjb25zdCB0PVV1LmNyZWF0ZUFmdGVyKG8pO3JldHVybiBlLmZvY3VzLmlzVG91Y2hpbmcodCk/dDpVdS5jcmVhdGVCZWZvcmUobyl9cmV0dXJuIGUuZm9jdXN9ZnVuY3Rpb24gYnIoZSx0KXtlLmhhc0NsYXNzKCdjay1hcHBlYXInKXx8dC5hZGRDbGFzcygnY2stYXBwZWFyJyxlKX1mdW5jdGlvbiBrcihlLHQpe3QucmVtb3ZlQ2xhc3MoJ2NrLWFwcGVhcicsZSl9ZnVuY3Rpb24gX3IoZSx0LG8pe3QuaGFzQ2xhc3MoJ2NrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcicpfHxvLmFkZENsYXNzKCdjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXInLHQpLHQuaGFzQ2xhc3MoJ2NrLWluZmluaXRlLXByb2dyZXNzJyl8fG8uYWRkQ2xhc3MoJ2NrLWluZmluaXRlLXByb2dyZXNzJyx0KTtjb25zdCBuPXQuZ2V0Q2hpbGQoMCk7bi5nZXRBdHRyaWJ1dGUoJ3NyYycpIT09ZSYmby5zZXRBdHRyaWJ1dGUoJ3NyYycsZSxuKX1mdW5jdGlvbiB3cihlLHQpe2UuaGFzQ2xhc3MoJ2NrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcicpJiZ0LnJlbW92ZUNsYXNzKCdjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXInLGUpLGUuaGFzQ2xhc3MoJ2NrLWluZmluaXRlLXByb2dyZXNzJykmJnQucmVtb3ZlQ2xhc3MoJ2NrLWluZmluaXRlLXByb2dyZXNzJyxlKX1mdW5jdGlvbiB2cihlLHQsbyxuKXtjb25zdCBpPXhyKHQpO3QuaW5zZXJ0KHZjLmNyZWF0ZUF0KGUsJ2VuZCcpLGkpLG8ub24oJ2NoYW5nZTp1cGxvYWRlZFBlcmNlbnQnLChlLHQsbyk9PntuLmNoYW5nZSgoZSk9PntlLnNldFN0eWxlKCd3aWR0aCcsbysnJScsaSl9KX0pfWZ1bmN0aW9uIHlyKGUsdCl7Y29uc3Qgbz1DcihlKTtvJiZ0LnJlbW92ZSh5Yy5jcmVhdGVPbihvKSl9ZnVuY3Rpb24geHIoZSl7Y29uc3QgdD1lLmNyZWF0ZVVJRWxlbWVudCgnZGl2Jyx7Y2xhc3M6J2NrLXByb2dyZXNzLWJhcid9KTtyZXR1cm4gZS5zZXRDdXN0b21Qcm9wZXJ0eShyaywhMCx0KSx0fWZ1bmN0aW9uIENyKGUpe2Zvcihjb25zdCB0IG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZih0LmdldEN1c3RvbVByb3BlcnR5KHJrKSlyZXR1cm4gdH1mdW5jdGlvbiBBcihlKXtyZXR1cm4gQXJyYXkuZnJvbShlLnR5cGVzKS5pbmNsdWRlcygndGV4dC9odG1sJykmJicnIT09ZS5nZXREYXRhKCd0ZXh0L2h0bWwnKX1mdW5jdGlvbiBUcihlLHQpe3JldHVybiB0LmNoZWNrQ2hpbGQoZS5wYXJlbnQsJ3BhcmFncmFwaCcpJiYhdC5pc09iamVjdChlKX1mdW5jdGlvbiBQcihlLHQsbyl7Y29uc3Qgbj1vLndyaXRlci5jcmVhdGVFbGVtZW50KCdwYXJhZ3JhcGgnKTtyZXR1cm4gby53cml0ZXIuaW5zZXJ0KG4sdCksby5jb252ZXJ0SXRlbShlLFV1LmNyZWF0ZUF0KG4pKX1mdW5jdGlvbiBFcihlLHQsbyl7Y29uc3Qgbj1uZXcgbG0odCk7cmV0dXJuISFvLmNoZWNrQ2hpbGQobiwncGFyYWdyYXBoJykmJiEhby5jaGVja0NoaWxkKG4ucHVzaCgncGFyYWdyYXBoJyksZSl9ZnVuY3Rpb24gU3IoZSx0LG8pe3JldHVybiBvLmNoZWNrQ2hpbGQoZS5wYXJlbnQsdCkmJiFvLmlzT2JqZWN0KGUpfWZ1bmN0aW9uIE9yKGUsdD14ayl7Y29uc3Qgbz1uZXcgdChlKSxuPW5ldyBiayhlKSxpPW5ldyB3ayhlLG8sbik7cmV0dXJuIG8uYmluZCgnaXNFbmFibGVkJykudG8oaSksbyBpbnN0YW5jZW9mIHhrP28uYmluZCgnaXNPbicpLnRvKGksJ2lzT3BlbicpOm8uYXJyb3dWaWV3LmJpbmQoJ2lzT24nKS50byhpLCdpc09wZW4nKSxJcihpKSxpfWZ1bmN0aW9uIFJyKGUsdCl7Y29uc3Qgbz1lLmxvY2FsZSxuPWUubGlzdFZpZXc9bmV3IFRrKG8pO24uaXRlbXMuYmluZFRvKHQpLnVzaW5nKChlKT0+e2NvbnN0IHQ9bmV3IFBrKG8pO3JldHVybiB0LmJpbmQoLi4uT2JqZWN0LmtleXMoZSkpLnRvKGUpLHR9KSxlLnBhbmVsVmlldy5jaGlsZHJlbi5hZGQobiksbi5pdGVtcy5kZWxlZ2F0ZSgnZXhlY3V0ZScpLnRvKGUpfWZ1bmN0aW9uIElyKGUpe1ZyKGUpLEZyKGUpLE5yKGUpfWZ1bmN0aW9uIFZyKGUpe2Uub24oJ3JlbmRlcicsKCk9Pntucih7ZW1pdHRlcjplLGFjdGl2YXRvcjooKT0+ZS5pc09wZW4sY2FsbGJhY2s6KCk9PntlLmlzT3Blbj0hMX0sY29udGV4dEVsZW1lbnRzOltlLmVsZW1lbnRdfSl9KX1mdW5jdGlvbiBGcihlKXtlLm9uKCdleGVjdXRlJywoKT0+e2UuaXNPcGVuPSExfSl9ZnVuY3Rpb24gTnIoZSl7ZS5rZXlzdHJva2VzLnNldCgnYXJyb3dkb3duJywodCxvKT0+e2UuaXNPcGVuJiYoZS5wYW5lbFZpZXcuZm9jdXMoKSxvKCkpfSksZS5rZXlzdHJva2VzLnNldCgnYXJyb3d1cCcsKHQsbyk9PntlLmlzT3BlbiYmKGUucGFuZWxWaWV3LmZvY3VzTGFzdCgpLG8oKSl9KX1mdW5jdGlvbiBNcihlKXtjb25zdCBvPWUudCx0PXtQYXJhZ3JhcGg6bygncycpLFwiSGVhZGluZyAxXCI6bygndCcpLFwiSGVhZGluZyAyXCI6bygndScpLFwiSGVhZGluZyAzXCI6bygndicpfTtyZXR1cm4gZS5jb25maWcuZ2V0KCdoZWFkaW5nLm9wdGlvbnMnKS5tYXAoKGUpPT57Y29uc3Qgbz10W2UudGl0bGVdO3JldHVybiBvJiZvIT1lLnRpdGxlJiYoZT1PYmplY3QuYXNzaWduKHt9LGUse3RpdGxlOm99KSksZX0pfWZ1bmN0aW9uIERyKGUsdCxvLG4pe2NvbnN0IGk9ZS5kb2N1bWVudDtCay5oYXMoaSl8fChCay5zZXQoaSxuZXcgTWFwKSxpLnJlZ2lzdGVyUG9zdEZpeGVyKChlKT0+QnIoaSxlKSkpLEJrLmdldChpKS5zZXQodCx7cGxhY2Vob2xkZXJUZXh0Om8sY2hlY2tGdW5jdGlvbjpufSksZS5yZW5kZXIoKX1mdW5jdGlvbiBCcihlLHQpe2NvbnN0IG89QmsuZ2V0KGUpO2xldCBuPSExO2Zvcihjb25zdFtpLHJdb2YgbylMcih0LGkscikmJihuPSEwKTtyZXR1cm4gbn1mdW5jdGlvbiBMcihlLHQsbyl7Y29uc3Qgbj10LmRvY3VtZW50LGk9by5wbGFjZWhvbGRlclRleHQ7bGV0IHI9ITE7aWYoIW4pcmV0dXJuITE7dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGxhY2Vob2xkZXInKSE9PWkmJihlLnNldEF0dHJpYnV0ZSgnZGF0YS1wbGFjZWhvbGRlcicsaSx0KSxyPSEwKTtjb25zdCBhPW4uc2VsZWN0aW9uLHM9YS5hbmNob3IsbD1vLmNoZWNrRnVuY3Rpb247aWYobCYmIWwoKSlyZXR1cm4gdC5oYXNDbGFzcygnY2stcGxhY2Vob2xkZXInKSYmKGUucmVtb3ZlQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJyx0KSxyPSEwKSxyO2NvbnN0IGQ9IUFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5zb21lKChlKT0+IWUuaXMoJ3VpRWxlbWVudCcpKTtyZXR1cm4hbi5pc0ZvY3VzZWQmJmQ/KHQuaGFzQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJyl8fChlLmFkZENsYXNzKCdjay1wbGFjZWhvbGRlcicsdCkscj0hMCkscik6KGQmJnMmJnMucGFyZW50IT09dD8hdC5oYXNDbGFzcygnY2stcGxhY2Vob2xkZXInKSYmKGUuYWRkQ2xhc3MoJ2NrLXBsYWNlaG9sZGVyJyx0KSxyPSEwKTp0Lmhhc0NsYXNzKCdjay1wbGFjZWhvbGRlcicpJiYoZS5yZW1vdmVDbGFzcygnY2stcGxhY2Vob2xkZXInLHQpLHI9ITApLHIpfWZ1bmN0aW9uIHpyKGUsdCl7cmV0dXJuKG8pPT57Y29uc3Qgbj1vLmNyZWF0ZUVkaXRhYmxlRWxlbWVudCgnZmlnY2FwdGlvbicpO3JldHVybiBvLnNldEN1c3RvbVByb3BlcnR5KExrLCEwLG4pLERyKGUsbix0KSxHaShuLG8pfX1mdW5jdGlvbiBqcihlKXtmb3IoY29uc3QgdCBvZiBlLmdldENoaWxkcmVuKCkpaWYodCBpbnN0YW5jZW9mIGp1JiYnY2FwdGlvbic9PXQubmFtZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1mdW5jdGlvbiBxcihlKXtjb25zdCB0PWUucGFyZW50O3JldHVybidmaWdjYXB0aW9uJz09ZS5uYW1lJiZ0JiYnZmlndXJlJz09dC5uYW1lJiZ0Lmhhc0NsYXNzKCdpbWFnZScpP3tuYW1lOiEwfTpudWxsfWZ1bmN0aW9uIFdyKGUsdD0hMCl7cmV0dXJuKG8sbixpKT0+e2NvbnN0IHI9bi5pdGVtO2lmKChyLmNoaWxkQ291bnR8fHQpJiZYaShyLnBhcmVudCkpe2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShuLml0ZW0sJ2luc2VydCcpKXJldHVybjtjb25zdCB0PWkubWFwcGVyLnRvVmlld0VsZW1lbnQobi5yYW5nZS5zdGFydC5wYXJlbnQpLG89ZShpLndyaXRlciksYT1pLndyaXRlcjtyLmNoaWxkQ291bnR8fGEuYWRkQ2xhc3MoJ2NrLWhpZGRlbicsbyksVXIobyxuLml0ZW0sdCxpKX19fWZ1bmN0aW9uIFVyKGUsdCxvLG4pe2NvbnN0IGk9dmMuY3JlYXRlQXQobywnZW5kJyk7bi53cml0ZXIuaW5zZXJ0KGksZSksbi5tYXBwZXIuYmluZEVsZW1lbnRzKHQsZSl9ZnVuY3Rpb24gSHIoZSl7Y29uc3QgdD1lLmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6ITB9KSxvPXQuZmluZCgoZSk9PidjYXB0aW9uJz09ZS5uYW1lKTtyZXR1cm4gbyYmby5wYXJlbnQmJidpbWFnZSc9PW8ucGFyZW50Lm5hbWU/bzpudWxsfWZ1bmN0aW9uIEtyKGUsdCl7cmV0dXJuIShlLmNoaWxkQ291bnR8fGUuaGFzQ2xhc3MoJ2NrLWhpZGRlbicpKSYmKHQuYWRkQ2xhc3MoJ2NrLWhpZGRlbicsZSksITApfWZ1bmN0aW9uIEdyKGUsdCl7cmV0dXJuISFlLmhhc0NsYXNzKCdjay1oaWRkZW4nKSYmKHQucmVtb3ZlQ2xhc3MoJ2NrLWhpZGRlbicsZSksITApfWZ1bmN0aW9uICRyKGUpe3JldHVybih0LG8sbik9PntpZihuLmNvbnN1bWFibGUuY29uc3VtZShvLml0ZW0sdC5uYW1lKSl7Y29uc3QgdD1RcihvLmF0dHJpYnV0ZU5ld1ZhbHVlLGUpLGk9UXIoby5hdHRyaWJ1dGVPbGRWYWx1ZSxlKSxyPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoby5pdGVtKSxhPW4ud3JpdGVyO2kmJmEucmVtb3ZlQ2xhc3MoaS5jbGFzc05hbWUsciksdCYmYS5hZGRDbGFzcyh0LmNsYXNzTmFtZSxyKX19fWZ1bmN0aW9uIEpyKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKGUpPT4hZS5pc0RlZmF1bHQpO3JldHVybihlLG8sbik9PntpZihvLm1vZGVsUmFuZ2Upe2NvbnN0IGU9by52aWV3SXRlbSxpPU9pKG8ubW9kZWxSYW5nZS5nZXRJdGVtcygpKTtpZihuLnNjaGVtYS5jaGVja0F0dHJpYnV0ZShpLCdpbWFnZVN0eWxlJykpZm9yKGNvbnN0IG8gb2YgdCluLmNvbnN1bWFibGUuY29uc3VtZShlLHtjbGFzc2VzOm8uY2xhc3NOYW1lfSkmJm4ud3JpdGVyLnNldEF0dHJpYnV0ZSgnaW1hZ2VTdHlsZScsby5uYW1lLGkpfX19ZnVuY3Rpb24gUXIoZSx0KXtmb3IoY29uc3QgbyBvZiB0KWlmKG8ubmFtZT09PWUpcmV0dXJuIG99ZnVuY3Rpb24gWXIoZT1bXSl7cmV0dXJuIGUubWFwKFhyKS5tYXAoKGUpPT5PYmplY3QuYXNzaWduKHt9LGUpKX1mdW5jdGlvbiBYcihlKXtpZignc3RyaW5nJz09dHlwZW9mIGUpe2NvbnN0IHQ9ZTtaa1t0XT9lPU9iamVjdC5hc3NpZ24oe30sWmtbdF0pOihTdS53YXJuKCdpbWFnZS1zdHlsZS1ub3QtZm91bmQ6IFRoZXJlIGlzIG5vIHN1Y2ggaW1hZ2Ugc3R5bGUgb2YgZ2l2ZW4gbmFtZS4nLHtuYW1lOnR9KSxlPXtuYW1lOnR9KX1lbHNlIGlmKFprW2UubmFtZV0pe2NvbnN0IHQ9WmtbZS5uYW1lXSxvPU9iamVjdC5hc3NpZ24oe30sZSk7Zm9yKGNvbnN0IG4gaW4gdCllLmhhc093blByb3BlcnR5KG4pfHwob1tuXT10W25dKTtlPW99cmV0dXJuJ3N0cmluZyc9PXR5cGVvZiBlLmljb24mJmVfW2UuaWNvbl0mJihlLmljb249ZV9bZS5pY29uXSksZX1mdW5jdGlvbiBacihlLHQpe2Zvcihjb25zdCBvIG9mIGUpdFtvLnRpdGxlXSYmKG8udGl0bGU9dFtvLnRpdGxlXSk7cmV0dXJuIGV9ZnVuY3Rpb24gZWEoZSx0KXtyZXR1cm4gbmV3IEh1KHRhKGUsdCwhMCksdGEoZSx0LCExKSl9ZnVuY3Rpb24gdGEoZSx0LG8pe2xldCBuPWUudGV4dE5vZGV8fChvP2Uubm9kZUJlZm9yZTplLm5vZGVBZnRlciksaT1udWxsO2Zvcig7biYmbi5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJyk9PXQ7KWk9bixuPW8/bi5wcmV2aW91c1NpYmxpbmc6bi5uZXh0U2libGluZztyZXR1cm4gaT9VdS5jcmVhdGVBdChpLG8/J2JlZm9yZSc6J2FmdGVyJyk6ZX1mdW5jdGlvbiBvYShlKXtyZXR1cm4gZS5pcygnYXR0cmlidXRlRWxlbWVudCcpJiYhIWUuZ2V0Q3VzdG9tUHJvcGVydHkoZF8pfWZ1bmN0aW9uIG5hKGUsdCl7Y29uc3Qgbz10LmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoJ2EnLHtocmVmOmV9LHtwcmlvcml0eTo1fSk7cmV0dXJuIHQuc2V0Q3VzdG9tUHJvcGVydHkoZF8sITAsbyksb31mdW5jdGlvbiBpYShlLHQsbyxuKXtjb25zdCBpPW5ldyBjXyh0LG8sbikscj10LmRvY3VtZW50LnNlbGVjdGlvbjtvLmxpc3RlblRvKGUuZG9jdW1lbnQsJ2tleWRvd24nLChlLHQpPT57aWYoIXIuaXNDb2xsYXBzZWQpcmV0dXJuO2lmKHQuc2hpZnRLZXl8fHQuYWx0S2V5fHx0LmN0cmxLZXkpcmV0dXJuO2NvbnN0IG89dC5rZXlDb2RlPT1OYy5hcnJvd3JpZ2h0LG49dC5rZXlDb2RlPT1OYy5hcnJvd2xlZnQ7aWYoIW8mJiFuKXJldHVybjtjb25zdCBhPXIuZ2V0Rmlyc3RQb3NpdGlvbigpO2xldCBzO3M9bz9pLmhhbmRsZUZvcndhcmRNb3ZlbWVudChhLHQpOmkuaGFuZGxlQmFja3dhcmRNb3ZlbWVudChhLHQpLHMmJmUuc3RvcCgpfSx7cHJpb3JpdHk6dHMuZ2V0KCdoaWdoJykrMX0pfWZ1bmN0aW9uIHJhKGUsdCl7cmV0dXJuIGFhKGUsdCl8fHNhKGUsdCl9ZnVuY3Rpb24gYWEoZSx0KXtjb25zdHtub2RlQmVmb3JlOm8sbm9kZUFmdGVyOm59PWUsaT0hIW8mJm8uaGFzQXR0cmlidXRlKHQpLHI9ISFuJiZuLmhhc0F0dHJpYnV0ZSh0KTtyZXR1cm4gciYmKCFpfHxvLmdldEF0dHJpYnV0ZSh0KSE9PW4uZ2V0QXR0cmlidXRlKHQpKX1mdW5jdGlvbiBzYShlLHQpe2NvbnN0e25vZGVCZWZvcmU6byxub2RlQWZ0ZXI6bn09ZSxpPSEhbyYmby5oYXNBdHRyaWJ1dGUodCkscj0hIW4mJm4uaGFzQXR0cmlidXRlKHQpO3JldHVybiBpJiYoIXJ8fG8uZ2V0QXR0cmlidXRlKHQpIT09bi5nZXRBdHRyaWJ1dGUodCkpfWZ1bmN0aW9uIGxhKGUsdCl7Y29uc3R7bm9kZUJlZm9yZTpvLG5vZGVBZnRlcjpufT1lLGk9ISFvJiZvLmhhc0F0dHJpYnV0ZSh0KSxyPSEhbiYmbi5oYXNBdHRyaWJ1dGUodCk7cmV0dXJuIHImJmk/bi5nZXRBdHRyaWJ1dGUodCkhPT1vLmdldEF0dHJpYnV0ZSh0KTp2b2lkIDB9ZnVuY3Rpb24gZGEoZSx0KXtyZXR1cm4gcmEoZS5nZXRTaGlmdGVkQnkoLTEpLHQpfWZ1bmN0aW9uIGNhKGUpe3JldHVybiBlLmdldEFuY2VzdG9ycygpLmZpbmQoKGUpPT5vYShlKSl9ZnVuY3Rpb24gdWEoZSx0LG8pe2NvbnN0IG49dD9lWzBdOmVbZS5sZW5ndGgtMV07aWYobi5pcygnbGlzdEl0ZW0nKSlmb3IobGV0IGk9blt0PydwcmV2aW91c1NpYmxpbmcnOiduZXh0U2libGluZyddLHI9bi5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpO2kmJmkuaXMoJ2xpc3RJdGVtJykmJmkuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKT49bzspcj5pLmdldEF0dHJpYnV0ZSgnaW5kZW50JykmJihyPWkuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKSksaS5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpPT1yJiZlW3Q/J3Vuc2hpZnQnOidwdXNoJ10oaSksaT1pW3Q/J3ByZXZpb3VzU2libGluZyc6J25leHRTaWJsaW5nJ119ZnVuY3Rpb24gbWEoZSx0KXtyZXR1cm4gdC5jaGVja0NoaWxkKGUucGFyZW50LCdsaXN0SXRlbScpJiYhdC5pc09iamVjdChlKX1mdW5jdGlvbiBwYShlKXtjb25zdCB0PWUuY3JlYXRlQ29udGFpbmVyRWxlbWVudCgnbGknKTtyZXR1cm4gdC5nZXRGaWxsZXJPZmZzZXQ9Z2EsdH1mdW5jdGlvbiBnYSgpe2NvbnN0IGU9IXRoaXMuaXNFbXB0eSYmKCd1bCc9PXRoaXMuZ2V0Q2hpbGQoMCkubmFtZXx8J29sJz09dGhpcy5nZXRDaGlsZCgwKS5uYW1lKTtyZXR1cm4gdGhpcy5pc0VtcHR5fHxlPzA6bnVsbH1mdW5jdGlvbiBmYShlLHQsbyl7Y29uc3Qgbj1vLmNvbnN1bWFibGU7aWYobi50ZXN0KHQuaXRlbSwnaW5zZXJ0JykmJm4udGVzdCh0Lml0ZW0sJ2F0dHJpYnV0ZTp0eXBlJykmJm4udGVzdCh0Lml0ZW0sJ2F0dHJpYnV0ZTppbmRlbnQnKSl7bi5jb25zdW1lKHQuaXRlbSwnaW5zZXJ0Jyksbi5jb25zdW1lKHQuaXRlbSwnYXR0cmlidXRlOnR5cGUnKSxuLmNvbnN1bWUodC5pdGVtLCdhdHRyaWJ1dGU6aW5kZW50Jyk7Y29uc3QgZT10Lml0ZW0saT1FYShlLG8pO1JhKGUsaSxvKX19ZnVuY3Rpb24gaGEoZSx0LG8pe2NvbnN0IG49by5tYXBwZXIudG9WaWV3UG9zaXRpb24odC5wb3NpdGlvbikuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oKGUpPT4hZS5pdGVtLmlzKCdsaScpKSxpPW4ubm9kZUFmdGVyLHI9by53cml0ZXI7ci5icmVha0NvbnRhaW5lcih2Yy5jcmVhdGVCZWZvcmUoaSkpLHIuYnJlYWtDb250YWluZXIodmMuY3JlYXRlQWZ0ZXIoaSkpO2NvbnN0IGE9aS5wYXJlbnQscz1hLnByZXZpb3VzU2libGluZyxsPXljLmNyZWF0ZU9uKGEpLGQ9ci5yZW1vdmUobCk7cyYmcy5uZXh0U2libGluZyYmT2EocixzLHMubmV4dFNpYmxpbmcpO2NvbnN0IGM9by5tYXBwZXIudG9Nb2RlbEVsZW1lbnQoaSk7SWEoYy5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpKzEsdC5wb3NpdGlvbixsLnN0YXJ0LGksbyk7Zm9yKGNvbnN0IG4gb2YgeWMuY3JlYXRlSW4oZCkuZ2V0SXRlbXMoKSlvLm1hcHBlci51bmJpbmRWaWV3RWxlbWVudChuKTtlLnN0b3AoKX1mdW5jdGlvbiBiYShlLHQsbyl7aWYoIW8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSwnYXR0cmlidXRlOnR5cGUnKSlyZXR1cm47Y29uc3Qgbj1vLm1hcHBlci50b1ZpZXdFbGVtZW50KHQuaXRlbSksaT1vLndyaXRlcjtpLmJyZWFrQ29udGFpbmVyKHZjLmNyZWF0ZUJlZm9yZShuKSksaS5icmVha0NvbnRhaW5lcih2Yy5jcmVhdGVBZnRlcihuKSk7bGV0IHI9bi5wYXJlbnQ7Y29uc3QgYT0nbnVtYmVyZWQnPT10LmF0dHJpYnV0ZU5ld1ZhbHVlPydvbCc6J3VsJztyPWkucmVuYW1lKHIsYSksT2EoaSxyLHIubmV4dFNpYmxpbmcpLE9hKGksci5wcmV2aW91c1NpYmxpbmcscik7Zm9yKGNvbnN0IG4gb2YgdC5pdGVtLmdldENoaWxkcmVuKCkpby5jb25zdW1hYmxlLmNvbnN1bWUobiwnaW5zZXJ0Jyl9ZnVuY3Rpb24ga2EoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSwnYXR0cmlidXRlOmluZGVudCcpKXtjb25zdCBlPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQodC5pdGVtKSxuPW8ud3JpdGVyO24uYnJlYWtDb250YWluZXIodmMuY3JlYXRlQmVmb3JlKGUpKSxuLmJyZWFrQ29udGFpbmVyKHZjLmNyZWF0ZUFmdGVyKGUpKTtjb25zdCBpPWUucGFyZW50LHI9aS5wcmV2aW91c1NpYmxpbmcsYT15Yy5jcmVhdGVPbihpKTtuLnJlbW92ZShhKSxyJiZyLm5leHRTaWJsaW5nJiZPYShuLHIsci5uZXh0U2libGluZyksSWEodC5hdHRyaWJ1dGVPbGRWYWx1ZSsxLHQucmFuZ2Uuc3RhcnQsYS5zdGFydCxlLG8pLFJhKHQuaXRlbSxlLG8pO2Zvcihjb25zdCBlIG9mIHQuaXRlbS5nZXRDaGlsZHJlbigpKW8uY29uc3VtYWJsZS5jb25zdW1lKGUsJ2luc2VydCcpfX1mdW5jdGlvbiBfYShlLHQsbyl7aWYoJ2xpc3RJdGVtJyE9dC5pdGVtLm5hbWUpe2xldCBlPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKHQucmFuZ2Uuc3RhcnQpO2NvbnN0IG49by53cml0ZXIscj1bXTtmb3IoOygndWwnPT1lLnBhcmVudC5uYW1lfHwnb2wnPT1lLnBhcmVudC5uYW1lKSYmKGU9bi5icmVha0NvbnRhaW5lcihlKSwnbGknPT1lLnBhcmVudC5uYW1lKTspe2NvbnN0IHQ9ZSxvPXZjLmNyZWF0ZUF0KGUucGFyZW50LCdlbmQnKTtpZighdC5pc0VxdWFsKG8pKXtjb25zdCBlPW4ucmVtb3ZlKG5ldyB5Yyh0LG8pKTtyLnB1c2goZSl9ZT12Yy5jcmVhdGVBZnRlcihlLnBhcmVudCl9aWYoMDxyLmxlbmd0aCl7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe2NvbnN0IG89ZS5ub2RlQmVmb3JlLGk9bi5pbnNlcnQoZSxyW3RdKTtpZihlPWkuZW5kLDA8dCl7Y29uc3QgdD1PYShuLG8sby5uZXh0U2libGluZyk7dCYmdC5wYXJlbnQ9PW8mJmUub2Zmc2V0LS19fU9hKG4sZS5ub2RlQmVmb3JlLGUubm9kZUFmdGVyKX19fWZ1bmN0aW9uIHdhKGUsdCxvKXtjb25zdCBuPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKHQucG9zaXRpb24pLGk9bi5ub2RlQmVmb3JlLHI9bi5ub2RlQWZ0ZXI7T2Eoby53cml0ZXIsaSxyKX1mdW5jdGlvbiB2YShlLHQsbyl7aWYoby5jb25zdW1hYmxlLmNvbnN1bWUodC52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdCBlPW8ud3JpdGVyLG49dGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlLGk9ZS5jcmVhdGVFbGVtZW50KCdsaXN0SXRlbScpO24uaW5kZW50PW4uaW5kZW50fHwwLGUuc2V0QXR0cmlidXRlKCdpbmRlbnQnLG4uaW5kZW50LGkpO2NvbnN0IHI9dC52aWV3SXRlbS5wYXJlbnQmJidvbCc9PXQudmlld0l0ZW0ucGFyZW50Lm5hbWU/J251bWJlcmVkJzonYnVsbGV0ZWQnO2Uuc2V0QXR0cmlidXRlKCd0eXBlJyxyLGkpLG4uaW5kZW50Kys7Y29uc3QgYT1vLnNwbGl0VG9BbGxvd2VkUGFyZW50KGksdC5tb2RlbEN1cnNvcik7aWYoIWEpcmV0dXJuO2UuaW5zZXJ0KGksYS5wb3NpdGlvbik7bGV0IHM9VXUuY3JlYXRlQWZ0ZXIoaSk7Zm9yKGNvbnN0IGUgb2YgdC52aWV3SXRlbS5nZXRDaGlsZHJlbigpKSd1bCc9PWUubmFtZXx8J29sJz09ZS5uYW1lP3M9by5jb252ZXJ0SXRlbShlLHMpLm1vZGVsQ3Vyc29yOm8uY29udmVydEl0ZW0oZSxVdS5jcmVhdGVBdChpLCdlbmQnKSk7bi5pbmRlbnQtLSx0Lm1vZGVsUmFuZ2U9bmV3IEh1KHQubW9kZWxDdXJzb3IscyksdC5tb2RlbEN1cnNvcj1hLmN1cnNvclBhcmVudD9VdS5jcmVhdGVBdChhLmN1cnNvclBhcmVudCk6dC5tb2RlbFJhbmdlLmVuZH19ZnVuY3Rpb24geWEoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS50ZXN0KHQudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3QgZT1BcnJheS5mcm9tKHQudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSk7Zm9yKGNvbnN0IHQgb2YgZSl0LmlzKCdsaScpfHx0Ll9yZW1vdmUoKX19ZnVuY3Rpb24geGEoZSx0LG8pe2lmKG8uY29uc3VtYWJsZS50ZXN0KHQudmlld0l0ZW0se25hbWU6ITB9KSl7aWYoMD09PXQudmlld0l0ZW0uY2hpbGRDb3VudClyZXR1cm47Y29uc3QgZT1bLi4udC52aWV3SXRlbS5nZXRDaGlsZHJlbigpXTtsZXQgbz0hMSxuPSEwO2Zvcihjb25zdCB0IG9mIGUpIW98fHQuaXMoJ3VsJyl8fHQuaXMoJ29sJyl8fHQuX3JlbW92ZSgpLHQuaXMoJ3RleHQnKT8obiYmKHQuX2RhdGE9dC5kYXRhLnJlcGxhY2UoL15cXHMrLywnJykpLCghdC5uZXh0U2libGluZ3x8dC5uZXh0U2libGluZy5pcygndWwnKXx8dC5uZXh0U2libGluZy5pcygnb2wnKSkmJih0Ll9kYXRhPXQuZGF0YS5yZXBsYWNlKC9cXHMrJC8sJycpKSk6KHQuaXMoJ3VsJyl8fHQuaXMoJ29sJykpJiYobz0hMCksbj0hMX19ZnVuY3Rpb24gQ2EoZSx0KXtpZighdC5pc1BoYW50b20pe2NvbnN0IGU9dC5tb2RlbFBvc2l0aW9uLm5vZGVCZWZvcmU7aWYoZSYmZS5pcygnbGlzdEl0ZW0nKSl7Y29uc3Qgbz10Lm1hcHBlci50b1ZpZXdFbGVtZW50KGUpLG49by5nZXRBbmNlc3RvcnMoKS5maW5kKChlKT0+ZS5pcygndWwnKXx8ZS5pcygnb2wnKSksaT1uZXcgd2Moe3N0YXJ0UG9zaXRpb246dmMuY3JlYXRlQXQobywwKX0pO2Zvcihjb25zdCBlIG9mIGkpaWYoJ2VsZW1lbnRTdGFydCc9PWUudHlwZSYmZS5pdGVtLmlzKCdsaScpKXt0LnZpZXdQb3NpdGlvbj1lLnByZXZpb3VzUG9zaXRpb247YnJlYWt9ZWxzZSBpZignZWxlbWVudEVuZCc9PWUudHlwZSYmZS5pdGVtPT1uKXt0LnZpZXdQb3NpdGlvbj1lLm5leHRQb3NpdGlvbjticmVha319fX1mdW5jdGlvbiBBYShlLHQpe2NvbnN0IG89dC52aWV3UG9zaXRpb24sbj1vLnBhcmVudCxpPXQubWFwcGVyO2lmKCd1bCc9PW4ubmFtZXx8J29sJz09bi5uYW1lKXtpZighby5pc0F0RW5kKXtjb25zdCBlPWkudG9Nb2RlbEVsZW1lbnQoby5ub2RlQWZ0ZXIpO3QubW9kZWxQb3NpdGlvbj1VdS5jcmVhdGVCZWZvcmUoZSl9ZWxzZXtjb25zdCBlPWkudG9Nb2RlbEVsZW1lbnQoby5ub2RlQmVmb3JlKSxuPWkuZ2V0TW9kZWxMZW5ndGgoby5ub2RlQmVmb3JlKTt0Lm1vZGVsUG9zaXRpb249VXUuY3JlYXRlQmVmb3JlKGUpLmdldFNoaWZ0ZWRCeShuKX1lLnN0b3AoKX1lbHNlIGlmKCdsaSc9PW4ubmFtZSYmby5ub2RlQmVmb3JlJiYoJ3VsJz09by5ub2RlQmVmb3JlLm5hbWV8fCdvbCc9PW8ubm9kZUJlZm9yZS5uYW1lKSl7Y29uc3Qgcj1pLnRvTW9kZWxFbGVtZW50KG4pO2xldCBhPTEscz1vLm5vZGVCZWZvcmU7Zm9yKDtzJiYocy5pcygndWwnKXx8cy5pcygnb2wnKSk7KWErPWkuZ2V0TW9kZWxMZW5ndGgocykscz1zLnByZXZpb3VzU2libGluZzt0Lm1vZGVsUG9zaXRpb249VXUuY3JlYXRlQmVmb3JlKHIpLmdldFNoaWZ0ZWRCeShhKSxlLnN0b3AoKX19ZnVuY3Rpb24gVGEoZSx0KXtmdW5jdGlvbiBvKGUpe2NvbnN0IHQ9ZS5ub2RlQmVmb3JlO2lmKCF0fHwhdC5pcygnbGlzdEl0ZW0nKSl7Y29uc3QgdD1lLm5vZGVBZnRlcjt0JiZ0LmlzKCdsaXN0SXRlbScpJiZhLnNldCh0LHQpfWVsc2V7bGV0IG89dDtpZihhLmhhcyhvKSlyZXR1cm47Zm9yKDtvLnByZXZpb3VzU2libGluZyYmby5wcmV2aW91c1NpYmxpbmcuaXMoJ2xpc3RJdGVtJyk7KWlmKG89by5wcmV2aW91c1NpYmxpbmcsYS5oYXMobykpcmV0dXJuO2Euc2V0KGUubm9kZUJlZm9yZSxvKX19ZnVuY3Rpb24gbihlKXtmb3IobGV0IG89MCxuPW51bGw7ZSYmZS5pcygnbGlzdEl0ZW0nKTspe2NvbnN0IGk9ZS5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpO2lmKGk+byl7bGV0IHI7bnVsbD09PW4/KG49aS1vLHI9byk6KG4+aSYmKG49aSkscj1pLW4pLHQuc2V0QXR0cmlidXRlKCdpbmRlbnQnLHIsZSkscz0hMH1lbHNlIG49bnVsbCxvPWUuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKSsxO2U9ZS5uZXh0U2libGluZ319ZnVuY3Rpb24gaShlKXtmb3IobGV0IG89W10sbj1udWxsO2UmJmUuaXMoJ2xpc3RJdGVtJyk7KXtjb25zdCBpPWUuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKTtpZihuJiZuLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk+aSYmKG89by5zbGljZSgwLGkrMSkpLDAhPWkpaWYob1tpXSl7Y29uc3Qgbj1vW2ldO2UuZ2V0QXR0cmlidXRlKCd0eXBlJykhPW4mJih0LnNldEF0dHJpYnV0ZSgndHlwZScsbixlKSxzPSEwKX1lbHNlIG9baV09ZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtuPWUsZT1lLm5leHRTaWJsaW5nfX1jb25zdCByPWUuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSxhPW5ldyBNYXA7bGV0IHM9ITE7Zm9yKGNvbnN0IG4gb2YgcilpZignaW5zZXJ0Jz09bi50eXBlJiYnbGlzdEl0ZW0nPT1uLm5hbWUpbyhuLnBvc2l0aW9uKTtlbHNlIGlmKCdpbnNlcnQnPT1uLnR5cGUmJidsaXN0SXRlbSchPW4ubmFtZSl7aWYoJyR0ZXh0JyE9bi5uYW1lKXtjb25zdCBlPW4ucG9zaXRpb24ubm9kZUFmdGVyO2UuaGFzQXR0cmlidXRlKCdpbmRlbnQnKSYmKHQucmVtb3ZlQXR0cmlidXRlKCdpbmRlbnQnLGUpLHM9ITApLGUuaGFzQXR0cmlidXRlKCd0eXBlJykmJih0LnJlbW92ZUF0dHJpYnV0ZSgndHlwZScsZSkscz0hMCl9Y29uc3QgZT1uLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShuLmxlbmd0aCk7byhlKX1lbHNlJ3JlbW92ZSc9PW4udHlwZSYmJ2xpc3RJdGVtJz09bi5uYW1lP28obi5wb3NpdGlvbik6J2F0dHJpYnV0ZSc9PW4udHlwZSYmJ2luZGVudCc9PW4uYXR0cmlidXRlS2V5P28obi5yYW5nZS5zdGFydCk6J2F0dHJpYnV0ZSc9PW4udHlwZSYmJ3R5cGUnPT1uLmF0dHJpYnV0ZUtleSYmbyhuLnJhbmdlLnN0YXJ0KTtmb3IoY29uc3QgbyBvZiBhLnZhbHVlcygpKW4obyksaShvKTtyZXR1cm4gc31mdW5jdGlvbiBQYShlLFt0LG9dKXtsZXQgbj10LmlzKCdkb2N1bWVudEZyYWdtZW50Jyk/dC5nZXRDaGlsZCgwKTp0O2lmKG4mJm4uaXMoJ2xpc3RJdGVtJykpe2NvbnN0IGU9by5nZXRGaXJzdFBvc2l0aW9uKCk7bGV0IHQ9bnVsbDtpZihlLnBhcmVudC5pcygnbGlzdEl0ZW0nKT90PWUucGFyZW50OmUubm9kZUJlZm9yZSYmZS5ub2RlQmVmb3JlLmlzKCdsaXN0SXRlbScpJiYodD1lLm5vZGVCZWZvcmUpLHQpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpO2lmKDA8ZSlmb3IoO24mJm4uaXMoJ2xpc3RJdGVtJyk7KW4uX3NldEF0dHJpYnV0ZSgnaW5kZW50JyxuLmdldEF0dHJpYnV0ZSgnaW5kZW50JykrZSksbj1uLm5leHRTaWJsaW5nfX19ZnVuY3Rpb24gRWEoZSx0KXtjb25zdCBvPXQubWFwcGVyLG49dC53cml0ZXIsaT0nbnVtYmVyZWQnPT1lLmdldEF0dHJpYnV0ZSgndHlwZScpPydvbCc6J3VsJyxyPXBhKG4pLGE9bi5jcmVhdGVDb250YWluZXJFbGVtZW50KGksbnVsbCk7cmV0dXJuIG4uaW5zZXJ0KHZjLmNyZWF0ZUF0KGEpLHIpLG8uYmluZEVsZW1lbnRzKGUscikscn1mdW5jdGlvbiBTYShlLHQpe2NvbnN0IG89ISF0LnNhbWVJbmRlbnQsbj0hIXQuc21hbGxlckluZGVudCxpPWUgaW5zdGFuY2VvZiBqdT9lLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk6dC5pbmRlbnQ7Zm9yKGxldCByPWUgaW5zdGFuY2VvZiBqdT9lLnByZXZpb3VzU2libGluZzplLm5vZGVCZWZvcmU7ciYmJ2xpc3RJdGVtJz09ci5uYW1lOyl7Y29uc3QgZT1yLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk7aWYobyYmaT09ZXx8biYmaT5lKXJldHVybiByO3I9ci5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gT2EoZSx0LG8pe3JldHVybiB0JiZvJiYoJ3VsJz09dC5uYW1lfHwnb2wnPT10Lm5hbWUpJiZ0Lm5hbWU9PW8ubmFtZT9lLm1lcmdlQ29udGFpbmVycyh2Yy5jcmVhdGVBZnRlcih0KSk6bnVsbH1mdW5jdGlvbiBSYShlLHQsbyl7Y29uc3Qgbj10LnBhcmVudCxpPW8ubWFwcGVyLHI9by53cml0ZXI7bGV0IGE9aS50b1ZpZXdQb3NpdGlvbihVdS5jcmVhdGVCZWZvcmUoZSkpO2NvbnN0IHM9U2EoZSx7c2FtZUluZGVudDohMCxzbWFsbGVySW5kZW50OiEwfSksbD1lLnByZXZpb3VzU2libGluZztpZihzJiZzLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk9PWUuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKSl7Y29uc3QgZT1pLnRvVmlld0VsZW1lbnQocyk7YT1yLmJyZWFrQ29udGFpbmVyKHZjLmNyZWF0ZUFmdGVyKGUpKX1lbHNlIGE9bCYmJ2xpc3RJdGVtJz09bC5uYW1lP2kudG9WaWV3UG9zaXRpb24oVXUuY3JlYXRlQXQobCwnZW5kJykpOmkudG9WaWV3UG9zaXRpb24oVXUuY3JlYXRlQmVmb3JlKGUpKTtpZihhPVZhKGEpLHIuaW5zZXJ0KGEsbiksbCYmJ2xpc3RJdGVtJz09bC5uYW1lKXtjb25zdCBlPWkudG9WaWV3RWxlbWVudChsKSxvPW5ldyB3Yyh7Ym91bmRhcmllczpuZXcgeWModmMuY3JlYXRlQXQoZSwwKSxhKSxpZ25vcmVFbGVtZW50RW5kOiEwfSk7Zm9yKGNvbnN0IGUgb2YgbylpZihlLml0ZW0uaXMoJ2xpJykpe2NvbnN0IG49ci5icmVha0NvbnRhaW5lcih2Yy5jcmVhdGVCZWZvcmUoZS5pdGVtKSksaT1lLml0ZW0ucGFyZW50LGE9dmMuY3JlYXRlQXQodCwnZW5kJyk7T2EocixhLm5vZGVCZWZvcmUsYS5ub2RlQWZ0ZXIpLHIubW92ZSh5Yy5jcmVhdGVPbihpKSxhKSxvLnBvc2l0aW9uPW59fWVsc2V7Y29uc3Qgbz1uLm5leHRTaWJsaW5nO2lmKG8mJihvLmlzKCd1bCcpfHxvLmlzKCdvbCcpKSl7bGV0IG49bnVsbDtmb3IoY29uc3QgdCBvZiBvLmdldENoaWxkcmVuKCkpe2NvbnN0IG89aS50b01vZGVsRWxlbWVudCh0KTtpZihvJiZvLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk+ZS5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpKW49dDtlbHNlIGJyZWFrfW4mJihyLmJyZWFrQ29udGFpbmVyKHZjLmNyZWF0ZUFmdGVyKG4pKSxyLm1vdmUoeWMuY3JlYXRlT24obi5wYXJlbnQpLHZjLmNyZWF0ZUF0KHQsJ2VuZCcpKSl9fU9hKHIsbixuLm5leHRTaWJsaW5nKSxPYShyLG4ucHJldmlvdXNTaWJsaW5nLG4pfWZ1bmN0aW9uIElhKGUsdCxvLG4saSl7Y29uc3Qgcj1TYSh0LHtzYW1lSW5kZW50OiEwLHNtYWxsZXJJbmRlbnQ6ITAsaW5kZW50OmV9KSxhPWkubWFwcGVyLHM9aS53cml0ZXIsbD1yP3IuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKTpudWxsO2xldCBkO2lmKCFyKWQ9bztlbHNlIGlmKGw9PWUpe2NvbnN0IGU9YS50b1ZpZXdFbGVtZW50KHIpLnBhcmVudDtkPXZjLmNyZWF0ZUFmdGVyKGUpfWVsc2V7Y29uc3QgZT1VdS5jcmVhdGVBdChyLCdlbmQnKTtkPWEudG9WaWV3UG9zaXRpb24oZSl9ZD1WYShkKTtmb3IoY29uc3QgciBvZlsuLi5uLmdldENoaWxkcmVuKCldKShyLmlzKCd1bCcpfHxyLmlzKCdvbCcpKSYmKGQ9cy5tb3ZlKHljLmNyZWF0ZU9uKHIpLGQpLmVuZCxPYShzLHIsci5uZXh0U2libGluZyksT2EocyxyLnByZXZpb3VzU2libGluZyxyKSl9ZnVuY3Rpb24gVmEoZSl7cmV0dXJuIGUuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oKGUpPT5lLml0ZW0uaXMoJ3VpRWxlbWVudCcpKX1mdW5jdGlvbiBGYShlKXtsZXQgdD0xO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZigndWwnPT1vLm5hbWV8fCdvbCc9PW8ubmFtZSlmb3IoY29uc3QgZSBvZiBvLmdldENoaWxkcmVuKCkpdCs9RmEoZSk7cmV0dXJuIHR9dmFyIE5hPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxNYT1NYXRoLm1heCxEYT1NYXRoLm1pbixCYT1NYXRoLmZsb29yO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCdfX2VzTW9kdWxlJyx7dmFsdWU6ITB9KTt2YXIgTGE9T2JqZWN0LmdldFByb3RvdHlwZU9mLHphPWZ1bmN0aW9uKGUpe3JldHVybiBMYShPYmplY3QoZSkpfSxqYT1mdW5jdGlvbihlKXt2YXIgdD0hMTtpZihudWxsIT1lJiYnZnVuY3Rpb24nIT10eXBlb2YgZS50b1N0cmluZyl0cnl7dD0hIShlKycnKX1jYXRjaCh0KXt9cmV0dXJuIHR9LHFhPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmJ29iamVjdCc9PXR5cGVvZiBlfSxXYT1PYmplY3QucHJvdG90eXBlLFVhPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyxIYT1XYS5oYXNPd25Qcm9wZXJ0eSxLYT1VYS5jYWxsKE9iamVjdCksR2E9V2EudG9TdHJpbmcsJGE9ZnVuY3Rpb24oZSl7aWYoIXFhKGUpfHxHYS5jYWxsKGUpIT0nW29iamVjdCBPYmplY3RdJ3x8amEoZSkpcmV0dXJuITE7dmFyIHQ9emEoZSk7aWYobnVsbD09PXQpcmV0dXJuITA7dmFyIG89SGEuY2FsbCh0LCdjb25zdHJ1Y3RvcicpJiZ0LmNvbnN0cnVjdG9yO3JldHVybidmdW5jdGlvbic9PXR5cGVvZiBvJiZvIGluc3RhbmNlb2YgbyYmVWEuY2FsbChvKT09S2F9O2NsYXNzIEphe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fY29uZmlnPXt9LHQmJnRoaXMuZGVmaW5lKHQpLGUmJnRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyxlKX1zZXQoZSx0KXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsZSx0KX1kZWZpbmUoZSx0KXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsZSx0LCEwKX1nZXQoZSl7cmV0dXJuIHRoaXMuX2dldEZyb21Tb3VyY2UodGhpcy5fY29uZmlnLGUpfV9zZXRUb1RhcmdldChlLHQsbyxuPSExKXtpZigkYSh0KSlyZXR1cm4gdm9pZCB0aGlzLl9zZXRPYmplY3RUb1RhcmdldChlLHQsbik7Y29uc3QgaT10LnNwbGl0KCcuJyk7dD1pLnBvcCgpO2Zvcihjb25zdCByIG9mIGkpJGEoZVtyXSl8fChlW3JdPXt9KSxlPWVbcl07cmV0dXJuICRhKG8pPygkYShlW3RdKXx8KGVbdF09e30pLGU9ZVt0XSx2b2lkIHRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KGUsbyxuKSk6dm9pZChuJiYndW5kZWZpbmVkJyE9dHlwZW9mIGVbdF18fChlW3RdPW8pKX1fZ2V0RnJvbVNvdXJjZShlLHQpe2NvbnN0IG89dC5zcGxpdCgnLicpO3Q9by5wb3AoKTtmb3IoY29uc3QgbiBvZiBvKXtpZighJGEoZVtuXSkpe2U9bnVsbDticmVha31lPWVbbl19cmV0dXJuIGU/ZVt0XTp2b2lkIDB9X3NldE9iamVjdFRvVGFyZ2V0KGUsdCxvKXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChuKT0+e3RoaXMuX3NldFRvVGFyZ2V0KGUsbix0W25dLG8pfSl9fWNvbnN0IFFhPSdodHRwczovL2RvY3MuY2tlZGl0b3IuY29tL2NrZWRpdG9yNS9sYXRlc3QvZnJhbWV3b3JrL2d1aWRlcy9zdXBwb3J0L2Vycm9yLWNvZGVzLmh0bWwnO2NsYXNzIFlhIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0KXtlPW4oZSksdCYmKGUrPScgJytKU09OLnN0cmluZ2lmeSh0KSksc3VwZXIoZSksdGhpcy5uYW1lPSdDS0VkaXRvckVycm9yJyx0aGlzLmRhdGE9dH1zdGF0aWMgaXNDS0VkaXRvckVycm9yKGUpe3JldHVybiBlIGluc3RhbmNlb2YgWWF9fXZhciBYYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKCl7ZS5jYWxsZWQ9ITB9fTtjbGFzcyBaYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc291cmNlPWUsdGhpcy5uYW1lPXQsdGhpcy5wYXRoPVtdLHRoaXMuc3RvcD1YYSgpLHRoaXMub2ZmPVhhKCl9fWNvbnN0IGVzPXtnZXQoZSl7cmV0dXJuJ251bWJlcic9PXR5cGVvZiBlP2U6dGhpc1tlXXx8dGhpcy5ub3JtYWx9LGhpZ2hlc3Q6MWU1LGhpZ2g6MWUzLG5vcm1hbDowLGxvdzotMWUzLGxvd2VzdDotMWU1fTt2YXIgdHM9ZXM7Y29uc3Qgb3M9U3ltYm9sKCdsaXN0ZW5pbmdUbycpLG5zPVN5bWJvbCgnZW1pdHRlcklkJyksaXM9e29uKGUsdCxvPXt9KXt0aGlzLmxpc3RlblRvKHRoaXMsZSx0LG8pfSxvbmNlKGUsdCxvKXt0aGlzLmxpc3RlblRvKHRoaXMsZSxmdW5jdGlvbihlLC4uLm8pe2Uub2ZmKCksdC5jYWxsKHRoaXMsZSwuLi5vKX0sbyl9LG9mZihlLHQpe3RoaXMuc3RvcExpc3RlbmluZyh0aGlzLGUsdCl9LGxpc3RlblRvKGUsdCxvLG49e30pe2xldCBpLHI7dGhpc1tvc118fCh0aGlzW29zXT17fSk7Y29uc3QgbD10aGlzW29zXTtzKGUpfHxhKGUpO2NvbnN0IGQ9cyhlKTsoaT1sW2RdKXx8KGk9bFtkXT17ZW1pdHRlcjplLGNhbGxiYWNrczp7fX0pLChyPWkuY2FsbGJhY2tzW3RdKXx8KHI9aS5jYWxsYmFja3NbdF09W10pLHIucHVzaChvKSxjKGUsdCk7Y29uc3QgbT11KGUsdCkscD10cy5nZXQobi5wcmlvcml0eSksZz17Y2FsbGJhY2s6byxwcmlvcml0eTpwfTtmb3IoY29uc3QgciBvZiBtKXtsZXQgZT0hMTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKylpZihyW3RdLnByaW9yaXR5PHApe3Iuc3BsaWNlKHQsMCxnKSxlPSEwO2JyZWFrfWV8fHIucHVzaChnKX19LHN0b3BMaXN0ZW5pbmcoZSx0LG8pe2NvbnN0IG49dGhpc1tvc107bGV0IGk9ZSYmcyhlKTtjb25zdCByPW4mJmkmJm5baV0sYT1yJiZ0JiZyLmNhbGxiYWNrc1t0XTtpZihuJiYoIWV8fHIpJiYoIXR8fGEpKWlmKG8pZyhlLHQsbyk7ZWxzZSBpZihhKXtmb3IoO289YS5wb3AoKTspZyhlLHQsbyk7ZGVsZXRlIHIuY2FsbGJhY2tzW3RdfWVsc2UgaWYocil7Zm9yKHQgaW4gci5jYWxsYmFja3MpdGhpcy5zdG9wTGlzdGVuaW5nKGUsdCk7ZGVsZXRlIG5baV19ZWxzZXtmb3IoaSBpbiBuKXRoaXMuc3RvcExpc3RlbmluZyhuW2ldLmVtaXR0ZXIpO2RlbGV0ZSB0aGlzW29zXX19LGZpcmUoZSwuLi50KXtjb25zdCBvPWUgaW5zdGFuY2VvZiBaYT9lOm5ldyBaYSh0aGlzLGUpLG49by5uYW1lO2xldCByPW0odGhpcyxuKTtpZihvLnBhdGgucHVzaCh0aGlzKSxyKXtjb25zdCBlPVtvLC4uLnRdO3I9QXJyYXkuZnJvbShyKTtmb3IobGV0IHQ9MDt0PHIubGVuZ3RoJiYoclt0XS5jYWxsYmFjay5hcHBseSh0aGlzLGUpLG8ub2ZmLmNhbGxlZCYmKGRlbGV0ZSBvLm9mZi5jYWxsZWQsZyh0aGlzLG4sclt0XS5jYWxsYmFjaykpLCFvLnN0b3AuY2FsbGVkKTt0KyspO31pZih0aGlzLl9kZWxlZ2F0aW9ucyl7Y29uc3QgZT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobiksaT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoJyonKTtlJiZwKGUsbyx0KSxpJiZwKGksbyx0KX1yZXR1cm4gby5yZXR1cm59LGRlbGVnYXRlKC4uLmUpe3JldHVybnt0bzoodCxvKT0+e3RoaXMuX2RlbGVnYXRpb25zfHwodGhpcy5fZGVsZWdhdGlvbnM9bmV3IE1hcCk7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobik7ZT9lLnNldCh0LG8pOnRoaXMuX2RlbGVnYXRpb25zLnNldChuLG5ldyBNYXAoW1t0LG9dXSkpfX19fSxzdG9wRGVsZWdhdGluZyhlLHQpe2lmKHRoaXMuX2RlbGVnYXRpb25zKWlmKCFlKXRoaXMuX2RlbGVnYXRpb25zLmNsZWFyKCk7ZWxzZSBpZighdCl0aGlzLl9kZWxlZ2F0aW9ucy5kZWxldGUoZSk7ZWxzZXtjb25zdCBvPXRoaXMuX2RlbGVnYXRpb25zLmdldChlKTtvJiZvLmRlbGV0ZSh0KX19fTt2YXIgcnM9aXMsYXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGUhPT1lJiZ0IT09dH0sc3M9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89ZS5sZW5ndGg7by0tOylpZihhcyhlW29dWzBdLHQpKXJldHVybiBvO3JldHVybi0xfSxscz1BcnJheS5wcm90b3R5cGUsZHM9bHMuc3BsaWNlO2gucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXX0saC5wcm90b3R5cGVbJ2RlbGV0ZSddPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbz1zcyh0LGUpO2lmKDA+bylyZXR1cm4hMTt2YXIgbj10Lmxlbmd0aC0xO3JldHVybiBvPT1uP3QucG9wKCk6ZHMuY2FsbCh0LG8sMSksITB9LGgucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG89c3ModCxlKTtyZXR1cm4gMD5vP3ZvaWQgMDp0W29dWzFdfSxoLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuLTE8c3ModGhpcy5fX2RhdGFfXyxlKX0saC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5fX2RhdGFfXyxuPXNzKG8sZSk7cmV0dXJuIDA+bj9vLnB1c2goW2UsdF0pOm9bbl1bMV09dCx0aGlzfTt2YXIgY3M9aCx1cz1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4hIWUmJignb2JqZWN0Jz09dHx8J2Z1bmN0aW9uJz09dCl9LG1zPU9iamVjdC5wcm90b3R5cGUscHM9bXMudG9TdHJpbmcsZ3M9ZnVuY3Rpb24oZSl7dmFyIHQ9dXMoZSk/cHMuY2FsbChlKTonJztyZXR1cm4gdD09J1tvYmplY3QgRnVuY3Rpb25dJ3x8dD09J1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJ30sZnM9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLGhzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPWUpe3RyeXtyZXR1cm4gZnMuY2FsbChlKX1jYXRjaCh0KXt9dHJ5e3JldHVybiBlKycnfWNhdGNoKHQpe319cmV0dXJuJyd9LGJzPS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxrcz0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLF9zPU9iamVjdC5wcm90b3R5cGUsd3M9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLHZzPV9zLmhhc093blByb3BlcnR5LHlzPVJlZ0V4cCgnXicrd3MuY2FsbCh2cykucmVwbGFjZShicywnXFxcXCQmJykucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywnJDEuKj8nKSsnJCcpLHhzPWZ1bmN0aW9uKGUpe2lmKCF1cyhlKSlyZXR1cm4hMTt2YXIgdD1ncyhlKXx8amEoZSk/eXM6a3M7cmV0dXJuIHQudGVzdChocyhlKSl9LENzPWZ1bmN0aW9uKGUsdCl7dmFyIG89ZVt0XTtyZXR1cm4geHMobyk/bzp2b2lkIDB9LEFzPUNzKE9iamVjdCwnY3JlYXRlJyksVHM9QXMsUHM9T2JqZWN0LnByb3RvdHlwZSxFcz1Qcy5oYXNPd25Qcm9wZXJ0eSxTcz1PYmplY3QucHJvdG90eXBlLE9zPVNzLmhhc093blByb3BlcnR5O2IucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1Ucz9UcyhudWxsKTp7fX0sYi5wcm90b3R5cGVbJ2RlbGV0ZSddPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhcyhlKSYmZGVsZXRlIHRoaXMuX19kYXRhX19bZV19LGIucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO2lmKFRzKXt2YXIgbz10W2VdO3JldHVybiBvPT09J19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nP3ZvaWQgMDpvfXJldHVybiBFcy5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LGIucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiBUcz90W2VdIT09dm9pZCAwOk9zLmNhbGwodCxlKX0sYi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG89dGhpcy5fX2RhdGFfXztyZXR1cm4gb1tlXT1UcyYmdm9pZCAwPT09dD8nX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc6dCx0aGlzfTt2YXIgUnM9YixJcz1vKDEpLFZzPUNzKElzLmEsJ01hcCcpLEZzPVZzLE5zPWZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybidzdHJpbmcnPT10fHwnbnVtYmVyJz09dHx8J3N5bWJvbCc9PXR8fCdib29sZWFuJz09dD8nX19wcm90b19fJyE9PWU6bnVsbD09PWV9LE1zPWZ1bmN0aW9uKGUsdCl7dmFyIG89ZS5fX2RhdGFfXztyZXR1cm4gTnModCk/b1snc3RyaW5nJz09dHlwZW9mIHQ/J3N0cmluZyc6J2hhc2gnXTpvLm1hcH07ay5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBScyxtYXA6bmV3KEZzfHxjcyksc3RyaW5nOm5ldyBSc319LGsucHJvdG90eXBlWydkZWxldGUnXT1mdW5jdGlvbihlKXtyZXR1cm4gTXModGhpcyxlKVsnZGVsZXRlJ10oZSl9LGsucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gTXModGhpcyxlKS5nZXQoZSl9LGsucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gTXModGhpcyxlKS5oYXMoZSl9LGsucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiBNcyh0aGlzLGUpLnNldChlLHQpLHRoaXN9O3ZhciBEcz1rO18ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgY3N9LF8ucHJvdG90eXBlWydkZWxldGUnXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfX1snZGVsZXRlJ10oZSl9LF8ucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoZSl9LF8ucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LF8ucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBvPXRoaXMuX19kYXRhX187cmV0dXJuIG8gaW5zdGFuY2VvZiBjcyYmby5fX2RhdGFfXy5sZW5ndGg9PTIwMCYmKG89dGhpcy5fX2RhdGFfXz1uZXcgRHMoby5fX2RhdGFfXykpLG8uc2V0KGUsdCksdGhpc307dmFyIEJzPV8sTHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aDsrK288biYmISghMT09PXQoZVtvXSxvLGUpKTspO3JldHVybiBlfSx6cz1PYmplY3QucHJvdG90eXBlLGpzPXpzLmhhc093blByb3BlcnR5LHFzPXcsV3M9ZnVuY3Rpb24oZSx0LG8sbil7b3x8KG89e30pO2Zvcih2YXIgaT0tMSxyPXQubGVuZ3RoOysraTxyOyl7dmFyIGE9dFtpXSxzPW4/bihvW2FdLGVbYV0sYSxvLGUpOmVbYV07cXMobyxhLHMpfXJldHVybiBvfSxVcz1PYmplY3QucHJvdG90eXBlLEhzPVVzLmhhc093blByb3BlcnR5LEtzPXYsR3M9T2JqZWN0LmtleXMsJHM9ZnVuY3Rpb24oZSl7cmV0dXJuIEdzKE9iamVjdChlKSl9LEpzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49QXJyYXkoZSk7KytvPGU7KW5bb109dChvKTtyZXR1cm4gbn0sUXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfX0sWXM9UXMoJ2xlbmd0aCcpLFhzPWZ1bmN0aW9uKGUpe3JldHVybidudW1iZXInPT10eXBlb2YgZSYmLTE8ZSYmMD09ZSUxJiZlPD05MDA3MTk5MjU0NzQwOTkxfSxacz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmWHMoWXMoZSkpJiYhZ3MoZSl9LGVsPWZ1bmN0aW9uKGUpe3JldHVybiBxYShlKSYmWnMoZSl9LHRsPU9iamVjdC5wcm90b3R5cGUsb2w9dGwuaGFzT3duUHJvcGVydHksbmw9dGwudG9TdHJpbmcsaWw9dGwucHJvcGVydHlJc0VudW1lcmFibGUscmw9ZnVuY3Rpb24oZSl7cmV0dXJuIGVsKGUpJiZvbC5jYWxsKGUsJ2NhbGxlZScpJiYoIWlsLmNhbGwoZSwnY2FsbGVlJyl8fG5sLmNhbGwoZSk9PSdbb2JqZWN0IEFyZ3VtZW50c10nKX0sYWw9QXJyYXkuaXNBcnJheSxzbD1hbCxsbD1PYmplY3QucHJvdG90eXBlLGRsPWxsLnRvU3RyaW5nLGNsPWZ1bmN0aW9uKGUpe3JldHVybidzdHJpbmcnPT10eXBlb2YgZXx8IXNsKGUpJiZxYShlKSYmZGwuY2FsbChlKT09J1tvYmplY3QgU3RyaW5nXSd9LHVsPWZ1bmN0aW9uKGUpe3ZhciB0PWU/ZS5sZW5ndGg6dm9pZCAwO3JldHVybiBYcyh0KSYmKHNsKGUpfHxjbChlKXx8cmwoZSkpP0pzKHQsU3RyaW5nKTpudWxsfSxtbD0vXig/OjB8WzEtOV1cXGQqKSQvLHBsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9bnVsbD09dD85MDA3MTk5MjU0NzQwOTkxOnQsISF0JiYoJ251bWJlcic9PXR5cGVvZiBlfHxtbC50ZXN0KGUpKSYmLTE8ZSYmMD09ZSUxJiZlPHR9LGdsPU9iamVjdC5wcm90b3R5cGUsZmw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcixvPSdmdW5jdGlvbic9PXR5cGVvZiB0JiZ0LnByb3RvdHlwZXx8Z2w7cmV0dXJuIGU9PT1vfSxobD1mdW5jdGlvbihlKXt2YXIgdD1mbChlKTtpZighKHR8fFpzKGUpKSlyZXR1cm4gJHMoZSk7dmFyIG89dWwoZSksbj1vfHxbXSxpPW4ubGVuZ3RoO2Zvcih2YXIgciBpbiBlKSFLcyhlLHIpfHwhIW8mJignbGVuZ3RoJz09cnx8cGwocixpKSl8fHQmJidjb25zdHJ1Y3Rvcic9PXJ8fG4ucHVzaChyKTtyZXR1cm4gbn0sYmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmV3ModCxobCh0KSxlKX0sa2w9ZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiBlLnNsaWNlKCk7dmFyIG89bmV3IGUuY29uc3RydWN0b3IoZS5sZW5ndGgpO3JldHVybiBlLmNvcHkobyksb30sX2w9ZnVuY3Rpb24oZSx0KXt2YXIgbz0tMSxuPWUubGVuZ3RoO2Zvcih0fHwodD1BcnJheShuKSk7KytvPG47KXRbb109ZVtvXTtyZXR1cm4gdH0sd2w9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt3bHx8KHk9ZnVuY3Rpb24oKXtyZXR1cm5bXX0pO3ZhciB2bD15LHlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFdzKGUsdmwoZSksdCl9LHhsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49dC5sZW5ndGgsaT1lLmxlbmd0aDsrK288bjspZVtpK29dPXRbb107cmV0dXJuIGV9LENsPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj10KGUpO3JldHVybiBzbChlKT9uOnhsKG4sbyhlKSl9LEFsPWZ1bmN0aW9uKGUpe3JldHVybiBDbChlLGhsLHZsKX0sVGw9Q3MoSXMuYSwnRGF0YVZpZXcnKSxQbD1UbCxFbD1DcyhJcy5hLCdQcm9taXNlJyksU2w9RWwsT2w9Q3MoSXMuYSwnU2V0JyksUmw9T2wsSWw9Q3MoSXMuYSwnV2Vha01hcCcpLFZsPUlsLEZsPSdbb2JqZWN0IE1hcF0nLE5sPSdbb2JqZWN0IFByb21pc2VdJyxNbD0nW29iamVjdCBTZXRdJyxEbD0nW29iamVjdCBXZWFrTWFwXScsQmw9J1tvYmplY3QgRGF0YVZpZXddJyxMbD1PYmplY3QucHJvdG90eXBlLHpsPUxsLnRvU3RyaW5nLGpsPWhzKFBsKSxxbD1ocyhGcyksV2w9aHMoU2wpLFVsPWhzKFJsKSxIbD1ocyhWbCk7KFBsJiZ4KG5ldyBQbChuZXcgQXJyYXlCdWZmZXIoMSkpKSE9Qmx8fEZzJiZ4KG5ldyBGcykhPUZsfHxTbCYmeChTbC5yZXNvbHZlKCkpIT1ObHx8UmwmJngobmV3IFJsKSE9TWx8fFZsJiZ4KG5ldyBWbCkhPURsKSYmKHg9ZnVuY3Rpb24oZSl7dmFyIHQ9emwuY2FsbChlKSxvPXQ9PSdbb2JqZWN0IE9iamVjdF0nP2UuY29uc3RydWN0b3I6dm9pZCAwLG49bz9ocyhvKTp2b2lkIDA7aWYobilzd2l0Y2gobil7Y2FzZSBqbDpyZXR1cm4gQmw7Y2FzZSBxbDpyZXR1cm4gRmw7Y2FzZSBXbDpyZXR1cm4gTmw7Y2FzZSBVbDpyZXR1cm4gTWw7Y2FzZSBIbDpyZXR1cm4gRGw7fXJldHVybiB0fSk7dmFyIEtsPXgsR2w9T2JqZWN0LnByb3RvdHlwZSwkbD1HbC5oYXNPd25Qcm9wZXJ0eSxKbD1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxvPWUuY29uc3RydWN0b3IodCk7cmV0dXJuIHQmJidzdHJpbmcnPT10eXBlb2YgZVswXSYmJGwuY2FsbChlLCdpbmRleCcpJiYoby5pbmRleD1lLmluZGV4LG8uaW5wdXQ9ZS5pbnB1dCksb30sUWw9SXMuYS5VaW50OEFycmF5LFlsPVFsLFhsPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKGUuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBZbCh0KS5zZXQobmV3IFlsKGUpKSx0fSxabD1mdW5jdGlvbihlLHQpe3ZhciBvPXQ/WGwoZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfSxlZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNldCh0WzBdLHRbMV0pLGV9LHRkPWZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPS0xLHI9ZS5sZW5ndGg7Zm9yKG4mJnImJihvPWVbKytpXSk7KytpPHI7KW89dChvLGVbaV0saSxlKTtyZXR1cm4gb30sb2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9LTEsbz1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxuKXtvWysrdF09W24sZV19KSxvfSxuZD1mdW5jdGlvbihlLHQsbyl7dmFyIG49dD9vKG9kKGUpLCEwKTpvZChlKTtyZXR1cm4gdGQobixlZCxuZXcgZS5jb25zdHJ1Y3Rvcil9LGlkPS9cXHcqJC8scmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGUuY29uc3RydWN0b3IoZS5zb3VyY2UsaWQuZXhlYyhlKSk7cmV0dXJuIHQubGFzdEluZGV4PWUubGFzdEluZGV4LHR9LGFkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYWRkKHQpLGV9LHNkPWZ1bmN0aW9uKGUpe3ZhciB0PS0xLG89QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe29bKyt0XT1lfSksb30sbGQ9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPXQ/byhzZChlKSwhMCk6c2QoZSk7cmV0dXJuIHRkKG4sYWQsbmV3IGUuY29uc3RydWN0b3IpfSxkZD1Jcy5hLlN5bWJvbCxjZD1kZCx1ZD1jZD9jZC5wcm90b3R5cGU6dm9pZCAwLG1kPXVkP3VkLnZhbHVlT2Y6dm9pZCAwLHBkPWZ1bmN0aW9uKGUpe3JldHVybiBtZD9PYmplY3QobWQuY2FsbChlKSk6e319LGdkPWZ1bmN0aW9uKGUsdCl7dmFyIG89dD9YbChlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8sZS5ieXRlT2Zmc2V0LGUubGVuZ3RoKX0sZmQ9ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGk9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PSdbb2JqZWN0IEFycmF5QnVmZmVyXSc/WGwoZSk6dD09PSdbb2JqZWN0IEJvb2xlYW5dJ3x8dD09PSdbb2JqZWN0IERhdGVdJz9uZXcgaSgrZSk6dD09PSdbb2JqZWN0IERhdGFWaWV3XSc/WmwoZSxuKTp0PT09J1tvYmplY3QgRmxvYXQzMkFycmF5XSd8fHQ9PT0nW29iamVjdCBGbG9hdDY0QXJyYXldJ3x8dD09PSdbb2JqZWN0IEludDhBcnJheV0nfHx0PT09J1tvYmplY3QgSW50MTZBcnJheV0nfHx0PT09J1tvYmplY3QgSW50MzJBcnJheV0nfHx0PT09J1tvYmplY3QgVWludDhBcnJheV0nfHx0PT09J1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ3x8dD09PSdbb2JqZWN0IFVpbnQxNkFycmF5XSd8fHQ9PT0nW29iamVjdCBVaW50MzJBcnJheV0nP2dkKGUsbik6dD09PSdbb2JqZWN0IE1hcF0nP25kKGUsbixvKTp0PT09J1tvYmplY3QgTnVtYmVyXSd8fHQ9PT0nW29iamVjdCBTdHJpbmddJz9uZXcgaShlKTp0PT09J1tvYmplY3QgUmVnRXhwXSc/cmQoZSk6dD09PSdbb2JqZWN0IFNldF0nP2xkKGUsbixvKTp0PT09J1tvYmplY3QgU3ltYm9sXSc/cGQoZSk6dm9pZCAwfSxoZD1PYmplY3QuY3JlYXRlLGJkPWZ1bmN0aW9uKGUpe3JldHVybiB1cyhlKT9oZChlKTp7fX0sa2Q9ZnVuY3Rpb24oZSl7cmV0dXJuJ2Z1bmN0aW9uJyE9dHlwZW9mIGUuY29uc3RydWN0b3J8fGZsKGUpP3t9OmJkKHphKGUpKX0sX2Q9byg5KSx3ZD0nW29iamVjdCBBcmd1bWVudHNdJyx2ZD0nW29iamVjdCBGdW5jdGlvbl0nLHlkPSdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScseGQ9J1tvYmplY3QgT2JqZWN0XScsQ2Q9e307Q2Rbd2RdPUNkWydbb2JqZWN0IEFycmF5XSddPUNkWydbb2JqZWN0IEFycmF5QnVmZmVyXSddPUNkWydbb2JqZWN0IERhdGFWaWV3XSddPUNkWydbb2JqZWN0IEJvb2xlYW5dJ109Q2RbJ1tvYmplY3QgRGF0ZV0nXT1DZFsnW29iamVjdCBGbG9hdDMyQXJyYXldJ109Q2RbJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSddPUNkWydbb2JqZWN0IEludDhBcnJheV0nXT1DZFsnW29iamVjdCBJbnQxNkFycmF5XSddPUNkWydbb2JqZWN0IEludDMyQXJyYXldJ109Q2RbJ1tvYmplY3QgTWFwXSddPUNkWydbb2JqZWN0IE51bWJlcl0nXT1DZFt4ZF09Q2RbJ1tvYmplY3QgUmVnRXhwXSddPUNkWydbb2JqZWN0IFNldF0nXT1DZFsnW29iamVjdCBTdHJpbmddJ109Q2RbJ1tvYmplY3QgU3ltYm9sXSddPUNkWydbb2JqZWN0IFVpbnQ4QXJyYXldJ109Q2RbJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ109Q2RbJ1tvYmplY3QgVWludDE2QXJyYXldJ109Q2RbJ1tvYmplY3QgVWludDMyQXJyYXldJ109ITAsQ2RbJ1tvYmplY3QgRXJyb3JdJ109Q2RbdmRdPUNkWydbb2JqZWN0IFdlYWtNYXBdJ109ITE7dmFyIEFkPUMsVGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEFkKGUsITEsITApfTtjbGFzcyBQZHtjb25zdHJ1Y3Rvcigpe3RoaXMucGFyZW50PW51bGx9Z2V0IGluZGV4KCl7bGV0IGU7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKC0xPT0oZT10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKSl0aHJvdyBuZXcgWWEoJ3ZpZXctbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZVxcJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLicpO3JldHVybiBlfWdldCBuZXh0U2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUrMSl8fG51bGx9Z2V0IHByZXZpb3VzU2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUtMSl8fG51bGx9Z2V0IHJvb3QoKXtsZXQgZT10aGlzO2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMucGFyZW50IGluc3RhbmNlb2YgUGQ/dGhpcy5wYXJlbnQuZG9jdW1lbnQ6bnVsbH1nZXRQYXRoKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9dGhpczt0LnBhcmVudDspZS51bnNoaWZ0KHQuaW5kZXgpLHQ9dC5wYXJlbnQ7cmV0dXJuIGV9Z2V0QW5jZXN0b3JzKGU9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgdD1bXTtmb3IobGV0IG89ZS5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O287KXRbZS5wYXJlbnRGaXJzdD8ncHVzaCc6J3Vuc2hpZnQnXShvKSxvPW8ucGFyZW50O3JldHVybiB0fWdldENvbW1vbkFuY2VzdG9yKGUsdD17fSl7Y29uc3Qgbz10aGlzLmdldEFuY2VzdG9ycyh0KSxuPWUuZ2V0QW5jZXN0b3JzKHQpO2xldCByPTA7Zm9yKDtvW3JdPT1uW3JdJiZvW3JdOylyKys7cmV0dXJuIDA9PXI/bnVsbDpvW3ItMV19aXNCZWZvcmUoZSl7aWYodGhpcz09ZSlyZXR1cm4hMTtpZih0aGlzLnJvb3QhPT1lLnJvb3QpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldFBhdGgoKSxvPWUuZ2V0UGF0aCgpLG49QSh0LG8pO3JldHVybiEoJ3ByZWZpeCchPT1uKXx8J2V4dGVuc2lvbichPT1uJiZ0W25dPG9bbl19aXNBZnRlcihlKXtyZXR1cm4gdGhpcyE9ZSYmISh0aGlzLnJvb3QhPT1lLnJvb3QpJiYhdGhpcy5pc0JlZm9yZShlKX1fcmVtb3ZlKCl7dGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkcmVuKHRoaXMuaW5kZXgpfV9maXJlQ2hhbmdlKGUsdCl7dGhpcy5maXJlKCdjaGFuZ2U6JytlLHQpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fZmlyZUNoYW5nZShlLHQpfXRvSlNPTigpe2NvbnN0IGU9VGQodGhpcyk7cmV0dXJuIGRlbGV0ZSBlLnBhcmVudCxlfWlzKGUpe3JldHVybidub2RlJz09ZX19ZihQZCxycyk7Y2xhc3MgRWQgZXh0ZW5kcyBQZHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3RleHREYXRhPWV9aXMoZSl7cmV0dXJuJ3RleHQnPT1lfHxzdXBlci5pcyhlKX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl90ZXh0RGF0YX1nZXQgX2RhdGEoKXtyZXR1cm4gdGhpcy5kYXRhfXNldCBfZGF0YShlKXt0aGlzLl9maXJlQ2hhbmdlKCd0ZXh0Jyx0aGlzKSx0aGlzLl90ZXh0RGF0YT1lfWlzU2ltaWxhcihlKXtyZXR1cm4hIShlIGluc3RhbmNlb2YgRWQpJiYodGhpcz09PWV8fHRoaXMuZGF0YT09PWUuZGF0YSl9X2Nsb25lKCl7cmV0dXJuIG5ldyBFZCh0aGlzLmRhdGEpfX1jbGFzcyBTZHtjb25zdHJ1Y3RvcihlLHQsbyl7aWYodGhpcy50ZXh0Tm9kZT1lLDA+dHx8dD5lLmRhdGEubGVuZ3RoKXRocm93IG5ldyBZYSgndmlldy10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LicpO2lmKDA+b3x8dCtvPmUuZGF0YS5sZW5ndGgpdGhyb3cgbmV3IFlhKCd2aWV3LXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuJyk7dGhpcy5kYXRhPWUuZGF0YS5zdWJzdHJpbmcodCx0K28pLHRoaXMub2Zmc2V0SW5UZXh0PXR9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgaXNQYXJ0aWFsKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGghPT10aGlzLnRleHROb2RlLmRhdGEubGVuZ3RofWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKGUpe3JldHVybid0ZXh0UHJveHknPT1lfWdldEFuY2VzdG9ycyhlPXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IHQ9W107Zm9yKGxldCBvPWUuaW5jbHVkZVNlbGY/dGhpcy50ZXh0Tm9kZTp0aGlzLnBhcmVudDtudWxsIT09bzspdFtlLnBhcmVudEZpcnN0PydwdXNoJzondW5zaGlmdCddKG8pLG89by5wYXJlbnQ7cmV0dXJuIHR9fWNsYXNzIE9ke2NvbnN0cnVjdG9yKC4uLmUpe3RoaXMuX3BhdHRlcm5zPVtdLHRoaXMuYWRkKC4uLmUpfWFkZCguLi5lKXtmb3IobGV0IHQgb2YgZSkoJ3N0cmluZyc9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgUmVnRXhwKSYmKHQ9e25hbWU6dH0pLHQuY2xhc3NlcyYmKCdzdHJpbmcnPT10eXBlb2YgdC5jbGFzc2VzfHx0LmNsYXNzZXMgaW5zdGFuY2VvZiBSZWdFeHApJiYodC5jbGFzc2VzPVt0LmNsYXNzZXNdKSx0aGlzLl9wYXR0ZXJucy5wdXNoKHQpfW1hdGNoKC4uLmUpe2Zvcihjb25zdCB0IG9mIGUpZm9yKGNvbnN0IGUgb2YgdGhpcy5fcGF0dGVybnMpe2NvbnN0IG89RSh0LGUpO2lmKG8pcmV0dXJue2VsZW1lbnQ6dCxwYXR0ZXJuOmUsbWF0Y2g6b319cmV0dXJuIG51bGx9bWF0Y2hBbGwoLi4uZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbyBvZiBlKWZvcihjb25zdCBlIG9mIHRoaXMuX3BhdHRlcm5zKXtjb25zdCBuPUUobyxlKTtuJiZ0LnB1c2goe2VsZW1lbnQ6byxwYXR0ZXJuOmUsbWF0Y2g6bn0pfXJldHVybiAwPHQubGVuZ3RoP3Q6bnVsbH1nZXRFbGVtZW50TmFtZSgpe2lmKDEhPT10aGlzLl9wYXR0ZXJucy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLl9wYXR0ZXJuc1swXSx0PWUubmFtZTtyZXR1cm4nZnVuY3Rpb24nIT10eXBlb2YgZSYmdCYmISh0IGluc3RhbmNlb2YgUmVnRXhwKT90Om51bGx9fWNsYXNzIFJkIGV4dGVuZHMgUGR7Y29uc3RydWN0b3IoZSx0LG8pe2lmKHN1cGVyKCksdGhpcy5uYW1lPWUsdGhpcy5fYXR0cnM9Vih0KSx0aGlzLl9jaGlsZHJlbj1bXSxvJiZ0aGlzLl9pbnNlcnRDaGlsZCgwLG8pLHRoaXMuX2NsYXNzZXM9bmV3IFNldCx0aGlzLl9hdHRycy5oYXMoJ2NsYXNzJykpe2NvbnN0IGU9dGhpcy5fYXR0cnMuZ2V0KCdjbGFzcycpO04odGhpcy5fY2xhc3NlcyxlKSx0aGlzLl9hdHRycy5kZWxldGUoJ2NsYXNzJyl9dGhpcy5fc3R5bGVzPW5ldyBNYXAsdGhpcy5fYXR0cnMuaGFzKCdzdHlsZScpJiYoRih0aGlzLl9zdHlsZXMsdGhpcy5fYXR0cnMuZ2V0KCdzdHlsZScpKSx0aGlzLl9hdHRycy5kZWxldGUoJ3N0eWxlJykpLHRoaXMuX2N1c3RvbVByb3BlcnRpZXM9bmV3IE1hcH1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2NoaWxkcmVuLmxlbmd0aH1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2VsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWU6J2VsZW1lbnQnPT1lfHxlPT10aGlzLm5hbWV8fHN1cGVyLmlzKGUpfWdldENoaWxkKGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbltlXX1nZXRDaGlsZEluZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5pbmRleE9mKGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX0qZ2V0QXR0cmlidXRlS2V5cygpezA8dGhpcy5fY2xhc3Nlcy5zaXplJiYoeWllbGQnY2xhc3MnKSwwPHRoaXMuX3N0eWxlcy5zaXplJiYoeWllbGQnc3R5bGUnKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9hdHRycy5rZXlzKCkpeWllbGQgZX0qZ2V0QXR0cmlidXRlcygpe3lpZWxkKnRoaXMuX2F0dHJzLmVudHJpZXMoKSwwPHRoaXMuX2NsYXNzZXMuc2l6ZSYmKHlpZWxkWydjbGFzcycsdGhpcy5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyldKSwwPHRoaXMuX3N0eWxlcy5zaXplJiYoeWllbGRbJ3N0eWxlJyx0aGlzLmdldEF0dHJpYnV0ZSgnc3R5bGUnKV0pfWdldEF0dHJpYnV0ZShlKXtpZignY2xhc3MnPT1lKXJldHVybiAwPHRoaXMuX2NsYXNzZXMuc2l6ZT9bLi4udGhpcy5fY2xhc3Nlc10uam9pbignICcpOnZvaWQgMDtpZignc3R5bGUnPT1lKXtpZigwPHRoaXMuX3N0eWxlcy5zaXplKXtsZXQgZT0nJztmb3IoY29uc3RbdCxvXW9mIHRoaXMuX3N0eWxlcyllKz1gJHt0fToke299O2A7cmV0dXJuIGV9cmV0dXJufXJldHVybiB0aGlzLl9hdHRycy5nZXQoZSl9aGFzQXR0cmlidXRlKGUpe3JldHVybidjbGFzcyc9PWU/MDx0aGlzLl9jbGFzc2VzLnNpemU6J3N0eWxlJz09ZT8wPHRoaXMuX3N0eWxlcy5zaXplOnRoaXMuX2F0dHJzLmhhcyhlKX1pc1NpbWlsYXIoZSl7aWYoIShlIGluc3RhbmNlb2YgUmQpKXJldHVybiExO2lmKHRoaXM9PT1lKXJldHVybiEwO2lmKHRoaXMubmFtZSE9ZS5uYW1lKXJldHVybiExO2lmKHRoaXMuX2F0dHJzLnNpemUhPT1lLl9hdHRycy5zaXplfHx0aGlzLl9jbGFzc2VzLnNpemUhPT1lLl9jbGFzc2VzLnNpemV8fHRoaXMuX3N0eWxlcy5zaXplIT09ZS5fc3R5bGVzLnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0W3Qsb11vZiB0aGlzLl9hdHRycylpZighZS5fYXR0cnMuaGFzKHQpfHxlLl9hdHRycy5nZXQodCkhPT1vKXJldHVybiExO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NsYXNzZXMpaWYoIWUuX2NsYXNzZXMuaGFzKHQpKXJldHVybiExO2Zvcihjb25zdFt0LG9db2YgdGhpcy5fc3R5bGVzKWlmKCFlLl9zdHlsZXMuaGFzKHQpfHxlLl9zdHlsZXMuZ2V0KHQpIT09bylyZXR1cm4hMTtyZXR1cm4hMH1oYXNDbGFzcyguLi5lKXtmb3IoY29uc3QgdCBvZiBlKWlmKCF0aGlzLl9jbGFzc2VzLmhhcyh0KSlyZXR1cm4hMTtyZXR1cm4hMH1nZXRDbGFzc05hbWVzKCl7cmV0dXJuIHRoaXMuX2NsYXNzZXMua2V5cygpfWdldFN0eWxlKGUpe3JldHVybiB0aGlzLl9zdHlsZXMuZ2V0KGUpfWdldFN0eWxlTmFtZXMoKXtyZXR1cm4gdGhpcy5fc3R5bGVzLmtleXMoKX1oYXNTdHlsZSguLi5lKXtmb3IoY29uc3QgdCBvZiBlKWlmKCF0aGlzLl9zdHlsZXMuaGFzKHQpKXJldHVybiExO3JldHVybiEwfWZpbmRBbmNlc3RvciguLi5lKXtjb25zdCB0PW5ldyBPZCguLi5lKTtmb3IobGV0IG89dGhpcy5wYXJlbnQ7bzspe2lmKHQubWF0Y2gobykpcmV0dXJuIG87bz1vLnBhcmVudH1yZXR1cm4gbnVsbH1nZXRDdXN0b21Qcm9wZXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5nZXQoZSl9KmdldEN1c3RvbVByb3BlcnRpZXMoKXt5aWVsZCp0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmVudHJpZXMoKX1nZXRJZGVudGl0eSgpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLl9jbGFzc2VzKS5zb3J0KCkuam9pbignLCcpLHQ9QXJyYXkuZnJvbSh0aGlzLl9zdHlsZXMpLm1hcCgoZSk9PmAke2VbMF19OiR7ZVsxXX1gKS5zb3J0KCkuam9pbignOycpLG89QXJyYXkuZnJvbSh0aGlzLl9hdHRycykubWFwKChlKT0+YCR7ZVswXX09XCIke2VbMV19XCJgKS5zb3J0KCkuam9pbignICcpO3JldHVybiB0aGlzLm5hbWUrKCcnPT1lPycnOmAgY2xhc3M9XCIke2V9XCJgKSsoJyc9PXQ/Jyc6YCBzdHlsZT1cIiR7dH1cImApKygnJz09bz8nJzpgICR7b31gKX1fY2xvbmUoZT0hMSl7Y29uc3QgdD1bXTtpZihlKWZvcihjb25zdCBvIG9mIHRoaXMuZ2V0Q2hpbGRyZW4oKSl0LnB1c2goby5fY2xvbmUoZSkpO2NvbnN0IG89bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuX2F0dHJzLHQpO3JldHVybiBvLl9jbGFzc2VzPW5ldyBTZXQodGhpcy5fY2xhc3Nlcyksby5fc3R5bGVzPW5ldyBNYXAodGhpcy5fc3R5bGVzKSxvLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXAodGhpcy5fY3VzdG9tUHJvcGVydGllcyksby5nZXRGaWxsZXJPZmZzZXQ9dGhpcy5nZXRGaWxsZXJPZmZzZXQsb31fYXBwZW5kQ2hpbGQoZSl7cmV0dXJuIHRoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCxlKX1faW5zZXJ0Q2hpbGQoZSx0KXt0aGlzLl9maXJlQ2hhbmdlKCdjaGlsZHJlbicsdGhpcyk7bGV0IG89MDtjb25zdCBuPU0odCk7Zm9yKGNvbnN0IGkgb2YgbiludWxsIT09aS5wYXJlbnQmJmkuX3JlbW92ZSgpLGkucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsMCxpKSxlKyssbysrO3JldHVybiBvfV9yZW1vdmVDaGlsZHJlbihlLHQ9MSl7dGhpcy5fZmlyZUNoYW5nZSgnY2hpbGRyZW4nLHRoaXMpO2ZvcihsZXQgbz1lO288ZSt0O28rKyl0aGlzLl9jaGlsZHJlbltvXS5wYXJlbnQ9bnVsbDtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsdCl9X3NldEF0dHJpYnV0ZShlLHQpe3Q9dCsnJyx0aGlzLl9maXJlQ2hhbmdlKCdhdHRyaWJ1dGVzJyx0aGlzKSwnY2xhc3MnPT1lP04odGhpcy5fY2xhc3Nlcyx0KTonc3R5bGUnPT1lP0YodGhpcy5fc3R5bGVzLHQpOnRoaXMuX2F0dHJzLnNldChlLHQpfV9yZW1vdmVBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2ZpcmVDaGFuZ2UoJ2F0dHJpYnV0ZXMnLHRoaXMpLCdjbGFzcyc9PWU/ISEoMDx0aGlzLl9jbGFzc2VzLnNpemUpJiYodGhpcy5fY2xhc3Nlcy5jbGVhcigpLCEwKTonc3R5bGUnPT1lPyEhKDA8dGhpcy5fc3R5bGVzLnNpemUpJiYodGhpcy5fc3R5bGVzLmNsZWFyKCksITApOnRoaXMuX2F0dHJzLmRlbGV0ZShlKX1fYWRkQ2xhc3MoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX2NsYXNzZXMuYWRkKGUpKX1fcmVtb3ZlQ2xhc3MoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX2NsYXNzZXMuZGVsZXRlKGUpKX1fc2V0U3R5bGUoZSx0KXtpZih0aGlzLl9maXJlQ2hhbmdlKCdhdHRyaWJ1dGVzJyx0aGlzKSwkYShlKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhlKTtmb3IoY29uc3QgbyBvZiB0KXRoaXMuX3N0eWxlcy5zZXQobyxlW29dKX1lbHNlIHRoaXMuX3N0eWxlcy5zZXQoZSx0KX1fcmVtb3ZlU3R5bGUoZSl7dGhpcy5fZmlyZUNoYW5nZSgnYXR0cmlidXRlcycsdGhpcyksZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLGUuZm9yRWFjaCgoZSk9PnRoaXMuX3N0eWxlcy5kZWxldGUoZSkpfV9zZXRDdXN0b21Qcm9wZXJ0eShlLHQpe3RoaXMuX2N1c3RvbVByb3BlcnRpZXMuc2V0KGUsdCl9X3JlbW92ZUN1c3RvbVByb3BlcnR5KGUpe3JldHVybiB0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmRlbGV0ZShlKX19Y2xhc3MgSWQgZXh0ZW5kcyBSZHtjb25zdHJ1Y3RvcihlLHQsbyl7c3VwZXIoZSx0LG8pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PUR9aXMoZSx0PW51bGwpe3JldHVybiB0Pydjb250YWluZXJFbGVtZW50Jz09ZSYmdD09dGhpcy5uYW1lfHxzdXBlci5pcyhlLHQpOidjb250YWluZXJFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9fXZhciBWZD1CLEZkPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vLmxlbmd0aDtyZXR1cm4gMD09PW4/ZS5jYWxsKHQpOjE9PT1uP2UuY2FsbCh0LG9bMF0pOjI9PT1uP2UuY2FsbCh0LG9bMF0sb1sxXSk6Mz09PW4/ZS5jYWxsKHQsb1swXSxvWzFdLG9bMl0pOmUuYXBwbHkodCxvKX0sTmQ9T2JqZWN0LnByb3RvdHlwZSxNZD1OZC50b1N0cmluZyxEZD1mdW5jdGlvbihlKXtyZXR1cm4nc3ltYm9sJz09dHlwZW9mIGV8fHFhKGUpJiZNZC5jYWxsKGUpPT0nW29iamVjdCBTeW1ib2xdJ30sQmQ9MC8wLExkPS9eXFxzK3xcXHMrJC9nLHpkPS9eWy0rXTB4WzAtOWEtZl0rJC9pLGpkPS9eMGJbMDFdKyQvaSxxZD0vXjBvWzAtN10rJC9pLFdkPXBhcnNlSW50LFVkPWZ1bmN0aW9uKGUpe2lmKCdudW1iZXInPT10eXBlb2YgZSlyZXR1cm4gZTtpZihEZChlKSlyZXR1cm4gQmQ7aWYodXMoZSkpe3ZhciB0PWdzKGUudmFsdWVPZik/ZS52YWx1ZU9mKCk6ZTtlPXVzKHQpP3QrJyc6dH1pZignc3RyaW5nJyE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UoTGQsJycpO3ZhciBvPWpkLnRlc3QoZSk7cmV0dXJuIG98fHFkLnRlc3QoZSk/V2QoZS5zbGljZSgyKSxvPzI6OCk6emQudGVzdChlKT9CZDorZX0sSGQ9MS8wLEtkPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiAwPT09ZT9lOjA7aWYoZT1VZChlKSxlPT09SGR8fGU9PT0tSGQpe3ZhciB0PTA+ZT8tMToxO3JldHVybiB0KjE3OTc2OTMxMzQ4NjIzMTU3ZTI5Mn1yZXR1cm4gZT09PWU/ZTowfSxHZD1mdW5jdGlvbihlKXt2YXIgdD1LZChlKSxvPXQlMTtyZXR1cm4gdD09PXQ/bz90LW86dDowfSwkZD1NYSxKZD1mdW5jdGlvbihlLHQpe2lmKCdmdW5jdGlvbichPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgZnVuY3Rpb24nKTtyZXR1cm4gdD0kZCh2b2lkIDA9PT10P2UubGVuZ3RoLTE6R2QodCksMCksZnVuY3Rpb24oKXtmb3IodmFyIG89YXJndW1lbnRzLG49LTEsaT0kZChvLmxlbmd0aC10LDApLHI9QXJyYXkoaSk7KytuPGk7KXJbbl09b1t0K25dO3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIGUuY2FsbCh0aGlzLHIpO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHRoaXMsb1swXSxyKTtjYXNlIDI6cmV0dXJuIGUuY2FsbCh0aGlzLG9bMF0sb1sxXSxyKTt9dmFyIGE9QXJyYXkodCsxKTtmb3Iobj0tMTsrK248dDspYVtuXT1vW25dO3JldHVybiBhW3RdPXIsRmQoZSx0aGlzLGEpfX0sUWQ9SXMuYS5SZWZsZWN0LFlkPVFkLFhkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxvOyEobz1lLm5leHQoKSkuZG9uZTspdC5wdXNoKG8udmFsdWUpO3JldHVybiB0fSxaZD1PYmplY3QucHJvdG90eXBlLGVjPVlkP1lkLmVudW1lcmF0ZTp2b2lkIDAsdGM9WmQucHJvcGVydHlJc0VudW1lcmFibGU7ZWMmJiF0Yy5jYWxsKHt2YWx1ZU9mOjF9LCd2YWx1ZU9mJykmJihMPWZ1bmN0aW9uKGUpe3JldHVybiBYZChlYyhlKSl9KTt2YXIgb2M9TCxuYz1PYmplY3QucHJvdG90eXBlLGljPW5jLmhhc093blByb3BlcnR5LHJjPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxvPWZsKGUpLG49b2MoZSksaT1uLmxlbmd0aCxyPXVsKGUpLGE9cnx8W10scz1hLmxlbmd0aDsrK3Q8aTspe3ZhciBsPW5bdF07ISFyJiYoJ2xlbmd0aCc9PWx8fHBsKGwscykpfHwnY29uc3RydWN0b3InPT1sJiYob3x8IWljLmNhbGwoZSxsKSl8fGEucHVzaChsKX1yZXR1cm4gYX0sYWM9T2JqZWN0LnByb3RvdHlwZSxzYz1hYy5wcm9wZXJ0eUlzRW51bWVyYWJsZSxsYz0hc2MuY2FsbCh7dmFsdWVPZjoxfSwndmFsdWVPZicpLGRjPWZ1bmN0aW9uKGUpe3JldHVybiBKZChmdW5jdGlvbih0LG8pe3ZhciBuPS0xLGk9by5sZW5ndGgscj0xPGk/b1tpLTFdOnZvaWQgMCxhPTI8aT9vWzJdOnZvaWQgMDtmb3Iocj0zPGUubGVuZ3RoJiYnZnVuY3Rpb24nPT10eXBlb2Ygcj8oaS0tLHIpOnZvaWQgMCxhJiZWZChvWzBdLG9bMV0sYSkmJihyPTM+aT92b2lkIDA6cixpPTEpLHQ9T2JqZWN0KHQpOysrbjxpOyl7dmFyIHM9b1tuXTtzJiZlKHQscyxuLHIpfXJldHVybiB0fSl9KGZ1bmN0aW9uKGUsdCl7aWYobGN8fGZsKHQpfHxacyh0KSlyZXR1cm4gdm9pZCBXcyh0LHJjKHQpLGUpO2Zvcih2YXIgbyBpbiB0KXFzKGUsbyx0W29dKX0pLGNjPWRjO2NvbnN0IHVjPVN5bWJvbCgnb2JzZXJ2YWJsZVByb3BlcnRpZXMnKSxtYz1TeW1ib2woJ2JvdW5kT2JzZXJ2YWJsZXMnKSxwYz1TeW1ib2woJ2JvdW5kUHJvcGVydGllcycpLGdjPXtzZXQoZSx0KXtpZih1cyhlKSlyZXR1cm4gdm9pZCBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0KT0+e3RoaXMuc2V0KHQsZVt0XSl9LHRoaXMpO3oodGhpcyk7Y29uc3Qgbz10aGlzW3VjXTtpZihlIGluIHRoaXMmJiFvLmhhcyhlKSl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtc2V0LWNhbm5vdC1vdmVycmlkZTogQ2Fubm90IG92ZXJyaWRlIGFuIGV4aXN0aW5nIHByb3BlcnR5LicpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldCgpe3JldHVybiBvLmdldChlKX0sc2V0KHQpe2NvbnN0IG49by5nZXQoZSk7bj09PXQmJm8uaGFzKGUpfHwoby5zZXQoZSx0KSx0aGlzLmZpcmUoJ2NoYW5nZTonK2UsZSx0LG4pKX19KSx0aGlzW2VdPXR9LGJpbmQoLi4uZSl7aWYoIWUubGVuZ3RofHwhVShlKSl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtYmluZC13cm9uZy1wcm9wZXJ0aWVzOiBBbGwgcHJvcGVydGllcyBtdXN0IGJlIHN0cmluZ3MuJyk7aWYobmV3IFNldChlKS5zaXplIT09ZS5sZW5ndGgpdGhyb3cgbmV3IFlhKCdvYnNlcnZhYmxlLWJpbmQtZHVwbGljYXRlLXByb3BlcnRpZXM6IFByb3BlcnRpZXMgbXVzdCBiZSB1bmlxdWUuJyk7eih0aGlzKTtjb25zdCB0PXRoaXNbcGNdO2UuZm9yRWFjaCgoZSk9PntpZih0LmhhcyhlKSl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtYmluZC1yZWJpbmQ6IENhbm5vdCBiaW5kIHRoZSBzYW1lIHByb3BlcnR5IG1vcmUgdGhhdCBvbmNlLicpfSk7Y29uc3Qgbz1uZXcgTWFwO3JldHVybiBlLmZvckVhY2goKGUpPT57Y29uc3Qgbj17cHJvcGVydHk6ZSx0bzpbXX07dC5zZXQoZSxuKSxvLnNldChlLG4pfSkse3RvOmosdG9NYW55OnEsX29ic2VydmFibGU6dGhpcyxfYmluZFByb3BlcnRpZXM6ZSxfdG86W10sX2JpbmRpbmdzOm99fSx1bmJpbmQoLi4uZSl7aWYoISh1YyBpbiB0aGlzKSlyZXR1cm47Y29uc3QgdD10aGlzW3BjXSxvPXRoaXNbbWNdO2lmKGUubGVuZ3RoKXtpZighVShlKSl0aHJvdyBuZXcgWWEoJ29ic2VydmFibGUtdW5iaW5kLXdyb25nLXByb3BlcnRpZXM6IFByb3BlcnRpZXMgbXVzdCBiZSBzdHJpbmdzLicpO2UuZm9yRWFjaCgoZSk9Pntjb25zdCBuPXQuZ2V0KGUpO2lmKCFuKXJldHVybjtsZXQgaSxyLGEscztuLnRvLmZvckVhY2goKGUpPT57aT1lWzBdLHI9ZVsxXSxhPW8uZ2V0KGkpLHM9YVtyXSxzLmRlbGV0ZShuKSxzLnNpemV8fGRlbGV0ZSBhW3JdLE9iamVjdC5rZXlzKGEpLmxlbmd0aHx8KG8uZGVsZXRlKGkpLHRoaXMuc3RvcExpc3RlbmluZyhpLCdjaGFuZ2UnKSl9KSx0LmRlbGV0ZShlKX0pfWVsc2Ugby5mb3JFYWNoKChlLHQpPT57dGhpcy5zdG9wTGlzdGVuaW5nKHQsJ2NoYW5nZScpfSksby5jbGVhcigpLHQuY2xlYXIoKX0sZGVjb3JhdGUoZSl7Y29uc3QgdD10aGlzW2VdO2lmKCF0KXRocm93IG5ldyBZYSgnb2JzZXJ2YWJsZW1peGluLWNhbm5vdC1kZWNvcmF0ZS11bmRlZmluZWQ6IENhbm5vdCBkZWNvcmF0ZSBhbiB1bmRlZmluZWQgbWV0aG9kLicse29iamVjdDp0aGlzLG1ldGhvZE5hbWU6ZX0pO3RoaXMub24oZSwoZSxvKT0+e2UucmV0dXJuPXQuYXBwbHkodGhpcyxvKX0pLHRoaXNbZV09ZnVuY3Rpb24oLi4udCl7cmV0dXJuIHRoaXMuZmlyZShlLHQpfX19O2NjKGdjLHJzKTt2YXIgZmM9Z2M7Y29uc3QgaGM9U3ltYm9sKCdkb2N1bWVudCcpO2NsYXNzIGJjIGV4dGVuZHMgSWR7Y29uc3RydWN0b3IoZSx0LG8pe3N1cGVyKGUsdCxvKSx0aGlzLnNldCgnaXNSZWFkT25seScsITEpLHRoaXMuc2V0KCdpc0ZvY3VzZWQnLCExKX1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShoYyl9c2V0IF9kb2N1bWVudChlKXtpZih0aGlzLmdldEN1c3RvbVByb3BlcnR5KGhjKSl0aHJvdyBuZXcgWWEoJ3ZpZXctZWRpdGFibGVlbGVtZW50LWRvY3VtZW50LWFscmVhZHktc2V0OiBWaWV3IGRvY3VtZW50IGlzIGFscmVhZHkgc2V0LicpO3RoaXMuX3NldEN1c3RvbVByb3BlcnR5KGhjLGUpLHRoaXMuYmluZCgnaXNSZWFkT25seScpLnRvKGUpLHRoaXMuYmluZCgnaXNGb2N1c2VkJykudG8oZSwnaXNGb2N1c2VkJywodCk9PnQmJmUuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudD09dGhpcyksdGhpcy5saXN0ZW5UbyhlLnNlbGVjdGlvbiwnY2hhbmdlJywoKT0+e3RoaXMuaXNGb2N1c2VkPWUuaXNGb2N1c2VkJiZlLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ9PXRoaXN9KX19ZihiYyxmYyk7Y29uc3Qga2M9U3ltYm9sKCdyb290TmFtZScpO2NsYXNzIF9jIGV4dGVuZHMgYmN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5yb290TmFtZT0nbWFpbid9aXMoZSx0PW51bGwpe3JldHVybiB0Pydyb290RWxlbWVudCc9PWUmJnQ9PXRoaXMubmFtZXx8c3VwZXIuaXMoZSx0KToncm9vdEVsZW1lbnQnPT1lfHxzdXBlci5pcyhlKX1nZXQgcm9vdE5hbWUoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShrYyl9c2V0IHJvb3ROYW1lKGUpe3RoaXMuX3NldEN1c3RvbVByb3BlcnR5KGtjLGUpfXNldCBfbmFtZShlKXt0aGlzLm5hbWU9ZX19Y2xhc3Mgd2N7Y29uc3RydWN0b3IoZT17fSl7aWYoIWUuYm91bmRhcmllcyYmIWUuc3RhcnRQb3NpdGlvbil0aHJvdyBuZXcgWWEoJ3ZpZXctdHJlZS13YWxrZXItbm8tc3RhcnQtcG9zaXRpb246IE5laXRoZXIgYm91bmRhcmllcyBub3Igc3RhcnRpbmcgcG9zaXRpb24gaGF2ZSBiZWVuIGRlZmluZWQuJyk7aWYoZS5kaXJlY3Rpb24mJidmb3J3YXJkJyE9ZS5kaXJlY3Rpb24mJidiYWNrd2FyZCchPWUuZGlyZWN0aW9uKXRocm93IG5ldyBZYSgndmlldy10cmVlLXdhbGtlci11bmtub3duLWRpcmVjdGlvbjogT25seSBgYmFja3dhcmRgIGFuZCBgZm9yd2FyZGAgZGlyZWN0aW9uIGFsbG93ZWQuJyx7ZGlyZWN0aW9uOmUuZGlyZWN0aW9ufSk7dGhpcy5ib3VuZGFyaWVzPWUuYm91bmRhcmllc3x8bnVsbCx0aGlzLnBvc2l0aW9uPWUuc3RhcnRQb3NpdGlvbj92Yy5jcmVhdGVGcm9tUG9zaXRpb24oZS5zdGFydFBvc2l0aW9uKTp2Yy5jcmVhdGVGcm9tUG9zaXRpb24oZS5ib3VuZGFyaWVzWydiYWNrd2FyZCc9PWUuZGlyZWN0aW9uPydlbmQnOidzdGFydCddKSx0aGlzLmRpcmVjdGlvbj1lLmRpcmVjdGlvbnx8J2ZvcndhcmQnLHRoaXMuc2luZ2xlQ2hhcmFjdGVycz0hIWUuc2luZ2xlQ2hhcmFjdGVycyx0aGlzLnNoYWxsb3c9ISFlLnNoYWxsb3csdGhpcy5pZ25vcmVFbGVtZW50RW5kPSEhZS5pZ25vcmVFbGVtZW50RW5kLHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5zdGFydC5wYXJlbnQ6bnVsbCx0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLmVuZC5wYXJlbnQ6bnVsbH1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzfXNraXAoZSl7bGV0IHQsbyxuO2RvIG49dGhpcy5wb3NpdGlvbiwoe2RvbmU6dCx2YWx1ZTpvfT10aGlzLm5leHQoKSk7d2hpbGUoIXQmJmUobykpO3R8fCh0aGlzLnBvc2l0aW9uPW4pfW5leHQoKXtyZXR1cm4nZm9yd2FyZCc9PXRoaXMuZGlyZWN0aW9uP3RoaXMuX25leHQoKTp0aGlzLl9wcmV2aW91cygpfV9uZXh0KCl7bGV0IGU9dmMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pO2NvbnN0IHQ9dGhpcy5wb3NpdGlvbixvPWUucGFyZW50O2lmKG51bGw9PT1vLnBhcmVudCYmZS5vZmZzZXQ9PT1vLmNoaWxkQ291bnQpcmV0dXJue2RvbmU6ITB9O2lmKG89PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmZS5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXJldHVybntkb25lOiEwfTtsZXQgbjtpZihvIGluc3RhbmNlb2YgRWQpe2lmKGUuaXNBdEVuZClyZXR1cm4gdGhpcy5wb3NpdGlvbj12Yy5jcmVhdGVBZnRlcihvKSx0aGlzLl9uZXh0KCk7bj1vLmRhdGFbZS5vZmZzZXRdfWVsc2Ugbj1vLmdldENoaWxkKGUub2Zmc2V0KTtpZihuIGluc3RhbmNlb2YgUmQpcmV0dXJuIHRoaXMuc2hhbGxvdz9lLm9mZnNldCsrOmU9bmV3IHZjKG4sMCksdGhpcy5wb3NpdGlvbj1lLHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKCdlbGVtZW50U3RhcnQnLG4sdCxlLDEpO2lmKCEobiBpbnN0YW5jZW9mIEVkKSl7aWYoJ3N0cmluZyc9PXR5cGVvZiBuKXtsZXQgbjtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpbj0xO2Vsc2V7Y29uc3QgdD1vPT09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ/dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQ6by5kYXRhLmxlbmd0aDtuPXQtZS5vZmZzZXR9Y29uc3QgaT1uZXcgU2QobyxlLm9mZnNldCxuKTtyZXR1cm4gZS5vZmZzZXQrPW4sdGhpcy5wb3NpdGlvbj1lLHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKCd0ZXh0JyxpLHQsZSxuKX1yZXR1cm4gZT12Yy5jcmVhdGVBZnRlcihvKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX25leHQoKTp0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgnZWxlbWVudEVuZCcsbyx0LGUpfWlmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylyZXR1cm4gZT1uZXcgdmMobiwwKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fbmV4dCgpO2Vsc2V7bGV0IG89bi5kYXRhLmxlbmd0aCxpO3JldHVybiBuPT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudD8obz10aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldCxpPW5ldyBTZChuLDAsbyksZT12Yy5jcmVhdGVBZnRlcihpKSk6KGk9bmV3IFNkKG4sMCxuLmRhdGEubGVuZ3RoKSxlLm9mZnNldCsrKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ3RleHQnLGksdCxlLG8pfX1fcHJldmlvdXMoKXtsZXQgZT12Yy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7Y29uc3QgdD10aGlzLnBvc2l0aW9uLG89ZS5wYXJlbnQ7aWYobnVsbD09PW8ucGFyZW50JiYwPT09ZS5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2lmKG89PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQmJmUub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0KXJldHVybntkb25lOiEwfTtsZXQgbjtpZihvIGluc3RhbmNlb2YgRWQpe2lmKGUuaXNBdFN0YXJ0KXJldHVybiB0aGlzLnBvc2l0aW9uPXZjLmNyZWF0ZUJlZm9yZShvKSx0aGlzLl9wcmV2aW91cygpO249by5kYXRhW2Uub2Zmc2V0LTFdfWVsc2Ugbj1vLmdldENoaWxkKGUub2Zmc2V0LTEpO2lmKG4gaW5zdGFuY2VvZiBSZClyZXR1cm4gdGhpcy5zaGFsbG93PyhlLm9mZnNldC0tLHRoaXMucG9zaXRpb249ZSx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZSgnZWxlbWVudFN0YXJ0JyxuLHQsZSwxKSk6KGU9bmV3IHZjKG4sbi5jaGlsZENvdW50KSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX3ByZXZpb3VzKCk6dGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ2VsZW1lbnRFbmQnLG4sdCxlKSk7aWYoIShuIGluc3RhbmNlb2YgRWQpKXtpZignc3RyaW5nJz09dHlwZW9mIG4pe2xldCBuO2lmKCF0aGlzLnNpbmdsZUNoYXJhY3RlcnMpe2NvbnN0IHQ9bz09PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldDowO249ZS5vZmZzZXQtdH1lbHNlIG49MTtlLm9mZnNldC09bjtjb25zdCBpPW5ldyBTZChvLGUub2Zmc2V0LG4pO3JldHVybiB0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ3RleHQnLGksdCxlLG4pfXJldHVybiBlPXZjLmNyZWF0ZUJlZm9yZShvKSx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoJ2VsZW1lbnRTdGFydCcsbyx0LGUsMSl9aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXJldHVybiBlPW5ldyB2YyhuLG4uZGF0YS5sZW5ndGgpLHRoaXMucG9zaXRpb249ZSx0aGlzLl9wcmV2aW91cygpO2Vsc2V7bGV0IG89bi5kYXRhLmxlbmd0aCxpO2lmKG49PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQpe2NvbnN0IHQ9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldDtpPW5ldyBTZChuLHQsbi5kYXRhLmxlbmd0aC10KSxvPWkuZGF0YS5sZW5ndGgsZT12Yy5jcmVhdGVCZWZvcmUoaSl9ZWxzZSBpPW5ldyBTZChuLDAsbi5kYXRhLmxlbmd0aCksZS5vZmZzZXQtLTtyZXR1cm4gdGhpcy5wb3NpdGlvbj1lLHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKCd0ZXh0JyxpLHQsZSxvKX19X2Zvcm1hdFJldHVyblZhbHVlKGUsdCxvLG4saSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTZCYmKHQub2Zmc2V0SW5UZXh0K3QuZGF0YS5sZW5ndGg9PXQudGV4dE5vZGUuZGF0YS5sZW5ndGgmJignZm9yd2FyZCchPXRoaXMuZGlyZWN0aW9ufHx0aGlzLmJvdW5kYXJpZXMmJnRoaXMuYm91bmRhcmllcy5lbmQuaXNFcXVhbCh0aGlzLnBvc2l0aW9uKT9vPXZjLmNyZWF0ZUFmdGVyKHQudGV4dE5vZGUpOihuPXZjLmNyZWF0ZUFmdGVyKHQudGV4dE5vZGUpLHRoaXMucG9zaXRpb249bikpLDA9PT10Lm9mZnNldEluVGV4dCYmKCdiYWNrd2FyZCchPXRoaXMuZGlyZWN0aW9ufHx0aGlzLmJvdW5kYXJpZXMmJnRoaXMuYm91bmRhcmllcy5zdGFydC5pc0VxdWFsKHRoaXMucG9zaXRpb24pP289dmMuY3JlYXRlQmVmb3JlKHQudGV4dE5vZGUpOihuPXZjLmNyZWF0ZUJlZm9yZSh0LnRleHROb2RlKSx0aGlzLnBvc2l0aW9uPW4pKSkse2RvbmU6ITEsdmFsdWU6e3R5cGU6ZSxpdGVtOnQscHJldmlvdXNQb3NpdGlvbjpvLG5leHRQb3NpdGlvbjpuLGxlbmd0aDppfX19fWNsYXNzIHZje2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wYXJlbnQ9ZSx0aGlzLm9mZnNldD10fWdldCBub2RlQWZ0ZXIoKXtyZXR1cm4gdGhpcy5wYXJlbnQuaXMoJ3RleHQnKT9udWxsOnRoaXMucGFyZW50LmdldENoaWxkKHRoaXMub2Zmc2V0KXx8bnVsbH1nZXQgbm9kZUJlZm9yZSgpe3JldHVybiB0aGlzLnBhcmVudC5pcygndGV4dCcpP251bGw6dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5vZmZzZXQtMSl8fG51bGx9Z2V0IGlzQXRTdGFydCgpe3JldHVybiAwPT09dGhpcy5vZmZzZXR9Z2V0IGlzQXRFbmQoKXtjb25zdCBlPXRoaXMucGFyZW50LmlzKCd0ZXh0Jyk/dGhpcy5wYXJlbnQuZGF0YS5sZW5ndGg6dGhpcy5wYXJlbnQuY2hpbGRDb3VudDtyZXR1cm4gdGhpcy5vZmZzZXQ9PT1lfWdldCByb290KCl7cmV0dXJuIHRoaXMucGFyZW50LnJvb3R9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe2xldCBlPXRoaXMucGFyZW50O2Zvcig7IShlIGluc3RhbmNlb2YgYmMpOylpZihlLnBhcmVudCllPWUucGFyZW50O2Vsc2UgcmV0dXJuIG51bGw7cmV0dXJuIGV9Z2V0U2hpZnRlZEJ5KGUpe2NvbnN0IHQ9dmMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpLG89dC5vZmZzZXQrZTtyZXR1cm4gdC5vZmZzZXQ9MD5vPzA6byx0fWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKGUsdD17fSl7dC5zdGFydFBvc2l0aW9uPXRoaXM7Y29uc3Qgbz1uZXcgd2ModCk7cmV0dXJuIG8uc2tpcChlKSxvLnBvc2l0aW9ufWdldEFuY2VzdG9ycygpe3JldHVybiB0aGlzLnBhcmVudC5pcygnZG9jdW1lbnRGcmFnbWVudCcpP1t0aGlzLnBhcmVudF06dGhpcy5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pfWdldENvbW1vbkFuY2VzdG9yKGUpe2NvbnN0IHQ9dGhpcy5nZXRBbmNlc3RvcnMoKSxvPWUuZ2V0QW5jZXN0b3JzKCk7bGV0IG49MDtmb3IoO3Rbbl09PW9bbl0mJnRbbl07KW4rKztyZXR1cm4gMD09bj9udWxsOnRbbi0xXX1pc0VxdWFsKGUpe3JldHVybiB0aGlzLnBhcmVudD09ZS5wYXJlbnQmJnRoaXMub2Zmc2V0PT1lLm9mZnNldH1pc0JlZm9yZShlKXtyZXR1cm4nYmVmb3JlJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc0FmdGVyKGUpe3JldHVybidhZnRlcic9PXRoaXMuY29tcGFyZVdpdGgoZSl9Y29tcGFyZVdpdGgoZSl7aWYodGhpcy5yb290IT09ZS5yb290KXJldHVybidkaWZmZXJlbnQnO2lmKHRoaXMuaXNFcXVhbChlKSlyZXR1cm4nc2FtZSc7Y29uc3QgdD10aGlzLnBhcmVudC5pcygnbm9kZScpP3RoaXMucGFyZW50LmdldFBhdGgoKTpbXSxvPWUucGFyZW50LmlzKCdub2RlJyk/ZS5wYXJlbnQuZ2V0UGF0aCgpOltdO3QucHVzaCh0aGlzLm9mZnNldCksby5wdXNoKGUub2Zmc2V0KTtjb25zdCBuPUEodCxvKTtyZXR1cm4ncHJlZml4Jz09PW4/J2JlZm9yZSc6J2V4dGVuc2lvbic9PT1uPydhZnRlcic6dFtuXTxvW25dPydiZWZvcmUnOidhZnRlcid9c3RhdGljIGNyZWF0ZUF0KGUsdCl7aWYoZSBpbnN0YW5jZW9mIHZjKXJldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKTtlbHNle2NvbnN0IG89ZTtpZignZW5kJz09dCl0PW8uaXMoJ3RleHQnKT9vLmRhdGEubGVuZ3RoOm8uY2hpbGRDb3VudDtlbHNle2lmKCdiZWZvcmUnPT10KXJldHVybiB0aGlzLmNyZWF0ZUJlZm9yZShvKTtpZignYWZ0ZXInPT10KXJldHVybiB0aGlzLmNyZWF0ZUFmdGVyKG8pO3R8fCh0PTApfXJldHVybiBuZXcgdmMobyx0KX19c3RhdGljIGNyZWF0ZUFmdGVyKGUpe2lmKGUuaXMoJ3RleHRQcm94eScpKXJldHVybiBuZXcgdmMoZS50ZXh0Tm9kZSxlLm9mZnNldEluVGV4dCtlLmRhdGEubGVuZ3RoKTtpZighZS5wYXJlbnQpdGhyb3cgbmV3IFlhKCd2aWV3LXBvc2l0aW9uLWFmdGVyLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYWZ0ZXIgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gbmV3IHZjKGUucGFyZW50LGUuaW5kZXgrMSl9c3RhdGljIGNyZWF0ZUJlZm9yZShlKXtpZihlLmlzKCd0ZXh0UHJveHknKSlyZXR1cm4gbmV3IHZjKGUudGV4dE5vZGUsZS5vZmZzZXRJblRleHQpO2lmKCFlLnBhcmVudCl0aHJvdyBuZXcgWWEoJ3ZpZXctcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYmVmb3JlIHJvb3QuJyx7cm9vdDplfSk7cmV0dXJuIG5ldyB2YyhlLnBhcmVudCxlLmluZGV4KX1zdGF0aWMgY3JlYXRlRnJvbVBvc2l0aW9uKGUpe3JldHVybiBuZXcgdGhpcyhlLnBhcmVudCxlLm9mZnNldCl9fWNsYXNzIHlje2NvbnN0cnVjdG9yKGUsdD1udWxsKXt0aGlzLnN0YXJ0PXZjLmNyZWF0ZUZyb21Qb3NpdGlvbihlKSx0aGlzLmVuZD10P3ZjLmNyZWF0ZUZyb21Qb3NpdGlvbih0KTp2Yy5jcmVhdGVGcm9tUG9zaXRpb24oZSl9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQqbmV3IHdjKHtib3VuZGFyaWVzOnRoaXMsaWdub3JlRWxlbWVudEVuZDohMH0pfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodGhpcy5lbmQpfWdldCBpc0ZsYXQoKXtyZXR1cm4gdGhpcy5zdGFydC5wYXJlbnQ9PT10aGlzLmVuZC5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5zdGFydC5yb290fWdldEVubGFyZ2VkKCl7bGV0IGU9dGhpcy5zdGFydC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbihRLHtkaXJlY3Rpb246J2JhY2t3YXJkJ30pLHQ9dGhpcy5lbmQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oUSk7cmV0dXJuIGUucGFyZW50LmlzKCd0ZXh0JykmJmUuaXNBdFN0YXJ0JiYoZT12Yy5jcmVhdGVCZWZvcmUoZS5wYXJlbnQpKSx0LnBhcmVudC5pcygndGV4dCcpJiZ0LmlzQXRFbmQmJih0PXZjLmNyZWF0ZUFmdGVyKHQucGFyZW50KSksbmV3IHljKGUsdCl9Z2V0VHJpbW1lZCgpe2xldCBlPXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oUSk7aWYoZS5pc0FmdGVyKHRoaXMuZW5kKXx8ZS5pc0VxdWFsKHRoaXMuZW5kKSlyZXR1cm4gbmV3IHljKGUsZSk7bGV0IHQ9dGhpcy5lbmQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oUSx7ZGlyZWN0aW9uOidiYWNrd2FyZCd9KTtjb25zdCBvPWUubm9kZUFmdGVyLG49dC5ub2RlQmVmb3JlO3JldHVybiBvJiZvLmlzKCd0ZXh0JykmJihlPW5ldyB2YyhvLDApKSxuJiZuLmlzKCd0ZXh0JykmJih0PW5ldyB2YyhuLG4uZGF0YS5sZW5ndGgpKSxuZXcgeWMoZSx0KX1pc0VxdWFsKGUpe3JldHVybiB0aGlzPT1lfHx0aGlzLnN0YXJ0LmlzRXF1YWwoZS5zdGFydCkmJnRoaXMuZW5kLmlzRXF1YWwoZS5lbmQpfWNvbnRhaW5zUG9zaXRpb24oZSl7cmV0dXJuIGUuaXNBZnRlcih0aGlzLnN0YXJ0KSYmZS5pc0JlZm9yZSh0aGlzLmVuZCl9Y29udGFpbnNSYW5nZShlLHQ9ITEpe2UuaXNDb2xsYXBzZWQmJih0PSExKTtjb25zdCBvPXRoaXMuY29udGFpbnNQb3NpdGlvbihlLnN0YXJ0KXx8dCYmdGhpcy5zdGFydC5pc0VxdWFsKGUuc3RhcnQpLG49dGhpcy5jb250YWluc1Bvc2l0aW9uKGUuZW5kKXx8dCYmdGhpcy5lbmQuaXNFcXVhbChlLmVuZCk7cmV0dXJuIG8mJm59Z2V0RGlmZmVyZW5jZShlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLmlzSW50ZXJzZWN0aW5nKGUpPyh0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5zdGFydCkmJnQucHVzaChuZXcgeWModGhpcy5zdGFydCxlLnN0YXJ0KSksdGhpcy5jb250YWluc1Bvc2l0aW9uKGUuZW5kKSYmdC5wdXNoKG5ldyB5YyhlLmVuZCx0aGlzLmVuZCkpKTp0LnB1c2goeWMuY3JlYXRlRnJvbVJhbmdlKHRoaXMpKSx0fWdldEludGVyc2VjdGlvbihlKXtpZih0aGlzLmlzSW50ZXJzZWN0aW5nKGUpKXtsZXQgdD10aGlzLnN0YXJ0LG89dGhpcy5lbmQ7cmV0dXJuIHRoaXMuY29udGFpbnNQb3NpdGlvbihlLnN0YXJ0KSYmKHQ9ZS5zdGFydCksdGhpcy5jb250YWluc1Bvc2l0aW9uKGUuZW5kKSYmKG89ZS5lbmQpLG5ldyB5Yyh0LG8pfXJldHVybiBudWxsfWdldFdhbGtlcihlPXt9KXtyZXR1cm4gZS5ib3VuZGFyaWVzPXRoaXMsbmV3IHdjKGUpfWdldENvbW1vbkFuY2VzdG9yKCl7cmV0dXJuIHRoaXMuc3RhcnQuZ2V0Q29tbW9uQW5jZXN0b3IodGhpcy5lbmQpfSpnZXRJdGVtcyhlPXt9KXtlLmJvdW5kYXJpZXM9dGhpcyxlLmlnbm9yZUVsZW1lbnRFbmQ9ITA7Y29uc3QgdD1uZXcgd2MoZSk7Zm9yKGNvbnN0IG8gb2YgdCl5aWVsZCBvLml0ZW19KmdldFBvc2l0aW9ucyhlPXt9KXtlLmJvdW5kYXJpZXM9dGhpcztjb25zdCB0PW5ldyB3YyhlKTt5aWVsZCB0LnBvc2l0aW9uO2Zvcihjb25zdCBvIG9mIHQpeWllbGQgby5uZXh0UG9zaXRpb259aXNJbnRlcnNlY3RpbmcoZSl7cmV0dXJuIHRoaXMuc3RhcnQuaXNCZWZvcmUoZS5lbmQpJiZ0aGlzLmVuZC5pc0FmdGVyKGUuc3RhcnQpfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0LG8sbil7cmV0dXJuIG5ldyB0aGlzKG5ldyB2YyhlLHQpLG5ldyB2YyhvLG4pKX1zdGF0aWMgY3JlYXRlRnJvbVJhbmdlKGUpe3JldHVybiBuZXcgdGhpcyhlLnN0YXJ0LGUuZW5kKX1zdGF0aWMgY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZSx0KXtjb25zdCBvPWUsbj1lLmdldFNoaWZ0ZWRCeSh0KTtyZXR1cm4gMDx0P25ldyB0aGlzKG8sbik6bmV3IHRoaXMobixvKX1zdGF0aWMgY3JlYXRlSW4oZSl7cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGUsMCxlLGUuY2hpbGRDb3VudCl9c3RhdGljIGNyZWF0ZU9uKGUpe2NvbnN0IHQ9ZS5pcygndGV4dFByb3h5Jyk/ZS5vZmZzZXRTaXplOjE7cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodmMuY3JlYXRlQmVmb3JlKGUpLHQpfXN0YXRpYyBjcmVhdGVDb2xsYXBzZWRBdChlLHQpe2NvbnN0IG89dmMuY3JlYXRlQXQoZSx0KSxuPXZjLmNyZWF0ZUZyb21Qb3NpdGlvbihvKTtyZXR1cm4gbmV3IHljKG8sbil9fWNsYXNzIHhje2NvbnN0cnVjdG9yKGU9bnVsbCx0LG8pe3RoaXMuX3Jhbmdlcz1bXSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMSx0aGlzLl9pc0Zha2U9ITEsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPScnLHRoaXMuc2V0VG8oZSx0LG8pfWdldCBpc0Zha2UoKXtyZXR1cm4gdGhpcy5faXNGYWtlfWdldCBmYWtlU2VsZWN0aW9uTGFiZWwoKXtyZXR1cm4gdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsfWdldCBhbmNob3IoKXtpZighdGhpcy5fcmFuZ2VzLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdLHQ9dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ/ZS5lbmQ6ZS5zdGFydDtyZXR1cm4gdmMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpfWdldCBmb2N1cygpe2lmKCF0aGlzLl9yYW5nZXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV0sdD10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD9lLnN0YXJ0OmUuZW5kO3JldHVybiB2Yy5jcmVhdGVGcm9tUG9zaXRpb24odCl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIDE9PT10aGlzLnJhbmdlQ291bnQmJnRoaXMuX3Jhbmdlc1swXS5pc0NvbGxhcHNlZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RofWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIXRoaXMuaXNDb2xsYXBzZWQmJnRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkfWdldCBlZGl0YWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5hbmNob3I/dGhpcy5hbmNob3IuZWRpdGFibGVFbGVtZW50Om51bGx9KmdldFJhbmdlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl5aWVsZCB5Yy5jcmVhdGVGcm9tUmFuZ2UoZSl9Z2V0Rmlyc3RSYW5nZSgpe2xldCBlPW51bGw7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKSghZXx8dC5zdGFydC5pc0JlZm9yZShlLnN0YXJ0KSkmJihlPXQpO3JldHVybiBlP3ljLmNyZWF0ZUZyb21SYW5nZShlKTpudWxsfWdldExhc3RSYW5nZSgpe2xldCBlPW51bGw7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKSghZXx8dC5lbmQuaXNBZnRlcihlLmVuZCkpJiYoZT10KTtyZXR1cm4gZT95Yy5jcmVhdGVGcm9tUmFuZ2UoZSk6bnVsbH1nZXRGaXJzdFBvc2l0aW9uKCl7Y29uc3QgZT10aGlzLmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gZT92Yy5jcmVhdGVGcm9tUG9zaXRpb24oZS5zdGFydCk6bnVsbH1nZXRMYXN0UG9zaXRpb24oKXtjb25zdCBlPXRoaXMuZ2V0TGFzdFJhbmdlKCk7cmV0dXJuIGU/dmMuY3JlYXRlRnJvbVBvc2l0aW9uKGUuZW5kKTpudWxsfWlzRXF1YWwoZSl7aWYodGhpcy5pc0Zha2UhPWUuaXNGYWtlKXJldHVybiExO2lmKHRoaXMuaXNGYWtlJiZ0aGlzLmZha2VTZWxlY3Rpb25MYWJlbCE9ZS5mYWtlU2VsZWN0aW9uTGFiZWwpcmV0dXJuITE7aWYodGhpcy5yYW5nZUNvdW50IT1lLnJhbmdlQ291bnQpcmV0dXJuITE7aWYoMD09PXRoaXMucmFuZ2VDb3VudClyZXR1cm4hMDtpZighdGhpcy5hbmNob3IuaXNFcXVhbChlLmFuY2hvcil8fCF0aGlzLmZvY3VzLmlzRXF1YWwoZS5mb2N1cykpcmV0dXJuITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKXtsZXQgbz0hMTtmb3IoY29uc3QgbiBvZiBlLl9yYW5nZXMpaWYodC5pc0VxdWFsKG4pKXtvPSEwO2JyZWFrfWlmKCFvKXJldHVybiExfXJldHVybiEwfWlzU2ltaWxhcihlKXtpZih0aGlzLmlzQmFja3dhcmQhPWUuaXNCYWNrd2FyZClyZXR1cm4hMTtjb25zdCB0PVkodGhpcy5nZXRSYW5nZXMoKSksbz1ZKGUuZ2V0UmFuZ2VzKCkpO2lmKHQhPW8pcmV0dXJuITE7aWYoMD09dClyZXR1cm4hMDtmb3IobGV0IHQgb2YgdGhpcy5nZXRSYW5nZXMoKSl7dD10LmdldFRyaW1tZWQoKTtsZXQgbz0hMTtmb3IobGV0IG4gb2YgZS5nZXRSYW5nZXMoKSlpZihuPW4uZ2V0VHJpbW1lZCgpLHQuc3RhcnQuaXNFcXVhbChuLnN0YXJ0KSYmdC5lbmQuaXNFcXVhbChuLmVuZCkpe289ITA7YnJlYWt9aWYoIW8pcmV0dXJuITF9cmV0dXJuITB9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7aWYoMSE9PXRoaXMucmFuZ2VDb3VudClyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpLHQ9ZS5zdGFydC5ub2RlQWZ0ZXIsbz1lLmVuZC5ub2RlQmVmb3JlO3JldHVybiB0IGluc3RhbmNlb2YgUmQmJnQ9PW8/dDpudWxsfXNldFRvKGUsdCxvKXtpZihudWxsPT09ZSl0aGlzLl9zZXRSYW5nZXMoW10pLHRoaXMuX3NldEZha2VPcHRpb25zKHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHhjfHxlIGluc3RhbmNlb2YgQ2MpdGhpcy5fc2V0UmFuZ2VzKGUuZ2V0UmFuZ2VzKCksZS5pc0JhY2t3YXJkKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyh7ZmFrZTplLmlzRmFrZSxsYWJlbDplLmZha2VTZWxlY3Rpb25MYWJlbH0pO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHljKXRoaXMuX3NldFJhbmdlcyhbZV0sdCYmdC5iYWNrd2FyZCksdGhpcy5fc2V0RmFrZU9wdGlvbnModCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgdmMpdGhpcy5fc2V0UmFuZ2VzKFtuZXcgeWMoZSldKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyh0KTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBQZCl7Y29uc3Qgbj0hIW8mJiEhby5iYWNrd2FyZDtsZXQgaTtpZih0PT09dm9pZCAwKXRocm93IG5ldyBZYSgndmlldy1zZWxlY3Rpb24tc2V0VG8tcmVxdWlyZWQtc2Vjb25kLXBhcmFtZXRlcjogc2VsZWN0aW9uLnNldFRvIHJlcXVpcmVzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIHdoZW4gdGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIG5vZGUuJyk7ZWxzZSBpPSdpbic9PXQ/eWMuY3JlYXRlSW4oZSk6J29uJz09dD95Yy5jcmVhdGVPbihlKTp5Yy5jcmVhdGVDb2xsYXBzZWRBdChlLHQpO3RoaXMuX3NldFJhbmdlcyhbaV0sbiksdGhpcy5fc2V0RmFrZU9wdGlvbnMobyl9ZWxzZSBpZihQKGUpKXRoaXMuX3NldFJhbmdlcyhlLHQmJnQuYmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKHQpO2Vsc2UgdGhyb3cgbmV3IFlhKCd2aWV3LXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCBzZWxlY3Rpb24gdG8gZ2l2ZW4gcGxhY2UuJyk7dGhpcy5maXJlKCdjaGFuZ2UnKX1zZXRGb2N1cyhlLHQpe2lmKG51bGw9PT10aGlzLmFuY2hvcil0aHJvdyBuZXcgWWEoJ3ZpZXctc2VsZWN0aW9uLXNldEZvY3VzLW5vLXJhbmdlczogQ2Fubm90IHNldCBzZWxlY3Rpb24gZm9jdXMgaWYgdGhlcmUgYXJlIG5vIHJhbmdlcyBpbiBzZWxlY3Rpb24uJyk7Y29uc3Qgbz12Yy5jcmVhdGVBdChlLHQpO2lmKCdzYW1lJyE9by5jb21wYXJlV2l0aCh0aGlzLmZvY3VzKSl7Y29uc3QgZT10aGlzLmFuY2hvcjt0aGlzLl9yYW5nZXMucG9wKCksJ2JlZm9yZSc9PW8uY29tcGFyZVdpdGgoZSk/dGhpcy5fYWRkUmFuZ2UobmV3IHljKG8sZSksITApOnRoaXMuX2FkZFJhbmdlKG5ldyB5YyhlLG8pKSx0aGlzLmZpcmUoJ2NoYW5nZScpfX1fc2V0UmFuZ2VzKGUsdD0hMSl7ZT1BcnJheS5mcm9tKGUpLHRoaXMuX3Jhbmdlcz1bXTtmb3IoY29uc3QgbyBvZiBlKXRoaXMuX2FkZFJhbmdlKG8pO3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSEhdH1fc2V0RmFrZU9wdGlvbnMoZT17fSl7dGhpcy5faXNGYWtlPSEhZS5mYWtlLHRoaXMuX2Zha2VTZWxlY3Rpb25MYWJlbD1lLmZha2U/ZS5sYWJlbHx8Jyc6Jyd9X2FkZFJhbmdlKGUsdD0hMSl7aWYoIShlIGluc3RhbmNlb2YgeWMpKXRocm93IG5ldyBZYSgndmlldy1zZWxlY3Rpb24taW52YWxpZC1yYW5nZTogSW52YWxpZCBSYW5nZS4nKTt0aGlzLl9wdXNoUmFuZ2UoZSksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISF0fV9wdXNoUmFuZ2UoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKWlmKGUuaXNJbnRlcnNlY3RpbmcodCkpdGhyb3cgbmV3IFlhKCd2aWV3LXNlbGVjdGlvbi1yYW5nZS1pbnRlcnNlY3RzOiBUcnlpbmcgdG8gYWRkIGEgcmFuZ2UgdGhhdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciByYW5nZSBmcm9tIHNlbGVjdGlvbi4nLHthZGRlZFJhbmdlOmUsaW50ZXJzZWN0aW5nUmFuZ2U6dH0pO3RoaXMuX3Jhbmdlcy5wdXNoKHljLmNyZWF0ZUZyb21SYW5nZShlKSl9fWYoeGMscnMpO2NsYXNzIENje2NvbnN0cnVjdG9yKGU9bnVsbCx0LG8pe3RoaXMuX3NlbGVjdGlvbj1uZXcgeGMsdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKCdjaGFuZ2UnKS50byh0aGlzKSx0aGlzLl9zZWxlY3Rpb24uc2V0VG8oZSx0LG8pfWdldCBpc0Zha2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzRmFrZX1nZXQgZmFrZVNlbGVjdGlvbkxhYmVsKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mYWtlU2VsZWN0aW9uTGFiZWx9Z2V0IGFuY2hvcigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uYW5jaG9yfWdldCBmb2N1cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZm9jdXN9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNCYWNrd2FyZH1nZXQgZWRpdGFibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnR9Z2V0IF9yYW5nZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9yYW5nZXN9KmdldFJhbmdlcygpe3lpZWxkKnRoaXMuX3NlbGVjdGlvbi5nZXRSYW5nZXMoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCl9Z2V0TGFzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UmFuZ2UoKX1nZXRGaXJzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCl9Z2V0TGFzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0VxdWFsKGUpfWlzU2ltaWxhcihlKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzU2ltaWxhcihlKX1fc2V0VG8oZSx0LG8pe3RoaXMuX3NlbGVjdGlvbi5zZXRUbyhlLHQsbyl9X3NldEZvY3VzKGUsdCl7dGhpcy5fc2VsZWN0aW9uLnNldEZvY3VzKGUsdCl9fWYoQ2MscnMpO2NsYXNzIEFje2NvbnN0cnVjdG9yKGU9e30pe3RoaXMuX2l0ZW1zPVtdLHRoaXMuX2l0ZW1NYXA9bmV3IE1hcCx0aGlzLl9pZFByb3BlcnR5PWUuaWRQcm9wZXJ0eXx8J2lkJyx0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXA9bmV3IFdlYWtNYXAsdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwPW5ldyBXZWFrTWFwLHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsPVtdfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RofWdldCBmaXJzdCgpe3JldHVybiB0aGlzLl9pdGVtc1swXXx8bnVsbH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLmxlbmd0aC0xXXx8bnVsbH1hZGQoZSx0KXtsZXQgbztjb25zdCBuPXRoaXMuX2lkUHJvcGVydHk7aWYobiBpbiBlKXtpZihvPWVbbl0sJ3N0cmluZychPXR5cGVvZiBvKXRocm93IG5ldyBZYSgnY29sbGVjdGlvbi1hZGQtaW52YWxpZC1pZCcpO2lmKHRoaXMuZ2V0KG8pKXRocm93IG5ldyBZYSgnY29sbGVjdGlvbi1hZGQtaXRlbS1hbHJlYWR5LWV4aXN0cycpfWVsc2UgZVtuXT1vPWkoKTtpZih2b2lkIDA9PT10KXQ9dGhpcy5faXRlbXMubGVuZ3RoO2Vsc2UgaWYodD50aGlzLl9pdGVtcy5sZW5ndGh8fDA+dCl0aHJvdyBuZXcgWWEoJ2NvbGxlY3Rpb24tYWRkLWl0ZW0taW52YWxpZC1pbmRleCcpO3JldHVybiB0aGlzLl9pdGVtcy5zcGxpY2UodCwwLGUpLHRoaXMuX2l0ZW1NYXAuc2V0KG8sZSksdGhpcy5maXJlKCdhZGQnLGUsdCksdGhpc31nZXQoZSl7bGV0IHQ7aWYoJ3N0cmluZyc9PXR5cGVvZiBlKXQ9dGhpcy5faXRlbU1hcC5nZXQoZSk7ZWxzZSBpZignbnVtYmVyJz09dHlwZW9mIGUpdD10aGlzLl9pdGVtc1tlXTtlbHNlIHRocm93IG5ldyBZYSgnY29sbGVjdGlvbi1nZXQtaW52YWxpZC1hcmc6IEluZGV4IG9yIGlkIG11c3QgYmUgZ2l2ZW4uJyk7cmV0dXJuIHR8fG51bGx9Z2V0SW5kZXgoZSl7bGV0IHQ7cmV0dXJuIHQ9J3N0cmluZyc9PXR5cGVvZiBlP3RoaXMuX2l0ZW1NYXAuZ2V0KGUpOmUsdGhpcy5faXRlbXMuaW5kZXhPZih0KX1yZW1vdmUoZSl7bGV0IHQ9ITEsbyxuLGk7Y29uc3Qgcj10aGlzLl9pZFByb3BlcnR5O2lmKCdzdHJpbmcnPT10eXBlb2YgZT8obj1lLGk9dGhpcy5faXRlbU1hcC5nZXQobiksdD0haSxpJiYobz10aGlzLl9pdGVtcy5pbmRleE9mKGkpKSk6J251bWJlcic9PXR5cGVvZiBlPyhvPWUsaT10aGlzLl9pdGVtc1tvXSx0PSFpLGkmJihuPWlbcl0pKTooaT1lLG49aVtyXSxvPXRoaXMuX2l0ZW1zLmluZGV4T2YoaSksdD0tMT09b3x8IXRoaXMuX2l0ZW1NYXAuZ2V0KG4pKSx0KXRocm93IG5ldyBZYSgnY29sbGVjdGlvbi1yZW1vdmUtNDA0OiBJdGVtIG5vdCBmb3VuZC4nKTt0aGlzLl9pdGVtcy5zcGxpY2UobywxKSx0aGlzLl9pdGVtTWFwLmRlbGV0ZShuKTtjb25zdCBhPXRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5nZXQoaSk7cmV0dXJuIHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5kZWxldGUoaSksdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLmRlbGV0ZShhKSx0aGlzLmZpcmUoJ3JlbW92ZScsaSxvKSxpfW1hcChlLHQpe3JldHVybiB0aGlzLl9pdGVtcy5tYXAoZSx0KX1maW5kKGUsdCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmZpbmQoZSx0KX1maWx0ZXIoZSx0KXtyZXR1cm4gdGhpcy5faXRlbXMuZmlsdGVyKGUsdCl9Y2xlYXIoKXtmb3IodGhpcy5fYmluZFRvQ29sbGVjdGlvbiYmKHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLl9iaW5kVG9Db2xsZWN0aW9uKSx0aGlzLl9iaW5kVG9Db2xsZWN0aW9uPW51bGwpO3RoaXMubGVuZ3RoOyl0aGlzLnJlbW92ZSgwKX1iaW5kVG8oZSl7aWYodGhpcy5fYmluZFRvQ29sbGVjdGlvbil0aHJvdyBuZXcgWWEoJ2NvbGxlY3Rpb24tYmluZC10by1yZWJpbmQ6IFRoZSBjb2xsZWN0aW9uIGNhbm5vdCBiZSBib3VuZCBtb3JlIHRoYW4gb25jZS4nKTtyZXR1cm4gdGhpcy5fYmluZFRvQ29sbGVjdGlvbj1lLHthczooZSk9Pnt0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoKHQpPT5uZXcgZSh0KSl9LHVzaW5nOihlKT0+eydmdW5jdGlvbic9PXR5cGVvZiBlP3RoaXMuX3NldFVwQmluZFRvQmluZGluZygodCk9PmUodCkpOnRoaXMuX3NldFVwQmluZFRvQmluZGluZygodCk9PnRbZV0pfX19X3NldFVwQmluZFRvQmluZGluZyhlKXtjb25zdCB0PXRoaXMuX2JpbmRUb0NvbGxlY3Rpb24sbz0obyxuLGkpPT57Y29uc3Qgcj10Ll9iaW5kVG9Db2xsZWN0aW9uPT10aGlzLGE9dC5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChuKTtpZihyJiZhKXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5zZXQobixhKSx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuc2V0KGEsbik7ZWxzZXtjb25zdCBvPWUobik7aWYoIW8pcmV0dXJuIHZvaWQgdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucHVzaChpKTtsZXQgcj1pO2Zvcihjb25zdCBlIG9mIHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsKWk+ZSYmci0tO2Zvcihjb25zdCBlIG9mIHQuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsKXI+PWUmJnIrKzt0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuc2V0KG4sbyksdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLnNldChvLG4pLHRoaXMuYWRkKG8scik7Zm9yKGxldCBlPTA7ZTx0Ll9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5sZW5ndGg7ZSsrKXI8PXQuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW2VdJiZ0Ll9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbFtlXSsrfX07Zm9yKGNvbnN0IG4gb2YgdClvKG51bGwsbix0LmdldEluZGV4KG4pKTt0aGlzLmxpc3RlblRvKHQsJ2FkZCcsbyksdGhpcy5saXN0ZW5Ubyh0LCdyZW1vdmUnLChlLHQsbyk9Pntjb25zdCBuPXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5nZXQodCk7biYmdGhpcy5yZW1vdmUobiksdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9dGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucmVkdWNlKChlLHQpPT4obzx0JiZlLnB1c2godC0xKSxvPnQmJmUucHVzaCh0KSxlKSxbXSl9KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9pdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCl9fWYoQWMscnMpO2NsYXNzIFRje2NvbnN0cnVjdG9yKCl7dGhpcy5zZWxlY3Rpb249bmV3IENjLHRoaXMucm9vdHM9bmV3IEFjKHtpZFByb3BlcnR5Oidyb290TmFtZSd9KSx0aGlzLnNldCgnaXNSZWFkT25seScsITEpLHRoaXMuc2V0KCdpc0ZvY3VzZWQnLCExKSx0aGlzLnNldCgnaXNDb21wb3NpbmcnLCExKSx0aGlzLl9wb3N0Rml4ZXJzPW5ldyBTZXR9Z2V0Um9vdChlPSdtYWluJyl7cmV0dXJuIHRoaXMucm9vdHMuZ2V0KGUpfXJlZ2lzdGVyUG9zdEZpeGVyKGUpe3RoaXMuX3Bvc3RGaXhlcnMuYWRkKGUpfV9jYWxsUG9zdEZpeGVycyhlKXtsZXQgdD0hMTtkbyBmb3IoY29uc3QgbyBvZiB0aGlzLl9wb3N0Rml4ZXJzKWlmKHQ9byhlKSx0KWJyZWFrO3doaWxlKHQpfX1mKFRjLGZjKTtjb25zdCBQYz0xMDtjbGFzcyBFYyBleHRlbmRzIFJke2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcihlLHQsbyksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9WCx0aGlzLl9wcmlvcml0eT1QYyx0aGlzLl9pZD1udWxsLHRoaXMuX2Nsb25lc0dyb3VwPW51bGx9Z2V0IHByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX3ByaW9yaXR5fWdldCBpZCgpe3JldHVybiB0aGlzLl9pZH1nZXRFbGVtZW50c1dpdGhTYW1lSWQoKXtpZihudWxsPT09dGhpcy5pZCl0aHJvdyBuZXcgWWEoJ2F0dHJpYnV0ZS1lbGVtZW50LWdldC1lbGVtZW50cy13aXRoLXNhbWUtaWQtbm8taWQ6IENhbm5vdCBnZXQgZWxlbWVudHMgd2l0aCB0aGUgc2FtZSBpZCBmb3IgYW4gYXR0cmlidXRlIGVsZW1lbnQgd2l0aG91dCBpZC4nKTtyZXR1cm4gbmV3IFNldCh0aGlzLl9jbG9uZXNHcm91cCl9aXMoZSx0PW51bGwpe3JldHVybiB0PydhdHRyaWJ1dGVFbGVtZW50Jz09ZSYmdD09dGhpcy5uYW1lfHxzdXBlci5pcyhlLHQpOidhdHRyaWJ1dGVFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9aXNTaW1pbGFyKGUpe3JldHVybiBudWxsIT09dGhpcy5pZHx8bnVsbCE9PWUuaWQ/dGhpcy5pZD09PWUuaWQ6c3VwZXIuaXNTaW1pbGFyKGUpJiZ0aGlzLnByaW9yaXR5PT1lLnByaW9yaXR5fV9jbG9uZShlKXtjb25zdCB0PXN1cGVyLl9jbG9uZShlKTtyZXR1cm4gdC5fcHJpb3JpdHk9dGhpcy5fcHJpb3JpdHksdC5faWQ9dGhpcy5faWQsdH19RWMuREVGQVVMVF9QUklPUklUWT1QYztjbGFzcyBTYyBleHRlbmRzIFJke2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcihlLHQsbyksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9ZWV9aXMoZSx0PW51bGwpe3JldHVybiB0PydlbXB0eUVsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWV8fHN1cGVyLmlzKGUsdCk6J2VtcHR5RWxlbWVudCc9PWV8fHN1cGVyLmlzKGUpfV9pbnNlcnRDaGlsZChlLHQpe2lmKHQmJih0IGluc3RhbmNlb2YgUGR8fDA8QXJyYXkuZnJvbSh0KS5sZW5ndGgpKXRocm93IG5ldyBZYSgndmlldy1lbXB0eWVsZW1lbnQtY2Fubm90LWFkZDogQ2Fubm90IGFkZCBjaGlsZCBub2RlcyB0byBFbXB0eUVsZW1lbnQgaW5zdGFuY2UuJyl9fWNvbnN0IE9jPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxSYz17aXNNYWM6ZnVuY3Rpb24oZSl7cmV0dXJuLTE8ZS5pbmRleE9mKCdtYWNpbnRvc2gnKX0oT2MpfTt2YXIgSWM9UmM7Y29uc3QgVmM9e1wi4oyYXCI6J2N0cmwnLFwi4oenXCI6J3NoaWZ0JyxcIuKMpVwiOidhbHQnfSxGYz17Y3RybDonXFx1MjMxOCcsc2hpZnQ6J1xcdTIxRTcnLGFsdDonXFx1MjMyNSd9LE5jPWZ1bmN0aW9uKCl7Y29uc3QgZT17YXJyb3dsZWZ0OjM3LGFycm93dXA6MzgsYXJyb3dyaWdodDozOSxhcnJvd2Rvd246NDAsYmFja3NwYWNlOjgsZGVsZXRlOjQ2LGVudGVyOjEzLHNwYWNlOjMyLGVzYzoyNyx0YWI6OSxjdHJsOjExMTQxMTIsY21kOjExMTQxMTIsc2hpZnQ6MjIyODIyNCxhbHQ6NDQ1NjQ0OH07Zm9yKGxldCB0PTY1OzkwPj10O3QrKyl7Y29uc3Qgbz1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpO2Vbby50b0xvd2VyQ2FzZSgpXT10fWZvcihsZXQgdD00ODs1Nz49dDt0KyspZVt0LTQ4XT10O2ZvcihsZXQgdD0xMTI7MTIzPj10O3QrKyllWydmJysodC0xMTEpXT10O3JldHVybiBlfSgpO2NsYXNzIE1jIGV4dGVuZHMgUmR7Y29uc3RydWN0b3IoZSx0LG8pe3N1cGVyKGUsdCxvKSx0aGlzLmdldEZpbGxlck9mZnNldD1hZX1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J3VpRWxlbWVudCc9PWUmJnQ9PXRoaXMubmFtZXx8c3VwZXIuaXMoZSx0KTondWlFbGVtZW50Jz09ZXx8c3VwZXIuaXMoZSl9X2luc2VydENoaWxkKGUsdCl7aWYodCYmKHQgaW5zdGFuY2VvZiBQZHx8MDxBcnJheS5mcm9tKHQpLmxlbmd0aCkpdGhyb3cgbmV3IFlhKCd2aWV3LXVpZWxlbWVudC1jYW5ub3QtYWRkOiBDYW5ub3QgYWRkIGNoaWxkIG5vZGVzIHRvIFVJRWxlbWVudCBpbnN0YW5jZS4nKX1yZW5kZXIoZSl7cmV0dXJuIHRoaXMudG9Eb21FbGVtZW50KGUpfXRvRG9tRWxlbWVudChlKXtjb25zdCB0PWUuY3JlYXRlRWxlbWVudCh0aGlzLm5hbWUpO2Zvcihjb25zdCBvIG9mIHRoaXMuZ2V0QXR0cmlidXRlS2V5cygpKXQuc2V0QXR0cmlidXRlKG8sdGhpcy5nZXRBdHRyaWJ1dGUobykpO3JldHVybiB0fX1jbGFzcyBEY3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9jaGlsZHJlbj1bXSxlJiZ0aGlzLl9pbnNlcnRDaGlsZCgwLGUpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzfWdldCBwYXJlbnQoKXtyZXR1cm4gbnVsbH1pcyhlKXtyZXR1cm4nZG9jdW1lbnRGcmFnbWVudCc9PWV9X2FwcGVuZENoaWxkKGUpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsZSl9Z2V0Q2hpbGQoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW2VdfWdldENoaWxkSW5kZXgoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YoZSl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfV9pbnNlcnRDaGlsZChlLHQpe3RoaXMuX2ZpcmVDaGFuZ2UoJ2NoaWxkcmVuJyx0aGlzKTtsZXQgbz0wO2NvbnN0IG49bGUodCk7Zm9yKGNvbnN0IGkgb2YgbiludWxsIT09aS5wYXJlbnQmJmkuX3JlbW92ZSgpLGkucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsMCxpKSxlKyssbysrO3JldHVybiBvfV9yZW1vdmVDaGlsZHJlbihlLHQ9MSl7dGhpcy5fZmlyZUNoYW5nZSgnY2hpbGRyZW4nLHRoaXMpO2ZvcihsZXQgbz1lO288ZSt0O28rKyl0aGlzLl9jaGlsZHJlbltvXS5wYXJlbnQ9bnVsbDtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGUsdCl9X2ZpcmVDaGFuZ2UoZSx0KXt0aGlzLmZpcmUoJ2NoYW5nZTonK2UsdCl9fWYoRGMscnMpO2NsYXNzIEJje2NvbnN0cnVjdG9yKGUpe3RoaXMuZG9jdW1lbnQ9ZSx0aGlzLl9jbG9uZUdyb3Vwcz1uZXcgTWFwfXNldFNlbGVjdGlvbihlLHQsbyl7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKGUsdCxvKX1zZXRTZWxlY3Rpb25Gb2N1cyhlLHQpe3RoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyhlLHQpfWNyZWF0ZVRleHQoZSl7cmV0dXJuIG5ldyBFZChlKX1jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KGUsdCxvPXt9KXtjb25zdCBuPW5ldyBFYyhlLHQpO3JldHVybiBvLnByaW9yaXR5JiYobi5fcHJpb3JpdHk9by5wcmlvcml0eSksby5pZCYmKG4uX2lkPW8uaWQpLG59Y3JlYXRlQ29udGFpbmVyRWxlbWVudChlLHQpe3JldHVybiBuZXcgSWQoZSx0KX1jcmVhdGVFZGl0YWJsZUVsZW1lbnQoZSx0KXtjb25zdCBvPW5ldyBiYyhlLHQpO3JldHVybiBvLl9kb2N1bWVudD10aGlzLmRvY3VtZW50LG99Y3JlYXRlRW1wdHlFbGVtZW50KGUsdCl7cmV0dXJuIG5ldyBTYyhlLHQpfWNyZWF0ZVVJRWxlbWVudChlLHQsbyl7Y29uc3Qgbj1uZXcgTWMoZSx0KTtyZXR1cm4gbyYmKG4ucmVuZGVyPW8pLG59c2V0QXR0cmlidXRlKGUsdCxvKXtvLl9zZXRBdHRyaWJ1dGUoZSx0KX1yZW1vdmVBdHRyaWJ1dGUoZSx0KXt0Ll9yZW1vdmVBdHRyaWJ1dGUoZSl9YWRkQ2xhc3MoZSx0KXt0Ll9hZGRDbGFzcyhlKX1yZW1vdmVDbGFzcyhlLHQpe3QuX3JlbW92ZUNsYXNzKGUpfXNldFN0eWxlKGUsdCxvKXskYShlKSYmbz09PXZvaWQgMCYmKG89dCksby5fc2V0U3R5bGUoZSx0KX1yZW1vdmVTdHlsZShlLHQpe3QuX3JlbW92ZVN0eWxlKGUpfXNldEN1c3RvbVByb3BlcnR5KGUsdCxvKXtvLl9zZXRDdXN0b21Qcm9wZXJ0eShlLHQpfXJlbW92ZUN1c3RvbVByb3BlcnR5KGUsdCl7cmV0dXJuIHQuX3JlbW92ZUN1c3RvbVByb3BlcnR5KGUpfWJyZWFrQXR0cmlidXRlcyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHZjP3RoaXMuX2JyZWFrQXR0cmlidXRlcyhlKTp0aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZShlKX1icmVha0NvbnRhaW5lcihlKXtjb25zdCB0PWUucGFyZW50O2lmKCF0LmlzKCdjb250YWluZXJFbGVtZW50JykpdGhyb3cgbmV3IFlhKCd2aWV3LXdyaXRlci1icmVhay1ub24tY29udGFpbmVyLWVsZW1lbnQ6IFRyeWluZyB0byBicmVhayBhbiBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIGNvbnRhaW5lciBlbGVtZW50LicpO2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgWWEoJ3ZpZXctd3JpdGVyLWJyZWFrLXJvb3Q6IFRyeWluZyB0byBicmVhayByb290IGVsZW1lbnQuJyk7aWYoZS5pc0F0U3RhcnQpcmV0dXJuIHZjLmNyZWF0ZUJlZm9yZSh0KTtpZighZS5pc0F0RW5kKXtjb25zdCBvPXQuX2Nsb25lKCExKTt0aGlzLmluc2VydCh2Yy5jcmVhdGVBZnRlcih0KSxvKTtjb25zdCBuPW5ldyB5YyhlLHZjLmNyZWF0ZUF0KHQsJ2VuZCcpKSxpPW5ldyB2YyhvLDApO3RoaXMubW92ZShuLGkpfXJldHVybiB2Yy5jcmVhdGVBZnRlcih0KX1tZXJnZUF0dHJpYnV0ZXMoZSl7Y29uc3QgdD1lLm9mZnNldCxvPWUucGFyZW50O2lmKG8uaXMoJ3RleHQnKSlyZXR1cm4gZTtpZihvLmlzKCdhdHRyaWJ1dGVFbGVtZW50JykmJjA9PT1vLmNoaWxkQ291bnQpe2NvbnN0IGU9by5wYXJlbnQsdD1vLmluZGV4O3JldHVybiBvLl9yZW1vdmUoKSx0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChvKSx0aGlzLm1lcmdlQXR0cmlidXRlcyhuZXcgdmMoZSx0KSl9Y29uc3Qgbj1vLmdldENoaWxkKHQtMSksaT1vLmdldENoaWxkKHQpO2lmKCFufHwhaSlyZXR1cm4gZTtpZihuLmlzKCd0ZXh0JykmJmkuaXMoJ3RleHQnKSlyZXR1cm4gZ2UobixpKTtpZihuLmlzKCdhdHRyaWJ1dGVFbGVtZW50JykmJmkuaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmbi5pc1NpbWlsYXIoaSkpe2NvbnN0IGU9bi5jaGlsZENvdW50O3JldHVybiBuLl9hcHBlbmRDaGlsZChpLmdldENoaWxkcmVuKCkpLGkuX3JlbW92ZSgpLHRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGkpLHRoaXMubWVyZ2VBdHRyaWJ1dGVzKG5ldyB2YyhuLGUpKX1yZXR1cm4gZX1tZXJnZUNvbnRhaW5lcnMoZSl7Y29uc3QgdD1lLm5vZGVCZWZvcmUsbz1lLm5vZGVBZnRlcjtpZighdHx8IW98fCF0LmlzKCdjb250YWluZXJFbGVtZW50Jyl8fCFvLmlzKCdjb250YWluZXJFbGVtZW50JykpdGhyb3cgbmV3IFlhKCd2aWV3LXdyaXRlci1tZXJnZS1jb250YWluZXJzLWludmFsaWQtcG9zaXRpb246IEVsZW1lbnQgYmVmb3JlIGFuZCBhZnRlciBnaXZlbiBwb3NpdGlvbiBjYW5ub3QgYmUgbWVyZ2VkLicpO2NvbnN0IG49dC5nZXRDaGlsZCh0LmNoaWxkQ291bnQtMSksaT1uIGluc3RhbmNlb2YgRWQ/dmMuY3JlYXRlQXQobiwnZW5kJyk6dmMuY3JlYXRlQXQodCwnZW5kJyk7cmV0dXJuIHRoaXMubW92ZSh5Yy5jcmVhdGVJbihvKSx2Yy5jcmVhdGVBdCh0LCdlbmQnKSksdGhpcy5yZW1vdmUoeWMuY3JlYXRlT24obykpLGl9aW5zZXJ0KGUsdCl7dD1QKHQpP1suLi50XTpbdF0saGUodCk7Y29uc3Qgbz1jZShlKTtpZighbyl0aHJvdyBuZXcgWWEoJ3ZpZXctd3JpdGVyLWludmFsaWQtcG9zaXRpb24tY29udGFpbmVyJyk7Y29uc3Qgbj10aGlzLl9icmVha0F0dHJpYnV0ZXMoZSwhMCksaT1vLl9pbnNlcnRDaGlsZChuLm9mZnNldCx0KTtmb3IoY29uc3QgbyBvZiB0KXRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cChvKTtjb25zdCByPW4uZ2V0U2hpZnRlZEJ5KGkpLGE9dGhpcy5tZXJnZUF0dHJpYnV0ZXMobik7aWYoMD09PWkpcmV0dXJuIG5ldyB5YyhhLGEpO2Vsc2V7YS5pc0VxdWFsKG4pfHxyLm9mZnNldC0tO2NvbnN0IGU9dGhpcy5tZXJnZUF0dHJpYnV0ZXMocik7cmV0dXJuIG5ldyB5YyhhLGUpfX1yZW1vdmUoZSl7aWYoa2UoZSksZS5pc0NvbGxhcHNlZClyZXR1cm4gbmV3IERjO2NvbnN0e3N0YXJ0OnQsZW5kOm99PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUsITApLG49dC5wYXJlbnQsaT1vLm9mZnNldC10Lm9mZnNldCxyPW4uX3JlbW92ZUNoaWxkcmVuKHQub2Zmc2V0LGkpO2Zvcihjb25zdCB0IG9mIHIpdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCk7Y29uc3QgYT10aGlzLm1lcmdlQXR0cmlidXRlcyh0KTtyZXR1cm4gZS5zdGFydD1hLGUuZW5kPXZjLmNyZWF0ZUZyb21Qb3NpdGlvbihhKSxuZXcgRGMocil9Y2xlYXIoZSx0KXtrZShlKTtjb25zdCBvPWUuZ2V0V2Fsa2VyKHtkaXJlY3Rpb246J2JhY2t3YXJkJyxpZ25vcmVFbGVtZW50RW5kOiEwfSk7Zm9yKGNvbnN0IG4gb2Ygbyl7Y29uc3Qgbz1uLml0ZW07bGV0IGk7aWYoby5pcygnZWxlbWVudCcpJiZ0LmlzU2ltaWxhcihvKSlpPXljLmNyZWF0ZU9uKG8pO2Vsc2UgaWYoIW4ubmV4dFBvc2l0aW9uLmlzQWZ0ZXIoZS5zdGFydCkmJm8uaXMoJ3RleHRQcm94eScpKXtjb25zdCBlPW8uZ2V0QW5jZXN0b3JzKCkuZmluZCgoZSk9PmUuaXMoJ2VsZW1lbnQnKSYmdC5pc1NpbWlsYXIoZSkpO2UmJihpPXljLmNyZWF0ZUluKGUpKX1pJiYoaS5lbmQuaXNBZnRlcihlLmVuZCkmJihpLmVuZD1lLmVuZCksaS5zdGFydC5pc0JlZm9yZShlLnN0YXJ0KSYmKGkuc3RhcnQ9ZS5zdGFydCksdGhpcy5yZW1vdmUoaSkpfX1tb3ZlKGUsdCl7bGV0IG87aWYodC5pc0FmdGVyKGUuZW5kKSl7dD10aGlzLl9icmVha0F0dHJpYnV0ZXModCwhMCk7Y29uc3Qgbj10LnBhcmVudCxpPW4uY2hpbGRDb3VudDtlPXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUsITApLG89dGhpcy5yZW1vdmUoZSksdC5vZmZzZXQrPW4uY2hpbGRDb3VudC1pfWVsc2Ugbz10aGlzLnJlbW92ZShlKTtyZXR1cm4gdGhpcy5pbnNlcnQodCxvKX13cmFwKGUsdCl7aWYoISh0IGluc3RhbmNlb2YgRWMpKXRocm93IG5ldyBZYSgndmlldy13cml0ZXItd3JhcC1pbnZhbGlkLWF0dHJpYnV0ZScpO2lmKGtlKGUpLCFlLmlzQ29sbGFwc2VkKXJldHVybiB0aGlzLl93cmFwUmFuZ2UoZSx0KTtlbHNle2xldCBvPWUuc3RhcnQ7by5wYXJlbnQuaXMoJ2VsZW1lbnQnKSYmIWRlKG8ucGFyZW50KSYmKG89by5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbigoZSk9PmUuaXRlbS5pcygndWlFbGVtZW50JykpKSxvPXRoaXMuX3dyYXBQb3NpdGlvbihvLHQpO2NvbnN0IG49dGhpcy5kb2N1bWVudC5zZWxlY3Rpb247cmV0dXJuIG4uaXNDb2xsYXBzZWQmJm4uZ2V0Rmlyc3RQb3NpdGlvbigpLmlzRXF1YWwoZS5zdGFydCkmJnRoaXMuc2V0U2VsZWN0aW9uKG8pLG5ldyB5YyhvKX19dW53cmFwKGUsdCl7aWYoISh0IGluc3RhbmNlb2YgRWMpKXRocm93IG5ldyBZYSgndmlldy13cml0ZXItdW53cmFwLWludmFsaWQtYXR0cmlidXRlJyk7aWYoa2UoZSksZS5pc0NvbGxhcHNlZClyZXR1cm4gZTtjb25zdHtzdGFydDpvLGVuZDpufT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZShlLCEwKTtpZihuLmlzRXF1YWwoby5nZXRTaGlmdGVkQnkoMSkpKXtjb25zdCBlPW8ubm9kZUFmdGVyO2lmKCF0LmlzU2ltaWxhcihlKSYmZSBpbnN0YW5jZW9mIEVjJiZ0aGlzLl91bndyYXBBdHRyaWJ1dGVFbGVtZW50KHQsZSkpe2NvbnN0IGU9dGhpcy5tZXJnZUF0dHJpYnV0ZXMobyk7ZS5pc0VxdWFsKG8pfHxuLm9mZnNldC0tO2NvbnN0IHQ9dGhpcy5tZXJnZUF0dHJpYnV0ZXMobik7cmV0dXJuIG5ldyB5YyhlLHQpfX1jb25zdCBpPW8ucGFyZW50LHI9dGhpcy5fdW53cmFwQ2hpbGRyZW4oaSxvLm9mZnNldCxuLm9mZnNldCx0KSxhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuc3RhcnQpO2EuaXNFcXVhbChyLnN0YXJ0KXx8ci5lbmQub2Zmc2V0LS07Y29uc3Qgcz10aGlzLm1lcmdlQXR0cmlidXRlcyhyLmVuZCk7cmV0dXJuIG5ldyB5YyhhLHMpfXJlbmFtZShlLHQpe2NvbnN0IG89bmV3IElkKHQsZS5nZXRBdHRyaWJ1dGVzKCkpO3JldHVybiB0aGlzLmluc2VydCh2Yy5jcmVhdGVBZnRlcihlKSxvKSx0aGlzLm1vdmUoeWMuY3JlYXRlSW4oZSksdmMuY3JlYXRlQXQobykpLHRoaXMucmVtb3ZlKHljLmNyZWF0ZU9uKGUpKSxvfV93cmFwQ2hpbGRyZW4oZSx0LG8sbil7bGV0IHI9dDtjb25zdCBpPVtdO2Zvcig7cjxvOyl7Y29uc3QgdD1lLmdldENoaWxkKHIpLG89dC5pcygndGV4dCcpLGE9dC5pcygnYXR0cmlidXRlRWxlbWVudCcpLHM9dC5pcygnZW1wdHlFbGVtZW50JyksbD10LmlzKCd1aUVsZW1lbnQnKTtpZihvfHxzfHxsfHxhJiZ1ZShuLHQpKXtjb25zdCBvPW4uX2Nsb25lKCk7dC5fcmVtb3ZlKCksby5fYXBwZW5kQ2hpbGQodCksZS5faW5zZXJ0Q2hpbGQocixvKSx0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAobyksaS5wdXNoKG5ldyB2YyhlLHIpKX1lbHNlIGEmJnRoaXMuX3dyYXBDaGlsZHJlbih0LDAsdC5jaGlsZENvdW50LG4pO3IrK31sZXQgYT0wO2Zvcihjb25zdCByIG9mIGkpe2lmKHIub2Zmc2V0LT1hLHIub2Zmc2V0PT10KWNvbnRpbnVlO2NvbnN0IGU9dGhpcy5tZXJnZUF0dHJpYnV0ZXMocik7ZS5pc0VxdWFsKHIpfHwoYSsrLG8tLSl9cmV0dXJuIHljLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhlLHQsZSxvKX1fdW53cmFwQ2hpbGRyZW4oZSx0LG8sbil7bGV0IHI9dDtjb25zdCBpPVtdO2Zvcig7cjxvOyl7Y29uc3QgdD1lLmdldENoaWxkKHIpO2lmKHQuaXNTaW1pbGFyKG4pKXtjb25zdCBuPXQuZ2V0Q2hpbGRyZW4oKSxhPXQuY2hpbGRDb3VudDt0Ll9yZW1vdmUoKSxlLl9pbnNlcnRDaGlsZChyLG4pLHRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKHQpLGkucHVzaChuZXcgdmMoZSxyKSxuZXcgdmMoZSxyK2EpKSxyKz1hLG8rPWEtMX1lbHNlIHQuaXMoJ2F0dHJpYnV0ZUVsZW1lbnQnKSYmdGhpcy5fdW53cmFwQ2hpbGRyZW4odCwwLHQuY2hpbGRDb3VudCxuKSxyKyt9bGV0IGE9MDtmb3IoY29uc3QgciBvZiBpKXtpZihyLm9mZnNldC09YSxyLm9mZnNldD09dHx8ci5vZmZzZXQ9PW8pY29udGludWU7Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhyKTtlLmlzRXF1YWwocil8fChhKyssby0tKX1yZXR1cm4geWMuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKGUsdCxlLG8pfV93cmFwUmFuZ2UoZSx0KXtpZihmZShlKSYmdGhpcy5fd3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlLnN0YXJ0LnBhcmVudCkpe2NvbnN0IHQ9ZS5zdGFydC5wYXJlbnQsbz10aGlzLm1lcmdlQXR0cmlidXRlcyh2Yy5jcmVhdGVBZnRlcih0KSksbj10aGlzLm1lcmdlQXR0cmlidXRlcyh2Yy5jcmVhdGVCZWZvcmUodCkpO3JldHVybiBuZXcgeWMobixvKX1jb25zdHtzdGFydDpvLGVuZDpufT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZShlLCEwKTtpZihuLmlzRXF1YWwoby5nZXRTaGlmdGVkQnkoMSkpKXtjb25zdCBlPW8ubm9kZUFmdGVyO2lmKGUgaW5zdGFuY2VvZiBFYyYmdGhpcy5fd3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlKSl7Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhvKTtlLmlzRXF1YWwobyl8fG4ub2Zmc2V0LS07Y29uc3QgdD10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTtyZXR1cm4gbmV3IHljKGUsdCl9fWNvbnN0IGk9by5wYXJlbnQscj10aGlzLl91bndyYXBDaGlsZHJlbihpLG8ub2Zmc2V0LG4ub2Zmc2V0LHQpLGE9dGhpcy5fd3JhcENoaWxkcmVuKGksci5zdGFydC5vZmZzZXQsci5lbmQub2Zmc2V0LHQpLHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoYS5zdGFydCk7cy5pc0VxdWFsKGEuc3RhcnQpfHxhLmVuZC5vZmZzZXQtLTtjb25zdCBsPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKGEuZW5kKTtyZXR1cm4gbmV3IHljKHMsbCl9X3dyYXBQb3NpdGlvbihlLHQpe2lmKHQuaXNTaW1pbGFyKGUucGFyZW50KSlyZXR1cm4gbWUodmMuY3JlYXRlRnJvbVBvc2l0aW9uKGUpKTtlLnBhcmVudC5pcygndGV4dCcpJiYoZT1wZShlKSk7Y29uc3Qgbz10aGlzLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQoKTtvLl9wcmlvcml0eT1OYSxvLmlzU2ltaWxhcj0oKT0+ITEsZS5wYXJlbnQuX2luc2VydENoaWxkKGUub2Zmc2V0LG8pO2NvbnN0IG49bmV3IHljKGUsZS5nZXRTaGlmdGVkQnkoMSkpO3RoaXMud3JhcChuLHQpO2NvbnN0IGk9bmV3IHZjKG8ucGFyZW50LG8uaW5kZXgpO28uX3JlbW92ZSgpO2NvbnN0IHI9aS5ub2RlQmVmb3JlLGE9aS5ub2RlQWZ0ZXI7cmV0dXJuIHIgaW5zdGFuY2VvZiBFZCYmYSBpbnN0YW5jZW9mIEVkP2dlKHIsYSk6bWUoaSl9X3dyYXBBdHRyaWJ1dGVFbGVtZW50KGUsdCl7aWYoIV9lKGUsdCkpcmV0dXJuITE7aWYoZS5uYW1lIT09dC5uYW1lfHxlLnByaW9yaXR5IT09dC5wcmlvcml0eSlyZXR1cm4hMTtmb3IoY29uc3QgbyBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSlpZignY2xhc3MnIT09byYmJ3N0eWxlJyE9PW8mJnQuaGFzQXR0cmlidXRlKG8pJiZ0LmdldEF0dHJpYnV0ZShvKSE9PWUuZ2V0QXR0cmlidXRlKG8pKXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0U3R5bGVOYW1lcygpKWlmKHQuaGFzU3R5bGUobykmJnQuZ2V0U3R5bGUobykhPT1lLmdldFN0eWxlKG8pKXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKSdjbGFzcychPT1vJiYnc3R5bGUnIT09byYmKHQuaGFzQXR0cmlidXRlKG8pfHx0aGlzLnNldEF0dHJpYnV0ZShvLGUuZ2V0QXR0cmlidXRlKG8pLHQpKTtmb3IoY29uc3QgbyBvZiBlLmdldFN0eWxlTmFtZXMoKSl0Lmhhc1N0eWxlKG8pfHx0aGlzLnNldFN0eWxlKG8sZS5nZXRTdHlsZShvKSx0KTtmb3IoY29uc3QgbyBvZiBlLmdldENsYXNzTmFtZXMoKSl0Lmhhc0NsYXNzKG8pfHx0aGlzLmFkZENsYXNzKG8sdCk7cmV0dXJuITB9X3Vud3JhcEF0dHJpYnV0ZUVsZW1lbnQoZSx0KXtpZighX2UoZSx0KSlyZXR1cm4hMTtpZihlLm5hbWUhPT10Lm5hbWV8fGUucHJpb3JpdHkhPT10LnByaW9yaXR5KXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKWlmKCdjbGFzcychPT1vJiYnc3R5bGUnIT09byYmKCF0Lmhhc0F0dHJpYnV0ZShvKXx8dC5nZXRBdHRyaWJ1dGUobykhPT1lLmdldEF0dHJpYnV0ZShvKSkpcmV0dXJuITE7aWYoIXQuaGFzQ2xhc3MoLi4uZS5nZXRDbGFzc05hbWVzKCkpKXJldHVybiExO2Zvcihjb25zdCBvIG9mIGUuZ2V0U3R5bGVOYW1lcygpKWlmKCF0Lmhhc1N0eWxlKG8pfHx0LmdldFN0eWxlKG8pIT09ZS5nZXRTdHlsZShvKSlyZXR1cm4hMTtmb3IoY29uc3QgbyBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSknY2xhc3MnIT09byYmJ3N0eWxlJyE9PW8mJnRoaXMucmVtb3ZlQXR0cmlidXRlKG8sdCk7cmV0dXJuIHRoaXMucmVtb3ZlQ2xhc3MoQXJyYXkuZnJvbShlLmdldENsYXNzTmFtZXMoKSksdCksdGhpcy5yZW1vdmVTdHlsZShBcnJheS5mcm9tKGUuZ2V0U3R5bGVOYW1lcygpKSx0KSwhMH1fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UoZSx0PSExKXtjb25zdCBvPWUuc3RhcnQsbj1lLmVuZDtpZihrZShlKSxlLmlzQ29sbGFwc2VkKXtjb25zdCBvPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhlLnN0YXJ0LHQpO3JldHVybiBuZXcgeWMobyxvKX1jb25zdCBpPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhuLHQpLHI9aS5wYXJlbnQuY2hpbGRDb3VudCxhPXRoaXMuX2JyZWFrQXR0cmlidXRlcyhvLHQpO3JldHVybiBpLm9mZnNldCs9aS5wYXJlbnQuY2hpbGRDb3VudC1yLG5ldyB5YyhhLGkpfV9icmVha0F0dHJpYnV0ZXMoZSx0PSExKXtjb25zdCBvPWUub2Zmc2V0LG49ZS5wYXJlbnQ7aWYoZS5wYXJlbnQuaXMoJ2VtcHR5RWxlbWVudCcpKXRocm93IG5ldyBZYSgndmlldy13cml0ZXItY2Fubm90LWJyZWFrLWVtcHR5LWVsZW1lbnQnKTtpZihlLnBhcmVudC5pcygndWlFbGVtZW50JykpdGhyb3cgbmV3IFlhKCd2aWV3LXdyaXRlci1jYW5ub3QtYnJlYWstdWktZWxlbWVudCcpO2lmKCF0JiZuLmlzKCd0ZXh0JykmJmJlKG4ucGFyZW50KSlyZXR1cm4gdmMuY3JlYXRlRnJvbVBvc2l0aW9uKGUpO2lmKGJlKG4pKXJldHVybiB2Yy5jcmVhdGVGcm9tUG9zaXRpb24oZSk7aWYobi5pcygndGV4dCcpKXJldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMocGUoZSksdCk7Y29uc3QgaT1uLmNoaWxkQ291bnQ7aWYobz09aSl7Y29uc3QgZT1uZXcgdmMobi5wYXJlbnQsbi5pbmRleCsxKTtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUsdCl9aWYoMD09PW8pe2NvbnN0IGU9bmV3IHZjKG4ucGFyZW50LG4uaW5kZXgpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoZSx0KX1lbHNle2NvbnN0IGU9bi5pbmRleCsxLGk9bi5fY2xvbmUoKTtuLnBhcmVudC5faW5zZXJ0Q2hpbGQoZSxpKSx0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAoaSk7Y29uc3Qgcj1uLmNoaWxkQ291bnQtbyxhPW4uX3JlbW92ZUNoaWxkcmVuKG8scik7aS5fYXBwZW5kQ2hpbGQoYSk7Y29uc3Qgcz1uZXcgdmMobi5wYXJlbnQsZSk7cmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyhzLHQpfX1fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKGUpe2lmKCFlLnJvb3QuaXMoJ3Jvb3RFbGVtZW50JykpcmV0dXJuO2lmKGUuaXMoJ2VsZW1lbnQnKSlmb3IoY29uc3QgdCBvZiBlLmdldENoaWxkcmVuKCkpdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKHQpO2NvbnN0IHQ9ZS5pZDtpZighdClyZXR1cm47bGV0IG89dGhpcy5fY2xvbmVHcm91cHMuZ2V0KHQpO298fChvPW5ldyBTZXQsdGhpcy5fY2xvbmVHcm91cHMuc2V0KHQsbykpLG8uYWRkKGUpLGUuX2Nsb25lc0dyb3VwPW99X3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGUpe2lmKGUuaXMoJ2VsZW1lbnQnKSlmb3IoY29uc3QgdCBvZiBlLmdldENoaWxkcmVuKCkpdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCk7Y29uc3QgdD1lLmlkO2lmKHQpe2NvbnN0IG89dGhpcy5fY2xvbmVHcm91cHMuZ2V0KHQpO28mJihvLmRlbGV0ZShlKSwwPT09by5zaXplJiZ0aGlzLl9jbG9uZUdyb3Vwcy5kZWxldGUodCkpfX19Y29uc3QgTGM9W0VkLEVjLElkLFNjLE1jXSx6Yz0oZSk9Pntjb25zdCB0PWUuY3JlYXRlRWxlbWVudCgnYnInKTtyZXR1cm4gdC5kYXRhc2V0LmNrZUZpbGxlcj0hMCx0fSxqYz0oZSk9PmUuY3JlYXRlVGV4dE5vZGUoJ1xceEEwJykscWM9NztsZXQgV2M9Jyc7Zm9yKGxldCBuPTA7bjxxYztuKyspV2MrPSdcXHUyMDBCJztjb25zdCBVYz1uZXcgV2Vha01hcDtjbGFzcyBIY3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZG9tRG9jdW1lbnRzPW5ldyBTZXQsdGhpcy5kb21Db252ZXJ0ZXI9ZSx0aGlzLm1hcmtlZEF0dHJpYnV0ZXM9bmV3IFNldCx0aGlzLm1hcmtlZENoaWxkcmVuPW5ldyBTZXQsdGhpcy5tYXJrZWRUZXh0cz1uZXcgU2V0LHRoaXMuc2VsZWN0aW9uPXQsdGhpcy5faW5saW5lRmlsbGVyPW51bGwsdGhpcy5pc0ZvY3VzZWQ9ITEsdGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcj1udWxsfW1hcmtUb1N5bmMoZSx0KXtpZigndGV4dCc9PT1lKXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0LnBhcmVudCkmJnRoaXMubWFya2VkVGV4dHMuYWRkKHQpO2Vsc2V7aWYoIXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KSlyZXR1cm47aWYoJ2F0dHJpYnV0ZXMnPT09ZSl0aGlzLm1hcmtlZEF0dHJpYnV0ZXMuYWRkKHQpO2Vsc2UgaWYoJ2NoaWxkcmVuJz09PWUpdGhpcy5tYXJrZWRDaGlsZHJlbi5hZGQodCk7ZWxzZSB0aHJvdyBuZXcgWWEoJ3ZpZXctcmVuZGVyZXItdW5rbm93bi10eXBlOiBVbmtub3duIHR5cGUgcGFzc2VkIHRvIFJlbmRlcmVyLm1hcmtUb1N5bmMuJyl9fXJlbmRlcigpe2xldCBlO3RoaXMuX2lubGluZUZpbGxlciYmIXRoaXMuX2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKSYmdGhpcy5fcmVtb3ZlSW5saW5lRmlsbGVyKCksdGhpcy5faW5saW5lRmlsbGVyP2U9dGhpcy5fZ2V0SW5saW5lRmlsbGVyUG9zaXRpb24oKTp0aGlzLl9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCkmJihlPXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSx0aGlzLm1hcmtlZENoaWxkcmVuLmFkZChlLnBhcmVudCkpO2Zvcihjb25zdCBlIG9mIHRoaXMubWFya2VkQXR0cmlidXRlcyl0aGlzLl91cGRhdGVBdHRycyhlKTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZENoaWxkcmVuKXRoaXMuX3VwZGF0ZUNoaWxkcmVuKHQse2lubGluZUZpbGxlclBvc2l0aW9uOmV9KTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZFRleHRzKSF0aGlzLm1hcmtlZENoaWxkcmVuLmhhcyh0LnBhcmVudCkmJnRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0LnBhcmVudCkmJnRoaXMuX3VwZGF0ZVRleHQodCx7aW5saW5lRmlsbGVyUG9zaXRpb246ZX0pO2lmKGUpe2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20oZSksbz10LnBhcmVudC5vd25lckRvY3VtZW50O3RoaXMuX2lubGluZUZpbGxlcj13ZSh0LnBhcmVudCk/dC5wYXJlbnQ6dGhpcy5fYWRkSW5saW5lRmlsbGVyKG8sdC5wYXJlbnQsdC5vZmZzZXQpfWVsc2UgdGhpcy5faW5saW5lRmlsbGVyPW51bGw7dGhpcy5fdXBkYXRlU2VsZWN0aW9uKCksdGhpcy5fdXBkYXRlRm9jdXMoKSx0aGlzLm1hcmtlZFRleHRzLmNsZWFyKCksdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmNsZWFyKCksdGhpcy5tYXJrZWRDaGlsZHJlbi5jbGVhcigpfV9hZGRJbmxpbmVGaWxsZXIoZSx0LG8pe2NvbnN0IG49dCBpbnN0YW5jZW9mIEFycmF5P3Q6dC5jaGlsZE5vZGVzLGk9bltvXTtpZihTZShpKSlyZXR1cm4gaS5kYXRhPVdjK2kuZGF0YSxpO2Vsc2V7Y29uc3QgaT1lLmNyZWF0ZVRleHROb2RlKFdjKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9uLnNwbGljZShvLDAsaSk6UGUodCxvLGkpLGl9fV9nZXRJbmxpbmVGaWxsZXJQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpO3JldHVybiBlLnBhcmVudC5pcygndGV4dCcpP3ZjLmNyZWF0ZUJlZm9yZSh0aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50KTplfV9pc1NlbGVjdGlvbkluSW5saW5lRmlsbGVyKCl7aWYoMSE9dGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudHx8IXRoaXMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IGU9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLHQ9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20oZSk7cmV0dXJuISEodCYmU2UodC5wYXJlbnQpJiZ3ZSh0LnBhcmVudCkpfV9yZW1vdmVJbmxpbmVGaWxsZXIoKXtjb25zdCBlPXRoaXMuX2lubGluZUZpbGxlcjtpZighd2UoZSkpdGhyb3cgbmV3IFlhKCd2aWV3LXJlbmRlcmVyLWZpbGxlci13YXMtbG9zdDogVGhlIGlubGluZSBmaWxsZXIgbm9kZSB3YXMgbG9zdC4nKTt2ZShlKT9lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk6ZS5kYXRhPWUuZGF0YS5zdWJzdHIocWMpLHRoaXMuX2lubGluZUZpbGxlcj1udWxsfV9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCl7aWYoMSE9dGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudHx8IXRoaXMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IGU9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLHQ9ZS5wYXJlbnQsbz1lLm9mZnNldDtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQucm9vdCkpcmV0dXJuITE7aWYoIXQuaXMoJ2VsZW1lbnQnKSlyZXR1cm4hMTtpZighT2UodCkpcmV0dXJuITE7aWYobz09PXQuZ2V0RmlsbGVyT2Zmc2V0KCkpcmV0dXJuITE7Y29uc3Qgbj1lLm5vZGVCZWZvcmUsaT1lLm5vZGVBZnRlcjtyZXR1cm4hKG4gaW5zdGFuY2VvZiBFZHx8aSBpbnN0YW5jZW9mIEVkKX1fdXBkYXRlVGV4dChlLHQpe2NvbnN0IG89dGhpcy5kb21Db252ZXJ0ZXIuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpLG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1RvRG9tKGUsby5vd25lckRvY3VtZW50KSxpPW8uZGF0YTtsZXQgcj1uLmRhdGE7Y29uc3QgYT10LmlubGluZUZpbGxlclBvc2l0aW9uO2EmJmEucGFyZW50PT1lLnBhcmVudCYmYS5vZmZzZXQ9PWUuaW5kZXgmJihyPVdjK3IpLGkhPXImJihvLmRhdGE9cil9X3VwZGF0ZUF0dHJzKGUpe2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpLG89QXJyYXkuZnJvbSh0LmF0dHJpYnV0ZXMpLm1hcCgoZSk9PmUubmFtZSksbj1lLmdldEF0dHJpYnV0ZUtleXMoKTtmb3IoY29uc3QgbyBvZiBuKXQuc2V0QXR0cmlidXRlKG8sZS5nZXRBdHRyaWJ1dGUobykpO2Zvcihjb25zdCBuIG9mIG8pZS5oYXNBdHRyaWJ1dGUobil8fHQucmVtb3ZlQXR0cmlidXRlKG4pfV91cGRhdGVDaGlsZHJlbihlLHQpe2Z1bmN0aW9uIG8oZSx0KXtpZihlPT09dClyZXR1cm4hMDtyZXR1cm4gU2UoZSkmJlNlKHQpP2UuZGF0YT09PXQuZGF0YTohISh4ZShlLG4uYmxvY2tGaWxsZXIpJiZ4ZSh0LG4uYmxvY2tGaWxsZXIpKX1jb25zdCBuPXRoaXMuZG9tQ29udmVydGVyLHI9bi5tYXBWaWV3VG9Eb20oZSk7aWYocil7Y29uc3QgYT1yLm93bmVyRG9jdW1lbnQscz10LmlubGluZUZpbGxlclBvc2l0aW9uLGw9ci5jaGlsZE5vZGVzLGQ9QXJyYXkuZnJvbShuLnZpZXdDaGlsZHJlblRvRG9tKGUsYSx7YmluZDohMH0pKTtzJiZzLnBhcmVudD09ZSYmdGhpcy5fYWRkSW5saW5lRmlsbGVyKGEsZCxzLm9mZnNldCk7Y29uc3QgYz1UZShsLGQsbyk7bGV0IHU9MDtjb25zdCBpPW5ldyBTZXQ7Zm9yKGNvbnN0IGUgb2YgYyknaW5zZXJ0Jz09PWU/KFBlKHIsdSxkW3VdKSx1KyspOidkZWxldGUnPT09ZT8oaS5hZGQobFt1XSksRWUobFt1XSkpOih0aGlzLl9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmMobi5kb21Ub1ZpZXcoZFt1XSkpLHUrKyk7Zm9yKGNvbnN0IGUgb2YgaSllLnBhcmVudE5vZGV8fHRoaXMuZG9tQ29udmVydGVyLnVuYmluZERvbUVsZW1lbnQoZSl9fV9tYXJrRGVzY2VuZGFudFRleHRUb1N5bmMoZSl7aWYoZSlpZihlLmlzKCd0ZXh0JykpdGhpcy5tYXJrZWRUZXh0cy5hZGQoZSk7ZWxzZSBpZihlLmlzKCdlbGVtZW50JykpZm9yKGNvbnN0IHQgb2YgZS5nZXRDaGlsZHJlbigpKXRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0KX1fdXBkYXRlU2VsZWN0aW9uKCl7aWYoMD09PXRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQpcmV0dXJuIHRoaXMuX3JlbW92ZURvbVNlbGVjdGlvbigpLHZvaWQgdGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHRoaXMuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudCk7dGhpcy5pc0ZvY3VzZWQmJmUmJih0aGlzLnNlbGVjdGlvbi5pc0Zha2U/dGhpcy5fdXBkYXRlRmFrZVNlbGVjdGlvbihlKToodGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpLHRoaXMuX3VwZGF0ZURvbVNlbGVjdGlvbihlKSkpfV91cGRhdGVGYWtlU2VsZWN0aW9uKGUpe2NvbnN0IHQ9ZS5vd25lckRvY3VtZW50O2xldCBvPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7b3x8KHRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI9bz10LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLE9iamVjdC5hc3NpZ24oby5zdHlsZSx7cG9zaXRpb246J2ZpeGVkJyx0b3A6MCxsZWZ0OictOTk5OXB4Jyx3aWR0aDonNDJweCd9KSxvLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoJ1xceEEwJykpKSxvLnBhcmVudEVsZW1lbnR8fGUuYXBwZW5kQ2hpbGQobyksby5maXJzdENoaWxkLmRhdGE9dGhpcy5zZWxlY3Rpb24uZmFrZVNlbGVjdGlvbkxhYmVsfHwnXFx4QTAnO2NvbnN0IG49dC5nZXRTZWxlY3Rpb24oKSxpPXQuY3JlYXRlUmFuZ2UoKTtuLnJlbW92ZUFsbFJhbmdlcygpLGkuc2VsZWN0Tm9kZUNvbnRlbnRzKG8pLG4uYWRkUmFuZ2UoaSksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEZha2VTZWxlY3Rpb24obyx0aGlzLnNlbGVjdGlvbil9X3VwZGF0ZURvbVNlbGVjdGlvbihlKXtjb25zdCB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZih0aGlzLl9kb21TZWxlY3Rpb25OZWVkc1VwZGF0ZSh0KSl7Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0aGlzLnNlbGVjdGlvbi5hbmNob3IpLG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odGhpcy5zZWxlY3Rpb24uZm9jdXMpO2UuZm9jdXMoKSx0LmNvbGxhcHNlKG8ucGFyZW50LG8ub2Zmc2V0KSx0LmV4dGVuZChuLnBhcmVudCxuLm9mZnNldCl9fV9kb21TZWxlY3Rpb25OZWVkc1VwZGF0ZShlKXtpZighdGhpcy5kb21Db252ZXJ0ZXIuaXNEb21TZWxlY3Rpb25Db3JyZWN0KGUpKXJldHVybiEwO2NvbnN0IHQ9ZSYmdGhpcy5kb21Db252ZXJ0ZXIuZG9tU2VsZWN0aW9uVG9WaWV3KGUpO3JldHVybiEodCYmdGhpcy5zZWxlY3Rpb24uaXNFcXVhbCh0KSkmJih0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZHx8IXRoaXMuc2VsZWN0aW9uLmlzU2ltaWxhcih0KSl9X3JlbW92ZURvbVNlbGVjdGlvbigpe2Zvcihjb25zdCBlIG9mIHRoaXMuZG9tRG9jdW1lbnRzKXtjb25zdCB0PWUuZ2V0U2VsZWN0aW9uKCk7aWYodC5yYW5nZUNvdW50KXtjb25zdCB0PWUuYWN0aXZlRWxlbWVudCxvPXRoaXMuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0KTt0JiZvJiZlLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX19X3JlbW92ZUZha2VTZWxlY3Rpb24oKXtjb25zdCBlPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7ZSYmZS5yZW1vdmUoKX1fdXBkYXRlRm9jdXMoKXtpZih0aGlzLmlzRm9jdXNlZCl7Y29uc3QgZT10aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7ZSYmdGhpcy5kb21Db252ZXJ0ZXIuZm9jdXMoZSl9fX1mKEhjLGZjKTt2YXIgS2M9e3dpbmRvdyxkb2N1bWVudH07Y2xhc3MgR2N7Y29uc3RydWN0b3IoZT17fSl7dGhpcy5ibG9ja0ZpbGxlcj1lLmJsb2NrRmlsbGVyfHx6Yyx0aGlzLnByZUVsZW1lbnRzPVsncHJlJ10sdGhpcy5ibG9ja0VsZW1lbnRzPVsncCcsJ2RpdicsJ2gxJywnaDInLCdoMycsJ2g0JywnaDUnLCdoNiddLHRoaXMuX2RvbVRvVmlld01hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvRG9tTWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZz1uZXcgV2Vha01hcH1iaW5kRmFrZVNlbGVjdGlvbihlLHQpe3RoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nLnNldChlLG5ldyB4Yyh0KSl9ZmFrZVNlbGVjdGlvblRvVmlldyhlKXtyZXR1cm4gdGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmcuZ2V0KGUpfWJpbmRFbGVtZW50cyhlLHQpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuc2V0KGUsdCksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5zZXQodCxlKX11bmJpbmREb21FbGVtZW50KGUpe2NvbnN0IHQ9dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQoZSk7aWYodCl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5kZWxldGUoZSksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5kZWxldGUodCk7Zm9yKGNvbnN0IHQgb2YgQXJyYXkuZnJvbShlLmNoaWxkTm9kZXMpKXRoaXMudW5iaW5kRG9tRWxlbWVudCh0KX19YmluZERvY3VtZW50RnJhZ21lbnRzKGUsdCl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5zZXQoZSx0KSx0aGlzLl92aWV3VG9Eb21NYXBwaW5nLnNldCh0LGUpfXZpZXdUb0RvbShlLHQsbz17fSl7aWYoZS5pcygndGV4dCcpKXtjb25zdCBvPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KGUpO3JldHVybiB0LmNyZWF0ZVRleHROb2RlKG8pfWVsc2V7aWYodGhpcy5tYXBWaWV3VG9Eb20oZSkpcmV0dXJuIHRoaXMubWFwVmlld1RvRG9tKGUpO2xldCBuO2lmKGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSluPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG8uYmluZCYmdGhpcy5iaW5kRG9jdW1lbnRGcmFnbWVudHMobixlKTtlbHNle2lmKGUuaXMoJ3VpRWxlbWVudCcpKXJldHVybiBuPWUucmVuZGVyKHQpLG8uYmluZCYmdGhpcy5iaW5kRWxlbWVudHMobixlKSxuO249dC5jcmVhdGVFbGVtZW50KGUubmFtZSksby5iaW5kJiZ0aGlzLmJpbmRFbGVtZW50cyhuLGUpO2Zvcihjb25zdCB0IG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKW4uc2V0QXR0cmlidXRlKHQsZS5nZXRBdHRyaWJ1dGUodCkpfWlmKG8ud2l0aENoaWxkcmVufHx2b2lkIDA9PT1vLndpdGhDaGlsZHJlbilmb3IoY29uc3QgaSBvZiB0aGlzLnZpZXdDaGlsZHJlblRvRG9tKGUsdCxvKSluLmFwcGVuZENoaWxkKGkpO3JldHVybiBufX0qdmlld0NoaWxkcmVuVG9Eb20oZSx0LG89e30pe2NvbnN0IG49ZS5nZXRGaWxsZXJPZmZzZXQmJmUuZ2V0RmlsbGVyT2Zmc2V0KCk7bGV0IGk9MDtmb3IoY29uc3QgciBvZiBlLmdldENoaWxkcmVuKCkpbj09PWkmJih5aWVsZCB0aGlzLmJsb2NrRmlsbGVyKHQpKSx5aWVsZCB0aGlzLnZpZXdUb0RvbShyLHQsbyksaSsrO249PT1pJiYoeWllbGQgdGhpcy5ibG9ja0ZpbGxlcih0KSl9dmlld1JhbmdlVG9Eb20oZSl7Y29uc3QgdD10aGlzLnZpZXdQb3NpdGlvblRvRG9tKGUuc3RhcnQpLG89dGhpcy52aWV3UG9zaXRpb25Ub0RvbShlLmVuZCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBuLnNldFN0YXJ0KHQucGFyZW50LHQub2Zmc2V0KSxuLnNldEVuZChvLnBhcmVudCxvLm9mZnNldCksbn12aWV3UG9zaXRpb25Ub0RvbShlKXtjb25zdCB0PWUucGFyZW50O2lmKHQuaXMoJ3RleHQnKSl7Y29uc3Qgbz10aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KTtpZighbylyZXR1cm4gbnVsbDtsZXQgbj1lLm9mZnNldDtyZXR1cm4gd2UobykmJihuKz1xYykse3BhcmVudDpvLG9mZnNldDpufX1lbHNle2xldCBvLG4saTtpZigwPT09ZS5vZmZzZXQpe2lmKG89dGhpcy5tYXBWaWV3VG9Eb20odCksIW8pcmV0dXJuIG51bGw7aT1vLmNoaWxkTm9kZXNbMF19ZWxzZXtjb25zdCB0PWUubm9kZUJlZm9yZTtpZihuPXQuaXMoJ3RleHQnKT90aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dCh0KTp0aGlzLm1hcFZpZXdUb0RvbShlLm5vZGVCZWZvcmUpLCFuKXJldHVybiBudWxsO289bi5wYXJlbnROb2RlLGk9bi5uZXh0U2libGluZ31pZihTZShpKSYmd2UoaSkpcmV0dXJue3BhcmVudDppLG9mZnNldDpxY307Y29uc3Qgcj1uP1JlKG4pKzE6MDtyZXR1cm57cGFyZW50Om8sb2Zmc2V0OnJ9fX1kb21Ub1ZpZXcoZSx0PXt9KXtpZih4ZShlLHRoaXMuYmxvY2tGaWxsZXIpKXJldHVybiBudWxsO2NvbnN0IG89dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQoZSx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nKTtpZihvKXJldHVybiBvO2lmKFNlKGUpKXtpZih2ZShlKSlyZXR1cm4gbnVsbDtlbHNle2NvbnN0IHQ9dGhpcy5fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dChlKTtyZXR1cm4nJz09PXQ/bnVsbDpuZXcgRWQodCl9fWVsc2UgaWYodGhpcy5pc0NvbW1lbnQoZSkpcmV0dXJuIG51bGw7ZWxzZXtpZih0aGlzLm1hcERvbVRvVmlldyhlKSlyZXR1cm4gdGhpcy5tYXBEb21Ub1ZpZXcoZSk7bGV0IG87aWYodGhpcy5pc0RvY3VtZW50RnJhZ21lbnQoZSkpbz1uZXcgRGMsdC5iaW5kJiZ0aGlzLmJpbmREb2N1bWVudEZyYWdtZW50cyhlLG8pO2Vsc2V7Y29uc3Qgbj10LmtlZXBPcmlnaW5hbENhc2U/ZS50YWdOYW1lOmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpO289bmV3IFJkKG4pLHQuYmluZCYmdGhpcy5iaW5kRWxlbWVudHMoZSxvKTtjb25zdCByPWUuYXR0cmlidXRlcztmb3IobGV0IGU9ci5sZW5ndGgtMTswPD1lO2UtLSlvLl9zZXRBdHRyaWJ1dGUocltlXS5uYW1lLHJbZV0udmFsdWUpfWlmKHQud2l0aENoaWxkcmVufHx2b2lkIDA9PT10LndpdGhDaGlsZHJlbilmb3IoY29uc3QgbiBvZiB0aGlzLmRvbUNoaWxkcmVuVG9WaWV3KGUsdCkpby5fYXBwZW5kQ2hpbGQobik7cmV0dXJuIG99fSpkb21DaGlsZHJlblRvVmlldyhlLHQ9e30pe2ZvcihsZXQgbz0wO288ZS5jaGlsZE5vZGVzLmxlbmd0aDtvKyspe2NvbnN0IG49ZS5jaGlsZE5vZGVzW29dLGk9dGhpcy5kb21Ub1ZpZXcobix0KTtudWxsIT09aSYmKHlpZWxkIGkpfX1kb21TZWxlY3Rpb25Ub1ZpZXcoZSl7aWYoMT09PWUucmFuZ2VDb3VudCl7bGV0IHQ9ZS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyO1NlKHQpJiYodD10LnBhcmVudE5vZGUpO2NvbnN0IG89dGhpcy5mYWtlU2VsZWN0aW9uVG9WaWV3KHQpO2lmKG8pcmV0dXJuIG99Y29uc3QgdD10aGlzLmlzRG9tU2VsZWN0aW9uQmFja3dhcmQoZSksbz1bXTtmb3IobGV0IHQ9MDt0PGUucmFuZ2VDb3VudDt0Kyspe2NvbnN0IG49ZS5nZXRSYW5nZUF0KHQpLGk9dGhpcy5kb21SYW5nZVRvVmlldyhuKTtpJiZvLnB1c2goaSl9cmV0dXJuIG5ldyB4YyhvLHtiYWNrd2FyZDp0fSl9ZG9tUmFuZ2VUb1ZpZXcoZSl7Y29uc3QgdD10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCksbz10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KTtyZXR1cm4gdCYmbz9uZXcgeWModCxvKTpudWxsfWRvbVBvc2l0aW9uVG9WaWV3KGUsdCl7aWYoeGUoZSx0aGlzLmJsb2NrRmlsbGVyKSlyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyhlLnBhcmVudE5vZGUsUmUoZSkpO2NvbnN0IG89dGhpcy5tYXBEb21Ub1ZpZXcoZSk7aWYobyYmby5pcygndWlFbGVtZW50JykpcmV0dXJuIHZjLmNyZWF0ZUJlZm9yZShvKTtpZihTZShlKSl7aWYodmUoZSkpcmV0dXJuIHRoaXMuZG9tUG9zaXRpb25Ub1ZpZXcoZS5wYXJlbnROb2RlLFJlKGUpKTtjb25zdCBvPXRoaXMuZmluZENvcnJlc3BvbmRpbmdWaWV3VGV4dChlKTtsZXQgbj10O3JldHVybiBvPyh3ZShlKSYmKG4tPXFjLG49MD5uPzA6biksbmV3IHZjKG8sbikpOm51bGx9aWYoMD09PXQpe2NvbnN0IHQ9dGhpcy5tYXBEb21Ub1ZpZXcoZSk7aWYodClyZXR1cm4gbmV3IHZjKHQsMCl9ZWxzZXtjb25zdCBvPWUuY2hpbGROb2Rlc1t0LTFdLG49U2Uobyk/dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG8pOnRoaXMubWFwRG9tVG9WaWV3KG8pO2lmKG4mJm4ucGFyZW50KXJldHVybiBuZXcgdmMobi5wYXJlbnQsbi5pbmRleCsxKX1yZXR1cm4gbnVsbH1tYXBEb21Ub1ZpZXcoZSl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VUlFbGVtZW50KGUpfHx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldChlKX1maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KGUpe2lmKHZlKGUpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQoZSk7aWYodClyZXR1cm4gdDtjb25zdCBvPWUucHJldmlvdXNTaWJsaW5nO2lmKG8pe2lmKCF0aGlzLmlzRWxlbWVudChvKSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMubWFwRG9tVG9WaWV3KG8pO2lmKGUpe2NvbnN0IHQ9ZS5uZXh0U2libGluZztyZXR1cm4gdCBpbnN0YW5jZW9mIEVkP2UubmV4dFNpYmxpbmc6bnVsbH19ZWxzZXtjb25zdCB0PXRoaXMubWFwRG9tVG9WaWV3KGUucGFyZW50Tm9kZSk7aWYodCl7Y29uc3QgZT10LmdldENoaWxkKDApO3JldHVybiBlIGluc3RhbmNlb2YgRWQ/ZTpudWxsfX1yZXR1cm4gbnVsbH1tYXBWaWV3VG9Eb20oZSl7cmV0dXJuIHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuZ2V0KGUpfWZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dChlKXtjb25zdCB0PWUucHJldmlvdXNTaWJsaW5nO3JldHVybiB0JiZ0aGlzLm1hcFZpZXdUb0RvbSh0KT90aGlzLm1hcFZpZXdUb0RvbSh0KS5uZXh0U2libGluZzohdCYmZS5wYXJlbnQmJnRoaXMubWFwVmlld1RvRG9tKGUucGFyZW50KT90aGlzLm1hcFZpZXdUb0RvbShlLnBhcmVudCkuY2hpbGROb2Rlc1swXTpudWxsfWZvY3VzKGUpe2NvbnN0IHQ9dGhpcy5tYXBWaWV3VG9Eb20oZSk7aWYodCYmdC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10KXtjb25zdHtzY3JvbGxYOmUsc2Nyb2xsWTpvfT1LYy53aW5kb3csbj1bXTtOZSh0LChlKT0+e2NvbnN0e3Njcm9sbExlZnQ6dCxzY3JvbGxUb3A6b309ZTtuLnB1c2goW3Qsb10pfSksdC5mb2N1cygpLE5lKHQsKGUpPT57Y29uc3RbdCxvXT1uLnNoaWZ0KCk7ZS5zY3JvbGxMZWZ0PXQsZS5zY3JvbGxUb3A9b30pLEtjLndpbmRvdy5zY3JvbGxUbyhlLG8pfX1pc0VsZW1lbnQoZSl7cmV0dXJuIGUmJmUubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFfWlzRG9jdW1lbnRGcmFnbWVudChlKXtyZXR1cm4gZSYmZS5ub2RlVHlwZT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfWlzQ29tbWVudChlKXtyZXR1cm4gZSYmZS5ub2RlVHlwZT09Tm9kZS5DT01NRU5UX05PREV9aXNEb21TZWxlY3Rpb25CYWNrd2FyZChlKXtpZihlLmlzQ29sbGFwc2VkKXJldHVybiExO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTt0LnNldFN0YXJ0KGUuYW5jaG9yTm9kZSxlLmFuY2hvck9mZnNldCksdC5zZXRFbmQoZS5mb2N1c05vZGUsZS5mb2N1c09mZnNldCk7Y29uc3Qgbz10LmNvbGxhcHNlZDtyZXR1cm4gdC5kZXRhY2goKSxvfWdldFBhcmVudFVJRWxlbWVudChlKXtjb25zdCB0PUllKGUpO2Zvcih0LnBvcCgpO3QubGVuZ3RoOyl7Y29uc3QgZT10LnBvcCgpLG89dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5nZXQoZSk7aWYobyYmby5pcygndWlFbGVtZW50JykpcmV0dXJuIG99cmV0dXJuIG51bGx9aXNEb21TZWxlY3Rpb25Db3JyZWN0KGUpe3JldHVybiB0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdChlLmFuY2hvck5vZGUsZS5hbmNob3JPZmZzZXQpJiZ0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdChlLmZvY3VzTm9kZSxlLmZvY3VzT2Zmc2V0KX1faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QoZSx0KXtpZihTZShlKSYmd2UoZSkmJnQ8cWMpcmV0dXJuITE7aWYodGhpcy5pc0VsZW1lbnQoZSkmJndlKGUuY2hpbGROb2Rlc1t0XSkpcmV0dXJuITE7Y29uc3Qgbz10aGlzLm1hcERvbVRvVmlldyhlKTtyZXR1cm4hKG8mJm8uaXMoJ3VpRWxlbWVudCcpKX1fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQoZSl7bGV0IHQ9ZS5kYXRhO2lmKGUuZ2V0QW5jZXN0b3JzKCkuc29tZSgoZSk9PnRoaXMucHJlRWxlbWVudHMuaW5jbHVkZXMoZS5uYW1lKSkpcmV0dXJuIHQ7aWYoJyAnPT10LmNoYXJBdCgwKSl7Y29uc3Qgbz10aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZShlLCExKSxuPW8mJnRoaXMuX25vZGVFbmRzV2l0aFNwYWNlKG8pOyhufHwhbykmJih0PSdcXHhBMCcrdC5zdWJzdHIoMSkpfWlmKCcgJz09dC5jaGFyQXQodC5sZW5ndGgtMSkpe2NvbnN0IG89dGhpcy5fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUoZSwhMCk7b3x8KHQ9dC5zdWJzdHIoMCx0Lmxlbmd0aC0xKSsnXFx4QTAnKX1yZXR1cm4gdC5yZXBsYWNlKC8gezJ9L2csJyBcXHhBMCcpfV9ub2RlRW5kc1dpdGhTcGFjZShlKXtpZihlLmdldEFuY2VzdG9ycygpLnNvbWUoKGUpPT50aGlzLnByZUVsZW1lbnRzLmluY2x1ZGVzKGUubmFtZSkpKXJldHVybiExO2NvbnN0IHQ9dGhpcy5fcHJvY2Vzc0RhdGFGcm9tVmlld1RleHQoZSk7cmV0dXJuJyAnPT10LmNoYXJBdCh0Lmxlbmd0aC0xKX1fcHJvY2Vzc0RhdGFGcm9tRG9tVGV4dChlKXtsZXQgdD1lLmRhdGE7aWYoRmUoZSx0aGlzLnByZUVsZW1lbnRzKSlyZXR1cm4geWUoZSk7dD10LnJlcGxhY2UoL1sgXFxuXFx0XFxyXXsxLH0vZywnICcpO2NvbnN0IG89dGhpcy5fZ2V0VG91Y2hpbmdEb21UZXh0Tm9kZShlLCExKSxuPXRoaXMuX2dldFRvdWNoaW5nRG9tVGV4dE5vZGUoZSwhMCk7cmV0dXJuKCFvfHwvW15cXFNcXHUwMEEwXS8udGVzdChvLmRhdGEuY2hhckF0KG8uZGF0YS5sZW5ndGgtMSkpKSYmKHQ9dC5yZXBsYWNlKC9eIC8sJycpKSxufHx3ZShlKXx8KHQ9dC5yZXBsYWNlKC8gJC8sJycpKSx0PXllKG5ldyBUZXh0KHQpKSx0PXQucmVwbGFjZSgvIFxcdTAwQTAvZywnICAnKSwoIW98fC9bXlxcU1xcdTAwQTBdLy50ZXN0KG8uZGF0YS5jaGFyQXQoby5kYXRhLmxlbmd0aC0xKSkpJiYodD10LnJlcGxhY2UoL15cXHUwMEEwLywnICcpKSxuJiYnXFx4QTAnIT1uLmRhdGEuY2hhckF0KDApfHwodD10LnJlcGxhY2UoL1xcdTAwQTAoICopJC8sJyAkMScpKSx0fV9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZShlLHQpe2NvbnN0IG89bmV3IHdjKHtzdGFydFBvc2l0aW9uOnQ/dmMuY3JlYXRlQWZ0ZXIoZSk6dmMuY3JlYXRlQmVmb3JlKGUpLGRpcmVjdGlvbjp0Pydmb3J3YXJkJzonYmFja3dhcmQnfSk7Zm9yKGNvbnN0IG4gb2Ygbyl7aWYobi5pdGVtLmlzKCdjb250YWluZXJFbGVtZW50JykpcmV0dXJuIG51bGw7aWYobi5pdGVtLmlzKCd0ZXh0UHJveHknKSlyZXR1cm4gbi5pdGVtfXJldHVybiBudWxsfV9nZXRUb3VjaGluZ0RvbVRleHROb2RlKGUsdCl7aWYoIWUucGFyZW50Tm9kZSlyZXR1cm4gbnVsbDtjb25zdCBvPXQ/J25leHROb2RlJzoncHJldmlvdXNOb2RlJyxuPWUub3duZXJEb2N1bWVudCxpPUllKGUpWzBdLHI9bi5jcmVhdGVUcmVlV2Fsa2VyKGksTm9kZUZpbHRlci5TSE9XX1RFWFQpO3IuY3VycmVudE5vZGU9ZTtjb25zdCBhPXJbb10oKTtpZihudWxsIT09YSl7Y29uc3QgdD1WZShlLGEpO2lmKHQmJiFGZShlLHRoaXMuYmxvY2tFbGVtZW50cyx0KSYmIUZlKGEsdGhpcy5ibG9ja0VsZW1lbnRzLHQpKXJldHVybiBhfXJldHVybiBudWxsfX1jb25zdCAkYz1jYyh7fSxycyx7bGlzdGVuVG8oZSwuLi50KXtpZihNZShlKXx8RGUoZSkpe2NvbnN0IG89dGhpcy5fZ2V0UHJveHlFbWl0dGVyKGUpfHxuZXcgUWMoZSk7by5hdHRhY2goLi4udCksZT1vfXJzLmxpc3RlblRvLmNhbGwodGhpcyxlLC4uLnQpfSxzdG9wTGlzdGVuaW5nKGUsdCxvKXtpZihNZShlKXx8RGUoZSkpe2NvbnN0IHQ9dGhpcy5fZ2V0UHJveHlFbWl0dGVyKGUpO2lmKCF0KXJldHVybjtlPXR9cnMuc3RvcExpc3RlbmluZy5jYWxsKHRoaXMsZSx0LG8pLGUgaW5zdGFuY2VvZiBRYyYmZS5kZXRhY2godCl9LF9nZXRQcm94eUVtaXR0ZXIoZSl7cmV0dXJuIHIodGhpcyxCZShlKSl9fSk7dmFyIEpjPSRjO2NsYXNzIFFje2NvbnN0cnVjdG9yKGUpe2EodGhpcyxCZShlKSksdGhpcy5fZG9tTm9kZT1lfX1jYyhRYy5wcm90b3R5cGUscnMse2F0dGFjaChlLHQsbz17fSl7aWYoISh0aGlzLl9kb21MaXN0ZW5lcnMmJnRoaXMuX2RvbUxpc3RlbmVyc1tlXSkpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlRG9tTGlzdGVuZXIoZSwhIW8udXNlQ2FwdHVyZSk7dGhpcy5fZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKGUsdCwhIW8udXNlQ2FwdHVyZSksdGhpcy5fZG9tTGlzdGVuZXJzfHwodGhpcy5fZG9tTGlzdGVuZXJzPXt9KSx0aGlzLl9kb21MaXN0ZW5lcnNbZV09dH19LGRldGFjaChlKXtsZXQgdDshdGhpcy5fZG9tTGlzdGVuZXJzW2VdfHwodD10aGlzLl9ldmVudHNbZV0pJiZ0LmNhbGxiYWNrcy5sZW5ndGh8fHRoaXMuX2RvbUxpc3RlbmVyc1tlXS5yZW1vdmVMaXN0ZW5lcigpfSxfY3JlYXRlRG9tTGlzdGVuZXIoZSx0KXtjb25zdCBvPSh0KT0+e3RoaXMuZmlyZShlLHQpfTtyZXR1cm4gby5yZW1vdmVMaXN0ZW5lcj0oKT0+e3RoaXMuX2RvbU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG8sdCksZGVsZXRlIHRoaXMuX2RvbUxpc3RlbmVyc1tlXX0sb319KTtjbGFzcyBZY3tjb25zdHJ1Y3RvcihlKXt0aGlzLnZpZXc9ZSx0aGlzLmRvY3VtZW50PWUuZG9jdW1lbnQsdGhpcy5pc0VuYWJsZWQ9ITF9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkPSExfWRlc3Ryb3koKXt0aGlzLmRpc2FibGUoKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX19ZihZYyxKYyk7TGUucHJvdG90eXBlLmFkZD1MZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQoZSwnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXycpLHRoaXN9LExlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpfTt2YXIgWGM9TGUsWmM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aDsrK288bjspaWYodChlW29dLG8sZSkpcmV0dXJuITA7cmV0dXJuITF9LGV1PWZ1bmN0aW9uKGUsdCxvLG4saSxyKXt2YXIgYT1pJjIscz1lLmxlbmd0aCxsPXQubGVuZ3RoO2lmKHMhPWwmJiEoYSYmbD5zKSlyZXR1cm4hMTt2YXIgZD1yLmdldChlKTtpZihkKXJldHVybiBkPT10O3ZhciBjPS0xLHU9ITAsbT1pJjE/bmV3IFhjOnZvaWQgMDtmb3Ioci5zZXQoZSx0KTsrK2M8czspe3ZhciBwPWVbY10sZz10W2NdO2lmKG4pdmFyIGY9YT9uKGcscCxjLHQsZSxyKTpuKHAsZyxjLGUsdCxyKTtpZih2b2lkIDAhPT1mKXtpZihmKWNvbnRpbnVlO3U9ITE7YnJlYWt9aWYobSl7aWYoIVpjKHQsZnVuY3Rpb24oZSx0KXtpZighbS5oYXModCkmJihwPT09ZXx8byhwLGUsbixpLHIpKSlyZXR1cm4gbS5hZGQodCl9KSl7dT0hMTticmVha319ZWxzZSBpZighKHA9PT1nfHxvKHAsZyxuLGkscikpKXt1PSExO2JyZWFrfX1yZXR1cm4gclsnZGVsZXRlJ10oZSksdX0sdHU9Y2Q/Y2QucHJvdG90eXBlOnZvaWQgMCxvdT10dT90dS52YWx1ZU9mOnZvaWQgMCxudT1mdW5jdGlvbihlLHQsbyxuLGkscixhKXtzd2l0Y2gobyl7Y2FzZSdbb2JqZWN0IERhdGFWaWV3XSc6aWYoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fGUuYnl0ZU9mZnNldCE9dC5ieXRlT2Zmc2V0KXJldHVybiExO2U9ZS5idWZmZXIsdD10LmJ1ZmZlcjtjYXNlJ1tvYmplY3QgQXJyYXlCdWZmZXJdJzpyZXR1cm4hIShlLmJ5dGVMZW5ndGg9PXQuYnl0ZUxlbmd0aCYmbihuZXcgWWwoZSksbmV3IFlsKHQpKSk7Y2FzZSdbb2JqZWN0IEJvb2xlYW5dJzpjYXNlJ1tvYmplY3QgRGF0ZV0nOnJldHVybitlPT0rdDtjYXNlJ1tvYmplY3QgRXJyb3JdJzpyZXR1cm4gZS5uYW1lPT10Lm5hbWUmJmUubWVzc2FnZT09dC5tZXNzYWdlO2Nhc2UnW29iamVjdCBOdW1iZXJdJzpyZXR1cm4gZT09K2U/ZT09K3Q6dCE9K3Q7Y2FzZSdbb2JqZWN0IFJlZ0V4cF0nOmNhc2UnW29iamVjdCBTdHJpbmddJzpyZXR1cm4gZT09dCsnJztjYXNlJ1tvYmplY3QgTWFwXSc6dmFyIHM9b2Q7Y2FzZSdbb2JqZWN0IFNldF0nOnZhciBsPXImMjtpZihzfHwocz1zZCksZS5zaXplIT10LnNpemUmJiFsKXJldHVybiExO3ZhciBkPWEuZ2V0KGUpO3JldHVybiBkP2Q9PXQ6KHJ8PTEsYS5zZXQoZSx0KSxldShzKGUpLHModCksbixpLHIsYSkpO2Nhc2UnW29iamVjdCBTeW1ib2xdJzppZihvdSlyZXR1cm4gb3UuY2FsbChlKT09b3UuY2FsbCh0KTt9cmV0dXJuITF9LGl1PTIscnU9e307cnVbJ1tvYmplY3QgRmxvYXQzMkFycmF5XSddPXJ1Wydbb2JqZWN0IEZsb2F0NjRBcnJheV0nXT1ydVsnW29iamVjdCBJbnQ4QXJyYXldJ109cnVbJ1tvYmplY3QgSW50MTZBcnJheV0nXT1ydVsnW29iamVjdCBJbnQzMkFycmF5XSddPXJ1Wydbb2JqZWN0IFVpbnQ4QXJyYXldJ109cnVbJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJ109cnVbJ1tvYmplY3QgVWludDE2QXJyYXldJ109cnVbJ1tvYmplY3QgVWludDMyQXJyYXldJ109ITAscnVbJ1tvYmplY3QgQXJndW1lbnRzXSddPXJ1Wydbb2JqZWN0IEFycmF5XSddPXJ1Wydbb2JqZWN0IEFycmF5QnVmZmVyXSddPXJ1Wydbb2JqZWN0IEJvb2xlYW5dJ109cnVbJ1tvYmplY3QgRGF0YVZpZXddJ109cnVbJ1tvYmplY3QgRGF0ZV0nXT1ydVsnW29iamVjdCBFcnJvcl0nXT1ydVsnW29iamVjdCBGdW5jdGlvbl0nXT1ydVsnW29iamVjdCBNYXBdJ109cnVbJ1tvYmplY3QgTnVtYmVyXSddPXJ1Wydbb2JqZWN0IE9iamVjdF0nXT1ydVsnW29iamVjdCBSZWdFeHBdJ109cnVbJ1tvYmplY3QgU2V0XSddPXJ1Wydbb2JqZWN0IFN0cmluZ10nXT1ydVsnW29iamVjdCBXZWFrTWFwXSddPSExO3ZhciBhdT1PYmplY3QucHJvdG90eXBlLHN1PWF1LnRvU3RyaW5nLGx1PWZ1bmN0aW9uKGUpe3JldHVybiBxYShlKSYmWHMoZS5sZW5ndGgpJiYhIXJ1W3N1LmNhbGwoZSldfSxkdT0nW29iamVjdCBBcmd1bWVudHNdJyxjdT0nW29iamVjdCBBcnJheV0nLHV1PSdbb2JqZWN0IE9iamVjdF0nLG11PU9iamVjdC5wcm90b3R5cGUscHU9bXUuaGFzT3duUHJvcGVydHksZ3U9ZnVuY3Rpb24oZSx0LG8sbixpLHIpe3ZhciBhPXNsKGUpLHM9c2wodCksbD1jdSxkPWN1O2F8fChsPUtsKGUpLGw9bD09ZHU/dXU6bCksc3x8KGQ9S2wodCksZD1kPT1kdT91dTpkKTt2YXIgYz1sPT11dSYmIWphKGUpLHU9ZD09dXUmJiFqYSh0KSxtPWw9PWQ7aWYobSYmIWMpcmV0dXJuIHJ8fChyPW5ldyBCcyksYXx8bHUoZSk/ZXUoZSx0LG8sbixpLHIpOm51KGUsdCxsLG8sbixpLHIpO2lmKCEoaSYyKSl7dmFyIHA9YyYmcHUuY2FsbChlLCdfX3dyYXBwZWRfXycpLGc9dSYmcHUuY2FsbCh0LCdfX3dyYXBwZWRfXycpO2lmKHB8fGcpe3ZhciBmPXA/ZS52YWx1ZSgpOmUsaD1nP3QudmFsdWUoKTp0O3JldHVybiByfHwocj1uZXcgQnMpLG8oZixoLG4saSxyKX19cmV0dXJuISFtJiYocnx8KHI9bmV3IEJzKSx6ZShlLHQsbyxuLGkscikpfSxmdT1qZSxodT1mdW5jdGlvbihlLHQsbyl7bz0nZnVuY3Rpb24nPT10eXBlb2Ygbz9vOnZvaWQgMDt2YXIgbj1vP28oZSx0KTp2b2lkIDA7cmV0dXJuIG49PT12b2lkIDA/ZnUoZSx0LG8pOiEhbn07Y2xhc3MgYnUgZXh0ZW5kcyBZY3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9jb25maWc9e2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiEwLGNoYXJhY3RlckRhdGFPbGRWYWx1ZTohMCxzdWJ0cmVlOiEwfSx0aGlzLmRvbUNvbnZlcnRlcj1lLmRvbUNvbnZlcnRlcix0aGlzLnJlbmRlcmVyPWUuX3JlbmRlcmVyLHRoaXMuX2RvbUVsZW1lbnRzPVtdLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXI9bmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKHRoaXMuX29uTXV0YXRpb25zLmJpbmQodGhpcykpfWZsdXNoKCl7dGhpcy5fb25NdXRhdGlvbnModGhpcy5fbXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpKX1vYnNlcnZlKGUpe3RoaXMuX2RvbUVsZW1lbnRzLnB1c2goZSksdGhpcy5pc0VuYWJsZWQmJnRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlLHRoaXMuX2NvbmZpZyl9ZW5hYmxlKCl7c3VwZXIuZW5hYmxlKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZG9tRWxlbWVudHMpdGhpcy5fbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGUsdGhpcy5fY29uZmlnKX1kaXNhYmxlKCl7c3VwZXIuZGlzYWJsZSgpLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCl9X29uTXV0YXRpb25zKGUpe2Z1bmN0aW9uIHQoZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZT09PXR8fCEhKGUuaXMoJ3RleHQnKSYmdC5pcygndGV4dCcpKSYmZS5kYXRhPT09dC5kYXRhfWlmKDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgbz10aGlzLmRvbUNvbnZlcnRlcixuPW5ldyBNYXAsaT1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGUpaWYoJ2NoaWxkTGlzdCc9PT10LnR5cGUpe2NvbnN0IGU9by5tYXBEb21Ub1ZpZXcodC50YXJnZXQpO2lmKGUmJmUuaXMoJ3VpRWxlbWVudCcpKWNvbnRpbnVlO2UmJiF0aGlzLl9pc0JvZ3VzQnJNdXRhdGlvbih0KSYmaS5hZGQoZSl9Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1vLm1hcERvbVRvVmlldyh0LnRhcmdldCk7aWYoIShlJiZlLmlzKCd1aUVsZW1lbnQnKSkmJidjaGFyYWN0ZXJEYXRhJz09PXQudHlwZSl7Y29uc3QgZT1vLmZpbmRDb3JyZXNwb25kaW5nVmlld1RleHQodC50YXJnZXQpO2UmJiFpLmhhcyhlLnBhcmVudCk/bi5zZXQoZSx7dHlwZTondGV4dCcsb2xkVGV4dDplLmRhdGEsbmV3VGV4dDp5ZSh0LnRhcmdldCksbm9kZTplfSk6IWUmJndlKHQudGFyZ2V0KSYmaS5hZGQoby5tYXBEb21Ub1ZpZXcodC50YXJnZXQucGFyZW50Tm9kZSkpfX1jb25zdCByPVtdO2Zvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpdGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKCd0ZXh0Jyx0Lm5vZGUpLHIucHVzaCh0KTtmb3IoY29uc3QgbiBvZiBpKXtjb25zdCBlPW8ubWFwVmlld1RvRG9tKG4pLGk9QXJyYXkuZnJvbShuLmdldENoaWxkcmVuKCkpLGE9QXJyYXkuZnJvbShvLmRvbUNoaWxkcmVuVG9WaWV3KGUse3dpdGhDaGlsZHJlbjohMX0pKTtodShpLGEsdCl8fCh0aGlzLnJlbmRlcmVyLm1hcmtUb1N5bmMoJ2NoaWxkcmVuJyxuKSxyLnB1c2goe3R5cGU6J2NoaWxkcmVuJyxvbGRDaGlsZHJlbjppLG5ld0NoaWxkcmVuOmEsbm9kZTpufSkpfWNvbnN0IGE9ZVswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKGEmJmEuYW5jaG9yTm9kZSl7Y29uc3QgZT1vLmRvbVBvc2l0aW9uVG9WaWV3KGEuYW5jaG9yTm9kZSxhLmFuY2hvck9mZnNldCksdD1vLmRvbVBvc2l0aW9uVG9WaWV3KGEuZm9jdXNOb2RlLGEuZm9jdXNPZmZzZXQpO2UmJnQmJihzPW5ldyB4YyhlKSxzLnNldEZvY3VzKHQpKX10aGlzLmRvY3VtZW50LmZpcmUoJ211dGF0aW9ucycscixzKSx0aGlzLnZpZXcucmVuZGVyKCl9X2lzQm9ndXNCck11dGF0aW9uKGUpe2xldCB0PW51bGw7cmV0dXJuIG51bGw9PT1lLm5leHRTaWJsaW5nJiYwPT09ZS5yZW1vdmVkTm9kZXMubGVuZ3RoJiYxPT1lLmFkZGVkTm9kZXMubGVuZ3RoJiYodD10aGlzLmRvbUNvbnZlcnRlci5kb21Ub1ZpZXcoZS5hZGRlZE5vZGVzWzBdLHt3aXRoQ2hpbGRyZW46ITF9KSksdCYmdC5pcygnZWxlbWVudCcsJ2JyJyl9fWNsYXNzIGt1e2NvbnN0cnVjdG9yKGUsdCxvKXt0aGlzLnZpZXc9ZSx0aGlzLmRvY3VtZW50PWUuZG9jdW1lbnQsdGhpcy5kb21FdmVudD10LHRoaXMuZG9tVGFyZ2V0PXQudGFyZ2V0LGNjKHRoaXMsbyl9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLnZpZXcuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0aGlzLmRvbVRhcmdldCl9cHJldmVudERlZmF1bHQoKXt0aGlzLmRvbUV2ZW50LnByZXZlbnREZWZhdWx0KCl9c3RvcFByb3BhZ2F0aW9uKCl7dGhpcy5kb21FdmVudC5zdG9wUHJvcGFnYXRpb24oKX19Y2xhc3MgX3UgZXh0ZW5kcyBZY3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnVzZUNhcHR1cmU9ITF9b2JzZXJ2ZShlKXtjb25zdCB0PSdzdHJpbmcnPT10eXBlb2YgdGhpcy5kb21FdmVudFR5cGU/W3RoaXMuZG9tRXZlbnRUeXBlXTp0aGlzLmRvbUV2ZW50VHlwZTt0LmZvckVhY2goKHQpPT57dGhpcy5saXN0ZW5UbyhlLHQsKGUsdCk9Pnt0aGlzLmlzRW5hYmxlZCYmdGhpcy5vbkRvbUV2ZW50KHQpfSx7dXNlQ2FwdHVyZTp0aGlzLnVzZUNhcHR1cmV9KX0pfWZpcmUoZSx0LG8pe3RoaXMuaXNFbmFibGVkJiZ0aGlzLmRvY3VtZW50LmZpcmUoZSxuZXcga3UodGhpcy52aWV3LHQsbykpfX1jbGFzcyB3dSBleHRlbmRzIF91e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPVsna2V5ZG93bicsJ2tleXVwJ119b25Eb21FdmVudChlKXt0aGlzLmZpcmUoZS50eXBlLGUse2tleUNvZGU6ZS5rZXlDb2RlLGFsdEtleTplLmFsdEtleSxjdHJsS2V5OmUuY3RybEtleXx8ZS5tZXRhS2V5LHNoaWZ0S2V5OmUuc2hpZnRLZXksZ2V0IGtleXN0cm9rZSgpe3JldHVybiB0ZSh0aGlzKX19KX19dmFyIHZ1PURhdGUubm93LHl1PXZ1LHh1PSdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxDdT1NYSxBdT1EYSxUdT1xZTtjbGFzcyBQdSBleHRlbmRzIFlje2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPVR1KChlKT0+dGhpcy5kb2N1bWVudC5maXJlKCdzZWxlY3Rpb25DaGFuZ2VEb25lJyxlKSwyMDApfW9ic2VydmUoKXtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbigna2V5ZG93bicsKHQsbyk9Pntjb25zdCBuPWUuc2VsZWN0aW9uO24uaXNGYWtlJiZXZShvLmtleUNvZGUpJiZ0aGlzLmlzRW5hYmxlZCYmKG8ucHJldmVudERlZmF1bHQoKSx0aGlzLl9oYW5kbGVTZWxlY3Rpb25Nb3ZlKG8ua2V5Q29kZSkpfSx7cHJpb3JpdHk6J2xvd2VzdCd9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkLmNhbmNlbCgpfV9oYW5kbGVTZWxlY3Rpb25Nb3ZlKGUpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sbz1uZXcgeGModC5nZXRSYW5nZXMoKSx7YmFja3dhcmQ6dC5pc0JhY2t3YXJkLGZha2U6ITF9KTsoZT09TmMuYXJyb3dsZWZ0fHxlPT1OYy5hcnJvd3VwKSYmby5zZXRUbyhvLmdldEZpcnN0UG9zaXRpb24oKSksKGU9PU5jLmFycm93cmlnaHR8fGU9PU5jLmFycm93ZG93bikmJm8uc2V0VG8oby5nZXRMYXN0UG9zaXRpb24oKSk7Y29uc3Qgbj17b2xkU2VsZWN0aW9uOnQsbmV3U2VsZWN0aW9uOm8sZG9tU2VsZWN0aW9uOm51bGx9O3RoaXMuZG9jdW1lbnQuZmlyZSgnc2VsZWN0aW9uQ2hhbmdlJyxuKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZChuKX19Y29uc3QgRXU9e2Vycm9yKGUsdCl7Y29uc29sZS5lcnJvcihuKGUpLHQpfSx3YXJuKGUsdCl7Y29uc29sZS53YXJuKG4oZSksdCl9fTt2YXIgU3U9RXU7Y2xhc3MgT3UgZXh0ZW5kcyBZY3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm11dGF0aW9uT2JzZXJ2ZXI9ZS5nZXRPYnNlcnZlcihidSksdGhpcy5zZWxlY3Rpb249dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sdGhpcy5kb21Db252ZXJ0ZXI9ZS5kb21Db252ZXJ0ZXIsdGhpcy5fZG9jdW1lbnRzPW5ldyBXZWFrU2V0LHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkPVR1KChlKT0+dGhpcy5kb2N1bWVudC5maXJlKCdzZWxlY3Rpb25DaGFuZ2VEb25lJyxlKSwyMDApLHRoaXMuX2NsZWFySW5maW5pdGVMb29wSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKCk9PnRoaXMuX2NsZWFySW5maW5pdGVMb29wKCksMWUzKSx0aGlzLl9sb29wYmFja0NvdW50ZXI9MH1vYnNlcnZlKGUpe2NvbnN0IHQ9ZS5vd25lckRvY3VtZW50O3RoaXMuX2RvY3VtZW50cy5oYXModCl8fCh0aGlzLmxpc3RlblRvKHQsJ3NlbGVjdGlvbmNoYW5nZScsKCk9Pnt0aGlzLl9oYW5kbGVTZWxlY3Rpb25DaGFuZ2UodCl9KSx0aGlzLl9kb2N1bWVudHMuYWRkKHQpKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2xlYXJJbmZpbml0ZUxvb3BJbnRlcnZhbCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCl9X2hhbmRsZVNlbGVjdGlvbkNoYW5nZShlKXtpZih0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZG9jdW1lbnQuaXNGb2N1c2VkfHx0aGlzLmRvY3VtZW50LmlzUmVhZE9ubHkpKXt0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZmx1c2goKTtjb25zdCB0PWUuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCksbz10aGlzLmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcodCk7aWYoISh0aGlzLnNlbGVjdGlvbi5pc0VxdWFsKG8pJiZ0aGlzLmRvbUNvbnZlcnRlci5pc0RvbVNlbGVjdGlvbkNvcnJlY3QodCkpKXtpZig2MDwrK3RoaXMuX2xvb3BiYWNrQ291bnRlcilyZXR1cm4gdm9pZCBTdS53YXJuKCdzZWxlY3Rpb25jaGFuZ2UtaW5maW5pdGUtbG9vcDogU2VsZWN0aW9uIGNoYW5nZSBvYnNlcnZlciBkZXRlY3RlZCBhbiBpbmZpbml0ZSByZW5kZXJpbmcgbG9vcC4nKTtpZih0aGlzLnNlbGVjdGlvbi5pc1NpbWlsYXIobykpdGhpcy52aWV3LnJlbmRlcigpO2Vsc2V7Y29uc3QgZT17b2xkU2VsZWN0aW9uOnRoaXMuc2VsZWN0aW9uLG5ld1NlbGVjdGlvbjpvLGRvbVNlbGVjdGlvbjp0fTt0aGlzLmRvY3VtZW50LmZpcmUoJ3NlbGVjdGlvbkNoYW5nZScsZSksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQoZSl9fX19X2NsZWFySW5maW5pdGVMb29wKCl7dGhpcy5fbG9vcGJhY2tDb3VudGVyPTB9fWNsYXNzIFJ1IGV4dGVuZHMgX3V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kb21FdmVudFR5cGU9Wydmb2N1cycsJ2JsdXInXSx0aGlzLnVzZUNhcHR1cmU9ITA7Y29uc3QgdD10aGlzLmRvY3VtZW50O3Qub24oJ2ZvY3VzJywoKT0+e3QuaXNGb2N1c2VkPSEwLHRoaXMuX3JlbmRlclRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT5lLnJlbmRlcigpLDUwKX0pLHQub24oJ2JsdXInLChvLG4pPT57Y29uc3QgaT10LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7KG51bGw9PT1pfHxpPT09bi50YXJnZXQpJiYodC5pc0ZvY3VzZWQ9ITEsZS5yZW5kZXIoKSl9KX1vbkRvbUV2ZW50KGUpe3RoaXMuZmlyZShlLnR5cGUsZSl9ZGVzdHJveSgpe3RoaXMuX3JlbmRlclRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX3JlbmRlclRpbWVvdXRJZCksc3VwZXIuZGVzdHJveSgpfX1jbGFzcyBJdSBleHRlbmRzIF91e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPVsnY29tcG9zaXRpb25zdGFydCcsJ2NvbXBvc2l0aW9udXBkYXRlJywnY29tcG9zaXRpb25lbmQnXTtjb25zdCB0PXRoaXMuZG9jdW1lbnQ7dC5vbignY29tcG9zaXRpb25zdGFydCcsKCk9Pnt0LmlzQ29tcG9zaW5nPSEwfSksdC5vbignY29tcG9zaXRpb25lbmQnLCgpPT57dC5pc0NvbXBvc2luZz0hMX0pfW9uRG9tRXZlbnQoZSl7dGhpcy5maXJlKGUudHlwZSxlKX19dmFyIFZ1PWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmMT09PWUubm9kZVR5cGUmJnFhKGUpJiYhJGEoZSl9O2NsYXNzIEZ1e2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9VWUoZSk7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsJ19zb3VyY2UnLHt2YWx1ZTplLl9zb3VyY2V8fGUsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLFZ1KGUpfHx0KXtjb25zdCBvPXQ/ZS5zdGFydENvbnRhaW5lcjplO28ub3duZXJEb2N1bWVudCYmby5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnMobyl8fFN1Lndhcm4oJ3JlY3Qtc291cmNlLW5vdC1pbi1kb206IFRoZSBzb3VyY2Ugb2YgdGhpcyByZWN0IGRvZXMgbm90IGJlbG9uZyB0byBhbnkgcmVuZGVyZWQgRE9NIHRyZWUuJyx7c291cmNlOmV9KSx0P0tlKHRoaXMsRnUuZ2V0RG9tUmFuZ2VSZWN0cyhlKVswXSk6S2UodGhpcyxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1lbHNlIGlmKERlKGUpKXtjb25zdHtpbm5lcldpZHRoOnQsaW5uZXJIZWlnaHQ6b309ZTtLZSh0aGlzLHt0b3A6MCxyaWdodDp0LGJvdHRvbTpvLGxlZnQ6MCx3aWR0aDp0LGhlaWdodDpvfSl9ZWxzZSBLZSh0aGlzLGUpfWNsb25lKCl7cmV0dXJuIG5ldyBGdSh0aGlzKX1tb3ZlVG8oZSx0KXtyZXR1cm4gdGhpcy50b3A9dCx0aGlzLnJpZ2h0PWUrdGhpcy53aWR0aCx0aGlzLmJvdHRvbT10K3RoaXMuaGVpZ2h0LHRoaXMubGVmdD1lLHRoaXN9bW92ZUJ5KGUsdCl7cmV0dXJuIHRoaXMudG9wKz10LHRoaXMucmlnaHQrPWUsdGhpcy5sZWZ0Kz1lLHRoaXMuYm90dG9tKz10LHRoaXN9Z2V0SW50ZXJzZWN0aW9uKGUpe2NvbnN0IHQ9e3RvcDpNYSh0aGlzLnRvcCxlLnRvcCkscmlnaHQ6RGEodGhpcy5yaWdodCxlLnJpZ2h0KSxib3R0b206RGEodGhpcy5ib3R0b20sZS5ib3R0b20pLGxlZnQ6TWEodGhpcy5sZWZ0LGUubGVmdCl9O3JldHVybiB0LndpZHRoPXQucmlnaHQtdC5sZWZ0LHQuaGVpZ2h0PXQuYm90dG9tLXQudG9wLDA+dC53aWR0aHx8MD50LmhlaWdodD9udWxsOm5ldyBGdSh0KX1nZXRJbnRlcnNlY3Rpb25BcmVhKGUpe2NvbnN0IHQ9dGhpcy5nZXRJbnRlcnNlY3Rpb24oZSk7cmV0dXJuIHQ/dC5nZXRBcmVhKCk6MH1nZXRBcmVhKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9Z2V0VmlzaWJsZSgpe2NvbnN0IGU9dGhpcy5fc291cmNlO2xldCB0PXRoaXMuY2xvbmUoKTtpZighR2UoZSkpZm9yKGxldCBvPWUucGFyZW50Tm9kZXx8ZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtvJiYhR2Uobyk7KXtjb25zdCBlPW5ldyBGdShvKSxuPXQuZ2V0SW50ZXJzZWN0aW9uKGUpO2lmKG4pbi5nZXRBcmVhKCk8dC5nZXRBcmVhKCkmJih0PW4pO2Vsc2UgcmV0dXJuIG51bGw7bz1vLnBhcmVudE5vZGV9cmV0dXJuIHR9aXNFcXVhbChlKXtmb3IoY29uc3QgdCBvZiBOdSlpZih0aGlzW3RdIT09ZVt0XSlyZXR1cm4hMTtyZXR1cm4hMH1jb250YWlucyhlKXtjb25zdCB0PXRoaXMuZ2V0SW50ZXJzZWN0aW9uKGUpO3JldHVybiEhKHQmJnQuaXNFcXVhbChlKSl9ZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCl7Y29uc3QgZT10aGlzLl9zb3VyY2U7bGV0IHQsbztpZihEZShlKSl0PWUuaW5uZXJXaWR0aC1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxvPWUuaW5uZXJIZWlnaHQtZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O2Vsc2V7Y29uc3Qgbj1IZSh0aGlzLl9zb3VyY2UpO3Q9ZS5vZmZzZXRXaWR0aC1lLmNsaWVudFdpZHRoLG89ZS5vZmZzZXRIZWlnaHQtZS5jbGllbnRIZWlnaHQsdGhpcy5tb3ZlQnkobi5sZWZ0LG4udG9wKX1yZXR1cm4gdGhpcy53aWR0aC09dCx0aGlzLnJpZ2h0LT10LHRoaXMuaGVpZ2h0LT1vLHRoaXMuYm90dG9tLT1vLHRoaXN9c3RhdGljIGdldERvbVJhbmdlUmVjdHMoZSl7Y29uc3QgdD1bXSxvPUFycmF5LmZyb20oZS5nZXRDbGllbnRSZWN0cygpKTtpZihvLmxlbmd0aClmb3IoY29uc3QgZSBvZiBvKXQucHVzaChuZXcgRnUoZSkpO2Vsc2V7bGV0IG89ZS5zdGFydENvbnRhaW5lcjtTZShvKSYmKG89by5wYXJlbnROb2RlKTtjb25zdCBuPW5ldyBGdShvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtuLnJpZ2h0PW4ubGVmdCxuLndpZHRoPTAsdC5wdXNoKG4pfXJldHVybiB0fX1jb25zdCBOdT1bJ3RvcCcsJ3JpZ2h0JywnYm90dG9tJywnbGVmdCcsJ3dpZHRoJywnaGVpZ2h0J107T2JqZWN0LmFzc2lnbih7fSx7c2Nyb2xsVmlld3BvcnRUb1Nob3dUYXJnZXQ6JGUsc2Nyb2xsQW5jZXN0b3JzVG9TaG93VGFyZ2V0OmZ1bmN0aW9uKGUpe2NvbnN0IHQ9bnQoZSk7UWUodCwoKT0+bmV3IEZ1KGUpKX19KTtjbGFzcyBNdXtjb25zdHJ1Y3Rvcigpe3RoaXMuZG9jdW1lbnQ9bmV3IFRjLHRoaXMuZG9tQ29udmVydGVyPW5ldyBHYyx0aGlzLl9yZW5kZXJlcj1uZXcgSGModGhpcy5kb21Db252ZXJ0ZXIsdGhpcy5kb2N1bWVudC5zZWxlY3Rpb24pLHRoaXMuX3JlbmRlcmVyLmJpbmQoJ2lzRm9jdXNlZCcpLnRvKHRoaXMuZG9jdW1lbnQpLHRoaXMuZG9tUm9vdHM9bmV3IE1hcCx0aGlzLl9vYnNlcnZlcnM9bmV3IE1hcCx0aGlzLl9vbmdvaW5nQ2hhbmdlPSExLHRoaXMuX3JlbmRlcmluZ0luUHJvZ3Jlc3M9ITEsdGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3M9ITEsdGhpcy5fd3JpdGVyPW5ldyBCYyh0aGlzLmRvY3VtZW50KSx0aGlzLmFkZE9ic2VydmVyKGJ1KSx0aGlzLmFkZE9ic2VydmVyKE91KSx0aGlzLmFkZE9ic2VydmVyKFJ1KSx0aGlzLmFkZE9ic2VydmVyKHd1KSx0aGlzLmFkZE9ic2VydmVyKFB1KSx0aGlzLmFkZE9ic2VydmVyKEl1KSxDZSh0aGlzKSxyZSh0aGlzKSx0aGlzLm9uKCdyZW5kZXInLCgpPT57dGhpcy5fcmVuZGVyKCl9KX1hdHRhY2hEb21Sb290KGUsdD0nbWFpbicpe2NvbnN0IG89dGhpcy5kb2N1bWVudC5nZXRSb290KHQpO28uX25hbWU9ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCksdGhpcy5kb21Sb290cy5zZXQodCxlKSx0aGlzLmRvbUNvbnZlcnRlci5iaW5kRWxlbWVudHMoZSxvKSx0aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKCdjaGlsZHJlbicsbyksdGhpcy5fcmVuZGVyZXIuZG9tRG9jdW1lbnRzLmFkZChlLm93bmVyRG9jdW1lbnQpLG8ub24oJ2NoYW5nZTpjaGlsZHJlbicsKGUsdCk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoJ2NoaWxkcmVuJyx0KSksby5vbignY2hhbmdlOmF0dHJpYnV0ZXMnLChlLHQpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKCdhdHRyaWJ1dGVzJyx0KSksby5vbignY2hhbmdlOnRleHQnLChlLHQpPT50aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKCd0ZXh0Jyx0KSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKW8ub2JzZXJ2ZShlLHQpfWdldERvbVJvb3QoZT0nbWFpbicpe3JldHVybiB0aGlzLmRvbVJvb3RzLmdldChlKX1hZGRPYnNlcnZlcihlKXtsZXQgdD10aGlzLl9vYnNlcnZlcnMuZ2V0KGUpO2lmKHQpcmV0dXJuIHQ7dD1uZXcgZSh0aGlzKSx0aGlzLl9vYnNlcnZlcnMuc2V0KGUsdCk7Zm9yKGNvbnN0W28sbl1vZiB0aGlzLmRvbVJvb3RzKXQub2JzZXJ2ZShuLG8pO3JldHVybiB0LmVuYWJsZSgpLHR9Z2V0T2JzZXJ2ZXIoZSl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5nZXQoZSl9ZGlzYWJsZU9ic2VydmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSllLmRpc2FibGUoKX1lbmFibGVPYnNlcnZlcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpZS5lbmFibGUoKX1zY3JvbGxUb1RoZVNlbGVjdGlvbigpe2NvbnN0IGU9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpO2UmJiRlKHt0YXJnZXQ6dGhpcy5kb21Db252ZXJ0ZXIudmlld1JhbmdlVG9Eb20oZSksdmlld3BvcnRPZmZzZXQ6MjB9KX1mb2N1cygpe2lmKCF0aGlzLmRvY3VtZW50LmlzRm9jdXNlZCl7Y29uc3QgZT10aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7ZT8odGhpcy5kb21Db252ZXJ0ZXIuZm9jdXMoZSksdGhpcy5yZW5kZXIoKSk6U3Uud2Fybigndmlldy1mb2N1cy1uby1zZWxlY3Rpb246IFRoZXJlIGlzIG5vIHNlbGVjdGlvbiBpbiBhbnkgZWRpdGFibGUgdG8gZm9jdXMuJyl9fWNoYW5nZShlKXtpZih0aGlzLl9yZW5kZXJpbmdJblByb2dyZXNzfHx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcyl0aHJvdyBuZXcgWWEoJ2Nhbm5vdC1jaGFuZ2Utdmlldy10cmVlOiBBdHRlbXB0aW5nIHRvIG1ha2UgY2hhbmdlcyB0byB0aGUgdmlldyB3aGVuIGl0IGlzIGluIGluY29ycmVjdCBzdGF0ZTogcmVuZGVyaW5nIG9yIHBvc3QgZml4ZXJzIGFyZSBpbiBwcm9ncmVzcy4gVGhpcyBtYXkgY2F1c2Ugc29tZSB1bmV4cGVjdGVkIGJlaGF2aW91ciBhbmQgaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZSBET00gYW5kIHRoZSB2aWV3LicpO3JldHVybiB0aGlzLl9vbmdvaW5nQ2hhbmdlP3ZvaWQgZSh0aGlzLl93cml0ZXIpOnZvaWQodGhpcy5fb25nb2luZ0NoYW5nZT0hMCxlKHRoaXMuX3dyaXRlciksdGhpcy5fb25nb2luZ0NoYW5nZT0hMSx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMCx0aGlzLmRvY3VtZW50Ll9jYWxsUG9zdEZpeGVycyh0aGlzLl93cml0ZXIpLHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPSExLHRoaXMuZmlyZSgncmVuZGVyJykpfXJlbmRlcigpe3RoaXMuY2hhbmdlKCgpPT57fSl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSllLmRlc3Ryb3koKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fcmVuZGVyKCl7dGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMCx0aGlzLmRpc2FibGVPYnNlcnZlcnMoKSx0aGlzLl9yZW5kZXJlci5yZW5kZXIoKSx0aGlzLmVuYWJsZU9ic2VydmVycygpLHRoaXMuX3JlbmRlcmluZ0luUHJvZ3Jlc3M9ITF9fWYoTXUsZmMpO2NsYXNzIER1e2NvbnN0cnVjdG9yKGUpe3RoaXMucGFyZW50PW51bGwsdGhpcy5fYXR0cnM9cnQoZSl9Z2V0IGluZGV4KCl7bGV0IGU7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKG51bGw9PT0oZT10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKSl0aHJvdyBuZXcgWWEoJ21vZGVsLW5vZGUtbm90LWZvdW5kLWluLXBhcmVudDogVGhlIG5vZGVcXCdzIHBhcmVudCBkb2VzIG5vdCBjb250YWluIHRoaXMgbm9kZS4nKTtyZXR1cm4gZX1nZXQgc3RhcnRPZmZzZXQoKXtsZXQgZTtpZighdGhpcy5wYXJlbnQpcmV0dXJuIG51bGw7aWYobnVsbD09PShlPXRoaXMucGFyZW50LmdldENoaWxkU3RhcnRPZmZzZXQodGhpcykpKXRocm93IG5ldyBZYSgnbW9kZWwtbm9kZS1ub3QtZm91bmQtaW4tcGFyZW50OiBUaGUgbm9kZVxcJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLicpO3JldHVybiBlfWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIDF9Z2V0IGVuZE9mZnNldCgpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZTpudWxsfWdldCBuZXh0U2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUrMSl8fG51bGx9Z2V0IHByZXZpb3VzU2libGluZygpe2NvbnN0IGU9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PWUmJnRoaXMucGFyZW50LmdldENoaWxkKGUtMSl8fG51bGx9Z2V0IHJvb3QoKXtsZXQgZT10aGlzO2Zvcig7ZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMucm9vdD09dGhpcz9udWxsOnRoaXMucm9vdC5kb2N1bWVudHx8bnVsbH1nZXRQYXRoKCl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9dGhpczt0LnBhcmVudDspZS51bnNoaWZ0KHQuc3RhcnRPZmZzZXQpLHQ9dC5wYXJlbnQ7cmV0dXJuIGV9Z2V0QW5jZXN0b3JzKGU9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgdD1bXTtmb3IobGV0IG89ZS5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O287KXRbZS5wYXJlbnRGaXJzdD8ncHVzaCc6J3Vuc2hpZnQnXShvKSxvPW8ucGFyZW50O3JldHVybiB0fWdldENvbW1vbkFuY2VzdG9yKGUsdD17fSl7Y29uc3Qgbz10aGlzLmdldEFuY2VzdG9ycyh0KSxuPWUuZ2V0QW5jZXN0b3JzKHQpO2xldCByPTA7Zm9yKDtvW3JdPT1uW3JdJiZvW3JdOylyKys7cmV0dXJuIDA9PXI/bnVsbDpvW3ItMV19aXNCZWZvcmUoZSl7aWYodGhpcz09ZSlyZXR1cm4hMTtpZih0aGlzLnJvb3QhPT1lLnJvb3QpcmV0dXJuITE7Y29uc3QgdD10aGlzLmdldFBhdGgoKSxvPWUuZ2V0UGF0aCgpLG49QSh0LG8pO3JldHVybiEoJ3ByZWZpeCchPT1uKXx8J2V4dGVuc2lvbichPT1uJiZ0W25dPG9bbl19aXNBZnRlcihlKXtyZXR1cm4gdGhpcyE9ZSYmISh0aGlzLnJvb3QhPT1lLnJvb3QpJiYhdGhpcy5pc0JlZm9yZShlKX1oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyhlKX1nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmdldChlKX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmVudHJpZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmtleXMoKX10b0pTT04oKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLl9hdHRycy5zaXplJiYoZS5hdHRyaWJ1dGVzPVsuLi50aGlzLl9hdHRyc10pLGV9X2Nsb25lKCl7cmV0dXJuIG5ldyBEdSh0aGlzLl9hdHRycyl9X3JlbW92ZSgpe3RoaXMucGFyZW50Ll9yZW1vdmVDaGlsZHJlbih0aGlzLmluZGV4KX1fc2V0QXR0cmlidXRlKGUsdCl7dGhpcy5fYXR0cnMuc2V0KGUsdCl9X3NldEF0dHJpYnV0ZXNUbyhlKXt0aGlzLl9hdHRycz1ydChlKX1fcmVtb3ZlQXR0cmlidXRlKGUpe3JldHVybiB0aGlzLl9hdHRycy5kZWxldGUoZSl9X2NsZWFyQXR0cmlidXRlcygpe3RoaXMuX2F0dHJzLmNsZWFyKCl9aXMoZSl7cmV0dXJuJ25vZGUnPT1lfX1jbGFzcyBCdSBleHRlbmRzIER1e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5fZGF0YT1lfHwnJ31nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofWdldCBkYXRhKCl7cmV0dXJuIHRoaXMuX2RhdGF9aXMoZSl7cmV0dXJuJ3RleHQnPT1lfHxzdXBlci5pcyhlKX10b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBlLmRhdGE9dGhpcy5kYXRhLGV9X2Nsb25lKCl7cmV0dXJuIG5ldyBCdSh0aGlzLmRhdGEsdGhpcy5nZXRBdHRyaWJ1dGVzKCkpfXN0YXRpYyBmcm9tSlNPTihlKXtyZXR1cm4gbmV3IEJ1KGUuZGF0YSxlLmF0dHJpYnV0ZXMpfX1jbGFzcyBMdXtjb25zdHJ1Y3RvcihlLHQsbyl7aWYodGhpcy50ZXh0Tm9kZT1lLDA+dHx8dD5lLm9mZnNldFNpemUpdGhyb3cgbmV3IFlhKCdtb2RlbC10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LicpO2lmKDA+b3x8dCtvPmUub2Zmc2V0U2l6ZSl0aHJvdyBuZXcgWWEoJ21vZGVsLXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuJyk7dGhpcy5kYXRhPWUuZGF0YS5zdWJzdHJpbmcodCx0K28pLHRoaXMub2Zmc2V0SW5UZXh0PXR9Z2V0IHN0YXJ0T2Zmc2V0KCl7cmV0dXJuIG51bGw9PT10aGlzLnRleHROb2RlLnN0YXJ0T2Zmc2V0P251bGw6dGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldCt0aGlzLm9mZnNldEluVGV4dH1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofWdldCBlbmRPZmZzZXQoKXtyZXR1cm4gbnVsbD09PXRoaXMuc3RhcnRPZmZzZXQ/bnVsbDp0aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZX1nZXQgaXNQYXJ0aWFsKCl7cmV0dXJuIHRoaXMub2Zmc2V0U2l6ZSE9PXRoaXMudGV4dE5vZGUub2Zmc2V0U2l6ZX1nZXQgcGFyZW50KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUucGFyZW50fWdldCByb290KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUucm9vdH1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5kb2N1bWVudH1pcyhlKXtyZXR1cm4ndGV4dFByb3h5Jz09ZX1nZXRQYXRoKCl7Y29uc3QgZT10aGlzLnRleHROb2RlLmdldFBhdGgoKTtyZXR1cm4gMDxlLmxlbmd0aCYmKGVbZS5sZW5ndGgtMV0rPXRoaXMub2Zmc2V0SW5UZXh0KSxlfWdldEFuY2VzdG9ycyhlPXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IHQ9W107Zm9yKGxldCBvPWUuaW5jbHVkZVNlbGY/dGhpczp0aGlzLnBhcmVudDtvOyl0W2UucGFyZW50Rmlyc3Q/J3B1c2gnOid1bnNoaWZ0J10obyksbz1vLnBhcmVudDtyZXR1cm4gdH1oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMudGV4dE5vZGUuaGFzQXR0cmlidXRlKGUpfWdldEF0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGUoZSl9Z2V0QXR0cmlidXRlcygpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlS2V5cygpfX1jbGFzcyB6dXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9ub2Rlcz1bXSxlJiZ0aGlzLl9pbnNlcnROb2RlcygwLGUpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX25vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX25vZGVzLmxlbmd0aH1nZXQgbWF4T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX25vZGVzLnJlZHVjZSgoZSx0KT0+ZSt0Lm9mZnNldFNpemUsMCl9Z2V0Tm9kZShlKXtyZXR1cm4gdGhpcy5fbm9kZXNbZV18fG51bGx9Z2V0Tm9kZUluZGV4KGUpe2NvbnN0IHQ9dGhpcy5fbm9kZXMuaW5kZXhPZihlKTtyZXR1cm4tMT09dD9udWxsOnR9Z2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpe2NvbnN0IHQ9dGhpcy5nZXROb2RlSW5kZXgoZSk7cmV0dXJuIG51bGw9PT10P251bGw6dGhpcy5fbm9kZXMuc2xpY2UoMCx0KS5yZWR1Y2UoKGUsdCk9PmUrdC5vZmZzZXRTaXplLDApfWluZGV4VG9PZmZzZXQoZSl7aWYoZT09dGhpcy5fbm9kZXMubGVuZ3RoKXJldHVybiB0aGlzLm1heE9mZnNldDtjb25zdCB0PXRoaXMuX25vZGVzW2VdO2lmKCF0KXRocm93IG5ldyBZYSgnbW9kZWwtbm9kZWxpc3QtaW5kZXgtb3V0LW9mLWJvdW5kczogR2l2ZW4gaW5kZXggY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuJyk7cmV0dXJuIHRoaXMuZ2V0Tm9kZVN0YXJ0T2Zmc2V0KHQpfW9mZnNldFRvSW5kZXgoZSl7bGV0IHQ9MDtmb3IoY29uc3QgbyBvZiB0aGlzLl9ub2Rlcyl7aWYoZT49dCYmZTx0K28ub2Zmc2V0U2l6ZSlyZXR1cm4gdGhpcy5nZXROb2RlSW5kZXgobyk7dCs9by5vZmZzZXRTaXplfWlmKHQhPWUpdGhyb3cgbmV3IFlhKCdtb2RlbC1ub2RlbGlzdC1vZmZzZXQtb3V0LW9mLWJvdW5kczogR2l2ZW4gb2Zmc2V0IGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgbm9kZSBsaXN0LicpO3JldHVybiB0aGlzLmxlbmd0aH1faW5zZXJ0Tm9kZXMoZSx0KXtmb3IoY29uc3QgbyBvZiB0KWlmKCEobyBpbnN0YW5jZW9mIER1KSl0aHJvdyBuZXcgWWEoJ21vZGVsLW5vZGVsaXN0LWluc2VydE5vZGVzLW5vdC1ub2RlOiBUcnlpbmcgdG8gaW5zZXJ0IGFuIG9iamVjdCB3aGljaCBpcyBub3QgYSBOb2RlIGluc3RhbmNlLicpO3RoaXMuX25vZGVzLnNwbGljZShlLDAsLi4udCl9X3JlbW92ZU5vZGVzKGUsdD0xKXtyZXR1cm4gdGhpcy5fbm9kZXMuc3BsaWNlKGUsdCl9dG9KU09OKCl7cmV0dXJuIHRoaXMuX25vZGVzLm1hcCgoZSk9PmUudG9KU09OKCkpfX1jbGFzcyBqdSBleHRlbmRzIER1e2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcih0KSx0aGlzLm5hbWU9ZSx0aGlzLl9jaGlsZHJlbj1uZXcgenUsbyYmdGhpcy5faW5zZXJ0Q2hpbGQoMCxvKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1pcyhlLHQ9bnVsbCl7cmV0dXJuIHQ/J2VsZW1lbnQnPT1lJiZ0PT10aGlzLm5hbWU6J2VsZW1lbnQnPT1lfHxlPT10aGlzLm5hbWV8fHN1cGVyLmlzKGUpfWdldENoaWxkKGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlKGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXRDaGlsZEluZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgoZSl9Z2V0Q2hpbGRTdGFydE9mZnNldChlKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpfW9mZnNldFRvSW5kZXgoZSl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm9mZnNldFRvSW5kZXgoZSl9Z2V0Tm9kZUJ5UGF0aChlKXtsZXQgdD10aGlzO2Zvcihjb25zdCBvIG9mIGUpdD10LmdldENoaWxkKHQub2Zmc2V0VG9JbmRleChvKSk7cmV0dXJuIHR9dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtpZihlLm5hbWU9dGhpcy5uYW1lLDA8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoKXtlLmNoaWxkcmVuPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NoaWxkcmVuKWUuY2hpbGRyZW4ucHVzaCh0LnRvSlNPTigpKX1yZXR1cm4gZX1fY2xvbmUoZT0hMSl7Y29uc3QgdD1lP0FycmF5LmZyb20odGhpcy5fY2hpbGRyZW4pLm1hcCgoZSk9PmUuX2Nsb25lKCEwKSk6bnVsbDtyZXR1cm4gbmV3IGp1KHRoaXMubmFtZSx0aGlzLmdldEF0dHJpYnV0ZXMoKSx0KX1fYXBwZW5kQ2hpbGQoZSl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LGUpfV9pbnNlcnRDaGlsZChlLHQpe2NvbnN0IG89YXQodCk7Zm9yKGNvbnN0IG4gb2YgbyludWxsIT09bi5wYXJlbnQmJm4uX3JlbW92ZSgpLG4ucGFyZW50PXRoaXM7dGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKGUsbyl9X3JlbW92ZUNoaWxkcmVuKGUsdD0xKXtjb25zdCBvPXRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2RlcyhlLHQpO2Zvcihjb25zdCBuIG9mIG8pbi5wYXJlbnQ9bnVsbDtyZXR1cm4gb31zdGF0aWMgZnJvbUpTT04oZSl7bGV0IHQ9bnVsbDtpZihlLmNoaWxkcmVuKXt0PVtdO2Zvcihjb25zdCBvIG9mIGUuY2hpbGRyZW4pby5uYW1lP3QucHVzaChqdS5mcm9tSlNPTihvKSk6dC5wdXNoKEJ1LmZyb21KU09OKG8pKX1yZXR1cm4gbmV3IGp1KGUubmFtZSxlLmF0dHJpYnV0ZXMsdCl9fWNsYXNzIHF1e2NvbnN0cnVjdG9yKGU9e30pe2lmKCFlLmJvdW5kYXJpZXMmJiFlLnN0YXJ0UG9zaXRpb24pdGhyb3cgbmV3IFlhKCdtb2RlbC10cmVlLXdhbGtlci1uby1zdGFydC1wb3NpdGlvbjogTmVpdGhlciBib3VuZGFyaWVzIG5vciBzdGFydGluZyBwb3NpdGlvbiBoYXZlIGJlZW4gZGVmaW5lZC4nKTtjb25zdCB0PWUuZGlyZWN0aW9ufHwnZm9yd2FyZCc7aWYoJ2ZvcndhcmQnIT10JiYnYmFja3dhcmQnIT10KXRocm93IG5ldyBZYSgnbW9kZWwtdHJlZS13YWxrZXItdW5rbm93bi1kaXJlY3Rpb246IE9ubHkgYGJhY2t3YXJkYCBhbmQgYGZvcndhcmRgIGRpcmVjdGlvbiBhbGxvd2VkLicse2RpcmVjdGlvbjp0fSk7dGhpcy5kaXJlY3Rpb249dCx0aGlzLmJvdW5kYXJpZXM9ZS5ib3VuZGFyaWVzfHxudWxsLHRoaXMucG9zaXRpb249ZS5zdGFydFBvc2l0aW9uP1V1LmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0UG9zaXRpb24pOlV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLmJvdW5kYXJpZXNbJ2JhY2t3YXJkJz09dGhpcy5kaXJlY3Rpb24/J2VuZCc6J3N0YXJ0J10pLHRoaXMuc2luZ2xlQ2hhcmFjdGVycz0hIWUuc2luZ2xlQ2hhcmFjdGVycyx0aGlzLnNoYWxsb3c9ISFlLnNoYWxsb3csdGhpcy5pZ25vcmVFbGVtZW50RW5kPSEhZS5pZ25vcmVFbGVtZW50RW5kLHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5zdGFydC5wYXJlbnQ6bnVsbCx0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLmVuZC5wYXJlbnQ6bnVsbCx0aGlzLl92aXNpdGVkUGFyZW50PXRoaXMucG9zaXRpb24ucGFyZW50fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcChlKXtsZXQgdCxvLG4saTtkbyBuPXRoaXMucG9zaXRpb24saT10aGlzLl92aXNpdGVkUGFyZW50LCh7ZG9uZTp0LHZhbHVlOm99PXRoaXMubmV4dCgpKTt3aGlsZSghdCYmZShvKSk7dHx8KHRoaXMucG9zaXRpb249bix0aGlzLl92aXNpdGVkUGFyZW50PWkpfW5leHQoKXtyZXR1cm4nZm9yd2FyZCc9PXRoaXMuZGlyZWN0aW9uP3RoaXMuX25leHQoKTp0aGlzLl9wcmV2aW91cygpfV9uZXh0KCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLHQ9VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLG89dGhpcy5fdmlzaXRlZFBhcmVudDtpZihudWxsPT09by5wYXJlbnQmJnQub2Zmc2V0PT09by5tYXhPZmZzZXQpcmV0dXJue2RvbmU6ITB9O2lmKG89PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KXJldHVybntkb25lOiEwfTtjb25zdCBuPXQudGV4dE5vZGU/dC50ZXh0Tm9kZTp0Lm5vZGVBZnRlcjtpZihuIGluc3RhbmNlb2YganUpcmV0dXJuIHRoaXMuc2hhbGxvdz90Lm9mZnNldCsrOih0LnBhdGgucHVzaCgwKSx0aGlzLl92aXNpdGVkUGFyZW50PW4pLHRoaXMucG9zaXRpb249dCxzdCgnZWxlbWVudFN0YXJ0JyxuLGUsdCwxKTtpZihuIGluc3RhbmNlb2YgQnUpe2xldCBpO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylpPTE7ZWxzZXtsZXQgZT1uLmVuZE9mZnNldDt0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD09byYmdGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQ8ZSYmKGU9dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpLGk9ZS10Lm9mZnNldH1jb25zdCByPXQub2Zmc2V0LW4uc3RhcnRPZmZzZXQsYT1uZXcgTHUobixyLGkpO3JldHVybiB0Lm9mZnNldCs9aSx0aGlzLnBvc2l0aW9uPXQsc3QoJ3RleHQnLGEsZSx0LGkpfXJldHVybiB0LnBhdGgucG9wKCksdC5vZmZzZXQrKyx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fdmlzaXRlZFBhcmVudD1vLnBhcmVudCx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fbmV4dCgpOnN0KCdlbGVtZW50RW5kJyxvLGUsdCl9X3ByZXZpb3VzKCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLHQ9VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLG89dGhpcy5fdmlzaXRlZFBhcmVudDtpZihudWxsPT09by5wYXJlbnQmJjA9PT10Lm9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobz09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2NvbnN0IG49dC50ZXh0Tm9kZT90LnRleHROb2RlOnQubm9kZUJlZm9yZTtpZihuIGluc3RhbmNlb2YganUpcmV0dXJuIHQub2Zmc2V0LS0sdGhpcy5zaGFsbG93Pyh0aGlzLnBvc2l0aW9uPXQsc3QoJ2VsZW1lbnRTdGFydCcsbixlLHQsMSkpOih0LnBhdGgucHVzaChuLm1heE9mZnNldCksdGhpcy5wb3NpdGlvbj10LHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9bix0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fcHJldmlvdXMoKTpzdCgnZWxlbWVudEVuZCcsbixlLHQpKTtpZihuIGluc3RhbmNlb2YgQnUpe2xldCBpO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylpPTE7ZWxzZXtsZXQgZT1uLnN0YXJ0T2Zmc2V0O3RoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9PW8mJnRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ+ZSYmKGU9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldCksaT10Lm9mZnNldC1lfWNvbnN0IHI9dC5vZmZzZXQtbi5zdGFydE9mZnNldCxhPW5ldyBMdShuLHItaSxpKTtyZXR1cm4gdC5vZmZzZXQtPWksdGhpcy5wb3NpdGlvbj10LHN0KCd0ZXh0JyxhLGUsdCxpKX1yZXR1cm4gdC5wYXRoLnBvcCgpLHRoaXMucG9zaXRpb249dCx0aGlzLl92aXNpdGVkUGFyZW50PW8ucGFyZW50LHN0KCdlbGVtZW50U3RhcnQnLG8sZSx0LDEpfX12YXIgV3U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZT9lLmxlbmd0aDowO3JldHVybiB0P2VbdC0xXTp2b2lkIDB9O2NsYXNzIFV1e2NvbnN0cnVjdG9yKGUsdCl7aWYoIWUuaXMoJ2VsZW1lbnQnKSYmIWUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl0aHJvdyBuZXcgWWEoJ21vZGVsLXBvc2l0aW9uLXJvb3QtaW52YWxpZDogUG9zaXRpb24gcm9vdCBpbnZhbGlkLicpO2lmKCEodCBpbnN0YW5jZW9mIEFycmF5KXx8MD09PXQubGVuZ3RoKXRocm93IG5ldyBZYSgnbW9kZWwtcG9zaXRpb24tcGF0aC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhdGggbXVzdCBiZSBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBpdGVtLicse3BhdGg6dH0pO3Q9ZS5nZXRQYXRoKCkuY29uY2F0KHQpLGU9ZS5yb290LHRoaXMucm9vdD1lLHRoaXMucGF0aD10fWdldCBvZmZzZXQoKXtyZXR1cm4gV3UodGhpcy5wYXRoKX1zZXQgb2Zmc2V0KGUpe3RoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdPWV9Z2V0IHBhcmVudCgpe2xldCBlPXRoaXMucm9vdDtmb3IobGV0IHQ9MDt0PHRoaXMucGF0aC5sZW5ndGgtMTt0KyspZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleCh0aGlzLnBhdGhbdF0pKTtyZXR1cm4gZX1nZXQgaW5kZXgoKXtyZXR1cm4gdGhpcy5wYXJlbnQub2Zmc2V0VG9JbmRleCh0aGlzLm9mZnNldCl9Z2V0IHRleHROb2RlKCl7Y29uc3QgZT10aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4KTtyZXR1cm4gZSBpbnN0YW5jZW9mIEJ1JiZlLnN0YXJ0T2Zmc2V0PHRoaXMub2Zmc2V0P2U6bnVsbH1nZXQgbm9kZUFmdGVyKCl7cmV0dXJuIG51bGw9PT10aGlzLnRleHROb2RlP3RoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgpOm51bGx9Z2V0IG5vZGVCZWZvcmUoKXtyZXR1cm4gbnVsbD09PXRoaXMudGV4dE5vZGU/dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleC0xKTpudWxsfWdldCBpc0F0U3RhcnQoKXtyZXR1cm4gMD09PXRoaXMub2Zmc2V0fWdldCBpc0F0RW5kKCl7cmV0dXJuIHRoaXMub2Zmc2V0PT10aGlzLnBhcmVudC5tYXhPZmZzZXR9Y29tcGFyZVdpdGgoZSl7aWYodGhpcy5yb290IT1lLnJvb3QpcmV0dXJuJ2RpZmZlcmVudCc7Y29uc3QgdD1BKHRoaXMucGF0aCxlLnBhdGgpO3JldHVybidzYW1lJz09PXQ/J3NhbWUnOidwcmVmaXgnPT09dD8nYmVmb3JlJzonZXh0ZW5zaW9uJz09PXQ/J2FmdGVyJzp0aGlzLnBhdGhbdF08ZS5wYXRoW3RdPydiZWZvcmUnOidhZnRlcid9Z2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oZSx0PXt9KXt0LnN0YXJ0UG9zaXRpb249dGhpcztjb25zdCBvPW5ldyBxdSh0KTtyZXR1cm4gby5za2lwKGUpLG8ucG9zaXRpb259Z2V0UGFyZW50UGF0aCgpe3JldHVybiB0aGlzLnBhdGguc2xpY2UoMCwtMSl9Z2V0QW5jZXN0b3JzKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKCdkb2N1bWVudEZyYWdtZW50Jyk/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uUGF0aChlKXtpZih0aGlzLnJvb3QhPWUucm9vdClyZXR1cm5bXTtjb25zdCB0PUEodGhpcy5wYXRoLGUucGF0aCksbz0nc3RyaW5nJz09dHlwZW9mIHQ/RGEodGhpcy5wYXRoLmxlbmd0aCxlLnBhdGgubGVuZ3RoKTp0O3JldHVybiB0aGlzLnBhdGguc2xpY2UoMCxvKX1nZXRDb21tb25BbmNlc3RvcihlKXtjb25zdCB0PXRoaXMuZ2V0QW5jZXN0b3JzKCksbz1lLmdldEFuY2VzdG9ycygpO2xldCBuPTA7Zm9yKDt0W25dPT1vW25dJiZ0W25dOyluKys7cmV0dXJuIDA9PW4/bnVsbDp0W24tMV19Z2V0U2hpZnRlZEJ5KGUpe2NvbnN0IHQ9VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpLG89dC5vZmZzZXQrZTtyZXR1cm4gdC5vZmZzZXQ9MD5vPzA6byx0fWlzQWZ0ZXIoZSl7cmV0dXJuJ2FmdGVyJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc0JlZm9yZShlKXtyZXR1cm4nYmVmb3JlJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc0VxdWFsKGUpe3JldHVybidzYW1lJz09dGhpcy5jb21wYXJlV2l0aChlKX1pc1RvdWNoaW5nKGUpe2xldCB0PW51bGwsbz1udWxsO2NvbnN0IG49dGhpcy5jb21wYXJlV2l0aChlKTtzd2l0Y2gobil7Y2FzZSdzYW1lJzpyZXR1cm4hMDtjYXNlJ2JlZm9yZSc6dD1VdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbz1VdS5jcmVhdGVGcm9tUG9zaXRpb24oZSk7YnJlYWs7Y2FzZSdhZnRlcic6dD1VdS5jcmVhdGVGcm9tUG9zaXRpb24oZSksbz1VdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMTt9Zm9yKGxldCBuPXQucGFyZW50O3QucGF0aC5sZW5ndGgrby5wYXRoLmxlbmd0aDspe2lmKHQuaXNFcXVhbChvKSlyZXR1cm4hMDtpZih0LnBhdGgubGVuZ3RoPm8ucGF0aC5sZW5ndGgpe2lmKHQub2Zmc2V0IT09bi5tYXhPZmZzZXQpcmV0dXJuITE7dC5wYXRoPXQucGF0aC5zbGljZSgwLC0xKSxuPW4ucGFyZW50LHQub2Zmc2V0Kyt9ZWxzZXtpZigwIT09by5vZmZzZXQpcmV0dXJuITE7by5wYXRoPW8ucGF0aC5zbGljZSgwLC0xKX19fV9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSx0KXtjb25zdCBvPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTtpZih0aGlzLnJvb3QhPWUucm9vdClyZXR1cm4gbztpZignc2FtZSc9PUEoZS5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtpZihlLm9mZnNldDx0aGlzLm9mZnNldCl7aWYoZS5vZmZzZXQrdD50aGlzLm9mZnNldClyZXR1cm4gbnVsbDtvLm9mZnNldC09dH19ZWxzZSBpZigncHJlZml4Jz09QShlLmdldFBhcmVudFBhdGgoKSx0aGlzLmdldFBhcmVudFBhdGgoKSkpe2NvbnN0IG49ZS5wYXRoLmxlbmd0aC0xO2lmKGUub2Zmc2V0PD10aGlzLnBhdGhbbl0pe2lmKGUub2Zmc2V0K3Q+dGhpcy5wYXRoW25dKXJldHVybiBudWxsO28ucGF0aFtuXS09dH19cmV0dXJuIG99X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LG8pe2NvbnN0IG49VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpO2lmKHRoaXMucm9vdCE9ZS5yb290KXJldHVybiBuO2lmKCdzYW1lJz09QShlLmdldFBhcmVudFBhdGgoKSx0aGlzLmdldFBhcmVudFBhdGgoKSkpKGUub2Zmc2V0PHRoaXMub2Zmc2V0fHxlLm9mZnNldD09dGhpcy5vZmZzZXQmJm8pJiYobi5vZmZzZXQrPXQpO2Vsc2UgaWYoJ3ByZWZpeCc9PUEoZS5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtjb25zdCBvPWUucGF0aC5sZW5ndGgtMTtlLm9mZnNldDw9dGhpcy5wYXRoW29dJiYobi5wYXRoW29dKz10KX1yZXR1cm4gbn1fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZSx0LG8sbixpKXtsZXQgcj10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKTtyZXR1cm4gdD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKSxyPW51bGw9PT1yfHxpJiZyLmlzRXF1YWwoZSk/dGhpcy5fZ2V0Q29tYmluZWQoZSx0KTpyLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsbyxuKSxyfV9nZXRDb21iaW5lZChlLHQpe2NvbnN0IG89ZS5wYXRoLmxlbmd0aC0xLG49VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3JldHVybiBuLm9mZnNldD1uLm9mZnNldCt0aGlzLnBhdGhbb10tZS5vZmZzZXQsbi5wYXRoPW4ucGF0aC5jb25jYXQodGhpcy5wYXRoLnNsaWNlKG8rMSkpLG59c3RhdGljIGNyZWF0ZUF0KGUsdCl7aWYoZSBpbnN0YW5jZW9mIFV1KXJldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKTtlbHNle2NvbnN0IG89ZTtpZignZW5kJz09dCl0PW8ubWF4T2Zmc2V0O2Vsc2V7aWYoJ2JlZm9yZSc9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQmVmb3JlKG8pO2lmKCdhZnRlcic9PXQpcmV0dXJuIHRoaXMuY3JlYXRlQWZ0ZXIobyk7dHx8KHQ9MCl9cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChvLHQpfX1zdGF0aWMgY3JlYXRlQWZ0ZXIoZSl7aWYoIWUucGFyZW50KXRocm93IG5ldyBZYSgnbW9kZWwtcG9zaXRpb24tYWZ0ZXItcm9vdDogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYWZ0ZXIgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUucGFyZW50LGUuZW5kT2Zmc2V0KX1zdGF0aWMgY3JlYXRlQmVmb3JlKGUpe2lmKCFlLnBhcmVudCl0aHJvdyBuZXcgWWEoJ21vZGVsLXBvc2l0aW9uLWJlZm9yZS1yb290OiBZb3UgY2Fubm90IG1ha2UgYSBwb3NpdGlvbiBiZWZvcmUgcm9vdC4nLHtyb290OmV9KTtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUucGFyZW50LGUuc3RhcnRPZmZzZXQpfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGUsdCl7aWYoIWUuaXMoJ2VsZW1lbnQnKSYmIWUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl0aHJvdyBuZXcgWWEoJ21vZGVsLXBvc2l0aW9uLXBhcmVudC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhcmVudCBoYXZlIHRvIGJlIGEgZWxlbWVudCBvciBkb2N1bWVudCBmcmFnbWVudC4nKTtjb25zdCBvPWUuZ2V0UGF0aCgpO3JldHVybiBvLnB1c2godCksbmV3IHRoaXMoZS5yb290LG8pfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb24oZSl7cmV0dXJuIG5ldyB0aGlzKGUucm9vdCxlLnBhdGguc2xpY2UoKSl9c3RhdGljIGZyb21KU09OKGUsdCl7aWYoJyRncmF2ZXlhcmQnPT09ZS5yb290KXJldHVybiBuZXcgVXUodC5ncmF2ZXlhcmQsZS5wYXRoKTtpZighdC5nZXRSb290KGUucm9vdCkpdGhyb3cgbmV3IFlhKCdtb2RlbC1wb3NpdGlvbi1mcm9tanNvbi1uby1yb290OiBDYW5ub3QgY3JlYXRlIHBvc2l0aW9uIGZvciBkb2N1bWVudC4gUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0Licse3Jvb3ROYW1lOmUucm9vdH0pO3JldHVybiBuZXcgVXUodC5nZXRSb290KGUucm9vdCksZS5wYXRoKX19Y2xhc3MgSHV7Y29uc3RydWN0b3IoZSx0PW51bGwpe3RoaXMuc3RhcnQ9VXUuY3JlYXRlRnJvbVBvc2l0aW9uKGUpLHRoaXMuZW5kPXQ/VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpOlV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKX0qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCpuZXcgcXUoe2JvdW5kYXJpZXM6dGhpcyxpZ25vcmVFbGVtZW50RW5kOiEwfSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbCh0aGlzLmVuZCl9Z2V0IGlzRmxhdCgpe3JldHVybiB0aGlzLnN0YXJ0LnBhcmVudD09PXRoaXMuZW5kLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnN0YXJ0LnJvb3R9Y29udGFpbnNQb3NpdGlvbihlKXtyZXR1cm4gZS5pc0FmdGVyKHRoaXMuc3RhcnQpJiZlLmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKGUsdD0hMSl7ZS5pc0NvbGxhcHNlZCYmKHQ9ITEpO2NvbnN0IG89dGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpfHx0JiZ0aGlzLnN0YXJ0LmlzRXF1YWwoZS5zdGFydCksbj10aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpfHx0JiZ0aGlzLmVuZC5pc0VxdWFsKGUuZW5kKTtyZXR1cm4gbyYmbn1jb250YWluc0l0ZW0oZSl7Y29uc3QgdD1VdS5jcmVhdGVCZWZvcmUoZSk7cmV0dXJuIHRoaXMuY29udGFpbnNQb3NpdGlvbih0KXx8dGhpcy5zdGFydC5pc0VxdWFsKHQpfWlzRXF1YWwoZSl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KSYmdGhpcy5lbmQuaXNFcXVhbChlLmVuZCl9aXNJbnRlcnNlY3RpbmcoZSl7cmV0dXJuIHRoaXMuc3RhcnQuaXNCZWZvcmUoZS5lbmQpJiZ0aGlzLmVuZC5pc0FmdGVyKGUuc3RhcnQpfWdldERpZmZlcmVuY2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5pc0ludGVyc2VjdGluZyhlKT8odGhpcy5jb250YWluc1Bvc2l0aW9uKGUuc3RhcnQpJiZ0LnB1c2gobmV3IEh1KHRoaXMuc3RhcnQsZS5zdGFydCkpLHRoaXMuY29udGFpbnNQb3NpdGlvbihlLmVuZCkmJnQucHVzaChuZXcgSHUoZS5lbmQsdGhpcy5lbmQpKSk6dC5wdXNoKEh1LmNyZWF0ZUZyb21SYW5nZSh0aGlzKSksdH1nZXRJbnRlcnNlY3Rpb24oZSl7aWYodGhpcy5pc0ludGVyc2VjdGluZyhlKSl7bGV0IHQ9dGhpcy5zdGFydCxvPXRoaXMuZW5kO3JldHVybiB0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5zdGFydCkmJih0PWUuc3RhcnQpLHRoaXMuY29udGFpbnNQb3NpdGlvbihlLmVuZCkmJihvPWUuZW5kKSxuZXcgSHUodCxvKX1yZXR1cm4gbnVsbH1nZXRNaW5pbWFsRmxhdFJhbmdlcygpe2NvbnN0IGU9W10sdD10aGlzLnN0YXJ0LmdldENvbW1vblBhdGgodGhpcy5lbmQpLmxlbmd0aCxvPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnN0YXJ0KTtmb3IobGV0IG49by5wYXJlbnQ7by5wYXRoLmxlbmd0aD50KzE7KXtjb25zdCB0PW4ubWF4T2Zmc2V0LW8ub2Zmc2V0OzAhPXQmJmUucHVzaChuZXcgSHUobyxvLmdldFNoaWZ0ZWRCeSh0KSkpLG8ucGF0aD1vLnBhdGguc2xpY2UoMCwtMSksby5vZmZzZXQrKyxuPW4ucGFyZW50fWZvcig7by5wYXRoLmxlbmd0aDw9dGhpcy5lbmQucGF0aC5sZW5ndGg7KXtjb25zdCB0PXRoaXMuZW5kLnBhdGhbby5wYXRoLmxlbmd0aC0xXSxuPXQtby5vZmZzZXQ7MCE9biYmZS5wdXNoKG5ldyBIdShvLG8uZ2V0U2hpZnRlZEJ5KG4pKSksby5vZmZzZXQ9dCxvLnBhdGgucHVzaCgwKX1yZXR1cm4gZX1nZXRXYWxrZXIoZT17fSl7cmV0dXJuIGUuYm91bmRhcmllcz10aGlzLG5ldyBxdShlKX0qZ2V0SXRlbXMoZT17fSl7ZS5ib3VuZGFyaWVzPXRoaXMsZS5pZ25vcmVFbGVtZW50RW5kPSEwO2NvbnN0IHQ9bmV3IHF1KGUpO2Zvcihjb25zdCBvIG9mIHQpeWllbGQgby5pdGVtfSpnZXRQb3NpdGlvbnMoZT17fSl7ZS5ib3VuZGFyaWVzPXRoaXM7Y29uc3QgdD1uZXcgcXUoZSk7eWllbGQgdC5wb3NpdGlvbjtmb3IoY29uc3QgbyBvZiB0KXlpZWxkIG8ubmV4dFBvc2l0aW9ufWdldFRyYW5zZm9ybWVkQnlEZWx0YShlKXtjb25zdCB0PVtIdS5jcmVhdGVGcm9tUmFuZ2UodGhpcyldLG89bmV3IFNldChbJ2luc2VydCcsJ21vdmUnLCdyZW1vdmUnLCdyZWluc2VydCddKTtmb3IoY29uc3QgbiBvZiBlLm9wZXJhdGlvbnMpaWYoby5oYXMobi50eXBlKSlmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7bGV0IGk7aT0naW5zZXJ0Jz09bi50eXBlP3Rbb10uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShuLnR5cGUsZS50eXBlLG4ucG9zaXRpb24sbi5ub2Rlcy5tYXhPZmZzZXQpOnRbb10uX2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShuLnR5cGUsZS50eXBlLG4udGFyZ2V0UG9zaXRpb24sbi5ob3dNYW55LG4uc291cmNlUG9zaXRpb24pLHQuc3BsaWNlKG8sMSwuLi5pKSxvKz1pLmxlbmd0aC0xfXJldHVybiB0fWdldFRyYW5zZm9ybWVkQnlEZWx0YXMoZSl7Y29uc3QgdD1bSHUuY3JlYXRlRnJvbVJhbmdlKHRoaXMpXTtmb3IoY29uc3QgbyBvZiBlKWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV0uZ2V0VHJhbnNmb3JtZWRCeURlbHRhKG8pO3Quc3BsaWNlKGUsMSwuLi5uKSxlKz1uLmxlbmd0aC0xfWZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbb107Zm9yKGxldCBuPW8rMTtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dOyhlLmNvbnRhaW5zUmFuZ2Uobyl8fG8uY29udGFpbnNSYW5nZShlKXx8ZS5pc0VxdWFsKG8pKSYmdC5zcGxpY2UobiwxKX19cmV0dXJuIHR9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9X2dldFRyYW5zZm9ybWVkQnlEb2N1bWVudENoYW5nZShlLHQsbyxuLGkpe2lmKCdpbnNlcnQnPT1lKXJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKG8sbiwhMSwhMSk7ZWxzZXtjb25zdCBlPUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGksbik7aWYoJ21lcmdlJz09dCYmdGhpcy5pc0NvbGxhcHNlZCYmKHRoaXMuc3RhcnQuaXNFcXVhbChlLnN0YXJ0KXx8dGhpcy5zdGFydC5pc0VxdWFsKGUuZW5kKSkpe2NvbnN0IHQ9dGhpcy5zdGFydC5vZmZzZXQtZS5zdGFydC5vZmZzZXQ7cmV0dXJuW25ldyBIdShvLmdldFNoaWZ0ZWRCeSh0KSldfWlmKCdzcGxpdCc9PXQmJnRoaXMuaXNDb2xsYXBzZWQmJnRoaXMuZW5kLmlzRXF1YWwoZS5lbmQpKXJldHVybltuZXcgSHUoby5nZXRTaGlmdGVkQnkobikpXTtpZigoZS5jb250YWluc1Bvc2l0aW9uKHRoaXMuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodGhpcy5zdGFydCkpJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24oZS5lbmQpJiZ0aGlzLmVuZC5pc0FmdGVyKG8pKXtjb25zdCBlPXRoaXMuc3RhcnQuX2dldENvbWJpbmVkKGksby5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGksbikpLHQ9dGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGksbyxuLCExLCExKTtyZXR1cm5bbmV3IEh1KGUsdCldfWlmKChlLmNvbnRhaW5zUG9zaXRpb24odGhpcy5lbmQpfHxlLmVuZC5pc0VxdWFsKHRoaXMuZW5kKSkmJnRoaXMuY29udGFpbnNQb3NpdGlvbihlLnN0YXJ0KSYmdGhpcy5zdGFydC5pc0JlZm9yZShvKSl7Y29uc3QgZT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShpLG8sbiwhMCwhMSksdD10aGlzLmVuZC5fZ2V0Q29tYmluZWQoaSxvLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oaSxuKSk7cmV0dXJuW25ldyBIdShlLHQpXX1yZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoaSxvLG4pfX1fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLHQsbz0hMSxuPSExKXtpZihvJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSkpcmV0dXJuW25ldyBIdSh0aGlzLnN0YXJ0LGUpLG5ldyBIdShlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUsdCwhMCksdGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LHRoaXMuaXNDb2xsYXBzZWQpKV07ZWxzZXtjb25zdCBvPUh1LmNyZWF0ZUZyb21SYW5nZSh0aGlzKSxpPSEhby5pc0NvbGxhcHNlZHx8bjtyZXR1cm4gby5zdGFydD1vLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUsdCwhbiksby5lbmQ9by5lbmQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSx0LGkpLFtvXX19X2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUsdCxvKXtpZih0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBuPXRoaXMuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUsdCxvLCEwLCExKTtyZXR1cm5bbmV3IEh1KG4pXX1sZXQgbjtjb25zdCBpPW5ldyBIdShlLGUuZ2V0U2hpZnRlZEJ5KG8pKSxyPXRoaXMuZ2V0RGlmZmVyZW5jZShpKTtsZXQgYT1udWxsO2NvbnN0IHM9dGhpcy5nZXRJbnRlcnNlY3Rpb24oaSk7MT09ci5sZW5ndGg/YT1uZXcgSHUoclswXS5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUsbyksclswXS5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLG8pKToyPT1yLmxlbmd0aCYmKGE9bmV3IEh1KHRoaXMuc3RhcnQsdGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLG8pKSk7Y29uc3QgbD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZSxvKTtyZXR1cm4gbj1hP2EuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24obCxvLG51bGwhPT1zKTpbXSxzJiZuLnB1c2gobmV3IEh1KHMuc3RhcnQuX2dldENvbWJpbmVkKGkuc3RhcnQsbCkscy5lbmQuX2dldENvbWJpbmVkKGkuc3RhcnQsbCkpKSxufXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLHQpe2NvbnN0IG89ZSxuPWUuZ2V0U2hpZnRlZEJ5KHQpO3JldHVybiAwPHQ/bmV3IHRoaXMobyxuKTpuZXcgdGhpcyhuLG8pfXN0YXRpYyBjcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0LG8sbil7cmV0dXJuIG5ldyB0aGlzKFV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoZSx0KSxVdS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG8sbikpfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2UoZSl7cmV0dXJuIG5ldyB0aGlzKGUuc3RhcnQsZS5lbmQpfXN0YXRpYyBjcmVhdGVJbihlKXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSwwLGUsZS5tYXhPZmZzZXQpfXN0YXRpYyBjcmVhdGVPbihlKXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChVdS5jcmVhdGVCZWZvcmUoZSksZS5vZmZzZXRTaXplKX1zdGF0aWMgY3JlYXRlQ29sbGFwc2VkQXQoZSx0KXtjb25zdCBvPVV1LmNyZWF0ZUF0KGUsdCksbj1VdS5jcmVhdGVGcm9tUG9zaXRpb24obyk7cmV0dXJuIG5ldyBIdShvLG4pfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2VzKGUpe2lmKDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgWWEoJ3JhbmdlLWNyZWF0ZS1mcm9tLXJhbmdlcy1lbXB0eS1hcnJheTogQXQgbGVhc3Qgb25lIHJhbmdlIGhhcyB0byBiZSBwYXNzZWQuJyk7ZWxzZSBpZigxPT1lLmxlbmd0aClyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUmFuZ2UoZVswXSk7Y29uc3QgdD1lWzBdO2Uuc29ydCgoZSx0KT0+ZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpPzE6LTEpO2NvbnN0IG89ZS5pbmRleE9mKHQpLG49bmV3IHRoaXModC5zdGFydCx0LmVuZCk7Zm9yKGxldCB0PW8tMTswPD10JiZlW3RdLmVuZC5pc0VxdWFsKG4uc3RhcnQpO3QrKyluLnN0YXJ0PVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlW3RdLnN0YXJ0KTtmb3IobGV0IHQ9bysxO3Q8ZS5sZW5ndGgmJmVbdF0uc3RhcnQuaXNFcXVhbChuLmVuZCk7dCsrKW4uZW5kPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlW3RdLmVuZCk7cmV0dXJuIG59c3RhdGljIGZyb21KU09OKGUsdCl7cmV0dXJuIG5ldyB0aGlzKFV1LmZyb21KU09OKGUuc3RhcnQsdCksVXUuZnJvbUpTT04oZS5lbmQsdCkpfX1jbGFzcyBLdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3M9bmV3IE1hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwLHRoaXMub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLChlLHQpPT57aWYoIXQudmlld1Bvc2l0aW9uKXtjb25zdCBlPXRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQodC5tb2RlbFBvc2l0aW9uLnBhcmVudCk7dC52aWV3UG9zaXRpb249dGhpcy5fZmluZFBvc2l0aW9uSW4oZSx0Lm1vZGVsUG9zaXRpb24ub2Zmc2V0KX19LHtwcmlvcml0eTonbG93J30pLHRoaXMub24oJ3ZpZXdUb01vZGVsUG9zaXRpb24nLChlLHQpPT57aWYodC5tb2RlbFBvc2l0aW9uKXJldHVybjtsZXQgbz10LnZpZXdQb3NpdGlvbi5wYXJlbnQsbj10aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KG8pO2Zvcig7IW47KW89by5wYXJlbnQsbj10aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KG8pO2NvbnN0IGk9dGhpcy5fdG9Nb2RlbE9mZnNldCh0LnZpZXdQb3NpdGlvbi5wYXJlbnQsdC52aWV3UG9zaXRpb24ub2Zmc2V0LG8pO3QubW9kZWxQb3NpdGlvbj1VdS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG4saSl9LHtwcmlvcml0eTonbG93J30pfWJpbmRFbGVtZW50cyhlLHQpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5zZXQoZSx0KSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuc2V0KHQsZSl9dW5iaW5kVmlld0VsZW1lbnQoZSl7Y29uc3QgdD10aGlzLnRvTW9kZWxFbGVtZW50KGUpO3RoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUoZSksdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmdldCh0KT09ZSYmdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZSh0KX11bmJpbmRNb2RlbEVsZW1lbnQoZSl7Y29uc3QgdD10aGlzLnRvVmlld0VsZW1lbnQoZSk7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmRlbGV0ZShlKSx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KHQpPT1lJiZ0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZGVsZXRlKHQpfWJpbmRFbGVtZW50VG9NYXJrZXIoZSx0KXtjb25zdCBvPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldCh0KXx8bmV3IFNldDtvLmFkZChlKSx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5zZXQodCxvKX11bmJpbmRFbGVtZW50c0Zyb21NYXJrZXJOYW1lKGUpe3RoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmRlbGV0ZShlKX1jbGVhckJpbmRpbmdzKCl7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwfXRvTW9kZWxFbGVtZW50KGUpe3JldHVybiB0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZ2V0KGUpfXRvVmlld0VsZW1lbnQoZSl7cmV0dXJuIHRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQoZSl9dG9Nb2RlbFJhbmdlKGUpe3JldHVybiBuZXcgSHUodGhpcy50b01vZGVsUG9zaXRpb24oZS5zdGFydCksdGhpcy50b01vZGVsUG9zaXRpb24oZS5lbmQpKX10b1ZpZXdSYW5nZShlKXtyZXR1cm4gbmV3IHljKHRoaXMudG9WaWV3UG9zaXRpb24oZS5zdGFydCksdGhpcy50b1ZpZXdQb3NpdGlvbihlLmVuZCkpfXRvTW9kZWxQb3NpdGlvbihlKXtjb25zdCB0PXt2aWV3UG9zaXRpb246ZSxtYXBwZXI6dGhpc307cmV0dXJuIHRoaXMuZmlyZSgndmlld1RvTW9kZWxQb3NpdGlvbicsdCksdC5tb2RlbFBvc2l0aW9ufXRvVmlld1Bvc2l0aW9uKGUsdD17aXNQaGFudG9tOiExfSl7Y29uc3Qgbz17bW9kZWxQb3NpdGlvbjplLG1hcHBlcjp0aGlzLGlzUGhhbnRvbTp0LmlzUGhhbnRvbX07cmV0dXJuIHRoaXMuZmlyZSgnbW9kZWxUb1ZpZXdQb3NpdGlvbicsbyksby52aWV3UG9zaXRpb259bWFya2VyTmFtZVRvRWxlbWVudHMoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5nZXQoZSk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3Qgbz1uZXcgU2V0O2Zvcihjb25zdCBuIG9mIHQpaWYobi5pcygnYXR0cmlidXRlRWxlbWVudCcpKWZvcihjb25zdCBlIG9mIG4uZ2V0RWxlbWVudHNXaXRoU2FtZUlkKCkpby5hZGQoZSk7ZWxzZSBvLmFkZChuKTtyZXR1cm4gb31yZWdpc3RlclZpZXdUb01vZGVsTGVuZ3RoKGUsdCl7dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3Muc2V0KGUsdCl9X3RvTW9kZWxPZmZzZXQoZSx0LG8pe2lmKG8hPWUpe2NvbnN0IG49dGhpcy5fdG9Nb2RlbE9mZnNldChlLnBhcmVudCxlLmluZGV4LG8pLGk9dGhpcy5fdG9Nb2RlbE9mZnNldChlLHQsZSk7cmV0dXJuIG4raX1pZihlLmlzKCd0ZXh0JykpcmV0dXJuIHQ7bGV0IG49MDtmb3IobGV0IHI9MDtyPHQ7cisrKW4rPXRoaXMuZ2V0TW9kZWxMZW5ndGgoZS5nZXRDaGlsZChyKSk7cmV0dXJuIG59Z2V0TW9kZWxMZW5ndGgoZSl7aWYodGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KGUubmFtZSkpe2NvbnN0IHQ9dGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KGUubmFtZSk7cmV0dXJuIHQoZSl9aWYodGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmhhcyhlKSlyZXR1cm4gMTtpZihlLmlzKCd0ZXh0JykpcmV0dXJuIGUuZGF0YS5sZW5ndGg7aWYoZS5pcygndWlFbGVtZW50JykpcmV0dXJuIDA7ZWxzZXtsZXQgdD0wO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hpbGRyZW4oKSl0Kz10aGlzLmdldE1vZGVsTGVuZ3RoKG8pO3JldHVybiB0fX1fZmluZFBvc2l0aW9uSW4oZSx0KXtsZXQgbz0wLG49MCxpPTAscjtpZihlLmlzKCd0ZXh0JykpcmV0dXJuIG5ldyB2YyhlLHQpO2Zvcig7bjx0OylyPWUuZ2V0Q2hpbGQoaSksbz10aGlzLmdldE1vZGVsTGVuZ3RoKHIpLG4rPW8saSsrO3JldHVybiBuPT10P3RoaXMuX21vdmVWaWV3UG9zaXRpb25Ub1RleHROb2RlKG5ldyB2YyhlLGkpKTp0aGlzLl9maW5kUG9zaXRpb25JbihyLHQtKG4tbykpfV9tb3ZlVmlld1Bvc2l0aW9uVG9UZXh0Tm9kZShlKXtjb25zdCB0PWUubm9kZUJlZm9yZSxvPWUubm9kZUFmdGVyO2lmKHQgaW5zdGFuY2VvZiBFZClyZXR1cm4gbmV3IHZjKHQsdC5kYXRhLmxlbmd0aCk7cmV0dXJuIG8gaW5zdGFuY2VvZiBFZD9uZXcgdmMobywwKTplfX1mKEt1LHJzKTtjbGFzcyBHdXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGU9bmV3IE1hcCx0aGlzLl90ZXh0UHJveHlSZWdpc3RyeT1uZXcgTWFwfWFkZChlLHQpe3Q9bHQodCksZSBpbnN0YW5jZW9mIEx1JiYoZT10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSkpLHRoaXMuX2NvbnN1bWFibGUuaGFzKGUpfHx0aGlzLl9jb25zdW1hYmxlLnNldChlLG5ldyBNYXApLHRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpLnNldCh0LCEwKX1jb25zdW1lKGUsdCl7cmV0dXJuIHQ9bHQodCksZSBpbnN0YW5jZW9mIEx1JiYoZT10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSkpLCEhdGhpcy50ZXN0KGUsdCkmJih0aGlzLl9jb25zdW1hYmxlLmdldChlKS5zZXQodCwhMSksITApfXRlc3QoZSx0KXt0PWx0KHQpLGUgaW5zdGFuY2VvZiBMdSYmKGU9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KGUpKTtjb25zdCBvPXRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpO2lmKG89PT12b2lkIDApcmV0dXJuIG51bGw7Y29uc3Qgbj1vLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09bj9udWxsOm59cmV2ZXJ0KGUsdCl7dD1sdCh0KSxlIGluc3RhbmNlb2YgTHUmJihlPXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eShlKSk7Y29uc3Qgbz10aGlzLnRlc3QoZSx0KTtyZXR1cm4hMT09PW8/KHRoaXMuX2NvbnN1bWFibGUuZ2V0KGUpLnNldCh0LCEwKSwhMCk6ITAhPT1vJiZudWxsfV9nZXRTeW1ib2xGb3JUZXh0UHJveHkoZSl7bGV0IHQ9bnVsbDtjb25zdCBvPXRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5LmdldChlLnN0YXJ0T2Zmc2V0KTtpZihvKXtjb25zdCBuPW8uZ2V0KGUuZW5kT2Zmc2V0KTtuJiYodD1uLmdldChlLnBhcmVudCkpfXJldHVybiB0fHwodD10aGlzLl9hZGRTeW1ib2xGb3JUZXh0UHJveHkoZS5zdGFydE9mZnNldCxlLmVuZE9mZnNldCxlLnBhcmVudCkpLHR9X2FkZFN5bWJvbEZvclRleHRQcm94eShlLHQsbyl7Y29uc3Qgbj1TeW1ib2woJ3RleHRQcm94eVN5bWJvbCcpO2xldCBpLHI7cmV0dXJuIGk9dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuZ2V0KGUpLGl8fChpPW5ldyBNYXAsdGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuc2V0KGUsaSkpLHI9aS5nZXQodCkscnx8KHI9bmV3IE1hcCxpLnNldCh0LHIpKSxyLnNldChvLG4pLG59fWNsYXNzICR1e2NvbnN0cnVjdG9yKGU9e30pe3RoaXMuY29udmVyc2lvbkFwaT1jYyh7ZGlzcGF0Y2hlcjp0aGlzfSxlKX1jb252ZXJ0Q2hhbmdlcyhlLHQpe2Zvcihjb25zdCBvIG9mIGUuZ2V0TWFya2Vyc1RvUmVtb3ZlKCkpdGhpcy5jb252ZXJ0TWFya2VyUmVtb3ZlKG8ubmFtZSxvLnJhbmdlLHQpO2Zvcihjb25zdCBvIG9mIGUuZ2V0Q2hhbmdlcygpKSdpbnNlcnQnPT1vLnR5cGU/dGhpcy5jb252ZXJ0SW5zZXJ0KEh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG8ucG9zaXRpb24sby5sZW5ndGgpLHQpOidyZW1vdmUnPT1vLnR5cGU/dGhpcy5jb252ZXJ0UmVtb3ZlKG8ucG9zaXRpb24sby5sZW5ndGgsby5uYW1lLHQpOnRoaXMuY29udmVydEF0dHJpYnV0ZShvLnJhbmdlLG8uYXR0cmlidXRlS2V5LG8uYXR0cmlidXRlT2xkVmFsdWUsby5hdHRyaWJ1dGVOZXdWYWx1ZSx0KTtmb3IoY29uc3QgbyBvZiBlLmdldE1hcmtlcnNUb0FkZCgpKXRoaXMuY29udmVydE1hcmtlckFkZChvLm5hbWUsby5yYW5nZSx0KX1jb252ZXJ0SW5zZXJ0KGUsdCl7dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj10LHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUluc2VydENvbnN1bWFibGUoZSk7Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1vLml0ZW0sdD1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChvLnByZXZpb3VzUG9zaXRpb24sby5sZW5ndGgpLG49e2l0ZW06ZSxyYW5nZTp0fTt0aGlzLl90ZXN0QW5kRmlyZSgnaW5zZXJ0JyxuKTtmb3IoY29uc3QgdCBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSluLmF0dHJpYnV0ZUtleT10LG4uYXR0cmlidXRlT2xkVmFsdWU9bnVsbCxuLmF0dHJpYnV0ZU5ld1ZhbHVlPWUuZ2V0QXR0cmlidXRlKHQpLHRoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHt0fWAsbil9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFJlbW92ZShlLHQsbyxuKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW4sdGhpcy5maXJlKCdyZW1vdmU6JytvLHtwb3NpdGlvbjplLGxlbmd0aDp0fSx0aGlzLmNvbnZlcnNpb25BcGkpLHRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRBdHRyaWJ1dGUoZSx0LG8sbixpKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKGUsYGF0dHJpYnV0ZToke3R9YCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLml0ZW0saT1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChyLnByZXZpb3VzUG9zaXRpb24sci5sZW5ndGgpO3RoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHt0fWAse2l0ZW06ZSxyYW5nZTppLGF0dHJpYnV0ZUtleTp0LGF0dHJpYnV0ZU9sZFZhbHVlOm8sYXR0cmlidXRlTmV3VmFsdWU6bn0pfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRTZWxlY3Rpb24oZSx0LG8pe2NvbnN0IG49QXJyYXkuZnJvbSh0LmdldE1hcmtlcnNBdFBvc2l0aW9uKGUuZ2V0Rmlyc3RQb3NpdGlvbigpKSk7aWYodGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1vLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUoZSxuKSx0aGlzLmZpcmUoJ3NlbGVjdGlvbicse3NlbGVjdGlvbjplfSx0aGlzLmNvbnZlcnNpb25BcGkpLCEhZS5pc0NvbGxhcHNlZCl7Zm9yKGNvbnN0IHQgb2Ygbil7Y29uc3Qgbz10LmdldFJhbmdlKCk7aWYoIWR0KGUuZ2V0Rmlyc3RQb3NpdGlvbigpLHQsdGhpcy5jb252ZXJzaW9uQXBpLm1hcHBlcikpY29udGludWU7Y29uc3Qgbj17aXRlbTplLG1hcmtlck5hbWU6dC5uYW1lLG1hcmtlclJhbmdlOm99O3RoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZSwnYWRkTWFya2VyOicrdC5uYW1lKSYmdGhpcy5maXJlKCdhZGRNYXJrZXI6Jyt0Lm5hbWUsbix0aGlzLmNvbnZlcnNpb25BcGkpfWZvcihjb25zdCB0IG9mIGUuZ2V0QXR0cmlidXRlS2V5cygpKXtjb25zdCBvPXtpdGVtOmUscmFuZ2U6ZS5nZXRGaXJzdFJhbmdlKCksYXR0cmlidXRlS2V5OnQsYXR0cmlidXRlT2xkVmFsdWU6bnVsbCxhdHRyaWJ1dGVOZXdWYWx1ZTplLmdldEF0dHJpYnV0ZSh0KX07dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdChlLCdhdHRyaWJ1dGU6JytvLmF0dHJpYnV0ZUtleSkmJnRoaXMuZmlyZSgnYXR0cmlidXRlOicrby5hdHRyaWJ1dGVLZXksbyx0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfX1jb252ZXJ0TWFya2VyQWRkKGUsdCxvKXtpZih0LnJvb3QuZG9jdW1lbnQmJickZ3JhdmV5YXJkJyE9dC5yb290LnJvb3ROYW1lKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW87Y29uc3Qgbj0nYWRkTWFya2VyOicrZTtpZih0LmlzQ29sbGFwc2VkKXtjb25zdCBvPW5ldyBHdTtyZXR1cm4gby5hZGQodCxuKSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT1vLHZvaWQgdGhpcy5maXJlKG4se21hcmtlck5hbWU6ZSxtYXJrZXJSYW5nZTp0fSx0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUNvbnN1bWFibGVGb3JSYW5nZSh0LG4pO2Zvcihjb25zdCBvIG9mIHQuZ2V0SXRlbXMoKSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QobyxuKSljb250aW51ZTtjb25zdCBpPXtpdGVtOm8scmFuZ2U6SHUuY3JlYXRlT24obyksbWFya2VyTmFtZTplLG1hcmtlclJhbmdlOnR9O3RoaXMuZmlyZShuLGksdGhpcy5jb252ZXJzaW9uQXBpKX10aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX19Y29udmVydE1hcmtlclJlbW92ZShlLHQsbyl7dC5yb290LmRvY3VtZW50JiYnJGdyYXZleWFyZCchPXQucm9vdC5yb290TmFtZSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9byx0aGlzLmZpcmUoJ3JlbW92ZU1hcmtlcjonK2Use21hcmtlck5hbWU6ZSxtYXJrZXJSYW5nZTp0fSx0aGlzLmNvbnZlcnNpb25BcGkpLHRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpKX1fY3JlYXRlSW5zZXJ0Q29uc3VtYWJsZShlKXtjb25zdCB0PW5ldyBHdTtmb3IoY29uc3QgbyBvZiBlKXtjb25zdCBlPW8uaXRlbTt0LmFkZChlLCdpbnNlcnQnKTtmb3IoY29uc3QgbyBvZiBlLmdldEF0dHJpYnV0ZUtleXMoKSl0LmFkZChlLCdhdHRyaWJ1dGU6JytvKX1yZXR1cm4gdH1fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKGUsdCl7Y29uc3Qgbz1uZXcgR3U7Zm9yKGNvbnN0IG4gb2YgZS5nZXRJdGVtcygpKW8uYWRkKG4sdCk7cmV0dXJuIG99X2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUoZSx0KXtjb25zdCBvPW5ldyBHdTtvLmFkZChlLCdzZWxlY3Rpb24nKTtmb3IoY29uc3QgbiBvZiB0KW8uYWRkKGUsJ2FkZE1hcmtlcjonK24ubmFtZSk7Zm9yKGNvbnN0IG4gb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpby5hZGQoZSwnYXR0cmlidXRlOicrbik7cmV0dXJuIG99X3Rlc3RBbmRGaXJlKGUsdCl7aWYodGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdCh0Lml0ZW0sZSkpe2NvbnN0IG89dC5pdGVtLm5hbWV8fCckdGV4dCc7dGhpcy5maXJlKGUrJzonK28sdCx0aGlzLmNvbnZlcnNpb25BcGkpfX1fY2xlYXJDb252ZXJzaW9uQXBpKCl7ZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIsZGVsZXRlIHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlfX1mKCR1LHJzKTtjbGFzcyBKdXtjb25zdHJ1Y3RvcihlLHQsbyl7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITEsdGhpcy5fcmFuZ2VzPVtdLHRoaXMuX2F0dHJzPW5ldyBNYXAsZSYmdGhpcy5zZXRUbyhlLHQsbyl9Z2V0IGFuY2hvcigpe2lmKDA8dGhpcy5fcmFuZ2VzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXTtyZXR1cm4gdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ/ZS5lbmQ6ZS5zdGFydH1yZXR1cm4gbnVsbH1nZXQgZm9jdXMoKXtpZigwPHRoaXMuX3Jhbmdlcy5sZW5ndGgpe2NvbnN0IGU9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07cmV0dXJuIHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP2Uuc3RhcnQ6ZS5lbmR9cmV0dXJuIG51bGx9Z2V0IGlzQ29sbGFwc2VkKCl7Y29uc3QgZT10aGlzLl9yYW5nZXMubGVuZ3RoO3JldHVybiEoMSE9PWUpJiZ0aGlzLl9yYW5nZXNbMF0uaXNDb2xsYXBzZWR9Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiF0aGlzLmlzQ29sbGFwc2VkJiZ0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZH1pc0VxdWFsKGUpe2lmKHRoaXMucmFuZ2VDb3VudCE9ZS5yYW5nZUNvdW50KXJldHVybiExO2lmKDA9PT10aGlzLnJhbmdlQ291bnQpcmV0dXJuITA7aWYoIXRoaXMuYW5jaG9yLmlzRXF1YWwoZS5hbmNob3IpfHwhdGhpcy5mb2N1cy5pc0VxdWFsKGUuZm9jdXMpKXJldHVybiExO2Zvcihjb25zdCB0IG9mIHRoaXMuX3Jhbmdlcyl7bGV0IG89ITE7Zm9yKGNvbnN0IG4gb2YgZS5fcmFuZ2VzKWlmKHQuaXNFcXVhbChuKSl7bz0hMDticmVha31pZighbylyZXR1cm4hMX1yZXR1cm4hMH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXlpZWxkIEh1LmNyZWF0ZUZyb21SYW5nZShlKX1nZXRGaXJzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpKSYmKGU9dCk7cmV0dXJuIGU/SHUuY3JlYXRlRnJvbVJhbmdlKGUpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IGU9bnVsbDtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpKCFlfHx0LmVuZC5pc0FmdGVyKGUuZW5kKSkmJihlPXQpO3JldHVybiBlP0h1LmNyZWF0ZUZyb21SYW5nZShlKTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiBlP1V1LmNyZWF0ZUZyb21Qb3NpdGlvbihlLnN0YXJ0KTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gZT9VdS5jcmVhdGVGcm9tUG9zaXRpb24oZS5lbmQpOm51bGx9c2V0VG8oZSx0LG8pe2lmKG51bGw9PT1lKXRoaXMuX3NldFJhbmdlcyhbXSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgSnUpdGhpcy5fc2V0UmFuZ2VzKGUuZ2V0UmFuZ2VzKCksZS5pc0JhY2t3YXJkKTtlbHNlIGlmKGUmJidmdW5jdGlvbic9PXR5cGVvZiBlLmdldFJhbmdlcyl0aGlzLl9zZXRSYW5nZXMoZS5nZXRSYW5nZXMoKSxlLmlzQmFja3dhcmQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEh1KXRoaXMuX3NldFJhbmdlcyhbZV0sISF0JiYhIXQuYmFja3dhcmQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFV1KXRoaXMuX3NldFJhbmdlcyhbbmV3IEh1KGUpXSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgRHUpe2NvbnN0IG49ISFvJiYhIW8uYmFja3dhcmQ7bGV0IGk7aWYoJ2luJz09dClpPUh1LmNyZWF0ZUluKGUpO2Vsc2UgaWYoJ29uJz09dClpPUh1LmNyZWF0ZU9uKGUpO2Vsc2UgaWYodCE9PXZvaWQgMClpPUh1LmNyZWF0ZUNvbGxhcHNlZEF0KGUsdCk7ZWxzZSB0aHJvdyBuZXcgWWEoJ21vZGVsLXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBzZWxlY3Rpb24uc2V0VG8gcmVxdWlyZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgbm9kZS4nKTt0aGlzLl9zZXRSYW5nZXMoW2ldLG4pfWVsc2UgaWYoUChlKSl0aGlzLl9zZXRSYW5nZXMoZSx0JiYhIXQuYmFja3dhcmQpO2Vsc2UgdGhyb3cgbmV3IFlhKCdtb2RlbC1zZWxlY3Rpb24tc2V0VG8tbm90LXNlbGVjdGFibGU6IENhbm5vdCBzZXQgc2VsZWN0aW9uIHRvIGdpdmVuIHBsYWNlLicpfV9zZXRSYW5nZXMoZSx0PSExKXtlPUFycmF5LmZyb20oZSk7Y29uc3Qgbz1lLnNvbWUoKGUpPT57aWYoIShlIGluc3RhbmNlb2YgSHUpKXRocm93IG5ldyBZYSgnbW9kZWwtc2VsZWN0aW9uLWFkZGVkLW5vdC1yYW5nZTogVHJ5aW5nIHRvIGFkZCBhbiBvYmplY3QgdGhhdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgUmFuZ2UuJyk7cmV0dXJuIHRoaXMuX3Jhbmdlcy5ldmVyeSgodCk9PiF0LmlzRXF1YWwoZSkpfSk7aWYoZS5sZW5ndGghPT10aGlzLl9yYW5nZXMubGVuZ3RofHxvKXt0aGlzLl9yZW1vdmVBbGxSYW5nZXMoKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX3B1c2hSYW5nZSh0KTt0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hIXQsdGhpcy5maXJlKCdjaGFuZ2U6cmFuZ2UnLHtkaXJlY3RDaGFuZ2U6ITB9KX19c2V0Rm9jdXMoZSx0KXtpZihudWxsPT09dGhpcy5hbmNob3IpdGhyb3cgbmV3IFlhKCdtb2RlbC1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi4nKTtjb25zdCBvPVV1LmNyZWF0ZUF0KGUsdCk7aWYoJ3NhbWUnIT1vLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXtjb25zdCBlPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5sZW5ndGgmJnRoaXMuX3BvcFJhbmdlKCksJ2JlZm9yZSc9PW8uY29tcGFyZVdpdGgoZSk/KHRoaXMuX3B1c2hSYW5nZShuZXcgSHUobyxlKSksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITApOih0aGlzLl9wdXNoUmFuZ2UobmV3IEh1KGUsbykpLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExKSx0aGlzLmZpcmUoJ2NoYW5nZTpyYW5nZScse2RpcmVjdENoYW5nZTohMH0pfX1nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmdldChlKX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmVudHJpZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmtleXMoKX1oYXNBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyhlKX1yZW1vdmVBdHRyaWJ1dGUoZSl7dGhpcy5oYXNBdHRyaWJ1dGUoZSkmJih0aGlzLl9hdHRycy5kZWxldGUoZSksdGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpbZV0sZGlyZWN0Q2hhbmdlOiEwfSkpfXNldEF0dHJpYnV0ZShlLHQpe3RoaXMuZ2V0QXR0cmlidXRlKGUpIT09dCYmKHRoaXMuX2F0dHJzLnNldChlLHQpLHRoaXMuZmlyZSgnY2hhbmdlOmF0dHJpYnV0ZScse2F0dHJpYnV0ZUtleXM6W2VdLGRpcmVjdENoYW5nZTohMH0pKX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRGaXJzdFJhbmdlKCksdD1lLnN0YXJ0Lm5vZGVBZnRlcixvPWUuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIHQgaW5zdGFuY2VvZiBqdSYmdD09bz90Om51bGx9KmdldFNlbGVjdGVkQmxvY2tzKCl7Y29uc3QgZT1uZXcgV2Vha1NldDtmb3IoY29uc3QgdCBvZiB0aGlzLmdldFJhbmdlcygpKXtjb25zdCBvPXV0KHQuc3RhcnQsZSk7byYmKHlpZWxkIG8pO2Zvcihjb25zdCBvIG9mIHQuZ2V0V2Fsa2VyKCkpJ2VsZW1lbnRFbmQnPT1vLnR5cGUmJmN0KG8uaXRlbSxlKSYmKHlpZWxkIG8uaXRlbSk7Y29uc3Qgbj11dCh0LmVuZCxlKTtuJiYhdC5lbmQuaXNUb3VjaGluZyhVdS5jcmVhdGVBdChuKSkmJih5aWVsZCBuKX19Y29udGFpbnNFbnRpcmVDb250ZW50KGU9dGhpcy5hbmNob3Iucm9vdCl7Y29uc3QgdD1VdS5jcmVhdGVBdChlKSxvPVV1LmNyZWF0ZUF0KGUsJ2VuZCcpO3JldHVybiB0LmlzVG91Y2hpbmcodGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkpJiZvLmlzVG91Y2hpbmcodGhpcy5nZXRMYXN0UG9zaXRpb24oKSl9X3B1c2hSYW5nZShlKXt0aGlzLl9jaGVja1JhbmdlKGUpLHRoaXMuX3Jhbmdlcy5wdXNoKEh1LmNyZWF0ZUZyb21SYW5nZShlKSl9X2NoZWNrUmFuZ2UoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yYW5nZXMubGVuZ3RoO3QrKylpZihlLmlzSW50ZXJzZWN0aW5nKHRoaXMuX3Jhbmdlc1t0XSkpdGhyb3cgbmV3IFlhKCdtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgZnJvbSBzZWxlY3Rpb24uJyx7YWRkZWRSYW5nZTplLGludGVyc2VjdGluZ1JhbmdlOnRoaXMuX3Jhbmdlc1t0XX0pfV9yZW1vdmVBbGxSYW5nZXMoKXtmb3IoOzA8dGhpcy5fcmFuZ2VzLmxlbmd0aDspdGhpcy5fcG9wUmFuZ2UoKX1fcG9wUmFuZ2UoKXt0aGlzLl9yYW5nZXMucG9wKCl9fWYoSnUscnMpO2NsYXNzIFF1IGV4dGVuZHMgSHV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLG10LmNhbGwodGhpcyl9ZGV0YWNoKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fWYoUXUscnMpO2NvbnN0IFl1PSdzZWxlY3Rpb246JztjbGFzcyBYdXtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zZWxlY3Rpb249bmV3IFp1KGUpLHRoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZSgnY2hhbmdlOnJhbmdlJykudG8odGhpcyksdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKCdjaGFuZ2U6YXR0cmlidXRlJykudG8odGhpcyl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmhhc093blJhbmdlfWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0dyYXZpdHlPdmVycmlkZGVufWdldCBfcmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5fcmFuZ2VzfWdldFJhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VzKCl9Z2V0Rmlyc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpfWdldExhc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCl9Z2V0Rmlyc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFJhbmdlKCl9Z2V0U2VsZWN0ZWRCbG9ja3MoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1jb250YWluc0VudGlyZUNvbnRlbnQoZSl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQoZSl9ZGVzdHJveSgpe3RoaXMuX3NlbGVjdGlvbi5kZXN0cm95KCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGUoZSl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoZSl9aGFzQXR0cmlidXRlKGUpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzQXR0cmlidXRlKGUpfV9zZXRGb2N1cyhlLHQpe3RoaXMuX3NlbGVjdGlvbi5zZXRGb2N1cyhlLHQpfV9zZXRUbyhlLHQsbyl7dGhpcy5fc2VsZWN0aW9uLnNldFRvKGUsdCxvKX1fc2V0QXR0cmlidXRlKGUsdCl7dGhpcy5fc2VsZWN0aW9uLnNldEF0dHJpYnV0ZShlLHQpfV9yZW1vdmVBdHRyaWJ1dGUoZSl7dGhpcy5fc2VsZWN0aW9uLnJlbW92ZUF0dHJpYnV0ZShlKX1fZ2V0U3RvcmVkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX2dldFN0b3JlZEF0dHJpYnV0ZXMoKX1fb3ZlcnJpZGVHcmF2aXR5KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5vdmVycmlkZUdyYXZpdHkoKX1fcmVzdG9yZUdyYXZpdHkoZSl7dGhpcy5fc2VsZWN0aW9uLnJlc3RvcmVHcmF2aXR5KGUpfXN0YXRpYyBfZ2V0U3RvcmVBdHRyaWJ1dGVLZXkoZSl7cmV0dXJuIFl1K2V9c3RhdGljIF9pc1N0b3JlQXR0cmlidXRlS2V5KGUpe3JldHVybiBlLnN0YXJ0c1dpdGgoWXUpfX1mKFh1LHJzKTtjbGFzcyBadSBleHRlbmRzIEp1e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbW9kZWw9ZS5tb2RlbCx0aGlzLl9kb2N1bWVudD1lLHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YT1bXSx0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITEsdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlcj1uZXcgU2V0LHRoaXMub24oJ2NoYW5nZTpyYW5nZScsKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLmdldFJhbmdlcygpKWlmKCF0aGlzLl9kb2N1bWVudC5fdmFsaWRhdGVTZWxlY3Rpb25SYW5nZShlKSl0aHJvdyBuZXcgWWEoJ2RvY3VtZW50LXNlbGVjdGlvbi13cm9uZy1wb3NpdGlvbjogUmFuZ2UgZnJvbSBkb2N1bWVudCBzZWxlY3Rpb24gc3RhcnRzIG9yIGVuZHMgYXQgaW5jb3JyZWN0IHBvc2l0aW9uLicse3JhbmdlOmV9KX0pLHRoaXMubGlzdGVuVG8odGhpcy5fZG9jdW1lbnQsJ2NoYW5nZScsKGUsdCk9Pnt0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKCExKSxmdCh0aGlzLl9tb2RlbCx0KX0pLHRoaXMubGlzdGVuVG8odGhpcy5fbW9kZWwsJ2FwcGx5T3BlcmF0aW9uJywoKT0+e2Zvcig7dGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5sZW5ndGg7KXtjb25zdHtsaXZlUmFuZ2U6ZSxzb3VyY2VQb3NpdGlvbjp0fT10aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhLnNoaWZ0KCk7dGhpcy5fZml4R3JhdmV5YXJkU2VsZWN0aW9uKGUsdCl9dGhpcy5faGFzQ2hhbmdlZFJhbmdlJiYodGhpcy5faGFzQ2hhbmdlZFJhbmdlPSExLHRoaXMuZmlyZSgnY2hhbmdlOnJhbmdlJyx7ZGlyZWN0Q2hhbmdlOiExfSkpfSx7cHJpb3JpdHk6J2xvd2VzdCd9KX1nZXQgaXNDb2xsYXBzZWQoKXtjb25zdCBlPXRoaXMuX3Jhbmdlcy5sZW5ndGg7cmV0dXJuIDA9PT1lP3RoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKS5pc0NvbGxhcHNlZDpzdXBlci5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHN1cGVyLmFuY2hvcnx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLnN0YXJ0fWdldCBmb2N1cygpe3JldHVybiBzdXBlci5mb2N1c3x8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmVuZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX3Jhbmdlcy5sZW5ndGg6MX1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gMDx0aGlzLl9yYW5nZXMubGVuZ3RofWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemV9ZGVzdHJveSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmFuZ2VzLmxlbmd0aDtlKyspdGhpcy5fcmFuZ2VzW2VdLmRldGFjaCgpO3RoaXMuc3RvcExpc3RlbmluZygpfSpnZXRSYW5nZXMoKXt0aGlzLl9yYW5nZXMubGVuZ3RoP3lpZWxkKnN1cGVyLmdldFJhbmdlcygpOnlpZWxkIHRoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldEZpcnN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiBzdXBlci5nZXRMYXN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfXNldFRvKGUsdCxvKXtzdXBlci5zZXRUbyhlLHQsbyksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRGb2N1cyhlLHQpe3N1cGVyLnNldEZvY3VzKGUsdCksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRBdHRyaWJ1dGUoZSx0KXtpZih0aGlzLl9zZXRBdHRyaWJ1dGUoZSx0KSl7dGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpbZV0sZGlyZWN0Q2hhbmdlOiEwfSl9fXJlbW92ZUF0dHJpYnV0ZShlKXtpZih0aGlzLl9yZW1vdmVBdHRyaWJ1dGUoZSkpe3RoaXMuZmlyZSgnY2hhbmdlOmF0dHJpYnV0ZScse2F0dHJpYnV0ZUtleXM6W2VdLGRpcmVjdENoYW5nZTohMH0pfX1vdmVycmlkZUdyYXZpdHkoKXtjb25zdCBlPWkoKTtyZXR1cm4gdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5hZGQoZSksMT09PXRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuc2l6ZSYmdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKSxlfXJlc3RvcmVHcmF2aXR5KGUpe2lmKCF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmhhcyhlKSl0aHJvdyBuZXcgWWEoJ2RvY3VtZW50LXNlbGVjdGlvbi1ncmF2aXR5LXdyb25nLXJlc3RvcmU6IEF0dGVtcHRpbmcgdG8gcmVzdG9yZSB0aGUgc2VsZWN0aW9uIGdyYXZpdHkgZm9yIGFuIHVua25vd24gVUlELicse3VpZDplfSk7dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5kZWxldGUoZSksdGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHx0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpfV9yZWZyZXNoQXR0cmlidXRlcygpe3RoaXMuX3VwZGF0ZUF0dHJpYnV0ZXMoITApfV9wb3BSYW5nZSgpe3RoaXMuX3Jhbmdlcy5wb3AoKS5kZXRhY2goKX1fcHVzaFJhbmdlKGUpe2NvbnN0IHQ9dGhpcy5fcHJlcGFyZVJhbmdlKGUpO3QmJnRoaXMuX3Jhbmdlcy5wdXNoKHQpfV9wcmVwYXJlUmFuZ2UoZSl7aWYodGhpcy5fY2hlY2tSYW5nZShlKSxlLnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZClyZXR1cm4gdm9pZCBTdS53YXJuKCdtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW4tZ3JhdmV5YXJkOiBUcnlpbmcgdG8gYWRkIGEgUmFuZ2UgdGhhdCBpcyBpbiB0aGUgZ3JhdmV5YXJkIHJvb3QuIFJhbmdlIHJlamVjdGVkLicpO2NvbnN0IHQ9UXUuY3JlYXRlRnJvbVJhbmdlKGUpO3JldHVybiB0Lm9uKCdjaGFuZ2U6cmFuZ2UnLChlLG8sbik9Pnt0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITAsdC5yb290PT10aGlzLl9kb2N1bWVudC5ncmF2ZXlhcmQmJnRoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEucHVzaCh7bGl2ZVJhbmdlOnQsc291cmNlUG9zaXRpb246bi5zb3VyY2VQb3NpdGlvbn0pfSksdH1fdXBkYXRlQXR0cmlidXRlcyhlKXtjb25zdCB0PXJ0KHRoaXMuX2dldFN1cnJvdW5kaW5nQXR0cmlidXRlcygpKSxvPXJ0KHRoaXMuZ2V0QXR0cmlidXRlcygpKTtpZihlKXRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fYXR0cnM9bmV3IE1hcDtlbHNlIGZvcihjb25zdFtlLHRdb2YgdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkpJ2xvdyc9PXQmJih0aGlzLl9hdHRycy5kZWxldGUoZSksdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZGVsZXRlKGUpKTt0aGlzLl9zZXRBdHRyaWJ1dGVzVG8odCk7Y29uc3Qgbj1bXTtmb3IoY29uc3RbdCxpXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKW8uaGFzKHQpJiZvLmdldCh0KT09PWl8fG4ucHVzaCh0KTtmb3IoY29uc3RbdF1vZiBvKXRoaXMuaGFzQXR0cmlidXRlKHQpfHxuLnB1c2godCk7MDxuLmxlbmd0aCYmdGhpcy5maXJlKCdjaGFuZ2U6YXR0cmlidXRlJyx7YXR0cmlidXRlS2V5czpuLGRpcmVjdENoYW5nZTohMX0pfV9zZXRBdHRyaWJ1dGUoZSx0LG89ITApe2NvbnN0IG49bz8nbm9ybWFsJzonbG93JztpZignbG93Jz09biYmJ25vcm1hbCc9PXRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LmdldChlKSlyZXR1cm4hMTtjb25zdCBpPXN1cGVyLmdldEF0dHJpYnV0ZShlKTtyZXR1cm4gaSE9PXQmJih0aGlzLl9hdHRycy5zZXQoZSx0KSx0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5zZXQoZSxuKSwhMCl9X3JlbW92ZUF0dHJpYnV0ZShlLHQ9ITApe2NvbnN0IG89dD8nbm9ybWFsJzonbG93JztyZXR1cm4oJ2xvdychPW98fCdub3JtYWwnIT10aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5nZXQoZSkpJiYodGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KGUsbyksISFzdXBlci5oYXNBdHRyaWJ1dGUoZSkpJiYodGhpcy5fYXR0cnMuZGVsZXRlKGUpLCEwKX1fc2V0QXR0cmlidXRlc1RvKGUpe2NvbnN0IHQ9bmV3IFNldDtmb3IoY29uc3RbdCxvXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKWUuZ2V0KHQpIT09byYmdGhpcy5fcmVtb3ZlQXR0cmlidXRlKHQsITEpO2Zvcihjb25zdFtvLG5db2YgZSl7Y29uc3QgZT10aGlzLl9zZXRBdHRyaWJ1dGUobyxuLCExKTtlJiZ0LmFkZChvKX1yZXR1cm4gdH0qX2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudDtpZih0aGlzLmlzQ29sbGFwc2VkJiZlLmlzRW1wdHkpZm9yKGNvbnN0IHQgb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYodC5zdGFydHNXaXRoKFl1KSl7Y29uc3Qgbz10LnN1YnN0cihZdS5sZW5ndGgpO3lpZWxkW28sZS5nZXRBdHRyaWJ1dGUodCldfX1fZ2V0U3Vycm91bmRpbmdBdHRyaWJ1dGVzKCl7Y29uc3QgZT10aGlzLmdldEZpcnN0UG9zaXRpb24oKSx0PXRoaXMuX21vZGVsLnNjaGVtYTtsZXQgbz1udWxsO2lmKCF0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBlPXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO2Zvcihjb25zdCBuIG9mIGUpe2lmKG4uaXRlbS5pcygnZWxlbWVudCcpJiZ0LmlzT2JqZWN0KG4uaXRlbSkpYnJlYWs7J3RleHQnPT1uLnR5cGUmJm51bGw9PT1vJiYobz1uLml0ZW0uZ2V0QXR0cmlidXRlcygpKX19ZWxzZXtjb25zdCB0PWUudGV4dE5vZGU/ZS50ZXh0Tm9kZTplLm5vZGVCZWZvcmUsbj1lLnRleHROb2RlP2UudGV4dE5vZGU6ZS5ub2RlQWZ0ZXI7aWYodGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHwobz1ndCh0KSksb3x8KG89Z3QobikpLCF0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW4mJiFvKWZvcihsZXQgZT10O2UmJiFvOyllPWUucHJldmlvdXNTaWJsaW5nLG89Z3QoZSk7aWYoIW8pZm9yKGxldCBlPW47ZSYmIW87KWU9ZS5uZXh0U2libGluZyxvPWd0KGUpO298fChvPXRoaXMuX2dldFN0b3JlZEF0dHJpYnV0ZXMoKSl9cmV0dXJuIG99X2ZpeEdyYXZleWFyZFNlbGVjdGlvbihlLHQpe2NvbnN0IG89VXUuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLG49dGhpcy5fbW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShvKSxpPXRoaXMuX3Jhbmdlcy5pbmRleE9mKGUpO2lmKHRoaXMuX3Jhbmdlcy5zcGxpY2UoaSwxKSxlLmRldGFjaCgpLG4pe2NvbnN0IGU9dGhpcy5fcHJlcGFyZVJhbmdlKG4pO3RoaXMuX3Jhbmdlcy5zcGxpY2UoaSwwLGUpfX19dmFyIGVtPWZ1bmN0aW9uKGUpe3JldHVybiBBZChlLCEwLCEwKX07Y2xhc3MgdG17Y29uc3RydWN0b3IoZSl7dGhpcy5tb2RlbD1lLHRoaXMudmlldz1uZXcgTXUsdGhpcy5tYXBwZXI9bmV3IEt1LHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyAkdSh7bWFwcGVyOnRoaXMubWFwcGVyfSk7Y29uc3QgdD10aGlzLm1vZGVsLmRvY3VtZW50LG89dC5zZWxlY3Rpb24sbj10aGlzLm1vZGVsLm1hcmtlcnM7dGhpcy5saXN0ZW5Ubyh0LCdjaGFuZ2UnLCgpPT57dGhpcy52aWV3LmNoYW5nZSgoZSk9Pnt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0Q2hhbmdlcyh0LmRpZmZlcixlKSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0U2VsZWN0aW9uKG8sbixlKX0pfSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmxpc3RlblRvKHRoaXMudmlldy5kb2N1bWVudCwnc2VsZWN0aW9uQ2hhbmdlJyxFdCh0aGlzLm1vZGVsLHRoaXMubWFwcGVyKSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDokdGV4dCcsQ3QoKSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlJyxBdCgpLHtwcmlvcml0eTonbG93J30pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdzZWxlY3Rpb24nLFJ0KCkse3ByaW9yaXR5Oidsb3cnfSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ3NlbGVjdGlvbicsU3QoKSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJyxPdCgpLHtwcmlvcml0eTonbG93J30pLHRoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcoKGUpPT57aWYoJyRncmF2ZXlhcmQnPT1lLnJvb3ROYW1lKXJldHVybiBudWxsO2NvbnN0IHQ9bmV3IF9jKGUubmFtZSk7cmV0dXJuIHQucm9vdE5hbWU9ZS5yb290TmFtZSx0Ll9kb2N1bWVudD10aGlzLnZpZXcuZG9jdW1lbnQsdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKGUsdCksdH0pfWRlc3Ryb3koKXt0aGlzLnZpZXcuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1mKHRtLGZjKTtjbGFzcyBvbXtjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMuX2VkaXRvcj1lLHRoaXMuX2F2YWlsYWJsZVBsdWdpbnM9bmV3IE1hcCx0aGlzLl9wbHVnaW5zPW5ldyBNYXA7Zm9yKGNvbnN0IG8gb2YgdCl0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldChvLG8pLG8ucGx1Z2luTmFtZSYmdGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQoby5wbHVnaW5OYW1lLG8pfSpbU3ltYm9sLml0ZXJhdG9yXSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3BsdWdpbnMpJ2Z1bmN0aW9uJz09dHlwZW9mIGVbMF0mJih5aWVsZCBlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3BsdWdpbnMuZ2V0KGUpfWxvYWQoZSx0PVtdKXtmdW5jdGlvbiBvKGUpe3JldHVybiB1LmluY2x1ZGVzKGUpfHxhLmdldChlKXx8bC5oYXMoZSk/dm9pZCAwOm4oZSkuY2F0Y2goKHQpPT57dGhyb3cgU3UuZXJyb3IoJ3BsdWdpbmNvbGxlY3Rpb24tbG9hZDogSXQgd2FzIG5vdCBwb3NzaWJsZSB0byBsb2FkIHRoZSBwbHVnaW4uJyx7cGx1Z2luOmV9KSx0fSl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKG4pPT57bC5hZGQoZSksZS5yZXF1aXJlcyYmZS5yZXF1aXJlcy5mb3JFYWNoKChuKT0+e2NvbnN0IHI9aShuKTtpZih0LmluY2x1ZGVzKHIpKXRocm93IG5ldyBZYSgncGx1Z2luY29sbGVjdGlvbi1yZXF1aXJlZDogQ2Fubm90IGxvYWQgYSBwbHVnaW4gYmVjYXVzZSBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyBsaXN0ZWQgaW50aGUgYHJlbW92ZVBsdWdpbnNgIG9wdGlvbi4nLHtwbHVnaW46cixyZXF1aXJlZEJ5OmV9KTtvKHIpfSk7Y29uc3Qgcj1uZXcgZShzKTthLl9hZGQoZSxyKSxkLnB1c2gociksbigpfSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4nZnVuY3Rpb24nPT10eXBlb2YgZT9lOmEuX2F2YWlsYWJsZVBsdWdpbnMuZ2V0KGUpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUubWFwKChlKT0+aShlKSkuZmlsdGVyKChlKT0+ISFlKX1jb25zdCBhPXRoaXMscz10aGlzLl9lZGl0b3IsbD1uZXcgU2V0LGQ9W10sYz1yKGUpLHU9cih0KSxtPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG8gb2YgZSlpKG8pfHx0LnB1c2gobyk7cmV0dXJuIHQubGVuZ3RoP3Q6bnVsbH0oZSk7aWYobSl7Y29uc3QgZT0ncGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbm90LWZvdW5kOiBTb21lIHBsdWdpbnMgYXJlIG5vdCBhdmFpbGFibGUgYW5kIGNvdWxkIG5vdCBiZSBsb2FkZWQuJztyZXR1cm4gU3UuZXJyb3IoZSx7cGx1Z2luczptfSksUHJvbWlzZS5yZWplY3QobmV3IFlhKGUse3BsdWdpbnM6bX0pKX1yZXR1cm4gUHJvbWlzZS5hbGwoYy5tYXAobykpLnRoZW4oKCk9PmQpfWRlc3Ryb3koKXtjb25zdCBlPUFycmF5LmZyb20odGhpcykubWFwKChbLGVdKT0+ZSkuZmlsdGVyKChlKT0+J2Z1bmN0aW9uJz09dHlwZW9mIGUuZGVzdHJveSkubWFwKChlKT0+ZS5kZXN0cm95KCkpO3JldHVybiBQcm9taXNlLmFsbChlKX1fYWRkKGUsdCl7dGhpcy5fcGx1Z2lucy5zZXQoZSx0KTtjb25zdCBvPWUucGx1Z2luTmFtZTtvJiYodGhpcy5fcGx1Z2lucy5oYXMobyk/U3Uud2FybigncGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbmFtZS1jb25mbGljdDogVHdvIHBsdWdpbnMgd2l0aCB0aGUgc2FtZSBuYW1lIHdlcmUgbG9hZGVkLicse3BsdWdpbk5hbWU6byxwbHVnaW4xOnRoaXMuX3BsdWdpbnMuZ2V0KG8pLmNvbnN0cnVjdG9yLHBsdWdpbjI6ZX0pOnRoaXMuX3BsdWdpbnMuc2V0KG8sdCkpfX1jbGFzcyBubXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbW1hbmRzPW5ldyBNYXB9YWRkKGUsdCl7dGhpcy5fY29tbWFuZHMuc2V0KGUsdCl9Z2V0KGUpe3JldHVybiB0aGlzLl9jb21tYW5kcy5nZXQoZSl9ZXhlY3V0ZShlLC4uLnQpe2NvbnN0IG89dGhpcy5nZXQoZSk7aWYoIW8pdGhyb3cgbmV3IFlhKCdjb21tYW5kY29sbGVjdGlvbi1jb21tYW5kLW5vdC1mb3VuZDogQ29tbWFuZCBkb2VzIG5vdCBleGlzdC4nLHtjb21tYW5kTmFtZTplfSk7by5leGVjdXRlKC4uLnQpfSpuYW1lcygpe3lpZWxkKnRoaXMuX2NvbW1hbmRzLmtleXMoKX0qY29tbWFuZHMoKXt5aWVsZCp0aGlzLl9jb21tYW5kcy52YWx1ZXMoKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jb21tYW5kc1tTeW1ib2wuaXRlcmF0b3JdKCl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuY29tbWFuZHMoKSllLmRlc3Ryb3koKX19d2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU3x8KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e30pO2NsYXNzIGlte2NvbnN0cnVjdG9yKGUpe3RoaXMubGFuZ3VhZ2U9ZXx8J2VuJyx0aGlzLnQ9KC4uLmUpPT50aGlzLl90KC4uLmUpfV90KGUsdCl7bGV0IG89SXQodGhpcy5sYW5ndWFnZSxlKTtyZXR1cm4gdCYmKG89by5yZXBsYWNlKC8lKFxcZCspL2csKGUsbyk9Pm88dC5sZW5ndGg/dFtvXTplKSksb319Y2xhc3Mgcm17Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zdW1hYmxlcz1uZXcgTWFwfWFkZChlLHQpe2xldCBvO3JldHVybiBlLmlzKCd0ZXh0Jyl8fGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKT92b2lkIHRoaXMuX2NvbnN1bWFibGVzLnNldChlLCEwKTp2b2lkKHRoaXMuX2NvbnN1bWFibGVzLmhhcyhlKT9vPXRoaXMuX2NvbnN1bWFibGVzLmdldChlKToobz1uZXcgYW0sdGhpcy5fY29uc3VtYWJsZXMuc2V0KGUsbykpLG8uYWRkKHQpKX10ZXN0KGUsdCl7Y29uc3Qgbz10aGlzLl9jb25zdW1hYmxlcy5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PW8/bnVsbDplLmlzKCd0ZXh0Jyl8fGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKT9vOm8udGVzdCh0KX1jb25zdW1lKGUsdCl7cmV0dXJuISF0aGlzLnRlc3QoZSx0KSYmKGUuaXMoJ3RleHQnKXx8ZS5pcygnZG9jdW1lbnRGcmFnbWVudCcpP3RoaXMuX2NvbnN1bWFibGVzLnNldChlLCExKTp0aGlzLl9jb25zdW1hYmxlcy5nZXQoZSkuY29uc3VtZSh0KSwhMCl9cmV2ZXJ0KGUsdCl7Y29uc3Qgbz10aGlzLl9jb25zdW1hYmxlcy5nZXQoZSk7byE9PXZvaWQgMCYmKGUuaXMoJ3RleHQnKXx8ZS5pcygnZG9jdW1lbnRGcmFnbWVudCcpP3RoaXMuX2NvbnN1bWFibGVzLnNldChlLCEwKTpvLnJldmVydCh0KSl9c3RhdGljIGNvbnN1bWFibGVzRnJvbUVsZW1lbnQoZSl7Y29uc3QgdD17bmFtZTohMCxhdHRyaWJ1dGVzOltdLGNsYXNzZXM6W10sc3R5bGVzOltdfSxvPWUuZ2V0QXR0cmlidXRlS2V5cygpO2Zvcihjb25zdCBuIG9mIG8pJ3N0eWxlJyE9biYmJ2NsYXNzJyE9biYmdC5hdHRyaWJ1dGVzLnB1c2gobik7Y29uc3Qgbj1lLmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgbyBvZiBuKXQuY2xhc3Nlcy5wdXNoKG8pO2NvbnN0IGk9ZS5nZXRTdHlsZU5hbWVzKCk7Zm9yKGNvbnN0IG8gb2YgaSl0LnN0eWxlcy5wdXNoKG8pO3JldHVybiB0fXN0YXRpYyBjcmVhdGVGcm9tKGUsdCl7aWYodHx8KHQ9bmV3IHJtKSxlLmlzKCd0ZXh0JykpcmV0dXJuIHQuYWRkKGUpLHQ7ZS5pcygnZWxlbWVudCcpJiZ0LmFkZChlLHJtLmNvbnN1bWFibGVzRnJvbUVsZW1lbnQoZSkpLGUuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSYmdC5hZGQoZSk7Zm9yKGNvbnN0IG8gb2YgZS5nZXRDaGlsZHJlbigpKXQ9cm0uY3JlYXRlRnJvbShvLHQpO3JldHVybiB0fX1jbGFzcyBhbXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NhbkNvbnN1bWVOYW1lPW51bGwsdGhpcy5fY29uc3VtYWJsZXM9e2F0dHJpYnV0ZXM6bmV3IE1hcCxzdHlsZXM6bmV3IE1hcCxjbGFzc2VzOm5ldyBNYXB9fWFkZChlKXtmb3IoY29uc3QgdCBpbiBlLm5hbWUmJih0aGlzLl9jYW5Db25zdW1lTmFtZT0hMCksdGhpcy5fY29uc3VtYWJsZXMpdCBpbiBlJiZ0aGlzLl9hZGQodCxlW3RdKX10ZXN0KGUpe2lmKGUubmFtZSYmIXRoaXMuX2NhbkNvbnN1bWVOYW1lKXJldHVybiB0aGlzLl9jYW5Db25zdW1lTmFtZTtmb3IoY29uc3QgdCBpbiB0aGlzLl9jb25zdW1hYmxlcylpZih0IGluIGUpe2NvbnN0IG89dGhpcy5fdGVzdCh0LGVbdF0pO2lmKCEwIT09bylyZXR1cm4gb31yZXR1cm4hMH1jb25zdW1lKGUpe2Zvcihjb25zdCB0IGluIGUubmFtZSYmKHRoaXMuX2NhbkNvbnN1bWVOYW1lPSExKSx0aGlzLl9jb25zdW1hYmxlcyl0IGluIGUmJnRoaXMuX2NvbnN1bWUodCxlW3RdKX1yZXZlcnQoZSl7Zm9yKGNvbnN0IHQgaW4gZS5uYW1lJiYodGhpcy5fY2FuQ29uc3VtZU5hbWU9ITApLHRoaXMuX2NvbnN1bWFibGVzKXQgaW4gZSYmdGhpcy5fcmV2ZXJ0KHQsZVt0XSl9X2FkZChlLHQpe2NvbnN0IG89c2wodCk/dDpbdF0sbj10aGlzLl9jb25zdW1hYmxlc1tlXTtmb3IoY29uc3QgaSBvZiBvKXtpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl0aHJvdyBuZXcgWWEoJ3ZpZXdjb25zdW1hYmxlLWludmFsaWQtYXR0cmlidXRlOiBDbGFzc2VzIGFuZCBzdHlsZXMgc2hvdWxkIGJlIGhhbmRsZWQgc2VwYXJhdGVseS4nKTtuLnNldChpLCEwKX19X3Rlc3QoZSx0KXtjb25zdCBvPXNsKHQpP3Q6W3RdLG49dGhpcy5fY29uc3VtYWJsZXNbZV07Zm9yKGNvbnN0IGkgb2YgbylpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl7Y29uc3QgZT0nY2xhc3MnPT1pPydjbGFzc2VzJzonc3R5bGVzJyx0PXRoaXMuX3Rlc3QoZSxbLi4udGhpcy5fY29uc3VtYWJsZXNbZV0ua2V5cygpXSk7aWYoITAhPT10KXJldHVybiB0fWVsc2V7Y29uc3QgZT1uLmdldChpKTtpZihlPT09dm9pZCAwKXJldHVybiBudWxsO2lmKCFlKXJldHVybiExfXJldHVybiEwfV9jb25zdW1lKGUsdCl7Y29uc3Qgbz1zbCh0KT90Olt0XSxuPXRoaXMuX2NvbnN1bWFibGVzW2VdO2Zvcihjb25zdCBpIG9mIG8paWYoJ2F0dHJpYnV0ZXMnPT09ZSYmKCdjbGFzcyc9PT1pfHwnc3R5bGUnPT09aSkpe2NvbnN0IGU9J2NsYXNzJz09aT8nY2xhc3Nlcyc6J3N0eWxlcyc7dGhpcy5fY29uc3VtZShlLFsuLi50aGlzLl9jb25zdW1hYmxlc1tlXS5rZXlzKCldKX1lbHNlIG4uc2V0KGksITEpfV9yZXZlcnQoZSx0KXtjb25zdCBvPXNsKHQpP3Q6W3RdLG49dGhpcy5fY29uc3VtYWJsZXNbZV07Zm9yKGNvbnN0IGkgb2YgbylpZignYXR0cmlidXRlcyc9PT1lJiYoJ2NsYXNzJz09PWl8fCdzdHlsZSc9PT1pKSl7Y29uc3QgZT0nY2xhc3MnPT1pPydjbGFzc2VzJzonc3R5bGVzJzt0aGlzLl9yZXZlcnQoZSxbLi4udGhpcy5fY29uc3VtYWJsZXNbZV0ua2V5cygpXSl9ZWxzZXtjb25zdCBlPW4uZ2V0KGkpOyExPT09ZSYmbi5zZXQoaSwhMCl9fX1jbGFzcyBzbXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3NvdXJjZURlZmluaXRpb25zPXt9LHRoaXMuZGVjb3JhdGUoJ2NoZWNrQ2hpbGQnKSx0aGlzLmRlY29yYXRlKCdjaGVja0F0dHJpYnV0ZScpLHRoaXMub24oJ2NoZWNrQXR0cmlidXRlJywoZSx0KT0+e3RbMF09bmV3IGxtKHRbMF0pfSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5vbignY2hlY2tDaGlsZCcsKGUsdCk9Pnt0WzBdPW5ldyBsbSh0WzBdKSx0WzFdPXRoaXMuZ2V0RGVmaW5pdGlvbih0WzFdKX0se3ByaW9yaXR5OidoaWdoZXN0J30pfXJlZ2lzdGVyKGUsdCl7aWYodGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV0pdGhyb3cgbmV3IFlhKCdzY2hlbWEtY2Fubm90LXJlZ2lzdGVyLWl0ZW0tdHdpY2U6IEEgc2luZ2xlIGl0ZW0gY2Fubm90IGJlIHJlZ2lzdGVyZWQgdHdpY2UgaW4gdGhlIHNjaGVtYS4nLHtpdGVtTmFtZTplfSk7dGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV09W09iamVjdC5hc3NpZ24oe30sdCldLHRoaXMuX2NsZWFyQ2FjaGUoKX1leHRlbmQoZSx0KXtpZighdGhpcy5fc291cmNlRGVmaW5pdGlvbnNbZV0pdGhyb3cgbmV3IFlhKCdzY2hlbWEtY2Fubm90LWV4dGVuZC1taXNzaW5nLWl0ZW06IENhbm5vdCBleHRlbmQgYW4gaXRlbSB3aGljaCB3YXMgbm90IHJlZ2lzdGVyZWQgeWV0Licse2l0ZW1OYW1lOmV9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1tlXS5wdXNoKE9iamVjdC5hc3NpZ24oe30sdCkpLHRoaXMuX2NsZWFyQ2FjaGUoKX1nZXREZWZpbml0aW9ucygpe3JldHVybiB0aGlzLl9jb21waWxlZERlZmluaXRpb25zfHx0aGlzLl9jb21waWxlKCksdGhpcy5fY29tcGlsZWREZWZpbml0aW9uc31nZXREZWZpbml0aW9uKGUpe2xldCB0O3JldHVybiB0PSdzdHJpbmcnPT10eXBlb2YgZT9lOmUuaXMmJihlLmlzKCd0ZXh0Jyl8fGUuaXMoJ3RleHRQcm94eScpKT8nJHRleHQnOmUubmFtZSx0aGlzLmdldERlZmluaXRpb25zKClbdF19aXNSZWdpc3RlcmVkKGUpe3JldHVybiEhdGhpcy5nZXREZWZpbml0aW9uKGUpfWlzQmxvY2soZSl7Y29uc3QgdD10aGlzLmdldERlZmluaXRpb24oZSk7cmV0dXJuISEodCYmdC5pc0Jsb2NrKX1pc0xpbWl0KGUpe2NvbnN0IHQ9dGhpcy5nZXREZWZpbml0aW9uKGUpO3JldHVybiEhKHQmJnQuaXNMaW1pdCl9aXNPYmplY3QoZSl7Y29uc3QgdD10aGlzLmdldERlZmluaXRpb24oZSk7cmV0dXJuISEodCYmdC5pc09iamVjdCl9Y2hlY2tDaGlsZChlLHQpe3JldHVybiEhdCYmdGhpcy5fY2hlY2tDb250ZXh0TWF0Y2godCxlKX1jaGVja0F0dHJpYnV0ZShlLHQpe2NvbnN0IG89dGhpcy5nZXREZWZpbml0aW9uKGUubGFzdCk7cmV0dXJuISFvJiZvLmFsbG93QXR0cmlidXRlcy5pbmNsdWRlcyh0KX1jaGVja01lcmdlKGUsdD1udWxsKXtpZihlIGluc3RhbmNlb2YgVXUpe2NvbnN0IHQ9ZS5ub2RlQmVmb3JlLG89ZS5ub2RlQWZ0ZXI7aWYoISh0IGluc3RhbmNlb2YganUpKXRocm93IG5ldyBZYSgnc2NoZW1hLWNoZWNrLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBUaGUgbm9kZSBiZWZvcmUgdGhlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC4nKTtpZighKG8gaW5zdGFuY2VvZiBqdSkpdGhyb3cgbmV3IFlhKCdzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1hZnRlcjogVGhlIG5vZGUgYWZ0ZXIgdGhlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC4nKTtyZXR1cm4gdGhpcy5jaGVja01lcmdlKHQsbyl9Zm9yKGNvbnN0IG8gb2YgdC5nZXRDaGlsZHJlbigpKWlmKCF0aGlzLmNoZWNrQ2hpbGQoZSxvKSlyZXR1cm4hMTtyZXR1cm4hMH1hZGRDaGlsZENoZWNrKGUpe3RoaXMub24oJ2NoZWNrQ2hpbGQnLCh0LFtvLG5dKT0+e2lmKG4pe2NvbnN0IGk9ZShvLG4pOydib29sZWFuJz09dHlwZW9mIGkmJih0LnN0b3AoKSx0LnJldHVybj1pKX19LHtwcmlvcml0eTonaGlnaCd9KX1hZGRBdHRyaWJ1dGVDaGVjayhlKXt0aGlzLm9uKCdjaGVja0F0dHJpYnV0ZScsKHQsW28sbl0pPT57Y29uc3QgaT1lKG8sbik7J2Jvb2xlYW4nPT10eXBlb2YgaSYmKHQuc3RvcCgpLHQucmV0dXJuPWkpfSx7cHJpb3JpdHk6J2hpZ2gnfSl9Z2V0TGltaXRFbGVtZW50KGUpe2xldCB0PUFycmF5LmZyb20oZS5nZXRSYW5nZXMoKSkucmVkdWNlKChlLHQpPT57Y29uc3Qgbz10LmdldENvbW1vbkFuY2VzdG9yKCk7cmV0dXJuIGU/ZS5nZXRDb21tb25BbmNlc3RvcihvLHtpbmNsdWRlU2VsZjohMH0pOm99LG51bGwpO2Zvcig7IXRoaXMuaXNMaW1pdCh0KSYmdC5wYXJlbnQ7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9Y2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbihlLHQpe2lmKGUuaXNDb2xsYXBzZWQpcmV0dXJuIHRoaXMuY2hlY2tBdHRyaWJ1dGUoWy4uLmUuZ2V0Rmlyc3RQb3NpdGlvbigpLmdldEFuY2VzdG9ycygpLCckdGV4dCddLHQpO2Vsc2V7Y29uc3Qgbz1lLmdldFJhbmdlcygpO2Zvcihjb25zdCBlIG9mIG8pZm9yKGNvbnN0IG8gb2YgZSlpZih0aGlzLmNoZWNrQXR0cmlidXRlKG8uaXRlbSx0KSlyZXR1cm4hMH1yZXR1cm4hMX1nZXRWYWxpZFJhbmdlcyhlLHQpe2NvbnN0IG89W107Zm9yKGNvbnN0IG4gb2YgZSl7bGV0IGU9bi5zdGFydCxpPW4uc3RhcnQ7Y29uc3Qgcj1uLmVuZDtmb3IoY29uc3QgciBvZiBuLmdldFdhbGtlcigpKXRoaXMuY2hlY2tBdHRyaWJ1dGUoci5pdGVtLHQpfHwoIWkuaXNFcXVhbChlKSYmby5wdXNoKG5ldyBIdShpLGUpKSxpPXIubmV4dFBvc2l0aW9uKSxlPXIubmV4dFBvc2l0aW9uO2kmJiFpLmlzRXF1YWwocikmJm8ucHVzaChuZXcgSHUoaSxyKSl9cmV0dXJuIG99Z2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKGUsdD0nYm90aCcpe2lmKHRoaXMuY2hlY2tDaGlsZChlLCckdGV4dCcpKXJldHVybiBuZXcgSHUoZSk7bGV0IG8sbjsoJ2JvdGgnPT10fHwnYmFja3dhcmQnPT10KSYmKG89bmV3IHF1KHtzdGFydFBvc2l0aW9uOmUsZGlyZWN0aW9uOidiYWNrd2FyZCd9KSksKCdib3RoJz09dHx8J2ZvcndhcmQnPT10KSYmKG49bmV3IHF1KHtzdGFydFBvc2l0aW9uOmV9KSk7Zm9yKGNvbnN0IGkgb2YgJHQobyxuKSl7Y29uc3QgZT1pLndhbGtlcj09bz8nZWxlbWVudEVuZCc6J2VsZW1lbnRTdGFydCcsdD1pLnZhbHVlO2lmKHQudHlwZT09ZSYmdGhpcy5pc09iamVjdCh0Lml0ZW0pKXJldHVybiBIdS5jcmVhdGVPbih0Lml0ZW0pO2lmKHRoaXMuY2hlY2tDaGlsZCh0Lm5leHRQb3NpdGlvbiwnJHRleHQnKSlyZXR1cm4gbmV3IEh1KHQubmV4dFBvc2l0aW9uKX1yZXR1cm4gbnVsbH1maW5kQWxsb3dlZFBhcmVudChlLHQpe2ZvcihsZXQgbz10LnBhcmVudDtvOyl7aWYodGhpcy5jaGVja0NoaWxkKG8sZSkpcmV0dXJuIG87aWYodGhpcy5pc0xpbWl0KG8pfHx0aGlzLmlzT2JqZWN0KG8pKXJldHVybiBudWxsO289by5wYXJlbnR9cmV0dXJuIG51bGx9cmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXMoZSx0KXtmb3IoY29uc3QgbyBvZiBlKXtmb3IoY29uc3QgZSBvZiBvLmdldEF0dHJpYnV0ZUtleXMoKSl0aGlzLmNoZWNrQXR0cmlidXRlKG8sZSl8fHQucmVtb3ZlQXR0cmlidXRlKGUsbyk7by5pcygnZWxlbWVudCcpJiZ0aGlzLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKG8uZ2V0Q2hpbGRyZW4oKSx0KX19X2NsZWFyQ2FjaGUoKXt0aGlzLl9jb21waWxlZERlZmluaXRpb25zPW51bGx9X2NvbXBpbGUoKXtjb25zdCBlPXt9LHQ9dGhpcy5fc291cmNlRGVmaW5pdGlvbnMsbz1PYmplY3Qua2V5cyh0KTtmb3IoY29uc3QgbiBvZiBvKWVbbl09TnQodFtuXSxuKTtmb3IoY29uc3QgdCBvZiBvKU10KGUsdCk7Zm9yKGNvbnN0IHQgb2YgbylEdChlLHQpO2Zvcihjb25zdCB0IG9mIG8pQnQoZSx0KSxMdChlLHQpO2Zvcihjb25zdCB0IG9mIG8penQoZSx0KSxqdChlLHQpO3RoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnM9ZX1fY2hlY2tDb250ZXh0TWF0Y2goZSx0LG89dC5sZW5ndGgtMSl7Y29uc3Qgbj10LmdldEl0ZW0obyk7aWYoIWUuYWxsb3dJbi5pbmNsdWRlcyhuLm5hbWUpKXJldHVybiExO2Vsc2UgaWYoMD09bylyZXR1cm4hMDtlbHNle2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKG4pO3JldHVybiB0aGlzLl9jaGVja0NvbnRleHRNYXRjaChlLHQsby0xKX19fWYoc20sZmMpO2NsYXNzIGxte2NvbnN0cnVjdG9yKGUpe3JldHVybiBlIGluc3RhbmNlb2YgbG0/ZTp2b2lkKCdzdHJpbmcnPT10eXBlb2YgZT9lPVtlXTohQXJyYXkuaXNBcnJheShlKSYmKGU9ZS5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSkpLGVbMF0mJidzdHJpbmcnIT10eXBlb2YgZVswXSYmZVswXS5pcygnZG9jdW1lbnRGcmFnbWVudCcpJiZlLnNoaWZ0KCksdGhpcy5faXRlbXM9ZS5tYXAoR3QpKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV19W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5faXRlbXNbU3ltYm9sLml0ZXJhdG9yXSgpfXB1c2goZSl7Y29uc3QgdD1uZXcgbG0oW2VdKTtyZXR1cm4gdC5faXRlbXM9Wy4uLnRoaXMuX2l0ZW1zLC4uLnQuX2l0ZW1zXSx0fWdldEl0ZW0oZSl7cmV0dXJuIHRoaXMuX2l0ZW1zW2VdfSpnZXROYW1lcygpe3lpZWxkKnRoaXMuX2l0ZW1zLm1hcCgoZSk9PmUubmFtZSl9ZW5kc1dpdGgoZSl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5nZXROYW1lcygpKS5qb2luKCcgJykuZW5kc1dpdGgoZSl9fWNsYXNzIGRte2NvbnN0cnVjdG9yKGU9e30pe3RoaXMuX3JlbW92ZUlmRW1wdHk9bmV3IFNldCx0aGlzLl9tb2RlbEN1cnNvcj1udWxsLHRoaXMuY29udmVyc2lvbkFwaT1PYmplY3QuYXNzaWduKHt9LGUpLHRoaXMuY29udmVyc2lvbkFwaS5jb252ZXJ0SXRlbT10aGlzLl9jb252ZXJ0SXRlbS5iaW5kKHRoaXMpLHRoaXMuY29udmVyc2lvbkFwaS5jb252ZXJ0Q2hpbGRyZW49dGhpcy5fY29udmVydENoaWxkcmVuLmJpbmQodGhpcyksdGhpcy5jb252ZXJzaW9uQXBpLnNwbGl0VG9BbGxvd2VkUGFyZW50PXRoaXMuX3NwbGl0VG9BbGxvd2VkUGFyZW50LmJpbmQodGhpcyl9Y29udmVydChlLHQsbz1bJyRyb290J10pe3RoaXMuZmlyZSgndmlld0NsZWFudXAnLGUpLHRoaXMuX21vZGVsQ3Vyc29yPVF0KG8sdCksdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj10LHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXJtLmNyZWF0ZUZyb20oZSksdGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlPXt9O2NvbnN0e21vZGVsUmFuZ2U6bn09dGhpcy5fY29udmVydEl0ZW0oZSx0aGlzLl9tb2RlbEN1cnNvciksaT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihuKXt0aGlzLl9yZW1vdmVFbXB0eUVsZW1lbnRzKCk7Zm9yKGNvbnN0IGUgb2YgQXJyYXkuZnJvbSh0aGlzLl9tb2RlbEN1cnNvci5wYXJlbnQuZ2V0Q2hpbGRyZW4oKSkpdC5hcHBlbmQoZSxpKTtpLm1hcmtlcnM9SnQoaSx0KX1yZXR1cm4gdGhpcy5fbW9kZWxDdXJzb3I9bnVsbCx0aGlzLl9yZW1vdmVJZkVtcHR5LmNsZWFyKCksdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1udWxsLHRoaXMuY29udmVyc2lvbkFwaS5zdG9yZT1udWxsLGl9X2NvbnZlcnRJdGVtKGUsdCl7Y29uc3Qgbz1PYmplY3QuYXNzaWduKHt2aWV3SXRlbTplLG1vZGVsQ3Vyc29yOnQsbW9kZWxSYW5nZTpudWxsfSk7aWYoZS5pcygnZWxlbWVudCcpP3RoaXMuZmlyZSgnZWxlbWVudDonK2UubmFtZSxvLHRoaXMuY29udmVyc2lvbkFwaSk6ZS5pcygndGV4dCcpP3RoaXMuZmlyZSgndGV4dCcsbyx0aGlzLmNvbnZlcnNpb25BcGkpOnRoaXMuZmlyZSgnZG9jdW1lbnRGcmFnbWVudCcsbyx0aGlzLmNvbnZlcnNpb25BcGkpLG8ubW9kZWxSYW5nZSYmIShvLm1vZGVsUmFuZ2UgaW5zdGFuY2VvZiBIdSkpdGhyb3cgbmV3IFlhKCd2aWV3LWNvbnZlcnNpb24tZGlzcGF0Y2hlci1pbmNvcnJlY3QtcmVzdWx0OiBJbmNvcnJlY3QgY29udmVyc2lvbiByZXN1bHQgd2FzIGRyb3BwZWQuJyk7cmV0dXJue21vZGVsUmFuZ2U6by5tb2RlbFJhbmdlLG1vZGVsQ3Vyc29yOm8ubW9kZWxDdXJzb3J9fV9jb252ZXJ0Q2hpbGRyZW4oZSx0KXtjb25zdCBvPW5ldyBIdSh0KTtsZXQgbj10O2Zvcihjb25zdCBpIG9mIEFycmF5LmZyb20oZS5nZXRDaGlsZHJlbigpKSl7Y29uc3QgZT10aGlzLl9jb252ZXJ0SXRlbShpLG4pO2UubW9kZWxSYW5nZSBpbnN0YW5jZW9mIEh1JiYoby5lbmQ9ZS5tb2RlbFJhbmdlLmVuZCxuPWUubW9kZWxDdXJzb3IpfXJldHVybnttb2RlbFJhbmdlOm8sbW9kZWxDdXJzb3I6bn19X3NwbGl0VG9BbGxvd2VkUGFyZW50KGUsdCl7Y29uc3Qgbz10aGlzLmNvbnZlcnNpb25BcGkuc2NoZW1hLmZpbmRBbGxvd2VkUGFyZW50KGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7aWYobz09PXQucGFyZW50KXJldHVybntwb3NpdGlvbjp0fTtpZih0aGlzLl9tb2RlbEN1cnNvci5wYXJlbnQuZ2V0QW5jZXN0b3JzKCkuaW5jbHVkZXMobykpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLnNwbGl0KHQsbyk7Zm9yKGNvbnN0IG8gb2Ygbi5yYW5nZS5nZXRQb3NpdGlvbnMoKSlvLmlzRXF1YWwobi5wb3NpdGlvbil8fHRoaXMuX3JlbW92ZUlmRW1wdHkuYWRkKG8ucGFyZW50KTtyZXR1cm57cG9zaXRpb246bi5wb3NpdGlvbixjdXJzb3JQYXJlbnQ6bi5yYW5nZS5lbmQucGFyZW50fX1fcmVtb3ZlRW1wdHlFbGVtZW50cygpe2xldCBlPSExO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JlbW92ZUlmRW1wdHkpdC5pc0VtcHR5JiYodGhpcy5jb252ZXJzaW9uQXBpLndyaXRlci5yZW1vdmUodCksdGhpcy5fcmVtb3ZlSWZFbXB0eS5kZWxldGUodCksZT0hMCk7ZSYmdGhpcy5fcmVtb3ZlRW1wdHlFbGVtZW50cygpfX1mKGRtLHJzKTtjbGFzcyBjbXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMubW9kZWw9ZSx0aGlzLnByb2Nlc3Nvcj10LHRoaXMubWFwcGVyPW5ldyBLdSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlcj1uZXcgJHUoe21hcHBlcjp0aGlzLm1hcHBlcn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdpbnNlcnQ6JHRleHQnLEN0KCkse3ByaW9yaXR5Oidsb3dlc3QnfSksdGhpcy51cGNhc3REaXNwYXRjaGVyPW5ldyBkbSh7c2NoZW1hOmUuc2NoZW1hfSksdGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKCd0ZXh0JyxjbygpLHtwcmlvcml0eTonbG93ZXN0J30pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudCcsbG8oKSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLnVwY2FzdERpc3BhdGNoZXIub24oJ2RvY3VtZW50RnJhZ21lbnQnLGxvKCkse3ByaW9yaXR5Oidsb3dlc3QnfSksdGhpcy5kZWNvcmF0ZSgnaW5pdCcpfWdldChlPSdtYWluJyl7cmV0dXJuIHRoaXMuc3RyaW5naWZ5KHRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdChlKSl9c3RyaW5naWZ5KGUpe2NvbnN0IHQ9dGhpcy50b1ZpZXcoZSk7cmV0dXJuIHRoaXMucHJvY2Vzc29yLnRvRGF0YSh0KX10b1ZpZXcoZSl7Y29uc3QgdD1IdS5jcmVhdGVJbihlKSxvPW5ldyBEYyxuPW5ldyBCYyhuZXcgVGMoKSk7aWYodGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKGUsbyksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydEluc2VydCh0LG4pLCFlLmlzKCdkb2N1bWVudEZyYWdtZW50Jykpe2NvbnN0IHQ9dW8oZSk7Zm9yKGNvbnN0W2Usb11vZiB0KXRoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRNYXJrZXJBZGQoZSxvLG4pfXJldHVybiB0aGlzLm1hcHBlci5jbGVhckJpbmRpbmdzKCksb31pbml0KGUsdD0nbWFpbicpe2lmKHRoaXMubW9kZWwuZG9jdW1lbnQudmVyc2lvbil0aHJvdyBuZXcgWWEoJ2RhdGFjb250cm9sbGVyLWluaXQtZG9jdW1lbnQtbm90LWVtcHR5OiBUcnlpbmcgdG8gc2V0IGluaXRpYWwgZGF0YSB0byBub3QgZW1wdHkgZG9jdW1lbnQuJyk7Y29uc3Qgbz10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QodCk7cmV0dXJuIHRoaXMubW9kZWwuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLCh0KT0+e3QuaW5zZXJ0KHRoaXMucGFyc2UoZSxvKSxvKX0pLFByb21pc2UucmVzb2x2ZSgpfXNldChlLHQ9J21haW4nKXtjb25zdCBvPXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdCh0KTt0aGlzLm1vZGVsLmVucXVldWVDaGFuZ2UoJ3RyYW5zcGFyZW50JywodCk9Pnt0LnNldFNlbGVjdGlvbihudWxsKSx0LnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVLZXlzKCkpLHQucmVtb3ZlKEh1LmNyZWF0ZUluKG8pKSx0Lmluc2VydCh0aGlzLnBhcnNlKGUsbyksbyl9KX1wYXJzZShlLHQ9JyRyb290Jyl7Y29uc3Qgbz10aGlzLnByb2Nlc3Nvci50b1ZpZXcoZSk7cmV0dXJuIHRoaXMudG9Nb2RlbChvLHQpfXRvTW9kZWwoZSx0PSckcm9vdCcpe3JldHVybiB0aGlzLm1vZGVsLmNoYW5nZSgobyk9PnRoaXMudXBjYXN0RGlzcGF0Y2hlci5jb252ZXJ0KGUsbyx0KSl9ZGVzdHJveSgpe319ZihjbSxmYyk7Y2xhc3MgdW17Y29uc3RydWN0b3IoKXt0aGlzLl9kaXNwYXRjaGVyc0dyb3Vwcz1uZXcgTWFwfXJlZ2lzdGVyKGUsdCl7aWYodGhpcy5fZGlzcGF0Y2hlcnNHcm91cHMuaGFzKGUpKXRocm93IG5ldyBZYSgnY29udmVyc2lvbi1yZWdpc3Rlci1ncm91cC1leGlzdHM6IFRyeWluZyB0byByZWdpc3RlciBhIGdyb3VwIG5hbWUgdGhhdCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO3RoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzLnNldChlLHQpfWZvcihlKXtjb25zdCB0PXRoaXMuX2dldERpc3BhdGNoZXJzKGUpO3JldHVybnthZGQoZSl7cmV0dXJuIG1vKHQsZSksdGhpc319fWVsZW1lbnRUb0VsZW1lbnQoZSl7dGhpcy5mb3IoJ2Rvd25jYXN0JykuYWRkKGh0KGUpKTtmb3IoY29uc3R7bW9kZWw6dCx2aWV3Om99b2YgcG8oZSkpdGhpcy5mb3IoJ3VwY2FzdCcpLmFkZChZdCh7bW9kZWw6dCx2aWV3Om8scHJpb3JpdHk6ZS5wcmlvcml0eX0pKX1hdHRyaWJ1dGVUb0VsZW1lbnQoZSl7dGhpcy5mb3IoJ2Rvd25jYXN0JykuYWRkKGJ0KGUpKTtmb3IoY29uc3R7bW9kZWw6dCx2aWV3Om99b2YgcG8oZSkpdGhpcy5mb3IoJ3VwY2FzdCcpLmFkZChYdCh7dmlldzpvLG1vZGVsOnQscHJpb3JpdHk6ZS5wcmlvcml0eX0pKX1hdHRyaWJ1dGVUb0F0dHJpYnV0ZShlKXt0aGlzLmZvcignZG93bmNhc3QnKS5hZGQoa3QoZSkpO2Zvcihjb25zdHttb2RlbDp0LHZpZXc6b31vZiBwbyhlKSl0aGlzLmZvcigndXBjYXN0JykuYWRkKFp0KHt2aWV3Om8sbW9kZWw6dH0pKX1fZ2V0RGlzcGF0Y2hlcnMoZSl7Y29uc3QgdD10aGlzLl9kaXNwYXRjaGVyc0dyb3Vwcy5nZXQoZSk7aWYoIXQpdGhyb3cgbmV3IFlhKCdjb252ZXJzaW9uLWZvci11bmtub3duLWdyb3VwOiBUcnlpbmcgdG8gYWRkIGEgY29udmVydGVyIHRvIGFuIHVua25vd24gZGlzcGF0Y2hlcnMgZ3JvdXAuJyk7cmV0dXJuIHR9fWNsYXNzIG1te2NvbnN0cnVjdG9yKGUpe3RoaXMuYmFzZVZlcnNpb249ZSx0aGlzLmlzRG9jdW1lbnRPcGVyYXRpb249bnVsbCE9PXRoaXMuYmFzZVZlcnNpb259X3ZhbGlkYXRlKCl7fXRvSlNPTigpe2NvbnN0IGU9VGQodGhpcywhMCk7cmV0dXJuIGUuX19jbGFzc05hbWU9dGhpcy5jb25zdHJ1Y3Rvci5jbGFzc05hbWUsZGVsZXRlIGUuZGVsdGEsZGVsZXRlIGUuaXNEb2N1bWVudE9wZXJhdGlvbixlfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uT3BlcmF0aW9uJ31zdGF0aWMgZnJvbUpTT04oZSl7cmV0dXJuIG5ldyB0aGlzKGUuYmFzZVZlcnNpb24pfX1jbGFzcyBwbXtjb25zdHJ1Y3RvcihlKXt0aGlzLm1hcmtlcnM9bmV3IE1hcCx0aGlzLl9jaGlsZHJlbj1uZXcgenUsZSYmdGhpcy5faW5zZXJ0Q2hpbGQoMCxlKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLmdldENoaWxkcmVuKCl9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubWF4T2Zmc2V0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpc31nZXQgcGFyZW50KCl7cmV0dXJuIG51bGx9aXMoZSl7cmV0dXJuJ2RvY3VtZW50RnJhZ21lbnQnPT1lfWdldENoaWxkKGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlKGUpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXRDaGlsZEluZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgoZSl9Z2V0Q2hpbGRTdGFydE9mZnNldChlKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KGUpfWdldFBhdGgoKXtyZXR1cm5bXX1nZXROb2RlQnlQYXRoKGUpe2xldCB0PXRoaXM7Zm9yKGNvbnN0IG8gb2YgZSl0PXQuZ2V0Q2hpbGQodC5vZmZzZXRUb0luZGV4KG8pKTtyZXR1cm4gdH1vZmZzZXRUb0luZGV4KGUpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5vZmZzZXRUb0luZGV4KGUpfXRvSlNPTigpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2hpbGRyZW4pZS5wdXNoKHQudG9KU09OKCkpO3JldHVybiBlfXN0YXRpYyBmcm9tSlNPTihlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBvIG9mIGUpby5uYW1lP3QucHVzaChqdS5mcm9tSlNPTihvKSk6dC5wdXNoKEJ1LmZyb21KU09OKG8pKTtyZXR1cm4gbmV3IHBtKHQpfV9hcHBlbmRDaGlsZChlKXt0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsZSl9X2luc2VydENoaWxkKGUsdCl7Y29uc3Qgbz1mbyh0KTtmb3IoY29uc3QgbiBvZiBvKW51bGwhPT1uLnBhcmVudCYmbi5fcmVtb3ZlKCksbi5wYXJlbnQ9dGhpczt0aGlzLl9jaGlsZHJlbi5faW5zZXJ0Tm9kZXMoZSxvKX1fcmVtb3ZlQ2hpbGRyZW4oZSx0PTEpe2NvbnN0IG89dGhpcy5fY2hpbGRyZW4uX3JlbW92ZU5vZGVzKGUsdCk7Zm9yKGNvbnN0IG4gb2YgbyluLnBhcmVudD1udWxsO3JldHVybiBvfX12YXIgZ209ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnUoZSx0KX07Y2xhc3MgZm0gZXh0ZW5kcyBtbXtjb25zdHJ1Y3RvcihlLHQsbyxuLGkpe3N1cGVyKGkpLHRoaXMucmFuZ2U9SHUuY3JlYXRlRnJvbVJhbmdlKGUpLHRoaXMua2V5PXQsdGhpcy5vbGRWYWx1ZT1vPT09dm9pZCAwP251bGw6byx0aGlzLm5ld1ZhbHVlPW49PT12b2lkIDA/bnVsbDpufWdldCB0eXBlKCl7cmV0dXJuIG51bGw9PT10aGlzLm9sZFZhbHVlPydhZGRBdHRyaWJ1dGUnOm51bGw9PT10aGlzLm5ld1ZhbHVlPydyZW1vdmVBdHRyaWJ1dGUnOidjaGFuZ2VBdHRyaWJ1dGUnfWNsb25lKCl7cmV0dXJuIG5ldyBmbSh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMub2xkVmFsdWUsdGhpcy5uZXdWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgZm0odGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlLHRoaXMub2xkVmFsdWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnJhbmdlLmdldEl0ZW1zKCkpe2lmKG51bGwhPT10aGlzLm9sZFZhbHVlJiYhZ20oZS5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpLHRoaXMub2xkVmFsdWUpKXRocm93IG5ldyBZYSgnYXR0cmlidXRlLW9wZXJhdGlvbi13cm9uZy1vbGQtdmFsdWU6IENoYW5nZWQgbm9kZSBoYXMgZGlmZmVyZW50IGF0dHJpYnV0ZSB2YWx1ZSB0aGFuIG9wZXJhdGlvblxcJ3Mgb2xkIGF0dHJpYnV0ZSB2YWx1ZS4nLHtpdGVtOmUsa2V5OnRoaXMua2V5LHZhbHVlOnRoaXMub2xkVmFsdWV9KTtpZihudWxsPT09dGhpcy5vbGRWYWx1ZSYmbnVsbCE9PXRoaXMubmV3VmFsdWUmJmUuaGFzQXR0cmlidXRlKHRoaXMua2V5KSl0aHJvdyBuZXcgWWEoJ2F0dHJpYnV0ZS1vcGVyYXRpb24tYXR0cmlidXRlLWV4aXN0czogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cy4nLHtub2RlOmUsa2V5OnRoaXMua2V5fSl9fV9leGVjdXRlKCl7Z20odGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlKXx8X28odGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLkF0dHJpYnV0ZU9wZXJhdGlvbid9c3RhdGljIGZyb21KU09OKGUsdCl7cmV0dXJuIG5ldyBmbShIdS5mcm9tSlNPTihlLnJhbmdlLHQpLGUua2V5LGUub2xkVmFsdWUsZS5uZXdWYWx1ZSxlLmJhc2VWZXJzaW9uKX19Y2xhc3MgaG0gZXh0ZW5kcyBtbXtjb25zdHJ1Y3RvcihlLHQsbyxuKXtzdXBlcihuKSx0aGlzLnNvdXJjZVBvc2l0aW9uPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKSx0aGlzLmhvd01hbnk9dCx0aGlzLnRhcmdldFBvc2l0aW9uPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihvKSx0aGlzLmlzU3RpY2t5PSExfWdldCB0eXBlKCl7cmV0dXJuJ21vdmUnfWNsb25lKCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnNvdXJjZVBvc2l0aW9uLHRoaXMuaG93TWFueSx0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuYmFzZVZlcnNpb24pO3JldHVybiBlLmlzU3RpY2t5PXRoaXMuaXNTdGlja3ksZX1nZXRNb3ZlZFJhbmdlU3RhcnQoKXtyZXR1cm4gdGhpcy50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KX1nZXRSZXZlcnNlZCgpe2NvbnN0IGU9dGhpcy5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuaG93TWFueSksdD1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmdldE1vdmVkUmFuZ2VTdGFydCgpLHRoaXMuaG93TWFueSxlLHRoaXMuYmFzZVZlcnNpb24rMSk7cmV0dXJuIHQuaXNTdGlja3k9dGhpcy5pc1N0aWNreSx0fV92YWxpZGF0ZSgpe2NvbnN0IGU9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXJlbnQsdD10aGlzLnRhcmdldFBvc2l0aW9uLnBhcmVudCxvPXRoaXMuc291cmNlUG9zaXRpb24ub2Zmc2V0LG49dGhpcy50YXJnZXRQb3NpdGlvbi5vZmZzZXQ7aWYoIWV8fCF0KXRocm93IG5ldyBZYSgnbW92ZS1vcGVyYXRpb24tcG9zaXRpb24taW52YWxpZDogU291cmNlIHBvc2l0aW9uIG9yIHRhcmdldCBwb3NpdGlvbiBpcyBpbnZhbGlkLicpO2Vsc2UgaWYobyt0aGlzLmhvd01hbnk+ZS5tYXhPZmZzZXQpdGhyb3cgbmV3IFlhKCdtb3ZlLW9wZXJhdGlvbi1ub2Rlcy1kby1ub3QtZXhpc3Q6IFRoZSBub2RlcyB3aGljaCBzaG91bGQgYmUgbW92ZWQgZG8gbm90IGV4aXN0LicpO2Vsc2UgaWYoZT09PXQmJm88biYmbjxvK3RoaXMuaG93TWFueSl0aHJvdyBuZXcgWWEoJ21vdmUtb3BlcmF0aW9uLXJhbmdlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIHRvIHRoZSBpbnNpZGUgb2YgdGhhdCByYW5nZS4nKTtlbHNlIGlmKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdD09dGhpcy50YXJnZXRQb3NpdGlvbi5yb290JiYncHJlZml4Jz09QSh0aGlzLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0aGlzLnRhcmdldFBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSkpe2NvbnN0IGU9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXRoLmxlbmd0aC0xO2lmKHRoaXMudGFyZ2V0UG9zaXRpb24ucGF0aFtlXT49byYmdGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW2VdPG8rdGhpcy5ob3dNYW55KXRocm93IG5ldyBZYSgnbW92ZS1vcGVyYXRpb24tbm9kZS1pbnRvLWl0c2VsZjogVHJ5aW5nIHRvIG1vdmUgYSByYW5nZSBvZiBub2RlcyBpbnRvIG9uZSBvZiBub2RlcyBmcm9tIHRoYXQgcmFuZ2UuJyl9fV9leGVjdXRlKCl7a28oSHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpLHRoaXMudGFyZ2V0UG9zaXRpb24pfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uTW92ZU9wZXJhdGlvbid9c3RhdGljIGZyb21KU09OKGUsdCl7Y29uc3Qgbz1VdS5mcm9tSlNPTihlLnNvdXJjZVBvc2l0aW9uLHQpLG49VXUuZnJvbUpTT04oZS50YXJnZXRQb3NpdGlvbix0KSxpPW5ldyB0aGlzKG8sZS5ob3dNYW55LG4sZS5iYXNlVmVyc2lvbik7cmV0dXJuIGUuaXNTdGlja3kmJihpLmlzU3RpY2t5PSEwKSxpfX1jbGFzcyBibSBleHRlbmRzIGhte2dldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLnRhcmdldFBvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLnRhcmdldFBvc2l0aW9uPWV9Z2V0IHR5cGUoKXtyZXR1cm4ncmVpbnNlcnQnfWdldFJldmVyc2VkKCl7Y29uc3QgZT10aGlzLnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ob3dNYW55KTtyZXR1cm4gbmV3IGttKHRoaXMuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdGhpcy5ob3dNYW55LGUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtpZihzdXBlci5fdmFsaWRhdGUoKSwhdGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LmRvY3VtZW50KXRocm93IG5ldyBZYSgncmVpbnNlcnQtb3BlcmF0aW9uLW9uLWRldGFjaGVkLWl0ZW06IENhbm5vdCByZWluc2VydCBkZXRhY2hlZCBpdGVtLicpO2lmKCF0aGlzLnRhcmdldFBvc2l0aW9uLnJvb3QuZG9jdW1lbnQpdGhyb3cgbmV3IFlhKCdyZWluc2VydC1vcGVyYXRpb24tdG8tZGV0YWNoZWQtcGFyZW50OiBDYW5ub3QgcmVpbnNlcnQgaXRlbSB0byBkZXRhY2hlZCBwYXJlbnQuJyl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLm9wZXJhdGlvbi5SZWluc2VydE9wZXJhdGlvbid9fWNsYXNzIGttIGV4dGVuZHMgaG17Z2V0IHR5cGUoKXtyZXR1cm4ncmVtb3ZlJ31nZXRSZXZlcnNlZCgpe2NvbnN0IGU9dGhpcy5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuaG93TWFueSk7cmV0dXJuIG5ldyBibSh0aGlzLmdldE1vdmVkUmFuZ2VTdGFydCgpLHRoaXMuaG93TWFueSxlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7aWYoc3VwZXIuX3ZhbGlkYXRlKCksIXRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgWWEoJ3JlbW92ZS1vcGVyYXRpb24tb24tZGV0YWNoZWQtaXRlbTogQ2Fubm90IHJlbW92ZSBkZXRhY2hlZCBpdGVtLicpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uUmVtb3ZlT3BlcmF0aW9uJ319Y2xhc3MgX20gZXh0ZW5kcyBtbXtjb25zdHJ1Y3RvcihlLHQsbyl7c3VwZXIobyksdGhpcy5wb3NpdGlvbj1VdS5jcmVhdGVGcm9tUG9zaXRpb24oZSksdGhpcy5ub2Rlcz1uZXcgenUod28odCkpfWdldCB0eXBlKCl7cmV0dXJuJ2luc2VydCd9Y2xvbmUoKXtjb25zdCBlPW5ldyB6dShbLi4udGhpcy5ub2Rlc10ubWFwKChlKT0+ZS5fY2xvbmUoITApKSk7cmV0dXJuIG5ldyBfbSh0aGlzLnBvc2l0aW9uLGUsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtjb25zdCBlPXRoaXMucG9zaXRpb24ucm9vdC5kb2N1bWVudC5ncmF2ZXlhcmQsdD1uZXcgVXUoZSxbMF0pO3JldHVybiBuZXcga20odGhpcy5wb3NpdGlvbix0aGlzLm5vZGVzLm1heE9mZnNldCx0LHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7Y29uc3QgZT10aGlzLnBvc2l0aW9uLnBhcmVudDtpZighZXx8ZS5tYXhPZmZzZXQ8dGhpcy5wb3NpdGlvbi5vZmZzZXQpdGhyb3cgbmV3IFlhKCdpbnNlcnQtb3BlcmF0aW9uLXBvc2l0aW9uLWludmFsaWQ6IEluc2VydGlvbiBwb3NpdGlvbiBpcyBpbnZhbGlkLicpfV9leGVjdXRlKCl7Y29uc3QgZT10aGlzLm5vZGVzO3RoaXMubm9kZXM9bmV3IHp1KFsuLi5lXS5tYXAoKGUpPT5lLl9jbG9uZSghMCkpKSxobyh0aGlzLnBvc2l0aW9uLGUpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uSW5zZXJ0T3BlcmF0aW9uJ31zdGF0aWMgZnJvbUpTT04oZSx0KXtjb25zdCBvPVtdO2Zvcihjb25zdCBuIG9mIGUubm9kZXMpbi5uYW1lP28ucHVzaChqdS5mcm9tSlNPTihuKSk6by5wdXNoKEJ1LmZyb21KU09OKG4pKTtyZXR1cm4gbmV3IF9tKFV1LmZyb21KU09OKGUucG9zaXRpb24sdCksbyxlLmJhc2VWZXJzaW9uKX19Y2xhc3Mgd20gZXh0ZW5kcyBtbXtjb25zdHJ1Y3RvcihlLHQsbyxuLGkpe3N1cGVyKGkpLHRoaXMubmFtZT1lLHRoaXMub2xkUmFuZ2U9dD9IdS5jcmVhdGVGcm9tUmFuZ2UodCk6bnVsbCx0aGlzLm5ld1JhbmdlPW8/SHUuY3JlYXRlRnJvbVJhbmdlKG8pOm51bGwsdGhpcy5fbWFya2Vycz1ufWdldCB0eXBlKCl7cmV0dXJuJ21hcmtlcid9Y2xvbmUoKXtyZXR1cm4gbmV3IHdtKHRoaXMubmFtZSx0aGlzLm9sZFJhbmdlLHRoaXMubmV3UmFuZ2UsdGhpcy5fbWFya2Vycyx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgd20odGhpcy5uYW1lLHRoaXMubmV3UmFuZ2UsdGhpcy5vbGRSYW5nZSx0aGlzLl9tYXJrZXJzLHRoaXMuYmFzZVZlcnNpb24rMSl9X2V4ZWN1dGUoKXtjb25zdCBlPXRoaXMubmV3UmFuZ2U/J19zZXQnOidfcmVtb3ZlJzt0aGlzLl9tYXJrZXJzW2VdKHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLCEwKX10b0pTT04oKXtjb25zdCBlPXN1cGVyLnRvSlNPTigpO3JldHVybiBkZWxldGUgZS5fbWFya2VycyxlfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uTWFya2VyT3BlcmF0aW9uJ31zdGF0aWMgZnJvbUpTT04oZSx0KXtyZXR1cm4gbmV3IHdtKGUubmFtZSxlLm9sZFJhbmdlP0h1LmZyb21KU09OKGUub2xkUmFuZ2UsdCk6bnVsbCxlLm5ld1JhbmdlP0h1LmZyb21KU09OKGUubmV3UmFuZ2UsdCk6bnVsbCx0Lm1vZGVsLm1hcmtlcnMsZS5iYXNlVmVyc2lvbil9fWNsYXNzIHZtIGV4dGVuZHMgbW17Z2V0IHR5cGUoKXtyZXR1cm4nbm9vcCd9Y2xvbmUoKXtyZXR1cm4gbmV3IHZtKHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyB2bSh0aGlzLmJhc2VWZXJzaW9uKzEpfV9leGVjdXRlKCl7fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uTm9PcGVyYXRpb24nfX1jbGFzcyB5bSBleHRlbmRzIG1te2NvbnN0cnVjdG9yKGUsdCxvLG4pe3N1cGVyKG4pLHRoaXMucG9zaXRpb249ZSx0aGlzLm9sZE5hbWU9dCx0aGlzLm5ld05hbWU9b31nZXQgdHlwZSgpe3JldHVybidyZW5hbWUnfWNsb25lKCl7cmV0dXJuIG5ldyB5bShVdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy5vbGROYW1lLHRoaXMubmV3TmFtZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgeW0oVXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMubmV3TmFtZSx0aGlzLm9sZE5hbWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCBlPXRoaXMucG9zaXRpb24ubm9kZUFmdGVyO2lmKCEoZSBpbnN0YW5jZW9mIGp1KSl0aHJvdyBuZXcgWWEoJ3JlbmFtZS1vcGVyYXRpb24td3JvbmctcG9zaXRpb246IEdpdmVuIHBvc2l0aW9uIGlzIGludmFsaWQgb3Igbm9kZSBhZnRlciBpdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgRWxlbWVudC4nKTtlbHNlIGlmKGUubmFtZSE9PXRoaXMub2xkTmFtZSl0aHJvdyBuZXcgWWEoJ3JlbmFtZS1vcGVyYXRpb24td3JvbmctbmFtZTogRWxlbWVudCB0byBjaGFuZ2UgaGFzIGRpZmZlcmVudCBuYW1lIHRoYW4gb3BlcmF0aW9uXFwncyBvbGQgbmFtZS4nKX1fZXhlY3V0ZSgpe2NvbnN0IGU9dGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXI7ZS5uYW1lPXRoaXMubmV3TmFtZX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLlJlbmFtZU9wZXJhdGlvbid9c3RhdGljIGZyb21KU09OKGUsdCl7cmV0dXJuIG5ldyB5bShVdS5mcm9tSlNPTihlLnBvc2l0aW9uLHQpLGUub2xkTmFtZSxlLm5ld05hbWUsZS5iYXNlVmVyc2lvbil9fWNsYXNzIHhtIGV4dGVuZHMgbW17Y29uc3RydWN0b3IoZSx0LG8sbixpKXtzdXBlcihpKSx0aGlzLnJvb3Q9ZSx0aGlzLmtleT10LHRoaXMub2xkVmFsdWU9byx0aGlzLm5ld1ZhbHVlPW59Z2V0IHR5cGUoKXtyZXR1cm4gbnVsbD09PXRoaXMub2xkVmFsdWU/J2FkZFJvb3RBdHRyaWJ1dGUnOm51bGw9PT10aGlzLm5ld1ZhbHVlPydyZW1vdmVSb290QXR0cmlidXRlJzonY2hhbmdlUm9vdEF0dHJpYnV0ZSd9Y2xvbmUoKXtyZXR1cm4gbmV3IHhtKHRoaXMucm9vdCx0aGlzLmtleSx0aGlzLm9sZFZhbHVlLHRoaXMubmV3VmFsdWUsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IHhtKHRoaXMucm9vdCx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlLHRoaXMub2xkVmFsdWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtpZih0aGlzLnJvb3QhPXRoaXMucm9vdC5yb290fHx0aGlzLnJvb3QuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSl0aHJvdyBuZXcgWWEoJ3Jvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLW5vdC1hLXJvb3Q6IFRoZSBlbGVtZW50IHRvIGNoYW5nZSBpcyBub3QgYSByb290IGVsZW1lbnQuJyx7cm9vdDp0aGlzLnJvb3Qsa2V5OnRoaXMua2V5fSk7aWYobnVsbCE9PXRoaXMub2xkVmFsdWUmJnRoaXMucm9vdC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpIT09dGhpcy5vbGRWYWx1ZSl0aHJvdyBuZXcgWWEoJ3Jvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLXdyb25nLW9sZC12YWx1ZTogQ2hhbmdlZCBub2RlIGhhcyBkaWZmZXJlbnQgYXR0cmlidXRlIHZhbHVlIHRoYW4gb3BlcmF0aW9uXFwncyBvbGQgYXR0cmlidXRlIHZhbHVlLicse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pO2lmKG51bGw9PT10aGlzLm9sZFZhbHVlJiZudWxsIT09dGhpcy5uZXdWYWx1ZSYmdGhpcy5yb290Lmhhc0F0dHJpYnV0ZSh0aGlzLmtleSkpdGhyb3cgbmV3IFlhKCdyb290YXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLicse3Jvb3Q6dGhpcy5yb290LGtleTp0aGlzLmtleX0pfV9leGVjdXRlKCl7bnVsbD09PXRoaXMubmV3VmFsdWU/dGhpcy5yb290Ll9yZW1vdmVBdHRyaWJ1dGUodGhpcy5rZXkpOnRoaXMucm9vdC5fc2V0QXR0cmlidXRlKHRoaXMua2V5LHRoaXMubmV3VmFsdWUpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5vcGVyYXRpb24uUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbid9c3RhdGljIGZyb21KU09OKGUsdCl7aWYoIXQuZ2V0Um9vdChlLnJvb3QpKXRocm93IG5ldyBZYSgncm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBSb290QXR0cmlidXRlT3BlcmF0aW9uLiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuJyx7cm9vdE5hbWU6ZX0pO3JldHVybiBuZXcgeG0odC5nZXRSb290KGUucm9vdCksZS5rZXksZS5vbGRWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pfX1jb25zdCBDbT17fTtDbVtmbS5jbGFzc05hbWVdPWZtLENtW19tLmNsYXNzTmFtZV09X20sQ21bd20uY2xhc3NOYW1lXT13bSxDbVtobS5jbGFzc05hbWVdPWhtLENtW3ZtLmNsYXNzTmFtZV09dm0sQ21bbW0uY2xhc3NOYW1lXT1tbSxDbVtibS5jbGFzc05hbWVdPWJtLENtW2ttLmNsYXNzTmFtZV09a20sQ21beW0uY2xhc3NOYW1lXT15bSxDbVt4bS5jbGFzc05hbWVdPXhtO2NsYXNzIEFte3N0YXRpYyBmcm9tSlNPTihlLHQpe3JldHVybiBDbVtlLl9fY2xhc3NOYW1lXS5mcm9tSlNPTihlLHQpfX1jb25zdCBUbT1uZXcgTWFwO2NsYXNzIFBte3N0YXRpYyBmcm9tSlNPTihlLHQpe2lmKCFUbS5oYXMoZS5fX2NsYXNzTmFtZSkpdGhyb3cgbmV3IFlhKCdkZWx0YS1mcm9tanNvbi1uby1kZXNlcmlhbGl6ZXI6IFRoaXMgZGVsdGEgaGFzIG5vIGRlZmluZWQgZGVzZXJpYWxpemVyJyx7bmFtZTplLl9fY2xhc3NOYW1lfSk7Y29uc3Qgbz1UbS5nZXQoZS5fX2NsYXNzTmFtZSksbj1uZXcgbztmb3IoY29uc3QgbyBvZiBlLm9wZXJhdGlvbnMpbi5hZGRPcGVyYXRpb24oQW0uZnJvbUpTT04obyx0KSk7Zm9yKGNvbnN0IG8gaW4gZSknX19jbGFzc05hbWUnIT1vJiZ2b2lkIDA9PT1uW29dJiYobltvXT1lW29dKTtyZXR1cm4gbn1zdGF0aWMgcmVnaXN0ZXIoZSl7VG0uc2V0KGUuY2xhc3NOYW1lLGUpfX1jbGFzcyBFbXtjb25zdHJ1Y3Rvcigpe3RoaXMuYmF0Y2g9bnVsbCx0aGlzLm9wZXJhdGlvbnM9W119Z2V0IGJhc2VWZXJzaW9uKCl7cmV0dXJuIDA8dGhpcy5vcGVyYXRpb25zLmxlbmd0aD90aGlzLm9wZXJhdGlvbnNbMF0uYmFzZVZlcnNpb246bnVsbH1zZXQgYmFzZVZlcnNpb24oZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vcGVyYXRpb25zKXQuYmFzZVZlcnNpb249ZSsrfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gRW19YWRkT3BlcmF0aW9uKGUpe3JldHVybiBlLmRlbHRhPXRoaXMsdGhpcy5vcGVyYXRpb25zLnB1c2goZSksZX1jbG9uZSgpe2NvbnN0IGU9bmV3IHRoaXMuY29uc3RydWN0b3I7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vcGVyYXRpb25zKWUuYWRkT3BlcmF0aW9uKHQuY2xvbmUoKSk7cmV0dXJuIGV9Z2V0UmV2ZXJzZWQoKXtjb25zdCBlPW5ldyB0aGlzLl9yZXZlcnNlRGVsdGFDbGFzcztmb3IoY29uc3QgdCBvZiB0aGlzLm9wZXJhdGlvbnMpZS5hZGRPcGVyYXRpb24odC5nZXRSZXZlcnNlZCgpKTtlLm9wZXJhdGlvbnMucmV2ZXJzZSgpO2ZvcihsZXQgdD0wO3Q8ZS5vcGVyYXRpb25zLmxlbmd0aDt0KyspZS5vcGVyYXRpb25zW3RdLmJhc2VWZXJzaW9uPXRoaXMub3BlcmF0aW9uc1t0aGlzLm9wZXJhdGlvbnMubGVuZ3RoLTFdLmJhc2VWZXJzaW9uK3QrMTtyZXR1cm4gZX10b0pTT04oKXtjb25zdCBlPVRkKHRoaXMpO3JldHVybiBlLl9fY2xhc3NOYW1lPXRoaXMuY29uc3RydWN0b3IuY2xhc3NOYW1lLGRlbGV0ZSBlLmJhdGNoLGV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLkRlbHRhJ319UG0ucmVnaXN0ZXIoRW0pO2NsYXNzIFNtIGV4dGVuZHMgRW17Z2V0IHR5cGUoKXtyZXR1cm4nYXR0cmlidXRlJ31nZXQga2V5KCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXT90aGlzLm9wZXJhdGlvbnNbMF0ua2V5Om51bGx9Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXT90aGlzLm9wZXJhdGlvbnNbMF0ubmV3VmFsdWU6bnVsbH1nZXQgcmFuZ2UoKXtpZih0aGlzLl9yYW5nZSlyZXR1cm4gdGhpcy5fcmFuZ2U7bGV0IGU9bnVsbCx0PW51bGw7Zm9yKGNvbnN0IG8gb2YgdGhpcy5vcGVyYXRpb25zKW8gaW5zdGFuY2VvZiB2bXx8KChudWxsPT09ZXx8ZS5pc0FmdGVyKG8ucmFuZ2Uuc3RhcnQpKSYmKGU9by5yYW5nZS5zdGFydCksKG51bGw9PT10fHx0LmlzQmVmb3JlKG8ucmFuZ2UuZW5kKSkmJih0PW8ucmFuZ2UuZW5kKSk7cmV0dXJuIGUmJnQ/KHRoaXMuX3JhbmdlPW5ldyBIdShlLHQpLHRoaXMuX3JhbmdlKTpudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gU219dG9KU09OKCl7Y29uc3QgZT1zdXBlci50b0pTT04oKTtyZXR1cm4gZGVsZXRlIGUuX3JhbmdlLGV9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLkF0dHJpYnV0ZURlbHRhJ319UG0ucmVnaXN0ZXIoU20pO2NsYXNzIE9tIGV4dGVuZHMgRW17Z2V0IHR5cGUoKXtyZXR1cm4nc3BsaXQnfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlT3BlcmF0aW9uP3RoaXMuX21vdmVPcGVyYXRpb24uc291cmNlUG9zaXRpb246bnVsbH1nZXQgX2Nsb25lT3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX21vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzFdJiZ0aGlzLm9wZXJhdGlvbnNbMV1pbnN0YW5jZW9mIGhtP3RoaXMub3BlcmF0aW9uc1sxXTpudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gUm19c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLlNwbGl0RGVsdGEnfX1QbS5yZWdpc3RlcihPbSk7Y2xhc3MgUm0gZXh0ZW5kcyBFbXtnZXQgdHlwZSgpe3JldHVybidtZXJnZSd9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW92ZU9wZXJhdGlvbj90aGlzLl9yZW1vdmVPcGVyYXRpb24uc291cmNlUG9zaXRpb246bnVsbH1nZXQgX3JlbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMV18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBPbX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuTWVyZ2VEZWx0YSd9fVBtLnJlZ2lzdGVyKFJtKTtjbGFzcyBJbSBleHRlbmRzIEVte2dldCB0eXBlKCl7cmV0dXJuJ21vdmUnfWdldCBob3dNYW55KCl7cmV0dXJuIHRoaXMuX21vdmVPcGVyYXRpb24/dGhpcy5fbW92ZU9wZXJhdGlvbi5ob3dNYW55Om51bGx9Z2V0IHNvdXJjZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVPcGVyYXRpb24/dGhpcy5fbW92ZU9wZXJhdGlvbi5zb3VyY2VQb3NpdGlvbjpudWxsfWdldCB0YXJnZXRQb3NpdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlT3BlcmF0aW9uP3RoaXMuX21vdmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb246bnVsbH1nZXQgX21vdmVPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdfHxudWxsfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gSW19c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLk1vdmVEZWx0YSd9fVBtLnJlZ2lzdGVyKEltKTtjbGFzcyBWbSBleHRlbmRzIElte3N0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5SZW1vdmVEZWx0YSd9fVBtLnJlZ2lzdGVyKFZtKTtjbGFzcyBGbSBleHRlbmRzIEVte2dldCB0eXBlKCl7cmV0dXJuJ3JlbmFtZSd9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBGbX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuUmVuYW1lRGVsdGEnfX1QbS5yZWdpc3RlcihGbSk7Y2xhc3MgTm0gZXh0ZW5kcyBFbXtnZXQgdHlwZSgpe3JldHVybid3cmFwJ31nZXQgcmFuZ2UoKXtjb25zdCBlPXRoaXMuX21vdmVPcGVyYXRpb247cmV0dXJuIGU/SHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpOm51bGx9Z2V0IGhvd01hbnkoKXtjb25zdCBlPXRoaXMucmFuZ2U7cmV0dXJuIGU/ZS5lbmQub2Zmc2V0LWUuc3RhcnQub2Zmc2V0OjB9Z2V0IF9pbnNlcnRPcGVyYXRpb24oKXtyZXR1cm4gdGhpcy5vcGVyYXRpb25zWzBdfHxudWxsfWdldCBfbW92ZU9wZXJhdGlvbigpe3JldHVybiB0aGlzLm9wZXJhdGlvbnNbMV18fG51bGx9Z2V0IF9yZXZlcnNlRGVsdGFDbGFzcygpe3JldHVybiBNbX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuV3JhcERlbHRhJ319UG0ucmVnaXN0ZXIoTm0pO2NsYXNzIE1tIGV4dGVuZHMgRW17Z2V0IHR5cGUoKXtyZXR1cm4ndW53cmFwJ31nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fbW92ZU9wZXJhdGlvbj90aGlzLl9tb3ZlT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uOm51bGx9Z2V0IF9tb3ZlT3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIE5tfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5VbndyYXBEZWx0YSd9fVBtLnJlZ2lzdGVyKE1tKTtjbGFzcyBEbSBleHRlbmRzIEVte2dldCB0eXBlKCl7cmV0dXJuJ2luc2VydCd9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX2luc2VydE9wZXJhdGlvbj90aGlzLl9pbnNlcnRPcGVyYXRpb24ucG9zaXRpb246bnVsbH1nZXQgbm9kZXMoKXtyZXR1cm4gdGhpcy5faW5zZXJ0T3BlcmF0aW9uP3RoaXMuX2luc2VydE9wZXJhdGlvbi5ub2RlczpudWxsfWdldCBfaW5zZXJ0T3BlcmF0aW9uKCl7cmV0dXJuIHRoaXMub3BlcmF0aW9uc1swXXx8bnVsbH1nZXQgX3JldmVyc2VEZWx0YUNsYXNzKCl7cmV0dXJuIFZtfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5JbnNlcnREZWx0YSd9fVBtLnJlZ2lzdGVyKERtKTtjbGFzcyBCbSBleHRlbmRzIERte3N0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuJ2VuZ2luZS5tb2RlbC5kZWx0YS5XZWFrSW5zZXJ0RGVsdGEnfX1QbS5yZWdpc3RlcihCbSk7dmFyIExtPWZ1bmN0aW9uKGUsdCxvPXtpc1N0cm9uZzohMX0pe2xldCBuLGk7ZSBpbnN0YW5jZW9mIF9tP249em0uSW5zZXJ0T3BlcmF0aW9uOmUgaW5zdGFuY2VvZiBmbT9uPXptLkF0dHJpYnV0ZU9wZXJhdGlvbjplIGluc3RhbmNlb2YgeG0/bj16bS5Sb290QXR0cmlidXRlT3BlcmF0aW9uOmUgaW5zdGFuY2VvZiB5bT9uPXptLlJlbmFtZU9wZXJhdGlvbjplIGluc3RhbmNlb2Ygd20/bj16bS5NYXJrZXJPcGVyYXRpb246ZSBpbnN0YW5jZW9mIGhtP249em0uTW92ZU9wZXJhdGlvbjppPUNvLG4mJih0IGluc3RhbmNlb2YgX20/aT1uLkluc2VydE9wZXJhdGlvbjp0IGluc3RhbmNlb2YgZm0/aT1uLkF0dHJpYnV0ZU9wZXJhdGlvbjp0IGluc3RhbmNlb2YgeG0/aT1uLlJvb3RBdHRyaWJ1dGVPcGVyYXRpb246dCBpbnN0YW5jZW9mIHltP2k9bi5SZW5hbWVPcGVyYXRpb246dCBpbnN0YW5jZW9mIHdtP2k9bi5NYXJrZXJPcGVyYXRpb246dCBpbnN0YW5jZW9mIGhtP2k9bi5Nb3ZlT3BlcmF0aW9uOmk9Q28pO2NvbnN0IHI9aShlLHQsbyk7cmV0dXJuIEFvKGUuYmFzZVZlcnNpb24scil9O2NvbnN0IHptPXtJbnNlcnRPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbihlLHQsbyl7Y29uc3Qgbj1lLmNsb25lKCksaT12b2lkIDA9PT1vLmluc2VydEJlZm9yZT8hby5pc1N0cm9uZzpvLmluc2VydEJlZm9yZTtyZXR1cm4gbi5wb3NpdGlvbj1uLnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQsaSksW25dfSxBdHRyaWJ1dGVPcGVyYXRpb246Q28sUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjpDbyxSZW5hbWVPcGVyYXRpb246Q28sTWFya2VyT3BlcmF0aW9uOkNvLE1vdmVPcGVyYXRpb24oZSx0LG8pe2NvbnN0IG49ZS5jbG9uZSgpLGk9dm9pZCAwPT09by5pbnNlcnRCZWZvcmU/IW8uaXNTdHJvbmc6by5pbnNlcnRCZWZvcmU7cmV0dXJuIG4ucG9zaXRpb249ZS5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSxpLHQuaXNTdGlja3kmJiFvLmZvcmNlTm90U3RpY2t5KSxbbl19fSxBdHRyaWJ1dGVPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbihlLHQpe2NvbnN0IG89ZS5yYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LCEwLCExKTtyZXR1cm4gby5yZXZlcnNlKCkubWFwKCh0KT0+bmV3IGZtKHQsZS5rZXksZS5vbGRWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pKX0sQXR0cmlidXRlT3BlcmF0aW9uKGUsdCxvKXtpZihlLmtleT09PXQua2V5KXtjb25zdCBuPWUucmFuZ2UuZ2V0RGlmZmVyZW5jZSh0LnJhbmdlKS5tYXAoKHQpPT5uZXcgZm0odCxlLmtleSxlLm9sZFZhbHVlLGUubmV3VmFsdWUsZS5iYXNlVmVyc2lvbikpLGk9ZS5yYW5nZS5nZXRJbnRlcnNlY3Rpb24odC5yYW5nZSk7cmV0dXJuIGkmJihvLmlzU3Ryb25nP24ucHVzaChuZXcgZm0oaSx0LmtleSx0Lm5ld1ZhbHVlLGUubmV3VmFsdWUsZS5iYXNlVmVyc2lvbikpOjA9PT1uLmxlbmd0aCYmbi5wdXNoKG5ldyB2bSgwKSkpLG59cmV0dXJuW2UuY2xvbmUoKV19LFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246Q28sUmVuYW1lT3BlcmF0aW9uOkNvLE1hcmtlck9wZXJhdGlvbjpDbyxNb3ZlT3BlcmF0aW9uKGUsdCl7Y29uc3Qgbz1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7bGV0IG49W107Y29uc3QgaT1QbyhlLnJhbmdlLmdldERpZmZlcmVuY2UobykpLHI9ZS5yYW5nZS5nZXRJbnRlcnNlY3Rpb24obyk7cmV0dXJuIG51bGwhPT1pJiYoaS5zdGFydD1pLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLGkuZW5kPWkuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLG49aS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LmdldE1vdmVkUmFuZ2VTdGFydCgpLHQuaG93TWFueSwhMCwhMSkucmV2ZXJzZSgpKSxudWxsIT09ciYmKHIuc3RhcnQ9ci5zdGFydC5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LmdldE1vdmVkUmFuZ2VTdGFydCgpKSxyLmVuZD1yLmVuZC5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LmdldE1vdmVkUmFuZ2VTdGFydCgpKSxuLnB1c2gocikpLG4ubWFwKCh0KT0+bmV3IGZtKHQsZS5rZXksZS5vbGRWYWx1ZSxlLm5ld1ZhbHVlLGUuYmFzZVZlcnNpb24pKX19LFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbjpDbyxBdHRyaWJ1dGVPcGVyYXRpb246Q28sUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbihlLHQsbyl7cmV0dXJuIGUucm9vdCE9PXQucm9vdHx8ZS5rZXkhPT10LmtleXx8KGUubmV3VmFsdWU9PT10Lm5ld1ZhbHVlfHxvLmlzU3Ryb25nKSYmZS5uZXdWYWx1ZSE9PXQubmV3VmFsdWU/W2UuY2xvbmUoKV06W25ldyB2bShlLmJhc2VWZXJzaW9uKV19LFJlbmFtZU9wZXJhdGlvbjpDbyxNYXJrZXJPcGVyYXRpb246Q28sTW92ZU9wZXJhdGlvbjpDb30sUmVuYW1lT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24oZSx0KXtjb25zdCBvPWUuY2xvbmUoKTtyZXR1cm4gby5wb3NpdGlvbj1vLnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQsITApLFtvXX0sQXR0cmlidXRlT3BlcmF0aW9uOkNvLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246Q28sUmVuYW1lT3BlcmF0aW9uKGUsdCxvKXtjb25zdCBuPWUuY2xvbmUoKTtpZihlLnBvc2l0aW9uLmlzRXF1YWwodC5wb3NpdGlvbikpaWYoby5pc1N0cm9uZyluLm9sZE5hbWU9dC5uZXdOYW1lO2Vsc2UgcmV0dXJuW25ldyB2bShlLmJhc2VWZXJzaW9uKV07cmV0dXJuW25dfSxNYXJrZXJPcGVyYXRpb246Q28sTW92ZU9wZXJhdGlvbihlLHQpe2NvbnN0IG89ZS5jbG9uZSgpLG49by5wb3NpdGlvbi5pc0VxdWFsKHQuc291cmNlUG9zaXRpb24pO3JldHVybiBvLnBvc2l0aW9uPW8ucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnksITAsbiksW29dfX0sTWFya2VyT3BlcmF0aW9uOntJbnNlcnRPcGVyYXRpb24oZSx0KXtjb25zdCBvPWUuY2xvbmUoKTtyZXR1cm4gby5vbGRSYW5nZSYmKG8ub2xkUmFuZ2U9by5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LCExLCExKVswXSksby5uZXdSYW5nZSYmKG8ubmV3UmFuZ2U9by5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQubm9kZXMubWF4T2Zmc2V0LCExLCExKVswXSksW29dfSxBdHRyaWJ1dGVPcGVyYXRpb246Q28sUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbjpDbyxSZW5hbWVPcGVyYXRpb246Q28sTWFya2VyT3BlcmF0aW9uKGUsdCxvKXtjb25zdCBuPWUuY2xvbmUoKTtpZihlLm5hbWU9PXQubmFtZSlpZihvLmlzU3Ryb25nKW4ub2xkUmFuZ2U9dC5uZXdSYW5nZTtlbHNlIHJldHVybltuZXcgdm0oZS5iYXNlVmVyc2lvbildO3JldHVybltuXX0sTW92ZU9wZXJhdGlvbihlLHQpe2NvbnN0IG89ZS5jbG9uZSgpO2lmKG8ub2xkUmFuZ2Upe2NvbnN0IGU9by5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSk7by5vbGRSYW5nZT1IdS5jcmVhdGVGcm9tUmFuZ2VzKGUpfWlmKG8ubmV3UmFuZ2Upe2NvbnN0IGU9by5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSk7by5uZXdSYW5nZT1IdS5jcmVhdGVGcm9tUmFuZ2VzKGUpfXJldHVybltvXX19LE1vdmVPcGVyYXRpb246e0luc2VydE9wZXJhdGlvbihlLHQsbyl7bGV0IG49SHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2NvbnN0IGk9ZS5pc1N0aWNreSYmIW8uZm9yY2VOb3RTdGlja3k7bj1uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ub2Rlcy5tYXhPZmZzZXQsITEsaSlbMF07Y29uc3Qgcj12b2lkIDA9PT1vLmluc2VydEJlZm9yZT8hby5pc1N0cm9uZzpvLmluc2VydEJlZm9yZSxhPW5ldyBlLmNvbnN0cnVjdG9yKG4uc3RhcnQsbi5lbmQub2Zmc2V0LW4uc3RhcnQub2Zmc2V0LGUudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5wb3NpdGlvbix0Lm5vZGVzLm1heE9mZnNldCxyKSxlLmJhc2VWZXJzaW9uKTtyZXR1cm4gYS5pc1N0aWNreT1lLmlzU3RpY2t5LFthXX0sQXR0cmlidXRlT3BlcmF0aW9uOkNvLFJvb3RBdHRyaWJ1dGVPcGVyYXRpb246Q28sUmVuYW1lT3BlcmF0aW9uOkNvLE1hcmtlck9wZXJhdGlvbjpDbyxNb3ZlT3BlcmF0aW9uKGUsdCxvKXtjb25zdCBuPUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KSxpPUh1LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KTtsZXQgcj1vLmlzU3Ryb25nO2NvbnN0IGE9ZS5pc1N0aWNreSYmIW8uZm9yY2VOb3RTdGlja3kscz12b2lkIDA9PT1vLmluc2VydEJlZm9yZT8hcjpvLmluc2VydEJlZm9yZSxsPWUudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnkscyx0LmlzU3RpY2t5JiYhby5mb3JjZU5vdFN0aWNreSk7aWYoVG8oZSx0KSYmVG8odCxlKSlyZXR1cm5bdC5nZXRSZXZlcnNlZCgpXTtjb25zdCBkPW4uY29udGFpbnNQb3NpdGlvbih0LnRhcmdldFBvc2l0aW9uKXx8bi5zdGFydC5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pJiZhfHxuLmVuZC5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pJiZhO2lmKGQmJm4uY29udGFpbnNSYW5nZShpLCEwKSlyZXR1cm4gbi5zdGFydD1uLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55LCFhKSxuLmVuZD1uLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSxhKSxFbyhbbl0sbCxlKTtjb25zdCBjPWkuY29udGFpbnNQb3NpdGlvbihlLnRhcmdldFBvc2l0aW9uKXx8aS5zdGFydC5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pJiZ0LmlzU3RpY2t5JiYhby5mb3JjZU5vdFN0aWNreXx8aS5lbmQuaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmdC5pc1N0aWNreSYmIW8uZm9yY2VOb3RTdGlja3k7aWYoYyYmaS5jb250YWluc1JhbmdlKG4sITApKXJldHVybiBuLnN0YXJ0PW4uc3RhcnQuX2dldENvbWJpbmVkKHQuc291cmNlUG9zaXRpb24sdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksbi5lbmQ9bi5lbmQuX2dldENvbWJpbmVkKHQuc291cmNlUG9zaXRpb24sdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksRW8oW25dLGwsZSk7Y29uc3QgdT1BKGUuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHQuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKTtpZigncHJlZml4Jz09dXx8J2V4dGVuc2lvbic9PXUpcmV0dXJuIG4uc3RhcnQ9bi5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueSwhYSksbi5lbmQ9bi5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnksYSksRW8oW25dLGwsZSk7by5mb3JjZVdlYWtSZW1vdmV8fChlIGluc3RhbmNlb2Yga20mJiEodCBpbnN0YW5jZW9mIGttKT9yPSEwOiEoZSBpbnN0YW5jZW9mIGttKSYmdCBpbnN0YW5jZW9mIGttJiYocj0hMSkpO2NvbnN0IG09W10scD1uLmdldERpZmZlcmVuY2UoaSk7Zm9yKGNvbnN0IG4gb2YgcCl7bi5zdGFydD1uLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLG4uZW5kPW4uZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpO2NvbnN0IGU9J3NhbWUnPT1BKG4uc3RhcnQuZ2V0UGFyZW50UGF0aCgpLHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkuZ2V0UGFyZW50UGF0aCgpKSxvPW4uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odC5nZXRNb3ZlZFJhbmdlU3RhcnQoKSx0Lmhvd01hbnksZSxhKTttLnB1c2goLi4ubyl9Y29uc3QgZz1uLmdldEludGVyc2VjdGlvbihpKTtyZXR1cm4gbnVsbCE9PWcmJnImJiFkJiYoZy5zdGFydD1nLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLGcuZW5kPWcuZW5kLl9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLDA9PT1tLmxlbmd0aD9tLnB1c2goZyk6MT09bS5sZW5ndGg/aS5zdGFydC5pc0JlZm9yZShuLnN0YXJ0KXx8aS5zdGFydC5pc0VxdWFsKG4uc3RhcnQpP20udW5zaGlmdChnKTptLnB1c2goZyk6bS5zcGxpY2UoMSwwLGcpKSwwPT09bS5sZW5ndGg/W25ldyB2bShlLmJhc2VWZXJzaW9uKV06RW8obSxsLGUpfX19O3ZhciBvdD1mdW5jdGlvbihlLHQsbyl7dmFyIG49LTEsaT1lLmxlbmd0aDswPnQmJih0PS10Pmk/MDppK3QpLG89bz5pP2k6bywwPm8mJihvKz1pKSxpPXQ+bz8wOm8tdD4+PjAsdD4+Pj0wO2Zvcih2YXIgcj1BcnJheShpKTsrK248aTspcltuXT1lW24rdF07cmV0dXJuIHJ9LGptPU1hdGguY2VpbCxxbT1mdW5jdGlvbihlKXtyZXR1cm4gc2woZSl8fHJsKGUpfSxXbT1PbyxVbT1mdW5jdGlvbihlLHQsbyl7Zm9yKHZhciBuPWUubGVuZ3RoLGk9dCsobz8wOi0xKTtvP2ktLTorK2k8bjspe3ZhciByPWVbaV07aWYociE9PXIpcmV0dXJuIGl9cmV0dXJuLTF9LEhtPWZ1bmN0aW9uKGUsdCxvKXtpZih0IT09dClyZXR1cm4gVW0oZSxvKTtmb3IodmFyIG49by0xLGk9ZS5sZW5ndGg7KytuPGk7KWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxLbT1mdW5jdGlvbihlLHQpe3JldHVybiEhZS5sZW5ndGgmJi0xPEhtKGUsdCwwKX0sR209ZnVuY3Rpb24oZSx0LG8pe2Zvcih2YXIgbj0tMSxpPWUubGVuZ3RoOysrbjxpOylpZihvKHQsZVtuXSkpcmV0dXJuITA7cmV0dXJuITF9LCRtPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPS0xLG49ZS5sZW5ndGgsaT1BcnJheShuKTsrK288bjspaVtvXT10KGVbb10sbyxlKTtyZXR1cm4gaX0sSm09ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfX0sUW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5oYXModCl9LFltPWZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPS0xLHI9S20sYT0hMCxzPWUubGVuZ3RoLGw9W10sZD10Lmxlbmd0aDtpZighcylyZXR1cm4gbDtvJiYodD0kbSh0LEptKG8pKSksbj8ocj1HbSxhPSExKTp0Lmxlbmd0aD49MjAwJiYocj1RbSxhPSExLHQ9bmV3IFhjKHQpKTtvdXRlcjpmb3IoOysraTxzOyl7dmFyIGM9ZVtpXSx1PW8/byhjKTpjO2lmKGM9bnx8MCE9PWM/YzowLGEmJnU9PT11KXtmb3IodmFyIG09ZDttLS07KWlmKHRbbV09PT11KWNvbnRpbnVlIG91dGVyO2wucHVzaChjKX1lbHNlIHIodCx1LG4pfHxsLnB1c2goYyl9cmV0dXJuIGx9LFhtPUpkKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVsKGUpP1ltKGUsV20odCwxLGVsLCEwKSk6W119KSxabT0xLGVwPTIsdHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1lJiYhdXMoZSl9LG9wPWZ1bmN0aW9uKGUsdCl7cmV0dXJuICRtKHQsZnVuY3Rpb24odCl7cmV0dXJuW3QsZVt0XV19KX0sbnA9ZnVuY3Rpb24oZSl7dmFyIHQ9LTEsbz1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7b1srK3RdPVtlLGVdfSksb30saXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBvPUtsKHQpO3JldHVybiBvPT0nW29iamVjdCBNYXBdJz9vZCh0KTpvPT0nW29iamVjdCBTZXRdJz9ucCh0KTpvcCh0LGUodCkpfX0oaGwpLHJwPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1pcChlKSxvPXQubGVuZ3RoO28tLTspdFtvXVsyXT10cCh0W29dWzFdKTtyZXR1cm4gdH0sYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obyl7cmV0dXJuIG51bGwhPW8mJm9bZV09PT10JiYodCE9PXZvaWQgMHx8ZSBpbiBPYmplY3QobykpfX0sc3A9ZnVuY3Rpb24oZSl7dmFyIHQ9cnAoZSk7cmV0dXJuIDE9PXQubGVuZ3RoJiZ0WzBdWzJdP2FwKHRbMF1bMF0sdFswXVsxXSk6ZnVuY3Rpb24obyl7cmV0dXJuIG89PT1lfHxSbyhvLGUsdCl9fSxscD0nRXhwZWN0ZWQgYSBmdW5jdGlvbic7SW8uQ2FjaGU9RHM7dmFyIGRwPWNkP2NkLnByb3RvdHlwZTp2b2lkIDAsY3A9ZHA/ZHAudG9TdHJpbmc6dm9pZCAwLHVwPWZ1bmN0aW9uKGUpe2lmKCdzdHJpbmcnPT10eXBlb2YgZSlyZXR1cm4gZTtpZihEZChlKSlyZXR1cm4gY3A/Y3AuY2FsbChlKTonJzt2YXIgdD1lKycnO3JldHVybicwJz09dCYmMS9lPT0tKDEvMCk/Jy0wJzp0fSxtcD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8nJzp1cChlKX0scHA9L1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF0vZyxncD0vXFxcXChcXFxcKT8vZyxmcD1JbyhmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gbXAoZSkucmVwbGFjZShwcCxmdW5jdGlvbihlLG8sbixpKXt0LnB1c2gobj9pLnJlcGxhY2UoZ3AsJyQxJyk6b3x8ZSl9KSx0fSksaHA9ZnVuY3Rpb24oZSl7cmV0dXJuIHNsKGUpP2U6ZnAoZSl9LGJwPS9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sa3A9L15cXHcqJC8sX3A9Vm8sd3A9ZnVuY3Rpb24oZSl7aWYoJ3N0cmluZyc9PXR5cGVvZiBlfHxEZChlKSlyZXR1cm4gZTt2YXIgdD1lKycnO3JldHVybicwJz09dCYmMS9lPT0tKDEvMCk/Jy0wJzp0fSx2cD1mdW5jdGlvbihlLHQpe3Q9X3AodCxlKT9bdF06aHAodCk7Zm9yKHZhciBvPTAsbj10Lmxlbmd0aDtudWxsIT1lJiZvPG47KWU9ZVt3cCh0W28rK10pXTtyZXR1cm4gbyYmbz09bj9lOnZvaWQgMH0seXA9ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW51bGw9PWU/dm9pZCAwOnZwKGUsdCk7cmV0dXJuIG49PT12b2lkIDA/bzpufSx4cD1mdW5jdGlvbihlLHQsbyl7dD1fcCh0LGUpP1t0XTpocCh0KTtmb3IodmFyIG49LTEsaT10Lmxlbmd0aCxyOysrbjxpOyl7dmFyIGE9d3AodFtuXSk7aWYoIShyPW51bGwhPWUmJm8oZSxhKSkpYnJlYWs7ZT1lW2FdfWlmKHIpcmV0dXJuIHI7dmFyIGk9ZT9lLmxlbmd0aDowO3JldHVybiEhaSYmWHMoaSkmJnBsKGEsaSkmJihzbChlKXx8Y2woZSl8fHJsKGUpKX0sQ3A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmeHAoZSx0LEZvKX0sQXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX3AoZSkmJnRwKHQpP2FwKHdwKGUpLHQpOmZ1bmN0aW9uKG8pe3ZhciBuPXlwKG8sZSk7cmV0dXJuIG49PT12b2lkIDAmJm49PT10P0NwKG8sZSk6ZnUodCxuLHZvaWQgMCwxfDIpfX0sVHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LFBwPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdnAodCxlKX19LEVwPWZ1bmN0aW9uKGUpe3JldHVybiBfcChlKT9Rcyh3cChlKSk6UHAoZSl9LFNwPWZ1bmN0aW9uKGUpe3JldHVybidmdW5jdGlvbic9PXR5cGVvZiBlP2U6bnVsbD09ZT9UcDonb2JqZWN0Jz09dHlwZW9mIGU/c2woZSk/QXAoZVswXSxlWzFdKTpzcChlKTpFcChlKX0sT3A9SmQoZnVuY3Rpb24oZSx0KXt2YXIgbz1XdSh0KTtyZXR1cm4gZWwobykmJihvPXZvaWQgMCksZWwoZSk/WW0oZSxXbSh0LDEsZWwsITApLFNwKG8pKTpbXX0pLFJwPUpkKGZ1bmN0aW9uKGUsdCl7dmFyIG89V3UodCk7cmV0dXJuIGVsKG8pJiYobz12b2lkIDApLGVsKGUpP1ltKGUsV20odCwxLGVsLCEwKSx2b2lkIDAsbyk6W119KSxJcD1mdW5jdGlvbihlLHQsbyl7dmFyIG49ZT9lLmxlbmd0aDowO3JldHVybiBuPyh0PW98fHZvaWQgMD09PXQ/MTpHZCh0KSxvdChlLDA+dD8wOnQsbikpOltdfSxWcD1mdW5jdGlvbihlLHQsbyl7dmFyIG49ZT9lLmxlbmd0aDowO3JldHVybiBuPyh0PW98fHZvaWQgMD09PXQ/MTpHZCh0KSx0PW4tdCxvdChlLDAsMD50PzA6dCkpOltdfSxGcD1mdW5jdGlvbihlLHQsbyxuKXtmb3IodmFyIGk9ZS5sZW5ndGgscj1uP2k6LTE7KG4/ci0tOisrcjxpKSYmdChlW3JdLHIsZSk7KTtyZXR1cm4gbz9vdChlLG4/MDpyLG4/cisxOmkpOm90KGUsbj9yKzE6MCxuP2k6cil9LE5wPWZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gZT09PWUmJih2b2lkIDAhPT1vJiYoZT1lPD1vP2U6byksdm9pZCAwIT09dCYmKGU9ZT49dD9lOnQpKSxlfSxNcD1mdW5jdGlvbihlKXtyZXR1cm4gZT9OcChHZChlKSwwLDQyOTQ5NjcyOTUpOjB9LERwPWZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPWUubGVuZ3RoO2ZvcihvPUdkKG8pLDA+byYmKG89LW8+aT8wOmkrbyksbj12b2lkIDA9PT1ufHxuPmk/aTpHZChuKSwwPm4mJihuKz1pKSxuPW8+bj8wOk1wKG4pO288bjspZVtvKytdPXQ7cmV0dXJuIGV9LEJwPWZ1bmN0aW9uKGUsdCxvKXtmb3IodmFyIG49ZS5sZW5ndGgsaT1vP246LTE7bz9pLS06KytpPG47KWlmKHQoZVtpXSxpLGUpKXJldHVybiBpO3JldHVybi0xfSxMcD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg/ZVswXTp2b2lkIDB9LHpwPWZ1bmN0aW9uKGUsdCxvKXtmb3IodmFyIG49bz9HbTpLbSxpPWVbMF0ubGVuZ3RoLHI9ZS5sZW5ndGgsYT1yLHM9QXJyYXkociksbD1JbmZpbml0eSxkPVtdO2EtLTspe3ZhciBjPWVbYV07YSYmdCYmKGM9JG0oYyxKbSh0KSkpLGw9RGEoYy5sZW5ndGgsbCksc1thXT0hbyYmKHR8fDEyMDw9aSYmMTIwPD1jLmxlbmd0aCk/bmV3IFhjKGEmJmMpOnZvaWQgMH1jPWVbMF07dmFyIHU9LTEsbT1zWzBdO291dGVyOmZvcig7Kyt1PGkmJmQubGVuZ3RoPGw7KXt2YXIgcD1jW3VdLGc9dD90KHApOnA7aWYocD1vfHwwIT09cD9wOjAsbT8hUW0obSxnKTohbihkLGcsbykpe2ZvcihhPXI7LS1hOyl7dmFyIGY9c1thXTtpZihmPyFRbShmLGcpOiFuKGVbYV0sZyxvKSljb250aW51ZSBvdXRlcn1tJiZtLnB1c2goZyksZC5wdXNoKHApfX1yZXR1cm4gZH0sanA9ZnVuY3Rpb24oZSl7cmV0dXJuIGVsKGUpP2U6W119LHFwPUpkKGZ1bmN0aW9uKGUpe3ZhciB0PSRtKGUsanApO3JldHVybiB0Lmxlbmd0aCYmdFswXT09PWVbMF0/enAodCk6W119KSxXcD1KZChmdW5jdGlvbihlKXt2YXIgdD1XdShlKSxvPSRtKGUsanApO3JldHVybiB0PT09V3Uobyk/dD12b2lkIDA6by5wb3AoKSxvLmxlbmd0aCYmb1swXT09PWVbMF0/enAobyxTcCh0KSk6W119KSxVcD1KZChmdW5jdGlvbihlKXt2YXIgdD1XdShlKSxvPSRtKGUsanApO3JldHVybiB0PT09V3Uobyk/dD12b2lkIDA6by5wb3AoKSxvLmxlbmd0aCYmb1swXT09PWVbMF0/enAobyx2b2lkIDAsdCk6W119KSxIcD1BcnJheS5wcm90b3R5cGUsS3A9SHAuam9pbixHcD1mdW5jdGlvbihlLHQpe3ZhciBvPWUubGVuZ3RoO2lmKG8pcmV0dXJuIHQrPTA+dD9vOjAscGwodCxvKT9lW3RdOnZvaWQgMH0sJHA9ZnVuY3Rpb24oZSx0LG8sbil7Zm9yKHZhciBpPW8tMSxyPWUubGVuZ3RoOysraTxyOylpZihuKGVbaV0sdCkpcmV0dXJuIGk7cmV0dXJuLTF9LEpwPUFycmF5LnByb3RvdHlwZSxRcD1KcC5zcGxpY2UsWXA9ZnVuY3Rpb24oZSx0LG8sbil7dmFyIGk9bj8kcDpIbSxyPS0xLGE9dC5sZW5ndGgscz1lO2ZvcihvJiYocz0kbShlLEptKG8pKSk7KytyPGE7KWZvcih2YXIgbD0wLGQ9dFtyXSxjPW8/byhkKTpkOy0xPChsPWkocyxjLGwsbikpOylzIT09ZSYmUXAuY2FsbChzLGwsMSksUXAuY2FsbChlLGwsMSk7cmV0dXJuIGV9LFhwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoJiZ0JiZ0Lmxlbmd0aD9ZcChlLHQpOmV9LFpwPUpkKFhwKSxlZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbz0tMSxuPXQubGVuZ3RoLGk9QXJyYXkobik7KytvPG47KWlbb109bnVsbD09ZT92b2lkIDA6eXAoZSx0W29dKTtyZXR1cm4gaX0sdGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMT09dC5sZW5ndGg/ZTp2cChlLG90KHQsMCwtMSkpfSxvZz1BcnJheS5wcm90b3R5cGUsbmc9b2cuc3BsaWNlLGlnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBvPWU/dC5sZW5ndGg6MCxuPW8tMTtvLS07KXt2YXIgaT10W29dO2lmKG89PW58fGkhPT1yKXt2YXIgcj1pO2lmKHBsKGkpKW5nLmNhbGwoZSxpLDEpO2Vsc2UgaWYoIV9wKGksZSkpe3ZhciBhPWhwKGkpLHM9dGcoZSxhKTtudWxsIT1zJiZkZWxldGUgc1t3cChXdShhKSldfWVsc2UgZGVsZXRlIGVbd3AoaSldfX1yZXR1cm4gZX0scmc9ZnVuY3Rpb24oZSx0KXtpZihlIT09dCl7dmFyIG89ZSE9PXZvaWQgMCxuPW51bGw9PT1lLGk9ZT09PWUscj1EZChlKSxhPXQhPT12b2lkIDAscz1udWxsPT09dCxsPXQ9PT10LGQ9RGQodCk7aWYoIXMmJiFkJiYhciYmZT50fHxyJiZhJiZsJiYhcyYmIWR8fG4mJmEmJmx8fCFvJiZsfHwhaSlyZXR1cm4gMTtpZighbiYmIXImJiFkJiZlPHR8fGQmJm8mJmkmJiFuJiYhcnx8cyYmbyYmaXx8IWEmJml8fCFsKXJldHVybi0xfXJldHVybiAwfSxhZz1KZChmdW5jdGlvbihlLHQpe3Q9V20odCwxKTt2YXIgbz1lP2UubGVuZ3RoOjAsbj1lZyhlLHQpO3JldHVybiBpZyhlLCRtKHQsZnVuY3Rpb24oZSl7cmV0dXJuIHBsKGUsbyk/K2U6ZX0pLnNvcnQocmcpKSxufSksc2c9QXJyYXkucHJvdG90eXBlLGxnPXNnLnJldmVyc2UsZGc9ZnVuY3Rpb24oZSx0LG8sbil7dD1vKHQpO2Zvcih2YXIgaT0wLHI9ZT9lLmxlbmd0aDowLGE9dCE9PXQscz1udWxsPT09dCxsPURkKHQpLGQ9dm9pZCAwPT09dDtpPHI7KXt2YXIgYz1CYSgoaStyKS8yKSx1PW8oZVtjXSksbT11IT09dm9pZCAwLHA9bnVsbD09PXUsZz11PT09dSxmPURkKHUpO2lmKGEpdmFyIGg9bnx8ZztlbHNlIGg9ZD9nJiYobnx8bSk6cz9nJiZtJiYobnx8IXApOmw/ZyYmbSYmIXAmJihufHwhZik6IShwfHxmKSYmKG4/dTw9dDp1PHQpO2g/aT1jKzE6cj1jfXJldHVybiBEYShyLDQyOTQ5NjcyOTUtMSl9LGNnPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj0wLGk9ZT9lLmxlbmd0aDpuO2lmKCdudW1iZXInPT10eXBlb2YgdCYmdD09PXQmJmk8PTQyOTQ5NjcyOTU+Pj4xKXtmb3IoO248aTspe3ZhciByPW4raT4+PjEsYT1lW3JdO251bGwhPT1hJiYhRGQoYSkmJihvP2E8PXQ6YTx0KT9uPXIrMTppPXJ9cmV0dXJuIGl9cmV0dXJuIGRnKGUsdCxUcCxvKX0sdWc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aCxpPTAscj1bXTsrK288bjspe3ZhciBhPWVbb10scz10P3QoYSk6YTtpZighb3x8IWFzKHMsbCkpe3ZhciBsPXM7cltpKytdPTA9PT1hPzA6YX19cmV0dXJuIHJ9LG1nPVJsJiYxL3NkKG5ldyBSbChbLC0wXSkpWzFdPT0xLzA/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBSbChlKX06ZnVuY3Rpb24oKXt9LHBnPWZ1bmN0aW9uKGUsdCxvKXt2YXIgbj0tMSxpPUttLHI9ZS5sZW5ndGgsYT0hMCxzPVtdLGw9cztpZihvKWE9ITEsaT1HbTtlbHNlIGlmKHI+PTIwMCl7dmFyIGQ9dD9udWxsOm1nKGUpO2lmKGQpcmV0dXJuIHNkKGQpO2E9ITEsaT1RbSxsPW5ldyBYY31lbHNlIGw9dD9bXTpzO291dGVyOmZvcig7KytuPHI7KXt2YXIgYz1lW25dLHU9dD90KGMpOmM7aWYoYz1vfHwwIT09Yz9jOjAsYSYmdT09PXUpe2Zvcih2YXIgbT1sLmxlbmd0aDttLS07KWlmKGxbbV09PT11KWNvbnRpbnVlIG91dGVyO3QmJmwucHVzaCh1KSxzLnB1c2goYyl9ZWxzZSBpKGwsdSxvKXx8KGwhPT1zJiZsLnB1c2godSkscy5wdXNoKGMpKX1yZXR1cm4gc30sZ2c9SmQoZnVuY3Rpb24oZSl7cmV0dXJuIHBnKFdtKGUsMSxlbCwhMCkpfSksZmc9SmQoZnVuY3Rpb24oZSl7dmFyIHQ9V3UoZSk7cmV0dXJuIGVsKHQpJiYodD12b2lkIDApLHBnKFdtKGUsMSxlbCwhMCksU3AodCkpfSksaGc9SmQoZnVuY3Rpb24oZSl7dmFyIHQ9V3UoZSk7cmV0dXJuIGVsKHQpJiYodD12b2lkIDApLHBnKFdtKGUsMSxlbCwhMCksdm9pZCAwLHQpfSksYmc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG89LTEsbj1lLmxlbmd0aCxpPTAscj1bXTsrK288bjspe3ZhciBhPWVbb107dChhLG8sZSkmJihyW2krK109YSl9cmV0dXJuIHJ9LGtnPWZ1bmN0aW9uKGUpe2lmKCEoZSYmZS5sZW5ndGgpKXJldHVybltdO3ZhciB0PTA7cmV0dXJuIGU9YmcoZSxmdW5jdGlvbihlKXtpZihlbChlKSlyZXR1cm4gdD1NYShlLmxlbmd0aCx0KSwhMH0pLEpzKHQsZnVuY3Rpb24odCl7cmV0dXJuICRtKGUsUXModCkpfSl9LF9nPWZ1bmN0aW9uKGUsdCl7aWYoIShlJiZlLmxlbmd0aCkpcmV0dXJuW107dmFyIG89a2coZSk7cmV0dXJuIG51bGw9PXQ/bzokbShvLGZ1bmN0aW9uKGUpe3JldHVybiBGZCh0LHZvaWQgMCxlKX0pfSx3Zz1KZChmdW5jdGlvbihlLHQpe3JldHVybiBlbChlKT9ZbShlLHQpOltdfSksdmc9ZnVuY3Rpb24oZSx0LG8pe2Zvcih2YXIgbj0tMSxpPWUubGVuZ3RoOysrbjxpOyl2YXIgcj1yP3hsKFltKHIsZVtuXSx0LG8pLFltKGVbbl0scix0LG8pKTplW25dO3JldHVybiByJiZyLmxlbmd0aD9wZyhyLHQsbyk6W119LHlnPUpkKGZ1bmN0aW9uKGUpe3JldHVybiB2ZyhiZyhlLGVsKSl9KSx4Zz1KZChmdW5jdGlvbihlKXt2YXIgdD1XdShlKTtyZXR1cm4gZWwodCkmJih0PXZvaWQgMCksdmcoYmcoZSxlbCksU3AodCkpfSksQ2c9SmQoZnVuY3Rpb24oZSl7dmFyIHQ9V3UoZSk7cmV0dXJuIGVsKHQpJiYodD12b2lkIDApLHZnKGJnKGUsZWwpLHZvaWQgMCx0KX0pLEFnPUpkKGtnKSxUZz1mdW5jdGlvbihlLHQsbyl7Zm9yKHZhciBuPS0xLGk9ZS5sZW5ndGgscj10Lmxlbmd0aCxhPXt9OysrbjxpOyl7dmFyIHM9bjxyP3Rbbl06dm9pZCAwO28oYSxlW25dLHMpfXJldHVybiBhfSxQZz1mdW5jdGlvbihlLHQsbyxuKXt0PV9wKHQsZSk/W3RdOmhwKHQpO2Zvcih2YXIgaT0tMSxyPXQubGVuZ3RoLGE9ZTtudWxsIT1hJiYrK2k8cjspe3ZhciBzPXdwKHRbaV0pO2lmKHVzKGEpKXt2YXIgbD1vO2lmKGkhPXItMSl7dmFyIGQ9YVtzXTtsPW4/bihkLHMsYSk6dm9pZCAwLGw9PT12b2lkIDAmJihsPW51bGw9PWQ/cGwodFtpKzFdKT9bXTp7fTpkKX1xcyhhLHMsbCl9YT1hW3NdfXJldHVybiBlfSxFZz1KZChmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aCxvPTE8dD9lW3QtMV06dm9pZCAwO3JldHVybiBvPSdmdW5jdGlvbic9PXR5cGVvZiBvPyhlLnBvcCgpLG8pOnZvaWQgMCxfZyhlLG8pfSksU2c9e2NodW5rOmZ1bmN0aW9uKGUsdCxvKXt0PShvP1ZkKGUsdCxvKTp2b2lkIDA9PT10KT8xOk1hKEdkKHQpLDApO3ZhciBuPWU/ZS5sZW5ndGg6MDtpZighbnx8MT50KXJldHVybltdO2Zvcih2YXIgaT0wLHI9MCxhPUFycmF5KGptKG4vdCkpO2k8bjspYVtyKytdPW90KGUsaSxpKz10KTtyZXR1cm4gYX0sY29tcGFjdDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9LTEsbz1lP2UubGVuZ3RoOjAsbj0wLGk9W107Kyt0PG87KXt2YXIgcj1lW3RdO3ImJihpW24rK109cil9cmV0dXJuIGl9LGNvbmNhdDpmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkoZT9lLTE6MCksbz1hcmd1bWVudHNbMF0sbj1lO24tLTspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZT94bChzbChvKT9fbChvKTpbb10sV20odCwxKSk6W119LGRpZmZlcmVuY2U6WG0sZGlmZmVyZW5jZUJ5Ok9wLGRpZmZlcmVuY2VXaXRoOlJwLGRyb3A6SXAsZHJvcFJpZ2h0OlZwLGRyb3BSaWdodFdoaWxlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP0ZwKGUsU3AodCwzKSwhMCwhMCk6W119LGRyb3BXaGlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9GcChlLFNwKHQsMyksITApOltdfSxmaWxsOmZ1bmN0aW9uKGUsdCxvLG4pe3ZhciBpPWU/ZS5sZW5ndGg6MDtyZXR1cm4gaT8obyYmJ251bWJlcichPXR5cGVvZiBvJiZWZChlLHQsbykmJihvPTAsbj1pKSxEcChlLHQsbyxuKSk6W119LGZpbmRJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9CcChlLFNwKHQsMykpOi0xfSxmaW5kTGFzdEluZGV4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP0JwKGUsU3AodCwzKSwhMCk6LTF9LGZpcnN0OkxwLGZsYXR0ZW46ZnVuY3Rpb24oZSl7dmFyIHQ9ZT9lLmxlbmd0aDowO3JldHVybiB0P1dtKGUsMSk6W119LGZsYXR0ZW5EZWVwOmZ1bmN0aW9uKGUpe3ZhciB0PWU/ZS5sZW5ndGg6MDtyZXR1cm4gdD9XbShlLDEvMCk6W119LGZsYXR0ZW5EZXB0aDpmdW5jdGlvbihlLHQpe3ZhciBvPWU/ZS5sZW5ndGg6MDtyZXR1cm4gbz8odD12b2lkIDA9PT10PzE6R2QodCksV20oZSx0KSk6W119LGZyb21QYWlyczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9LTEsbz1lP2UubGVuZ3RoOjAsbj17fTsrK3Q8bzspe3ZhciBpPWVbdF07bltpWzBdXT1pWzFdfXJldHVybiBufSxoZWFkOkxwLGluZGV4T2Y6ZnVuY3Rpb24oZSx0LG8pe3ZhciBuPWU/ZS5sZW5ndGg6MDtyZXR1cm4gbj8obz1HZChvKSwwPm8mJihvPU1hKG4rbywwKSksSG0oZSx0LG8pKTotMX0saW5pdGlhbDpmdW5jdGlvbihlKXtyZXR1cm4gVnAoZSwxKX0saW50ZXJzZWN0aW9uOnFwLGludGVyc2VjdGlvbkJ5OldwLGludGVyc2VjdGlvbldpdGg6VXAsam9pbjpmdW5jdGlvbihlLHQpe3JldHVybiBlP0twLmNhbGwoZSx0KTonJ30sbGFzdDpXdSxsYXN0SW5kZXhPZjpmdW5jdGlvbihlLHQsbyl7dmFyIG49ZT9lLmxlbmd0aDowO2lmKCFuKXJldHVybi0xO3ZhciBpPW47aWYodm9pZCAwIT09byYmKGk9R2QobyksaT0oMD5pP01hKG4raSwwKTpEYShpLG4tMSkpKzEpLHQhPT10KXJldHVybiBVbShlLGksITApO2Zvcig7aS0tOylpZihlW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX0sbnRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP0dwKGUsR2QodCkpOnZvaWQgMH0scHVsbDpacCxwdWxsQWxsOlhwLHB1bGxBbGxCeTpmdW5jdGlvbihlLHQsbyl7cmV0dXJuIGUmJmUubGVuZ3RoJiZ0JiZ0Lmxlbmd0aD9ZcChlLHQsU3AobykpOmV9LHB1bGxBbGxXaXRoOmZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gZSYmZS5sZW5ndGgmJnQmJnQubGVuZ3RoP1lwKGUsdCx2b2lkIDAsbyk6ZX0scHVsbEF0OmFnLHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBvPVtdO2lmKCEoZSYmZS5sZW5ndGgpKXJldHVybiBvO3ZhciBuPS0xLGk9W10scj1lLmxlbmd0aDtmb3IodD1TcCh0LDMpOysrbjxyOyl7dmFyIGE9ZVtuXTt0KGEsbixlKSYmKG8ucHVzaChhKSxpLnB1c2gobikpfXJldHVybiBpZyhlLGkpLG99LHJldmVyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bGcuY2FsbChlKTplfSxzbGljZTpmdW5jdGlvbihlLHQsbyl7dmFyIG49ZT9lLmxlbmd0aDowO3JldHVybiBuPyhvJiYnbnVtYmVyJyE9dHlwZW9mIG8mJlZkKGUsdCxvKT8odD0wLG89bik6KHQ9bnVsbD09dD8wOkdkKHQpLG89dm9pZCAwPT09bz9uOkdkKG8pKSxvdChlLHQsbykpOltdfSxzb3J0ZWRJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBjZyhlLHQpfSxzb3J0ZWRJbmRleEJ5OmZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gZGcoZSx0LFNwKG8pKX0sc29ydGVkSW5kZXhPZjpmdW5jdGlvbihlLHQpe3ZhciBvPWU/ZS5sZW5ndGg6MDtpZihvKXt2YXIgbj1jZyhlLHQpO2lmKG48byYmYXMoZVtuXSx0KSlyZXR1cm4gbn1yZXR1cm4tMX0sc29ydGVkTGFzdEluZGV4OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNnKGUsdCwhMCl9LHNvcnRlZExhc3RJbmRleEJ5OmZ1bmN0aW9uKGUsdCxvKXtyZXR1cm4gZGcoZSx0LFNwKG8pLCEwKX0sc29ydGVkTGFzdEluZGV4T2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbz1lP2UubGVuZ3RoOjA7aWYobyl7dmFyIG49Y2coZSx0LCEwKS0xO2lmKGFzKGVbbl0sdCkpcmV0dXJuIG59cmV0dXJuLTF9LHNvcnRlZFVuaXE6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoP3VnKGUpOltdfSxzb3J0ZWRVbmlxQnk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5sZW5ndGg/dWcoZSxTcCh0KSk6W119LHRhaWw6ZnVuY3Rpb24oZSl7cmV0dXJuIElwKGUsMSl9LHRha2U6ZnVuY3Rpb24oZSx0LG8pe3JldHVybiBlJiZlLmxlbmd0aD8odD1vfHx2b2lkIDA9PT10PzE6R2QodCksb3QoZSwwLDA+dD8wOnQpKTpbXX0sdGFrZVJpZ2h0OmZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1lP2UubGVuZ3RoOjA7cmV0dXJuIG4/KHQ9b3x8dm9pZCAwPT09dD8xOkdkKHQpLHQ9bi10LG90KGUsMD50PzA6dCxuKSk6W119LHRha2VSaWdodFdoaWxlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP0ZwKGUsU3AodCwzKSwhMSwhMCk6W119LHRha2VXaGlsZTpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9GcChlLFNwKHQsMykpOltdfSx1bmlvbjpnZyx1bmlvbkJ5OmZnLHVuaW9uV2l0aDpoZyx1bmlxOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD9wZyhlKTpbXX0sdW5pcUJ5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoP3BnKGUsU3AodCkpOltdfSx1bmlxV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmxlbmd0aD9wZyhlLHZvaWQgMCx0KTpbXX0sdW56aXA6a2csdW56aXBXaXRoOl9nLHdpdGhvdXQ6d2cseG9yOnlnLHhvckJ5OnhnLHhvcldpdGg6Q2csemlwOkFnLHppcE9iamVjdDpmdW5jdGlvbihlLHQpe3JldHVybiBUZyhlfHxbXSx0fHxbXSxxcyl9LHppcE9iamVjdERlZXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gVGcoZXx8W10sdHx8W10sUGcpfSx6aXBXaXRoOkVnfTtjb25zdCBPZz1uZXcgTWFwLFJnPXt0cmFuc2Zvcm0oZSx0LG8pe2NvbnN0IG49UmcuZ2V0VHJhbnNmb3JtYXRpb25DYXNlKGUsdCl8fFJnLmRlZmF1bHRUcmFuc2Zvcm0saT1uKGUsdCxPYmplY3QuYXNzaWduKHt9LG8pKSxyPVNnLmxhc3QodC5vcGVyYXRpb25zKS5iYXNlVmVyc2lvbjtyZXR1cm4gTm8ocixpKX0sZGVmYXVsdFRyYW5zZm9ybShlLHQsbyl7Y29uc3Qgbj1bXTtsZXQgaT10Lm9wZXJhdGlvbnMscj1bXTtmb3IoY29uc3QgYSBvZiBlLm9wZXJhdGlvbnMpe2NvbnN0IGU9W2FdO2Zvcihjb25zdCB0IG9mIGkpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9ZVtuXSxhPUxtKGksdCxvKTtBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KGUsW24sMV0uY29uY2F0KGEpKSxuKz1hLmxlbmd0aC0xO2NvbnN0IHM9T2JqZWN0LmFzc2lnbih7fSxvKTtzLmlzU3Ryb25nPSFvLmlzU3Ryb25nLHMuaW5zZXJ0QmVmb3JlPW8uaW5zZXJ0QmVmb3JlPT09dm9pZCAwP3ZvaWQgMDohby5pbnNlcnRCZWZvcmU7Y29uc3QgbD1MbSh0LGkscyk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocixsKX1pPXIscj1bXTtmb3IoY29uc3QgdCBvZiBlKW4ucHVzaCh0KX1yZXR1cm4gSG8oZS5jb25zdHJ1Y3RvcixuKX0sYWRkVHJhbnNmb3JtYXRpb25DYXNlKGUsdCxvKXtsZXQgbj1PZy5nZXQoZSk7bnx8KG49bmV3IE1hcCxPZy5zZXQoZSxuKSksbi5zZXQodCxvKX0sZ2V0VHJhbnNmb3JtYXRpb25DYXNlKGUsdCl7bGV0IG89T2cuZ2V0KGUuY29uc3RydWN0b3IpO2lmKCFvfHwhby5nZXQodC5jb25zdHJ1Y3Rvcikpe2NvbnN0IG49T2cua2V5cygpO2Zvcihjb25zdCBpIG9mIG4paWYoZSBpbnN0YW5jZW9mIGkmJk9nLmdldChpKS5nZXQodC5jb25zdHJ1Y3Rvcikpe289T2cuZ2V0KGkpO2JyZWFrfX1yZXR1cm4gbz9vLmdldCh0LmNvbnN0cnVjdG9yKTp2b2lkIDB9LHRyYW5zZm9ybURlbHRhU2V0cyhlLHQsbz1udWxsKXtjb25zdCBuPUFycmF5LmZyb20oZSksaT1BcnJheS5mcm9tKHQpLHI9bnVsbCE9PW8sYT17aXNTdHJvbmc6ITB9O2lmKHIpe2Eud2FzQWZmZWN0ZWQ9bmV3IE1hcCxhLm9yaWdpbmFsRGVsdGE9bmV3IE1hcCxhLmRvY3VtZW50PW8sYS51bmRvTW9kZT0hMDtmb3IoY29uc3QgZSBvZiBpKWEub3JpZ2luYWxEZWx0YS5zZXQoZSxlKX1mb3IobGV0IHM9MDtzPG4ubGVuZ3RoO3MrKyl7Y29uc3QgZT1bbltzXV07Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IG89W2lbdF1dO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWZvcihsZXQgbj0wO248by5sZW5ndGg7bisrKXtyJiZCbyhlW3RdLG9bbl0sYSk7Y29uc3QgaT1SZy50cmFuc2Zvcm0oZVt0XSxvW25dLHtpbnNlcnRCZWZvcmU6YS5pbnNlcnRCZWZvcmUsZm9yY2VOb3RTdGlja3k6YS5mb3JjZU5vdFN0aWNreSxpc1N0cm9uZzphLmlzU3Ryb25nLGZvcmNlV2Vha1JlbW92ZTphLmZvcmNlV2Vha1JlbW92ZSx1bmRvTW9kZTphLnVuZG9Nb2RlfSkscz1SZy50cmFuc2Zvcm0ob1tuXSxlW3RdLHtpbnNlcnRCZWZvcmU6IWEuaW5zZXJ0QmVmb3JlLGZvcmNlTm90U3RpY2t5OmEuZm9yY2VOb3RTdGlja3ksaXNTdHJvbmc6IWEuaXNTdHJvbmcsZm9yY2VXZWFrUmVtb3ZlOmEuZm9yY2VXZWFrUmVtb3ZlLHVuZG9Nb2RlOmEudW5kb01vZGV9KTtpZihyKXtVbyhlW3RdLGksYSk7Y29uc3Qgcj1hLm9yaWdpbmFsRGVsdGEuZ2V0KG9bbl0pO2Zvcihjb25zdCBlIG9mIHMpYS5vcmlnaW5hbERlbHRhLnNldChlLHIpfWUuc3BsaWNlKHQsMSwuLi5pKSx0Kz1pLmxlbmd0aC0xLG8uc3BsaWNlKG4sMSwuLi5zKSxuKz1zLmxlbmd0aC0xfWkuc3BsaWNlKHQsMSwuLi5vKSx0Kz1vLmxlbmd0aC0xfW4uc3BsaWNlKHMsMSwuLi5lKSxzKz1lLmxlbmd0aC0xfWNvbnN0IHM9TW8obiktTW8oZSksbD1NbyhpKS1Nbyh0KTtyZXR1cm4gbDxzP0RvKGkscy1sKTpzPGwmJkRvKG4sbC1zKSx7ZGVsdGFzQTpuLGRlbHRhc0I6aX19fTt2YXIgSWc9Umc7Y2xhc3MgVmcgZXh0ZW5kcyBFbXtnZXQgdHlwZSgpe3JldHVybidtYXJrZXInfWdldCBfcmV2ZXJzZURlbHRhQ2xhc3MoKXtyZXR1cm4gVmd9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm4nZW5naW5lLm1vZGVsLmRlbHRhLk1hcmtlckRlbHRhJ319UG0ucmVnaXN0ZXIoVmcpO2NvbnN0IEZnPUlnLmFkZFRyYW5zZm9ybWF0aW9uQ2FzZSxOZz1JZy5kZWZhdWx0VHJhbnNmb3JtO0ZnKFNtLEJtLChlLHQsbyk9Pntjb25zdCBuPU5nKGUsdCxvKTtyZXR1cm4gZS5yYW5nZS5jb250YWluc1Bvc2l0aW9uKHQucG9zaXRpb24pJiZuLnB1c2goR28odCxlKSksbn0pLEZnKFNtLE9tLChlLHQsbyk9PntpZighdC5wb3NpdGlvbilyZXR1cm4gTmcoZSx0LG8pO2NvbnN0IG49by51bmRvTW9kZSxpPW5ldyBVdSh0LnBvc2l0aW9uLnJvb3QsdC5wb3NpdGlvbi5wYXRoLnNsaWNlKDAsLTEpKSxyPU5nKGUsdCxvKTtpZihufHwhKHQuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgX20pKXJldHVybiByO2Zvcihjb25zdCBuIG9mIGUub3BlcmF0aW9ucylpZihuLnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oaSl8fG4ucmFuZ2Uuc3RhcnQuaXNFcXVhbChpKSl7Y29uc3QgZT1uZXcgU20sbz1pLmdldFNoaWZ0ZWRCeSgxKSxhPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihvKTthLnBhdGgucHVzaCgwKTtjb25zdCBzPXQuX2Nsb25lT3BlcmF0aW9uLm5vZGVzLmdldE5vZGUoMCkuZ2V0QXR0cmlidXRlKG4ua2V5KTtlLmFkZE9wZXJhdGlvbihuZXcgZm0obmV3IEh1KG8sYSksbi5rZXkscz09PXZvaWQgMD9udWxsOnMsbi5uZXdWYWx1ZSwwKSksci5wdXNoKGUpO2JyZWFrfXJldHVybiByfSksRmcoRG0sUm0sKGUsdCxvKT0+e2lmKCF0LnBvc2l0aW9uKXJldHVybiBOZyhlLHQsbyk7Y29uc3Qgbj1vLnVuZG9Nb2RlO3JldHVybiFuJiZlLnBvc2l0aW9uLmlzRXF1YWwodC5wb3NpdGlvbik/W3QuZ2V0UmV2ZXJzZWQoKSxlLmNsb25lKCldOk5nKGUsdCxvKX0pLEZnKFZnLE9tLEtvKSxGZyhWZyxSbSxLbyksRmcoVmcsTm0sS28pLEZnKFZnLE1tLEtvKSxGZyhWZyxJbSxLbyksRmcoVmcsRm0sS28pLEZnKEltLFJtLChlLHQsbyk9Pntjb25zdCBuPW8udW5kb01vZGU7aWYobnx8IXQucG9zaXRpb24pcmV0dXJuIE5nKGUsdCxvKTtjb25zdCBpPWUuc291cmNlUG9zaXRpb24ucm9vdD09dC5wb3NpdGlvbi5yb290JiYnc2FtZSc9PT1BKGUuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSxyPWUuc291cmNlUG9zaXRpb24ub2Zmc2V0PD10LnBvc2l0aW9uLm9mZnNldCYmZS5zb3VyY2VQb3NpdGlvbi5vZmZzZXQrZS5ob3dNYW55PnQucG9zaXRpb24ub2Zmc2V0O3JldHVybiBpJiZyP1t0LmdldFJldmVyc2VkKCksZS5jbG9uZSgpXTpOZyhlLHQsbyl9KSxGZyhSbSxEbSwoZSx0LG8pPT57aWYoIWUucG9zaXRpb24pcmV0dXJuIE5nKGUsdCxvKTtjb25zdCBuPW8udW5kb01vZGU7cmV0dXJuIW4mJmUucG9zaXRpb24uaXNFcXVhbCh0LnBvc2l0aW9uKT9bJG8oKV06TmcoZSx0LG8pfSksRmcoUm0sSW0sKGUsdCxvKT0+e2NvbnN0IG49by51bmRvTW9kZTtpZihufHwhZS5wb3NpdGlvbilyZXR1cm4gTmcoZSx0LG8pO2NvbnN0IGk9ZS5wb3NpdGlvbi5yb290PT10LnNvdXJjZVBvc2l0aW9uLnJvb3QmJidzYW1lJz09PUEoZS5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksdC5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkpLHI9dC5zb3VyY2VQb3NpdGlvbi5vZmZzZXQ8PWUucG9zaXRpb24ub2Zmc2V0JiZ0LnNvdXJjZVBvc2l0aW9uLm9mZnNldCt0Lmhvd01hbnk+ZS5wb3NpdGlvbi5vZmZzZXQ7cmV0dXJuIGkmJnI/WyRvKCldOk5nKGUsdCxvKX0pLEZnKE9tLE9tLChlLHQsbyk9Pntjb25zdCBuPW8udW5kb01vZGU7aWYobilyZXR1cm4gTmcoZSx0LG8pO2lmKCFlLnBvc2l0aW9ufHwhdC5wb3NpdGlvbilyZXR1cm4gTmcoZSx0LG8pO2NvbnN0IGk9ZS5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkscj10LnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKTtpZihlLnBvc2l0aW9uLnJvb3Q9PXQucG9zaXRpb24ucm9vdCYmJ3NhbWUnPT1BKGkscikpaWYoZT1lLmNsb25lKCksZS5wb3NpdGlvbi5vZmZzZXQ8dC5wb3NpdGlvbi5vZmZzZXR8fGUucG9zaXRpb24ub2Zmc2V0PT10LnBvc2l0aW9uLm9mZnNldCYmby5pc1N0cm9uZyl7ZS5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBibSYmdC5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBibSYmZS5fY2xvbmVPcGVyYXRpb24uc291cmNlUG9zaXRpb24ub2Zmc2V0PnQuX2Nsb25lT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uLm9mZnNldCYmZS5fY2xvbmVPcGVyYXRpb24uc291cmNlUG9zaXRpb24ub2Zmc2V0LS07Y29uc3Qgbz1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnBvc2l0aW9uLGUuX21vdmVPcGVyYXRpb24uaG93TWFueSksbj1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnBvc2l0aW9uLHQuX21vdmVPcGVyYXRpb24uaG93TWFueSksaT1vLmdldERpZmZlcmVuY2Uobik7bGV0IHI9MDtmb3IoY29uc3QgZSBvZiBpKXIrPWUuZW5kLm9mZnNldC1lLnN0YXJ0Lm9mZnNldDtyZXR1cm4gMD09cj8oZS5vcGVyYXRpb25zLnBvcCgpLGUuYWRkT3BlcmF0aW9uKG5ldyB2bShlLm9wZXJhdGlvbnNbMF0uYmFzZVZlcnNpb24rMSkpKTplLm9wZXJhdGlvbnNbMV0uaG93TWFueT1yLFtlXX1lbHNle2NvbnN0IG49T2JqZWN0LmFzc2lnbih7fSxvKTtyZXR1cm4gbi5pc1N0cm9uZz0hMCxuLmluc2VydEJlZm9yZT0hMCxOZyhlLHQsbil9cmV0dXJuIE5nKGUsdCxvKX0pLEZnKE9tLE1tLChlLHQsbyk9PmUucG9zaXRpb24/ZS5wb3NpdGlvbi5yb290PT10LnBvc2l0aW9uLnJvb3QmJidzYW1lJz09PUEodC5wb3NpdGlvbi5wYXRoLGUucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKT9bJG8oKV06TmcoZSx0LG8pOk5nKGUsdCxvKSksRmcoT20sTm0sKGUsdCxvKT0+e2lmKCFlLnBvc2l0aW9uKXJldHVybiBOZyhlLHQsbyk7Y29uc3Qgbj1lLnBvc2l0aW9uLnJvb3Q9PXQucmFuZ2Uuc3RhcnQucm9vdCxpPW4mJidzYW1lJz09PUEoZS5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksdC5yYW5nZS5zdGFydC5nZXRQYXJlbnRQYXRoKCkpLHI9dC5yYW5nZS5zdGFydC5vZmZzZXQ8ZS5wb3NpdGlvbi5vZmZzZXQmJnQucmFuZ2UuZW5kLm9mZnNldD49ZS5wb3NpdGlvbi5vZmZzZXQ7aWYoaSYmcilyZXR1cm5bJG8oKV07aWYobiYmJ3NhbWUnPT09QShlLnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0LnJhbmdlLmVuZC5nZXRTaGlmdGVkQnkoLTEpLnBhdGgpKXtjb25zdCBvPWUuY2xvbmUoKSxuPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0LnJhbmdlLnN0YXJ0KTtuLnBhdGgucHVzaCh0Lmhvd01hbnktMSk7Y29uc3QgaT1uLmdldFNoaWZ0ZWRCeSgxKTtvLl9jbG9uZU9wZXJhdGlvbi5wb3NpdGlvbj1pO2NvbnN0IHI9VXUuY3JlYXRlRnJvbVBvc2l0aW9uKG4pO3IucGF0aC5wdXNoKGUucG9zaXRpb24ub2Zmc2V0KSxvLl9tb3ZlT3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uPXI7Y29uc3QgYT1VdS5jcmVhdGVGcm9tUG9zaXRpb24oaSk7cmV0dXJuIGEucGF0aC5wdXNoKDApLG8uX21vdmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb249YSxbb119cmV0dXJuIE5nKGUsdCxvKX0pLEZnKE9tLFNtLChlLHQsbyk9PntpZighZS5wb3NpdGlvbilyZXR1cm4gTmcoZSx0LG8pO2U9ZS5jbG9uZSgpO2NvbnN0IG49by51bmRvTW9kZSxpPW5ldyBVdShlLnBvc2l0aW9uLnJvb3QsZS5wb3NpdGlvbi5wYXRoLnNsaWNlKDAsLTEpKTtpZihufHwhKGUuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgX20pKXJldHVybltlXTtmb3IoY29uc3QgbiBvZiB0Lm9wZXJhdGlvbnMpaWYobi5yYW5nZS5jb250YWluc1Bvc2l0aW9uKGkpfHxuLnJhbmdlLnN0YXJ0LmlzRXF1YWwoaSkpe251bGw9PT1uLm5ld1ZhbHVlP2UuX2Nsb25lT3BlcmF0aW9uLm5vZGVzLmdldE5vZGUoMCkuX3JlbW92ZUF0dHJpYnV0ZShuLmtleSk6ZS5fY2xvbmVPcGVyYXRpb24ubm9kZXMuZ2V0Tm9kZSgwKS5fc2V0QXR0cmlidXRlKG4ua2V5LG4ubmV3VmFsdWUpO2JyZWFrfXJldHVybltlXX0pLEZnKE1tLE9tLChlLHQsbyk9PnQucG9zaXRpb24/ZS5wb3NpdGlvbi5yb290PT10LnBvc2l0aW9uLnJvb3QmJidzYW1lJz09PUEoZS5wb3NpdGlvbi5wYXRoLHQucG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKT9bdC5nZXRSZXZlcnNlZCgpLGUuY2xvbmUoKV06TmcoZSx0LG8pOk5nKGUsdCxvKSksRmcoQm0sU20sKGUsdCk9Pntjb25zdCBvPVtlLmNsb25lKCldO3JldHVybiB0LnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oZS5wb3NpdGlvbikmJm8ucHVzaChHbyhlLHQpKSxvfSksRmcoTm0sT20sKGUsdCxvKT0+e2lmKCF0LnBvc2l0aW9uKXJldHVybiBOZyhlLHQsbyk7Y29uc3Qgbj1lLnJhbmdlLnN0YXJ0LnJvb3Q9PXQucG9zaXRpb24ucm9vdCxpPW4mJidzYW1lJz09PUEoZS5yYW5nZS5zdGFydC5nZXRQYXJlbnRQYXRoKCksdC5wb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkpLHI9ZS5yYW5nZS5zdGFydC5vZmZzZXQ8dC5wb3NpdGlvbi5vZmZzZXQmJmUucmFuZ2UuZW5kLm9mZnNldD49dC5wb3NpdGlvbi5vZmZzZXQ7aWYoaSYmcilyZXR1cm5bdC5nZXRSZXZlcnNlZCgpLGUuY2xvbmUoKV07aWYobiYmJ3NhbWUnPT09QSh0LnBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSxlLnJhbmdlLmVuZC5nZXRTaGlmdGVkQnkoLTEpLnBhdGgpKXtjb25zdCB0PWUuY2xvbmUoKTtyZXR1cm4gdC5faW5zZXJ0T3BlcmF0aW9uLnBvc2l0aW9uLm9mZnNldCsrLHQuX21vdmVPcGVyYXRpb24uaG93TWFueSsrLHQuX21vdmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb24ucGF0aFt0Ll9tb3ZlT3BlcmF0aW9uLnRhcmdldFBvc2l0aW9uLnBhdGgubGVuZ3RoLTJdKyssW3RdfXJldHVybiBOZyhlLHQsbyl9KSxGZyhGbSxPbSwoZSx0LG8pPT57Y29uc3Qgbj1vLnVuZG9Nb2RlLGk9TmcoZSx0LG8pO2lmKG58fCEodC5fY2xvbmVPcGVyYXRpb24gaW5zdGFuY2VvZiBfbSkpcmV0dXJuIGk7Y29uc3Qgcj10Ll9jbG9uZU9wZXJhdGlvbi5wb3NpdGlvbi5nZXRTaGlmdGVkQnkoLTEpO2lmKHImJmUub3BlcmF0aW9uc1swXS5wb3NpdGlvbi5pc0VxdWFsKHIpKXtjb25zdCB0PWUuY2xvbmUoKTt0Lm9wZXJhdGlvbnNbMF0ucG9zaXRpb249ci5nZXRTaGlmdGVkQnkoMSksaS5wdXNoKHQpfXJldHVybiBpfSksRmcoT20sRm0sKGUsdCxvKT0+e2U9ZS5jbG9uZSgpO2NvbnN0IG49by51bmRvTW9kZTtpZihufHwhKGUuX2Nsb25lT3BlcmF0aW9uIGluc3RhbmNlb2YgX20pKXJldHVybltlXTtjb25zdCBpPWUuX2Nsb25lT3BlcmF0aW9uLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeSgtMSk7aWYoaSYmIW4mJnQub3BlcmF0aW9uc1swXS5wb3NpdGlvbi5pc0VxdWFsKGkpKXtjb25zdCBvPXQuY2xvbmUoKTtyZXR1cm4gby5vcGVyYXRpb25zWzBdLnBvc2l0aW9uPWkuZ2V0U2hpZnRlZEJ5KDEpLG8ub3BlcmF0aW9uc1swXS5vbGROYW1lPWUuX2Nsb25lT3BlcmF0aW9uLm5vZGVzLmdldE5vZGUoMCkubmFtZSxbZSxvXX1yZXR1cm5bZV19KSxGZyhWbSxPbSwoZSx0LG8pPT57Y29uc3Qgbj1OZyhlLHQsbyksaT10Ll9jbG9uZU9wZXJhdGlvbi5wb3NpdGlvbnx8dC5fY2xvbmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb247aWYoIWkpcmV0dXJuIE5nKGUsdCxvKTtjb25zdCByPW8udW5kb01vZGU7aWYocilyZXR1cm4gbjtmb3IoY29uc3QgciBvZiBuKWlmKHIgaW5zdGFuY2VvZiBWbSl7Y29uc3QgZT1yLl9tb3ZlT3BlcmF0aW9uLHQ9ZS5zb3VyY2VQb3NpdGlvbi5nZXRTaGlmdGVkQnkoZS5ob3dNYW55KTt0LmlzRXF1YWwoaSkmJihlLmhvd01hbnkrPTEpfXJldHVybiBufSksRmcoT20sVm0sKGUsdCxvKT0+e2NvbnN0IG49by51bmRvTW9kZTtpZihuKXJldHVybiBOZyhlLHQsbyk7Y29uc3QgaT1lLl9jbG9uZU9wZXJhdGlvbi5wb3NpdGlvbnx8ZS5fY2xvbmVPcGVyYXRpb24udGFyZ2V0UG9zaXRpb247aWYoIWkpcmV0dXJuIE5nKGUsdCxvKTt0PXQuY2xvbmUoKTtjb25zdCByPXQuX21vdmVPcGVyYXRpb24sYT1yLnNvdXJjZVBvc2l0aW9uLmdldFNoaWZ0ZWRCeShyLmhvd01hbnkpO3JldHVybiBhLmlzRXF1YWwoaSkmJihyLmhvd01hbnkrPTEpLE5nKGUsdCxvKX0pO2NsYXNzIE1ne2NvbnN0cnVjdG9yKGU9J2RlZmF1bHQnKXt0aGlzLmRlbHRhcz1bXSx0aGlzLnR5cGU9ZX1nZXQgYmFzZVZlcnNpb24oKXtmb3IoY29uc3QgZSBvZiB0aGlzLmRlbHRhcylpZihudWxsIT09ZS5iYXNlVmVyc2lvbilyZXR1cm4gZS5iYXNlVmVyc2lvbjtyZXR1cm4gbnVsbH1hZGREZWx0YShlKXtyZXR1cm4gZS5iYXRjaD10aGlzLHRoaXMuZGVsdGFzLnB1c2goZSksZX0qZ2V0T3BlcmF0aW9ucygpe2Zvcihjb25zdCBlIG9mIHRoaXMuZGVsdGFzKXlpZWxkKmUub3BlcmF0aW9uc319Y2xhc3MgRGcgZXh0ZW5kcyBFbXtzdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwuZGVsdGEuUm9vdEF0dHJpYnV0ZURlbHRhJ319UG0ucmVnaXN0ZXIoRGcpO2NsYXNzIEJnIGV4dGVuZHMgbW17Y29uc3RydWN0b3IoZSx0KXtzdXBlcihudWxsKSx0aGlzLnNvdXJjZVBvc2l0aW9uPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbihlKSx0aGlzLmhvd01hbnk9dH1nZXQgdHlwZSgpe3JldHVybidkZXRhY2gnfV92YWxpZGF0ZSgpe2lmKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgWWEoJ2RldGFjaC1vcGVyYXRpb24tb24tZG9jdW1lbnQtbm9kZTogQ2Fubm90IGRldGFjaCBkb2N1bWVudCBub2RlLicpfV9leGVjdXRlKCl7Ym8oSHUuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVybidlbmdpbmUubW9kZWwub3BlcmF0aW9uLkRldGFjaE9wZXJhdGlvbid9fWNsYXNzIExnIGV4dGVuZHMganV7Y29uc3RydWN0b3IoZSx0LG89J21haW4nKXtzdXBlcih0KSx0aGlzLl9kb2M9ZSx0aGlzLnJvb3ROYW1lPW99Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMuX2RvY31pcyhlLHQpe3JldHVybiB0Pydyb290RWxlbWVudCc9PWUmJnQ9PXRoaXMubmFtZXx8c3VwZXIuaXMoZSx0KToncm9vdEVsZW1lbnQnPT1lfHxzdXBlci5pcyhlKX10b0pTT04oKXtyZXR1cm4gdGhpcy5yb290TmFtZX19Y2xhc3Mgemd7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1vZGVsPWUsdGhpcy5iYXRjaD10fWNyZWF0ZVRleHQoZSx0KXtyZXR1cm4gbmV3IEJ1KGUsdCl9Y3JlYXRlRWxlbWVudChlLHQpe3JldHVybiBuZXcganUoZSx0KX1jcmVhdGVEb2N1bWVudEZyYWdtZW50KCl7cmV0dXJuIG5ldyBwbX1pbnNlcnQoZSx0LG8pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBuPVV1LmNyZWF0ZUF0KHQsbyksaT1lIGluc3RhbmNlb2YgQnUmJiFlLnBhcmVudD9uZXcgQm06bmV3IERtO2lmKGUucGFyZW50KXtpZihabyhlLnJvb3Qsbi5yb290KSlyZXR1cm4gdm9pZCB0aGlzLm1vdmUoSHUuY3JlYXRlT24oZSksbik7aWYoZS5yb290LmRvY3VtZW50KXRocm93IG5ldyBFcnJvcignbW9kZWwtd3JpdGVyLWluc2VydC1mb3JiaWRkZW4tbW92ZTogQ2Fubm90IG1vdmUgYSBub2RlIGZyb20gYSBkb2N1bWVudCB0byBhIGRpZmZlcmVudCB0cmVlLicpO2Vsc2UgdGhpcy5yZW1vdmUoZSl9Y29uc3Qgcj1uLnJvb3QuZG9jdW1lbnQ/bi5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxhPW5ldyBfbShuLGUscik7aWYodGhpcy5iYXRjaC5hZGREZWx0YShpKSxpLmFkZE9wZXJhdGlvbihhKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGEpLGUgaW5zdGFuY2VvZiBwbSlmb3IoY29uc3RbdCxvXW9mIGUubWFya2Vycyl7Y29uc3QgZT1VdS5jcmVhdGVBdChvLnJvb3QpLGk9bmV3IEh1KG8uc3RhcnQuX2dldENvbWJpbmVkKGUsbiksby5lbmQuX2dldENvbWJpbmVkKGUsbikpO3RoaXMuYWRkTWFya2VyKHQse3JhbmdlOmksdXNpbmdPcGVyYXRpb246ITB9KX19aW5zZXJ0VGV4dChlLHQsbyxuKXt0IGluc3RhbmNlb2YgcG18fHQgaW5zdGFuY2VvZiBqdXx8dCBpbnN0YW5jZW9mIFV1P3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlVGV4dChlKSx0LG8pOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlVGV4dChlLHQpLG8sbil9aW5zZXJ0RWxlbWVudChlLHQsbyxuKXt0IGluc3RhbmNlb2YgcG18fHQgaW5zdGFuY2VvZiBqdXx8dCBpbnN0YW5jZW9mIFV1P3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudChlKSx0LG8pOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudChlLHQpLG8sbil9YXBwZW5kKGUsdCl7dGhpcy5pbnNlcnQoZSx0LCdlbmQnKX1hcHBlbmRUZXh0KGUsdCxvKXt0IGluc3RhbmNlb2YgcG18fHQgaW5zdGFuY2VvZiBqdT90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQoZSksdCwnZW5kJyk6dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVUZXh0KGUsdCksbywnZW5kJyl9YXBwZW5kRWxlbWVudChlLHQsbyl7dCBpbnN0YW5jZW9mIHBtfHx0IGluc3RhbmNlb2YganU/dGhpcy5pbnNlcnQodGhpcy5jcmVhdGVFbGVtZW50KGUpLHQsJ2VuZCcpOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudChlLHQpLG8sJ2VuZCcpfXNldEF0dHJpYnV0ZShlLHQsbyl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLG8gaW5zdGFuY2VvZiBIdT9Kbyh0aGlzLGUsdCxvKTpRbyh0aGlzLGUsdCxvKX1zZXRBdHRyaWJ1dGVzKGUsdCl7Zm9yKGNvbnN0W28sbl1vZiBydChlKSl0aGlzLnNldEF0dHJpYnV0ZShvLG4sdCl9cmVtb3ZlQXR0cmlidXRlKGUsdCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLHQgaW5zdGFuY2VvZiBIdT9Kbyh0aGlzLGUsbnVsbCx0KTpRbyh0aGlzLGUsbnVsbCx0KX1jbGVhckF0dHJpYnV0ZXMoZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IHQ9KGUpPT57Zm9yKGNvbnN0IHQgb2YgZS5nZXRBdHRyaWJ1dGVLZXlzKCkpdGhpcy5yZW1vdmVBdHRyaWJ1dGUodCxlKX07aWYoIShlIGluc3RhbmNlb2YgSHUpKXQoZSk7ZWxzZSBmb3IoY29uc3QgbyBvZiBlLmdldEl0ZW1zKCkpdChvKX1tb3ZlKGUsdCxvKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksIShlIGluc3RhbmNlb2YgSHUpKXRocm93IG5ldyBZYSgnd3JpdGVyLW1vdmUtaW52YWxpZC1yYW5nZTogSW52YWxpZCByYW5nZSB0byBtb3ZlLicpO2lmKCFlLmlzRmxhdCl0aHJvdyBuZXcgWWEoJ3dyaXRlci1tb3ZlLXJhbmdlLW5vdC1mbGF0OiBSYW5nZSB0byBtb3ZlIGlzIG5vdCBmbGF0LicpO2NvbnN0IG49VXUuY3JlYXRlQXQodCxvKTtpZighWm8oZS5yb290LG4ucm9vdCkpdGhyb3cgbmV3IFlhKCd3cml0ZXItbW92ZS1kaWZmZXJlbnQtZG9jdW1lbnQ6IFJhbmdlIGlzIGdvaW5nIHRvIGJlIG1vdmVkIGJldHdlZW4gZGlmZmVyZW50IGRvY3VtZW50cy4nKTtjb25zdCBpPW5ldyBJbTt0aGlzLmJhdGNoLmFkZERlbHRhKGkpO2NvbnN0IHI9ZS5yb290LmRvY3VtZW50P2Uucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsYT1uZXcgaG0oZS5zdGFydCxlLmVuZC5vZmZzZXQtZS5zdGFydC5vZmZzZXQsbixyKTtpLmFkZE9wZXJhdGlvbihhKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGEpfXJlbW92ZShlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgdD0oZSx0KT0+e2NvbnN0IG89bmV3IFZtO3RoaXMuYmF0Y2guYWRkRGVsdGEobyksWG8oZSx0LG8sdGhpcy5tb2RlbCl9O2lmKGUgaW5zdGFuY2VvZiBIdSl7Y29uc3Qgbz1lLmdldE1pbmltYWxGbGF0UmFuZ2VzKCkucmV2ZXJzZSgpO2Zvcihjb25zdCBlIG9mIG8pdChlLnN0YXJ0LGUuZW5kLm9mZnNldC1lLnN0YXJ0Lm9mZnNldCl9ZWxzZXtjb25zdCBvPWUuaXMoJ3RleHQnKT9lLm9mZnNldFNpemU6MTt0KFV1LmNyZWF0ZUJlZm9yZShlKSxvKX19bWVyZ2UoZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IHQ9bmV3IFJtO3RoaXMuYmF0Y2guYWRkRGVsdGEodCk7Y29uc3Qgbz1lLm5vZGVCZWZvcmUsbj1lLm5vZGVBZnRlcjtpZighKG8gaW5zdGFuY2VvZiBqdSkpdGhyb3cgbmV3IFlhKCd3cml0ZXItbWVyZ2Utbm8tZWxlbWVudC1iZWZvcmU6IE5vZGUgYmVmb3JlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC4nKTtpZighKG4gaW5zdGFuY2VvZiBqdSkpdGhyb3cgbmV3IFlhKCd3cml0ZXItbWVyZ2Utbm8tZWxlbWVudC1hZnRlcjogTm9kZSBhZnRlciBtZXJnZSBwb3NpdGlvbiBtdXN0IGJlIGFuIGVsZW1lbnQuJyk7Y29uc3QgaT1VdS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG4sMCkscj1VdS5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KG8sby5tYXhPZmZzZXQpLGE9ZS5yb290LmRvY3VtZW50P2Uucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscz1uZXcgaG0oaSxuLm1heE9mZnNldCxyLGEpO3MuaXNTdGlja3k9ITAsdC5hZGRPcGVyYXRpb24ocyksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihzKSxYbyhlLDEsdCx0aGlzLm1vZGVsKX1yZW5hbWUoZSx0KXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksIShlIGluc3RhbmNlb2YganUpKXRocm93IG5ldyBZYSgnd3JpdGVyLXJlbmFtZS1ub3QtZWxlbWVudC1pbnN0YW5jZTogVHJ5aW5nIHRvIHJlbmFtZSBhbiBvYmplY3Qgd2hpY2ggaXMgbm90IGFuIGluc3RhbmNlIG9mIEVsZW1lbnQuJyk7Y29uc3Qgbz1uZXcgRm07dGhpcy5iYXRjaC5hZGREZWx0YShvKTtjb25zdCBuPWUucm9vdC5kb2N1bWVudD9lLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLGk9bmV3IHltKFV1LmNyZWF0ZUJlZm9yZShlKSxlLm5hbWUsdCxuKTtvLmFkZE9wZXJhdGlvbihpKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGkpfXNwbGl0KGUsdCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2xldCBvPWUucGFyZW50O2lmKCFvLnBhcmVudCl0aHJvdyBuZXcgWWEoJ3dyaXRlci1zcGxpdC1lbGVtZW50LW5vLXBhcmVudDogRWxlbWVudCB3aXRoIG5vIHBhcmVudCBjYW4gbm90IGJlIHNwbGl0LicpO2lmKHR8fCh0PW8ucGFyZW50KSwhZS5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pLmluY2x1ZGVzKHQpKXRocm93IG5ldyBZYSgnd3JpdGVyLXNwbGl0LWludmFsaWQtbGltaXQtZWxlbWVudDogTGltaXQgZWxlbWVudCBpcyBub3QgYSBwb3NpdGlvbiBhbmNlc3Rvci4nKTtsZXQgbixpO2Rve2NvbnN0IHQ9bmV3IE9tO3RoaXMuYmF0Y2guYWRkRGVsdGEodCk7Y29uc3Qgcj1uZXcganUoby5uYW1lLG8uZ2V0QXR0cmlidXRlcygpKSxhPW8ucm9vdC5kb2N1bWVudD9vLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLHM9bmV3IF9tKFV1LmNyZWF0ZUFmdGVyKG8pLHIsYSk7dC5hZGRPcGVyYXRpb24ocyksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihzKTtjb25zdCBsPW51bGw9PT1hP251bGw6YSsxLGQ9bmV3IGhtKGUsby5tYXhPZmZzZXQtZS5vZmZzZXQsVXUuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChyLDApLGwpO2QuaXNTdGlja3k9ITAsdC5hZGRPcGVyYXRpb24oZCksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihkKSxufHxpfHwobj1vLGk9ciksZT1VdS5jcmVhdGVCZWZvcmUociksbz1lLnBhcmVudH13aGlsZShvIT09dCk7cmV0dXJue3Bvc2l0aW9uOmUscmFuZ2U6bmV3IEh1KFV1LmNyZWF0ZUF0KG4sJ2VuZCcpLFV1LmNyZWF0ZUF0KGkpKX19d3JhcChlLHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhZS5pc0ZsYXQpdGhyb3cgbmV3IFlhKCd3cml0ZXItd3JhcC1yYW5nZS1ub3QtZmxhdDogUmFuZ2UgdG8gd3JhcCBpcyBub3QgZmxhdC4nKTtjb25zdCBvPXQgaW5zdGFuY2VvZiBqdT90Om5ldyBqdSh0KTtpZigwPG8uY2hpbGRDb3VudCl0aHJvdyBuZXcgWWEoJ3dyaXRlci13cmFwLWVsZW1lbnQtbm90LWVtcHR5OiBFbGVtZW50IHRvIHdyYXAgd2l0aCBpcyBub3QgZW1wdHkuJyk7aWYobnVsbCE9PW8ucGFyZW50KXRocm93IG5ldyBZYSgnd3JpdGVyLXdyYXAtZWxlbWVudC1hdHRhY2hlZDogRWxlbWVudCB0byB3cmFwIHdpdGggaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0cmVlIG1vZGVsLicpO2NvbnN0IG49bmV3IE5tO3RoaXMuYmF0Y2guYWRkRGVsdGEobik7Y29uc3QgaT1lLnJvb3QuZG9jdW1lbnQ/ZS5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxyPW5ldyBfbShlLmVuZCxvLGkpO24uYWRkT3BlcmF0aW9uKHIpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocik7Y29uc3QgYT1udWxsPT09aT9udWxsOmkrMSxzPVV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobywwKSxsPW5ldyBobShlLnN0YXJ0LGUuZW5kLm9mZnNldC1lLnN0YXJ0Lm9mZnNldCxzLGEpO24uYWRkT3BlcmF0aW9uKGwpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24obCl9dW53cmFwKGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxudWxsPT09ZS5wYXJlbnQpdGhyb3cgbmV3IFlhKCd3cml0ZXItdW53cmFwLWVsZW1lbnQtbm8tcGFyZW50OiBUcnlpbmcgdG8gdW53cmFwIGFuIGVsZW1lbnQgd2hpY2ggaGFzIG5vIHBhcmVudC4nKTtjb25zdCB0PW5ldyBNbTt0aGlzLmJhdGNoLmFkZERlbHRhKHQpO2NvbnN0IG89VXUuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldChlLDApLG49by5yb290LmRvY3VtZW50P28ucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsaT1uZXcgaG0obyxlLm1heE9mZnNldCxVdS5jcmVhdGVCZWZvcmUoZSksbik7aS5pc1N0aWNreT0hMCx0LmFkZE9wZXJhdGlvbihpKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKGkpLFhvKFV1LmNyZWF0ZUJlZm9yZShlKSwxLHQsdGhpcy5tb2RlbCl9YWRkTWFya2VyKGUsdCl7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCF0fHwnYm9vbGVhbichPXR5cGVvZiB0LnVzaW5nT3BlcmF0aW9uKXRocm93IG5ldyBZYSgnd3JpdGVyLWFkZE1hcmtlci1uby11c2luZ09wZXJhdGlvbnM6IFRoZSBvcHRpb25zLnVzaW5nT3BlcmF0aW9ucyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgd2hlbiBhZGRpbmcgYSBuZXcgbWFya2VyLicpO2NvbnN0IG89dC51c2luZ09wZXJhdGlvbixuPXQucmFuZ2U7aWYodGhpcy5tb2RlbC5tYXJrZXJzLmhhcyhlKSl0aHJvdyBuZXcgWWEoJ3dyaXRlci1hZGRNYXJrZXItbWFya2VyLWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy4nKTtpZighbil0aHJvdyBuZXcgWWEoJ3dyaXRlci1hZGRNYXJrZXItbm8tcmFuZ2U6IFJhbmdlIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuJyk7cmV0dXJuIG8/KFlvKHRoaXMsZSxudWxsLG4pLHRoaXMubW9kZWwubWFya2Vycy5nZXQoZSkpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KGUsbixvKX11cGRhdGVNYXJrZXIoZSx0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3Qgbz0nc3RyaW5nJz09dHlwZW9mIGU/ZTplLm5hbWUsbj10aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KG8pO2lmKCFuKXRocm93IG5ldyBZYSgnd3JpdGVyLXVwZGF0ZU1hcmtlci1tYXJrZXItbm90LWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBkb2VzIG5vdCBleGlzdHMuJyk7Y29uc3QgaT10JiZ0LnJhbmdlLHI9ISF0JiYnYm9vbGVhbic9PXR5cGVvZiB0LnVzaW5nT3BlcmF0aW9uO2lmKCFyJiYhaSl0aHJvdyBuZXcgWWEoJ3dyaXRlci11cGRhdGVNYXJrZXItd3Jvbmctb3B0aW9uczogT25lIG9mIG9wdGlvbnMgaXMgcmVxdWlyZWQgLSBwcm92aWRlIHJhbmdlIG9yIHVzaW5nT3BlcmF0aW9ucy4nKTtpZihyJiZ0LnVzaW5nT3BlcmF0aW9uIT09bi5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zKXtpZih0LnVzaW5nT3BlcmF0aW9uKVlvKHRoaXMsbyxudWxsLGk/aTpuLmdldFJhbmdlKCkpO2Vsc2V7Y29uc3QgZT1uLmdldFJhbmdlKCk7WW8odGhpcyxvLGUsbnVsbCksdGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQobyxpP2k6ZSl9cmV0dXJufW4ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz9Zbyh0aGlzLG8sbi5nZXRSYW5nZSgpLGkpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KG8saSl9cmVtb3ZlTWFya2VyKGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCB0PSdzdHJpbmcnPT10eXBlb2YgZT9lOmUubmFtZTtpZighdGhpcy5tb2RlbC5tYXJrZXJzLmhhcyh0KSl0aHJvdyBuZXcgWWEoJ3dyaXRlci1yZW1vdmVNYXJrZXItbm8tbWFya2VyOiBUcnlpbmcgdG8gcmVtb3ZlIG1hcmtlciB3aGljaCBkb2VzIG5vdCBleGlzdC4nKTtjb25zdCBvPXRoaXMubW9kZWwubWFya2Vycy5nZXQodCk7aWYoIW8ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucylyZXR1cm4gdm9pZCB0aGlzLm1vZGVsLm1hcmtlcnMuX3JlbW92ZSh0KTtjb25zdCBuPW8uZ2V0UmFuZ2UoKTtZbyh0aGlzLHQsbixudWxsKX1zZXRTZWxlY3Rpb24oZSx0LG8pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8oZSx0LG8pfXNldFNlbGVjdGlvbkZvY3VzKGUsdCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyhlLHQpfXNldFNlbGVjdGlvbkF0dHJpYnV0ZShlLHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwnc3RyaW5nJz09dHlwZW9mIGUpdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKGUsdCk7ZWxzZSBmb3IoY29uc3RbdCxvXW9mIHJ0KGUpKXRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LG8pfXJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShlKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksJ3N0cmluZyc9PXR5cGVvZiBlKXRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShlKTtlbHNlIGZvcihjb25zdCB0IG9mIGUpdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpfW92ZXJyaWRlU2VsZWN0aW9uR3Jhdml0eSgpe3JldHVybiB0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fb3ZlcnJpZGVHcmF2aXR5KCl9cmVzdG9yZVNlbGVjdGlvbkdyYXZpdHkoZSl7dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uX3Jlc3RvcmVHcmF2aXR5KGUpfV9zZXRTZWxlY3Rpb25BdHRyaWJ1dGUoZSx0KXtjb25zdCBvPXRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG8uaXNDb2xsYXBzZWQmJm8uYW5jaG9yLnBhcmVudC5pc0VtcHR5KXtjb25zdCBuPVh1Ll9nZXRTdG9yZUF0dHJpYnV0ZUtleShlKTt0aGlzLnNldEF0dHJpYnV0ZShuLHQsby5hbmNob3IucGFyZW50KX1vLl9zZXRBdHRyaWJ1dGUoZSx0KX1fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKGUpe2NvbnN0IHQ9dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYodC5pc0NvbGxhcHNlZCYmdC5hbmNob3IucGFyZW50LmlzRW1wdHkpe2NvbnN0IG89WHUuX2dldFN0b3JlQXR0cmlidXRlS2V5KGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKG8sdC5hbmNob3IucGFyZW50KX10Ll9yZW1vdmVBdHRyaWJ1dGUoZSl9X2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKXtpZih0aGlzLm1vZGVsLl9jdXJyZW50V3JpdGVyIT09dGhpcyl0aHJvdyBuZXcgWWEoJ3dyaXRlci1pbmNvcnJlY3QtdXNlOiBUcnlpbmcgdG8gdXNlIGEgd3JpdGVyIG91dHNpZGUgdGhlIGNoYW5nZSgpIGJsb2NrLicpfX1jbGFzcyBqZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXJrZXJDb2xsZWN0aW9uPWUsdGhpcy5fY2hhbmdlc0luRWxlbWVudD1uZXcgTWFwLHRoaXMuX2VsZW1lbnRTbmFwc2hvdHM9bmV3IE1hcCx0aGlzLl9jaGFuZ2VkTWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsLHRoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkPW51bGx9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09dGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplJiYwPT10aGlzLl9jaGFuZ2VkTWFya2Vycy5zaXplfWJ1ZmZlck9wZXJhdGlvbihlKXtzd2l0Y2goZS50eXBlKXtjYXNlJ2luc2VydCc6e2lmKHRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wb3NpdGlvbi5wYXJlbnQpKXJldHVybjt0aGlzLl9tYXJrSW5zZXJ0KGUucG9zaXRpb24ucGFyZW50LGUucG9zaXRpb24ub2Zmc2V0LGUubm9kZXMubWF4T2Zmc2V0KTticmVha31jYXNlJ2FkZEF0dHJpYnV0ZSc6Y2FzZSdyZW1vdmVBdHRyaWJ1dGUnOmNhc2UnY2hhbmdlQXR0cmlidXRlJzp7Zm9yKGNvbnN0IHQgb2YgZS5yYW5nZS5nZXRJdGVtcygpKXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC5wYXJlbnQpfHx0aGlzLl9tYXJrQXR0cmlidXRlKHQpO2JyZWFrfWNhc2UncmVtb3ZlJzpjYXNlJ21vdmUnOmNhc2UncmVpbnNlcnQnOntjb25zdCB0PXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5zb3VyY2VQb3NpdGlvbi5wYXJlbnQpLG89dGhpcy5faXNJbkluc2VydGVkRWxlbWVudChlLnRhcmdldFBvc2l0aW9uLnBhcmVudCk7dHx8dGhpcy5fbWFya1JlbW92ZShlLnNvdXJjZVBvc2l0aW9uLnBhcmVudCxlLnNvdXJjZVBvc2l0aW9uLm9mZnNldCxlLmhvd01hbnkpLG98fHRoaXMuX21hcmtJbnNlcnQoZS50YXJnZXRQb3NpdGlvbi5wYXJlbnQsZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5vZmZzZXQsZS5ob3dNYW55KTticmVha31jYXNlJ3JlbmFtZSc6e2lmKHRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wb3NpdGlvbi5wYXJlbnQpKXJldHVybjt0aGlzLl9tYXJrUmVtb3ZlKGUucG9zaXRpb24ucGFyZW50LGUucG9zaXRpb24ub2Zmc2V0LDEpLHRoaXMuX21hcmtJbnNlcnQoZS5wb3NpdGlvbi5wYXJlbnQsZS5wb3NpdGlvbi5vZmZzZXQsMSk7Y29uc3QgdD1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnBvc2l0aW9uLDEpO2Zvcihjb25zdCBlIG9mIHRoaXMuX21hcmtlckNvbGxlY3Rpb24uZ2V0TWFya2Vyc0ludGVyc2VjdGluZ1JhbmdlKHQpKXtjb25zdCB0PWUuZ2V0UmFuZ2UoKTt0aGlzLmJ1ZmZlck1hcmtlckNoYW5nZShlLm5hbWUsdCx0KX1icmVha319dGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsfWJ1ZmZlck1hcmtlckNoYW5nZShlLHQsbyl7Y29uc3Qgbj10aGlzLl9jaGFuZ2VkTWFya2Vycy5nZXQoZSk7bj8obi5uZXdSYW5nZT1vLG51bGw9PW4ub2xkUmFuZ2UmJm51bGw9PW4ubmV3UmFuZ2UmJnRoaXMuX2NoYW5nZWRNYXJrZXJzLmRlbGV0ZShlKSk6dGhpcy5fY2hhbmdlZE1hcmtlcnMuc2V0KGUse29sZFJhbmdlOnQsbmV3UmFuZ2U6b30pfWdldE1hcmtlcnNUb1JlbW92ZSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0W3Qsb11vZiB0aGlzLl9jaGFuZ2VkTWFya2VycyludWxsIT1vLm9sZFJhbmdlJiZlLnB1c2goe25hbWU6dCxyYW5nZTpvLm9sZFJhbmdlfSk7cmV0dXJuIGV9Z2V0TWFya2Vyc1RvQWRkKCl7Y29uc3QgZT1bXTtmb3IoY29uc3RbdCxvXW9mIHRoaXMuX2NoYW5nZWRNYXJrZXJzKW51bGwhPW8ubmV3UmFuZ2UmJmUucHVzaCh7bmFtZTp0LHJhbmdlOm8ubmV3UmFuZ2V9KTtyZXR1cm4gZX1nZXRDaGFuZ2VzKGU9e2luY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ6ITF9KXtpZih0aGlzLl9jYWNoZWRDaGFuZ2VzKXJldHVybiBlLmluY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ/dGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQuc2xpY2UoKTp0aGlzLl9jYWNoZWRDaGFuZ2VzLnNsaWNlKCk7Y29uc3QgdD1bXTtmb3IoY29uc3QgbyBvZiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmtleXMoKSl7Y29uc3QgZT10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldChvKS5zb3J0KChlLHQpPT5lLm9mZnNldD09PXQub2Zmc2V0P2UudHlwZT09dC50eXBlPzA6J3JlbW92ZSc9PWUudHlwZT8tMToxOmUub2Zmc2V0PHQub2Zmc2V0Py0xOjEpLG49dGhpcy5fZWxlbWVudFNuYXBzaG90cy5nZXQobykscj1lbihvLmdldENoaWxkcmVuKCkpLGE9dG4obi5sZW5ndGgsZSk7bGV0IHM9MCxpPTA7Zm9yKGNvbnN0IGUgb2YgYSlpZignaSc9PT1lKXQucHVzaCh0aGlzLl9nZXRJbnNlcnREaWZmKG8scyxyW3NdLm5hbWUpKSxzKys7ZWxzZSBpZigncic9PT1lKXQucHVzaCh0aGlzLl9nZXRSZW1vdmVEaWZmKG8scyxuW2ldLm5hbWUpKSxpKys7ZWxzZSBpZignYSc9PT1lKXtjb25zdCBlPXJbc10uYXR0cmlidXRlcyxhPW5baV0uYXR0cmlidXRlcztsZXQgbDtpZignJHRleHQnPT1yW3NdLm5hbWUpbD1IdS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMobyxzLG8scysxKTtlbHNle2NvbnN0IGU9by5vZmZzZXRUb0luZGV4KHMpO2w9SHUuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKG8scyxvLmdldENoaWxkKGUpLDApfXQucHVzaCguLi50aGlzLl9nZXRBdHRyaWJ1dGVzRGlmZihsLGEsZSkpLHMrKyxpKyt9ZWxzZSBzKyssaSsrfXQuc29ydCgoZSx0KT0+ZS5wb3NpdGlvbi5yb290PT10LnBvc2l0aW9uLnJvb3Q/ZS5wb3NpdGlvbi5pc0VxdWFsKHQucG9zaXRpb24pP2UuY2hhbmdlQ291bnQ8dC5jaGFuZ2VDb3VudD8tMToxOmUucG9zaXRpb24uaXNCZWZvcmUodC5wb3NpdGlvbik/LTE6MTplLnBvc2l0aW9uLnJvb3Qucm9vdE5hbWU8dC5wb3NpdGlvbi5yb290LnJvb3ROYW1lPy0xOjEpO2ZvcihsZXQgbz0xO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbby0xXSxuPXRbb10saT0ncmVtb3ZlJz09ZS50eXBlJiYncmVtb3ZlJz09bi50eXBlJiYnJHRleHQnPT1lLm5hbWUmJickdGV4dCc9PW4ubmFtZSYmZS5wb3NpdGlvbi5pc0VxdWFsKG4ucG9zaXRpb24pLHI9J2luc2VydCc9PWUudHlwZSYmJ2luc2VydCc9PW4udHlwZSYmJyR0ZXh0Jz09ZS5uYW1lJiYnJHRleHQnPT1uLm5hbWUmJmUucG9zaXRpb24ucGFyZW50PT1uLnBvc2l0aW9uLnBhcmVudCYmZS5wb3NpdGlvbi5vZmZzZXQrZS5sZW5ndGg9PW4ucG9zaXRpb24ub2Zmc2V0LGE9J2F0dHJpYnV0ZSc9PWUudHlwZSYmJ2F0dHJpYnV0ZSc9PW4udHlwZSYmZS5wb3NpdGlvbi5wYXJlbnQ9PW4ucG9zaXRpb24ucGFyZW50JiZlLnJhbmdlLmlzRmxhdCYmbi5yYW5nZS5pc0ZsYXQmJmUucG9zaXRpb24ub2Zmc2V0K2UubGVuZ3RoPT1uLnBvc2l0aW9uLm9mZnNldCYmZS5hdHRyaWJ1dGVLZXk9PW4uYXR0cmlidXRlS2V5JiZlLmF0dHJpYnV0ZU9sZFZhbHVlPT1uLmF0dHJpYnV0ZU9sZFZhbHVlJiZlLmF0dHJpYnV0ZU5ld1ZhbHVlPT1uLmF0dHJpYnV0ZU5ld1ZhbHVlOyhpfHxyfHxhKSYmKHRbby0xXS5sZW5ndGgrKyxhJiYodFtvLTFdLnJhbmdlLmVuZD10W28tMV0ucmFuZ2UuZW5kLmdldFNoaWZ0ZWRCeSgxKSksdC5zcGxpY2UobywxKSxvLS0pfWZvcihjb25zdCBvIG9mIHQpZGVsZXRlIG8uY2hhbmdlQ291bnQsJ2F0dHJpYnV0ZSc9PW8udHlwZSYmKGRlbGV0ZSBvLnBvc2l0aW9uLGRlbGV0ZSBvLmxlbmd0aCk7cmV0dXJuIHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQ9dC5zbGljZSgpLHRoaXMuX2NhY2hlZENoYW5nZXM9dC5zbGljZSgpLmZpbHRlcihvbiksZS5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkOnRoaXMuX2NhY2hlZENoYW5nZXN9cmVzZXQoKXt0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmNsZWFyKCksdGhpcy5fZWxlbWVudFNuYXBzaG90cy5jbGVhcigpLHRoaXMuX2NoYW5nZWRNYXJrZXJzLmNsZWFyKCksdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsfV9tYXJrSW5zZXJ0KGUsdCxvKXtjb25zdCBuPXt0eXBlOidpbnNlcnQnLG9mZnNldDp0LGhvd01hbnk6byxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9tYXJrQ2hhbmdlKGUsbil9X21hcmtSZW1vdmUoZSx0LG8pe2NvbnN0IG49e3R5cGU6J3JlbW92ZScsb2Zmc2V0OnQsaG93TWFueTpvLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UoZSxuKSx0aGlzLl9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKGUsdCxvKX1fbWFya0F0dHJpYnV0ZShlKXtjb25zdCB0PXt0eXBlOidhdHRyaWJ1dGUnLG9mZnNldDplLnN0YXJ0T2Zmc2V0LGhvd01hbnk6ZS5vZmZzZXRTaXplLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UoZS5wYXJlbnQsdCl9X21hcmtDaGFuZ2UoZSx0KXt0aGlzLl9tYWtlU25hcHNob3QoZSk7Y29uc3Qgbz10aGlzLl9nZXRDaGFuZ2VzRm9yRWxlbWVudChlKTt0aGlzLl9oYW5kbGVDaGFuZ2UodCxvKSxvLnB1c2godCk7Zm9yKGxldCBuPTA7bjxvLmxlbmd0aDtuKyspMT5vW25dLmhvd01hbnkmJihvLnNwbGljZShuLDEpLG4tLSl9X2dldENoYW5nZXNGb3JFbGVtZW50KGUpe2xldCB0O3JldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmhhcyhlKT90PXRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZ2V0KGUpOih0PVtdLHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuc2V0KGUsdCkpLHR9X21ha2VTbmFwc2hvdChlKXt0aGlzLl9lbGVtZW50U25hcHNob3RzLmhhcyhlKXx8dGhpcy5fZWxlbWVudFNuYXBzaG90cy5zZXQoZSxlbihlLmdldENoaWxkcmVuKCkpKX1faGFuZGxlQ2hhbmdlKGUsdCl7ZS5ub2Rlc1RvSGFuZGxlPWUuaG93TWFueTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCBuPWUub2Zmc2V0K2UuaG93TWFueSxpPW8ub2Zmc2V0K28uaG93TWFueTtpZignaW5zZXJ0Jz09ZS50eXBlJiYoJ2luc2VydCc9PW8udHlwZSYmKGUub2Zmc2V0PD1vLm9mZnNldD9vLm9mZnNldCs9ZS5ob3dNYW55OmUub2Zmc2V0PGkmJihvLmhvd01hbnkrPWUubm9kZXNUb0hhbmRsZSxlLm5vZGVzVG9IYW5kbGU9MCkpLCdyZW1vdmUnPT1vLnR5cGUmJmUub2Zmc2V0PG8ub2Zmc2V0JiYoby5vZmZzZXQrPWUuaG93TWFueSksJ2F0dHJpYnV0ZSc9PW8udHlwZSkpaWYoZS5vZmZzZXQ8PW8ub2Zmc2V0KW8ub2Zmc2V0Kz1lLmhvd01hbnk7ZWxzZSBpZihlLm9mZnNldDxpKXtjb25zdCBpPW8uaG93TWFueTtvLmhvd01hbnk9ZS5vZmZzZXQtby5vZmZzZXQsdC51bnNoaWZ0KHt0eXBlOidhdHRyaWJ1dGUnLG9mZnNldDpuLGhvd01hbnk6aS1vLmhvd01hbnksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pfWlmKCdyZW1vdmUnPT1lLnR5cGUpe2lmKCdpbnNlcnQnPT1vLnR5cGUpaWYobjw9by5vZmZzZXQpby5vZmZzZXQtPWUuaG93TWFueTtlbHNlIGlmKG48PWkpe2lmKGUub2Zmc2V0PG8ub2Zmc2V0KXtjb25zdCB0PW4tby5vZmZzZXQ7by5vZmZzZXQ9ZS5vZmZzZXQsby5ob3dNYW55LT10LGUubm9kZXNUb0hhbmRsZS09dH1lbHNlIG8uaG93TWFueS09ZS5ub2Rlc1RvSGFuZGxlLGUubm9kZXNUb0hhbmRsZT0wO31lbHNlIGlmKGUub2Zmc2V0PD1vLm9mZnNldCllLm5vZGVzVG9IYW5kbGUtPW8uaG93TWFueSxvLmhvd01hbnk9MDtlbHNlIGlmKGUub2Zmc2V0PGkpe2NvbnN0IHQ9aS1lLm9mZnNldDtvLmhvd01hbnktPXQsZS5ub2Rlc1RvSGFuZGxlLT10fWlmKCdyZW1vdmUnPT1vLnR5cGUmJihuPD1vLm9mZnNldD9vLm9mZnNldC09ZS5ob3dNYW55OmUub2Zmc2V0PG8ub2Zmc2V0JiYoZS5ub2Rlc1RvSGFuZGxlKz1vLmhvd01hbnksby5ob3dNYW55PTApKSwnYXR0cmlidXRlJz09by50eXBlKWlmKG48PW8ub2Zmc2V0KW8ub2Zmc2V0LT1lLmhvd01hbnk7ZWxzZSBpZihlLm9mZnNldDxvLm9mZnNldCl7Y29uc3QgdD1uLW8ub2Zmc2V0O28ub2Zmc2V0PWUub2Zmc2V0LG8uaG93TWFueS09dH1lbHNlIGlmKGUub2Zmc2V0PGkpaWYobjw9aSl7Y29uc3Qgbj1vLmhvd01hbnk7by5ob3dNYW55PWUub2Zmc2V0LW8ub2Zmc2V0O2NvbnN0IGk9bi1vLmhvd01hbnktZS5ub2Rlc1RvSGFuZGxlO3QudW5zaGlmdCh7dHlwZTonYXR0cmlidXRlJyxvZmZzZXQ6ZS5vZmZzZXQsaG93TWFueTppLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1lbHNlIG8uaG93TWFueS09aS1lLm9mZnNldH1pZignYXR0cmlidXRlJz09ZS50eXBlKXtpZignaW5zZXJ0Jz09by50eXBlKWlmKGUub2Zmc2V0PG8ub2Zmc2V0JiZuPm8ub2Zmc2V0KXtpZihuPmkpe2NvbnN0IGU9e3R5cGU6J2F0dHJpYnV0ZScsb2Zmc2V0OmksaG93TWFueTpuLWksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5faGFuZGxlQ2hhbmdlKGUsdCksdC5wdXNoKGUpfWUubm9kZXNUb0hhbmRsZT1vLm9mZnNldC1lLm9mZnNldCxlLmhvd01hbnk9ZS5ub2Rlc1RvSGFuZGxlfWVsc2UgZS5vZmZzZXQ+PW8ub2Zmc2V0JiZlLm9mZnNldDxpJiYobj5pPyhlLm5vZGVzVG9IYW5kbGU9bi1pLGUub2Zmc2V0PWkpOmUubm9kZXNUb0hhbmRsZT0wKTsnYXR0cmlidXRlJz09by50eXBlJiYoZS5vZmZzZXQ+PW8ub2Zmc2V0JiZuPD1pPyhlLm5vZGVzVG9IYW5kbGU9MCxlLmhvd01hbnk9MCxlLm9mZnNldD0wKTplLm9mZnNldDw9by5vZmZzZXQmJm4+PWkmJihvLmhvd01hbnk9MCkpfX1lLmhvd01hbnk9ZS5ub2Rlc1RvSGFuZGxlLGRlbGV0ZSBlLm5vZGVzVG9IYW5kbGV9X2dldEluc2VydERpZmYoZSx0LG8pe3JldHVybnt0eXBlOidpbnNlcnQnLHBvc2l0aW9uOlV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoZSx0KSxuYW1lOm8sbGVuZ3RoOjEsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK319X2dldFJlbW92ZURpZmYoZSx0LG8pe3JldHVybnt0eXBlOidyZW1vdmUnLHBvc2l0aW9uOlV1LmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQoZSx0KSxuYW1lOm8sbGVuZ3RoOjEsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK319X2dldEF0dHJpYnV0ZXNEaWZmKGUsdCxvKXtjb25zdCBuPVtdO289bmV3IE1hcChvKTtmb3IoY29uc3RbaSxyXW9mIHQpe2NvbnN0IHQ9by5oYXMoaSk/by5nZXQoaSk6bnVsbDt0IT09ciYmbi5wdXNoKHt0eXBlOidhdHRyaWJ1dGUnLHBvc2l0aW9uOmUuc3RhcnQscmFuZ2U6SHUuY3JlYXRlRnJvbVJhbmdlKGUpLGxlbmd0aDoxLGF0dHJpYnV0ZUtleTppLGF0dHJpYnV0ZU9sZFZhbHVlOnIsYXR0cmlidXRlTmV3VmFsdWU6dCxjaGFuZ2VDb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfSksby5kZWxldGUoaSl9Zm9yKGNvbnN0W2kscl1vZiBvKW4ucHVzaCh7dHlwZTonYXR0cmlidXRlJyxwb3NpdGlvbjplLnN0YXJ0LHJhbmdlOkh1LmNyZWF0ZUZyb21SYW5nZShlKSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6aSxhdHRyaWJ1dGVPbGRWYWx1ZTpudWxsLGF0dHJpYnV0ZU5ld1ZhbHVlOnIsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pO3JldHVybiBufV9pc0luSW5zZXJ0ZWRFbGVtZW50KGUpe2NvbnN0IHQ9ZS5wYXJlbnQ7aWYoIXQpcmV0dXJuITE7Y29uc3Qgbz10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldCh0KSxuPWUuc3RhcnRPZmZzZXQ7aWYobylmb3IoY29uc3QgZSBvZiBvKWlmKCdpbnNlcnQnPT1lLnR5cGUmJm4+PWUub2Zmc2V0JiZuPGUub2Zmc2V0K2UuaG93TWFueSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0KX1fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyhlLHQsbyl7Y29uc3Qgbj1IdS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMoZSx0LGUsdCtvKTtmb3IoY29uc3QgaSBvZiBuLmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpaS5pcygnZWxlbWVudCcpJiYodGhpcy5fZWxlbWVudFNuYXBzaG90cy5kZWxldGUoaSksdGhpcy5fY2hhbmdlc0luRWxlbWVudC5kZWxldGUoaSksdGhpcy5fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyhpLDAsaS5tYXhPZmZzZXQpKX19Y2xhc3MgcWd7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWx0YXM9W10sdGhpcy5faGlzdG9yeVBvaW50cz1uZXcgTWFwLHRoaXMuX3VuZG9QYWlycz1uZXcgTWFwLHRoaXMuX3VuZG9uZURlbHRhcz1uZXcgU2V0fWFkZERlbHRhKGUpe2lmKDA8ZS5vcGVyYXRpb25zLmxlbmd0aCYmIXRoaXMuX2hpc3RvcnlQb2ludHMuaGFzKGUuYmFzZVZlcnNpb24pKXtjb25zdCB0PXRoaXMuX2RlbHRhcy5sZW5ndGg7dGhpcy5fZGVsdGFzW3RdPWUsdGhpcy5faGlzdG9yeVBvaW50cy5zZXQoZS5iYXNlVmVyc2lvbix0KX19KmdldERlbHRhcyhlPTAsdD1OYSl7aWYoMCE9PXRoaXMuX2RlbHRhcy5sZW5ndGgpe2xldCBvPXRoaXMuX2dldEluZGV4KGUpO2lmKC0xIT1vKWZvcig7bzx0aGlzLl9kZWx0YXMubGVuZ3RoOyl7Y29uc3QgZT10aGlzLl9kZWx0YXNbbysrXTtpZihlLmJhc2VWZXJzaW9uPj10KWJyZWFrO3lpZWxkIGV9fX1nZXREZWx0YShlKXtjb25zdCB0PXRoaXMuX2hpc3RvcnlQb2ludHMuZ2V0KGUpO3JldHVybiB0PT09dm9pZCAwP251bGw6dGhpcy5fZGVsdGFzW3RdfXNldERlbHRhQXNVbmRvbmUoZSx0KXt0aGlzLl91bmRvUGFpcnMuc2V0KHQsZSksdGhpcy5fdW5kb25lRGVsdGFzLmFkZChlKX1pc1VuZG9pbmdEZWx0YShlKXtyZXR1cm4gdGhpcy5fdW5kb1BhaXJzLmhhcyhlKX1pc1VuZG9uZURlbHRhKGUpe3JldHVybiB0aGlzLl91bmRvbmVEZWx0YXMuaGFzKGUpfWdldFVuZG9uZURlbHRhKGUpe3JldHVybiB0aGlzLl91bmRvUGFpcnMuZ2V0KGUpfV9nZXRJbmRleChlKXtjb25zdCB0PXRoaXMuX2hpc3RvcnlQb2ludHMuZ2V0KGUpO2lmKHQ9PT12b2lkIDApe2NvbnN0IHQ9dGhpcy5fZGVsdGFzW3RoaXMuX2RlbHRhcy5sZW5ndGgtMV0sbz10LmJhc2VWZXJzaW9uK3Qub3BlcmF0aW9ucy5sZW5ndGg7aWYoMD5lfHxlPj1vKXJldHVybi0xO3Rocm93IG5ldyBZYSgnbW9kZWwtaGlzdG9yeS13cm9uZy12ZXJzaW9uOiBHaXZlbiBiYXNlIHZlcnNpb24gcG9pbnRzIHRvIHRoZSBtaWRkbGUgb2YgYSBkZWx0YS4nKX1yZXR1cm4gdH19Y29uc3QgV2c9JyRncmF2ZXlhcmQnO2NsYXNzIFVne2NvbnN0cnVjdG9yKGUpe3RoaXMubW9kZWw9ZSx0aGlzLnZlcnNpb249MCx0aGlzLmhpc3Rvcnk9bmV3IHFnKHRoaXMpLHRoaXMuc2VsZWN0aW9uPW5ldyBYdSh0aGlzKSx0aGlzLnJvb3RzPW5ldyBBYyh7aWRQcm9wZXJ0eToncm9vdE5hbWUnfSksdGhpcy5kaWZmZXI9bmV3IGpnKGUubWFya2VycyksdGhpcy5fcG9zdEZpeGVycz1uZXcgU2V0LHRoaXMuY3JlYXRlUm9vdCgnJHJvb3QnLFdnKSx0aGlzLmxpc3RlblRvKGUsJ2FwcGx5T3BlcmF0aW9uJywoZSx0KT0+e2NvbnN0IG89dFswXTtpZihvLmlzRG9jdW1lbnRPcGVyYXRpb24mJm8uYmFzZVZlcnNpb24hPT10aGlzLnZlcnNpb24pdGhyb3cgbmV3IFlhKCdtb2RlbC1kb2N1bWVudC1hcHBseU9wZXJhdGlvbi13cm9uZy12ZXJzaW9uOiBPbmx5IG9wZXJhdGlvbnMgd2l0aCBtYXRjaGluZyB2ZXJzaW9ucyBjYW4gYmUgYXBwbGllZC4nLHtvcGVyYXRpb246b30pfSx7cHJpb3JpdHk6J2hpZ2hlc3QnfSksdGhpcy5saXN0ZW5UbyhlLCdhcHBseU9wZXJhdGlvbicsKGUsdCk9Pntjb25zdCBvPXRbMF07by5pc0RvY3VtZW50T3BlcmF0aW9uJiZ0aGlzLmRpZmZlci5idWZmZXJPcGVyYXRpb24obyl9LHtwcmlvcml0eTonaGlnaCd9KSx0aGlzLmxpc3RlblRvKGUsJ2FwcGx5T3BlcmF0aW9uJywoZSx0KT0+e2NvbnN0IG89dFswXTtvLmlzRG9jdW1lbnRPcGVyYXRpb24mJih0aGlzLnZlcnNpb24rKyx0aGlzLmhpc3RvcnkuYWRkRGVsdGEoby5kZWx0YSkpfSx7cHJpb3JpdHk6J2xvdyd9KTtsZXQgdD0hMTt0aGlzLmxpc3RlblRvKHRoaXMuc2VsZWN0aW9uLCdjaGFuZ2UnLCgpPT57dD0hMH0pLHRoaXMubGlzdGVuVG8oZSwnX2NoYW5nZScsKGUsbyk9PnsoIXRoaXMuZGlmZmVyLmlzRW1wdHl8fHQpJiYodGhpcy5fY2FsbFBvc3RGaXhlcnMobyksdGhpcy5maXJlKCdjaGFuZ2UnLG8uYmF0Y2gpLHRoaXMuZGlmZmVyLnJlc2V0KCksdD0hMSl9KSx0aGlzLmxpc3RlblRvKGUubWFya2VycywndXBkYXRlJywoZSx0LG8sbik9Pnt0aGlzLmRpZmZlci5idWZmZXJNYXJrZXJDaGFuZ2UodC5uYW1lLG8sbiksbnVsbD09PW8mJnQub24oJ2NoYW5nZScsKGUsbyk9Pnt0aGlzLmRpZmZlci5idWZmZXJNYXJrZXJDaGFuZ2UodC5uYW1lLG8sdC5nZXRSYW5nZSgpKX0pfSl9Z2V0IGdyYXZleWFyZCgpe3JldHVybiB0aGlzLmdldFJvb3QoV2cpfWNyZWF0ZVJvb3QoZT0nJHJvb3QnLHQ9J21haW4nKXtpZih0aGlzLnJvb3RzLmdldCh0KSl0aHJvdyBuZXcgWWEoJ21vZGVsLWRvY3VtZW50LWNyZWF0ZVJvb3QtbmFtZS1leGlzdHM6IFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy4nLHtuYW1lOnR9KTtjb25zdCBvPW5ldyBMZyh0aGlzLGUsdCk7cmV0dXJuIHRoaXMucm9vdHMuYWRkKG8pLG99ZGVzdHJveSgpe3RoaXMuc2VsZWN0aW9uLmRlc3Ryb3koKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX1nZXRSb290KGU9J21haW4nKXtyZXR1cm4gdGhpcy5yb290cy5nZXQoZSl9Z2V0Um9vdE5hbWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yb290cywoZSk9PmUucm9vdE5hbWUpLmZpbHRlcigoZSk9PmUhPVdnKX1yZWdpc3RlclBvc3RGaXhlcihlKXt0aGlzLl9wb3N0Rml4ZXJzLmFkZChlKX10b0pTT04oKXtjb25zdCBlPVRkKHRoaXMpO3JldHVybiBlLnNlbGVjdGlvbj0nW2VuZ2luZS5tb2RlbC5Eb2N1bWVudFNlbGVjdGlvbl0nLGUubW9kZWw9J1tlbmdpbmUubW9kZWwuTW9kZWxdJyxlfV9nZXREZWZhdWx0Um9vdCgpe2Zvcihjb25zdCBlIG9mIHRoaXMucm9vdHMpaWYoZSE9PXRoaXMuZ3JhdmV5YXJkKXJldHVybiBlO3JldHVybiB0aGlzLmdyYXZleWFyZH1fZ2V0RGVmYXVsdFJhbmdlKCl7Y29uc3QgZT10aGlzLl9nZXREZWZhdWx0Um9vdCgpLHQ9dGhpcy5tb2RlbC5zY2hlbWEsbz1uZXcgVXUoZSxbMF0pLG49dC5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobyk7cmV0dXJuIG58fG5ldyBIdShvKX1fdmFsaWRhdGVTZWxlY3Rpb25SYW5nZShlKXtyZXR1cm4gZG4oZS5zdGFydCkmJmRuKGUuZW5kKX1fY2FsbFBvc3RGaXhlcnMoZSl7bGV0IHQ9ITE7ZG8gZm9yKGNvbnN0IG8gb2YgdGhpcy5fcG9zdEZpeGVycylpZih0PW8oZSksdClicmVhazt3aGlsZSh0KX19ZihVZyxycyk7Y2xhc3MgSGd7Y29uc3RydWN0b3IoKXt0aGlzLl9tYXJrZXJzPW5ldyBNYXB9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fbWFya2Vycy52YWx1ZXMoKX1oYXMoZSl7cmV0dXJuIHRoaXMuX21hcmtlcnMuaGFzKGUpfWdldChlKXtyZXR1cm4gdGhpcy5fbWFya2Vycy5nZXQoZSl8fG51bGx9X3NldChlLHQsbz0hMSl7Y29uc3Qgbj1lIGluc3RhbmNlb2YgS2c/ZS5uYW1lOmUsaT10aGlzLl9tYXJrZXJzLmdldChuKTtpZihpKXtjb25zdCBlPWkuZ2V0UmFuZ2UoKTtsZXQgcj0hMTtyZXR1cm4gZS5pc0VxdWFsKHQpfHwoaS5fYXR0YWNoTGl2ZVJhbmdlKFF1LmNyZWF0ZUZyb21SYW5nZSh0KSkscj0hMCksbyE9aS5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zJiYoaS5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1vLHI9ITApLHImJnRoaXMuZmlyZSgndXBkYXRlOicrbixpLGUsdCksaX1jb25zdCByPVF1LmNyZWF0ZUZyb21SYW5nZSh0KSxhPW5ldyBLZyhuLHIsbyk7cmV0dXJuIHRoaXMuX21hcmtlcnMuc2V0KG4sYSksdGhpcy5maXJlKCd1cGRhdGU6JytuLGEsbnVsbCx0KSxhfV9yZW1vdmUoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgS2c/ZS5uYW1lOmUsbz10aGlzLl9tYXJrZXJzLmdldCh0KTtyZXR1cm4hIW8mJih0aGlzLl9tYXJrZXJzLmRlbGV0ZSh0KSx0aGlzLmZpcmUoJ3VwZGF0ZTonK3QsbyxvLmdldFJhbmdlKCksbnVsbCksdGhpcy5fZGVzdHJveU1hcmtlcihvKSwhMCl9KmdldE1hcmtlcnNBdFBvc2l0aW9uKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMpdC5nZXRSYW5nZSgpLmNvbnRhaW5zUG9zaXRpb24oZSkmJih5aWVsZCB0KX0qZ2V0TWFya2Vyc0ludGVyc2VjdGluZ1JhbmdlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMpbnVsbCE9PXQuZ2V0UmFuZ2UoKS5nZXRJbnRlcnNlY3Rpb24oZSkmJih5aWVsZCB0KX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbWFya2Vycy52YWx1ZXMoKSl0aGlzLl9kZXN0cm95TWFya2VyKGUpO3RoaXMuX21hcmtlcnM9bnVsbCx0aGlzLnN0b3BMaXN0ZW5pbmcoKX0qZ2V0TWFya2Vyc0dyb3VwKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX21hcmtlcnMudmFsdWVzKCkpdC5uYW1lLnN0YXJ0c1dpdGgoZSsnOicpJiYoeWllbGQgdCl9X2Rlc3Ryb3lNYXJrZXIoZSl7ZS5zdG9wTGlzdGVuaW5nKCksZS5fZGV0YWNoTGl2ZVJhbmdlKCl9fWYoSGcscnMpO2NsYXNzIEtne2NvbnN0cnVjdG9yKGUsdCxvKXt0aGlzLm5hbWU9ZSx0aGlzLl9tYW5hZ2VkVXNpbmdPcGVyYXRpb25zPW8sdGhpcy5fbGl2ZVJhbmdlPXRoaXMuX2F0dGFjaExpdmVSYW5nZSh0KX1nZXQgbWFuYWdlZFVzaW5nT3BlcmF0aW9ucygpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IFlhKCdtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS4nKTtyZXR1cm4gdGhpcy5fbWFuYWdlZFVzaW5nT3BlcmF0aW9uc31nZXRTdGFydCgpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IFlhKCdtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS4nKTtyZXR1cm4gVXUuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMuX2xpdmVSYW5nZS5zdGFydCl9Z2V0RW5kKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgWWEoJ21hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLicpO3JldHVybiBVdS5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5fbGl2ZVJhbmdlLmVuZCl9Z2V0UmFuZ2UoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBZYSgnbWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuJyk7cmV0dXJuIEh1LmNyZWF0ZUZyb21SYW5nZSh0aGlzLl9saXZlUmFuZ2UpfV9hdHRhY2hMaXZlUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX2xpdmVSYW5nZSYmdGhpcy5fZGV0YWNoTGl2ZVJhbmdlKCksZS5kZWxlZ2F0ZSgnY2hhbmdlOnJhbmdlJykudG8odGhpcyksZS5kZWxlZ2F0ZSgnY2hhbmdlOmNvbnRlbnQnKS50byh0aGlzKSx0aGlzLl9saXZlUmFuZ2U9ZSxlfV9kZXRhY2hMaXZlUmFuZ2UoKXt0aGlzLl9saXZlUmFuZ2Uuc3RvcERlbGVnYXRpbmcoJ2NoYW5nZTpyYW5nZScsdGhpcyksdGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKCdjaGFuZ2U6Y29udGVudCcsdGhpcyksdGhpcy5fbGl2ZVJhbmdlLmRldGFjaCgpLHRoaXMuX2xpdmVSYW5nZT1udWxsfX1mKEtnLHJzKTtjbGFzcyBHZyBleHRlbmRzIFV1e2NvbnN0cnVjdG9yKGUsdCxvKXtpZihzdXBlcihlLHQpLCF0aGlzLnJvb3QuaXMoJ3Jvb3RFbGVtZW50JykpdGhyb3cgbmV3IFlhKCdtb2RlbC1saXZlcG9zaXRpb24tcm9vdC1ub3Qtcm9vdGVsZW1lbnQ6IExpdmVQb3NpdGlvblxcJ3Mgcm9vdCBoYXMgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgUm9vdEVsZW1lbnQuJyk7dGhpcy5zdGlja2luZXNzPW98fCdzdGlja3NUb05leHQnLGNuLmNhbGwodGhpcyl9ZGV0YWNoKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fWYoR2cscnMpO2NsYXNzICRne2NvbnN0cnVjdG9yKGUsdCxvKXt0aGlzLm1vZGVsPWUsdGhpcy53cml0ZXI9dCx0aGlzLnBvc2l0aW9uPW8sdGhpcy5jYW5NZXJnZVdpdGg9bmV3IFNldChbdGhpcy5wb3NpdGlvbi5wYXJlbnRdKSx0aGlzLnNjaGVtYT1lLnNjaGVtYSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119aGFuZGxlTm9kZXMoZSx0KXtlPUFycmF5LmZyb20oZSk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IG49ZVtvXTt0aGlzLl9oYW5kbGVOb2RlKG4se2lzRmlyc3Q6MD09PW8mJnQuaXNGaXJzdCxpc0xhc3Q6bz09PWUubGVuZ3RoLTEmJnQuaXNMYXN0fSl9dGhpcy5zY2hlbWEucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXModGhpcy5fZmlsdGVyQXR0cmlidXRlc09mLHRoaXMud3JpdGVyKSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119Z2V0U2VsZWN0aW9uUmFuZ2UoKXtyZXR1cm4gdGhpcy5ub2RlVG9TZWxlY3Q/SHUuY3JlYXRlT24odGhpcy5ub2RlVG9TZWxlY3QpOnRoaXMubW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZSh0aGlzLnBvc2l0aW9uKX1faGFuZGxlTm9kZShlLHQpe2lmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KGUpKXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZU9iamVjdChlLHQpO2NvbnN0IG89dGhpcy5fY2hlY2tBbmRTcGxpdFRvQWxsb3dlZFBvc2l0aW9uKGUsdCk7cmV0dXJuIG8/dm9pZCh0aGlzLl9pbnNlcnQoZSksdGhpcy5fbWVyZ2VTaWJsaW5nc09mKGUsdCkpOnZvaWQgdGhpcy5faGFuZGxlRGlzYWxsb3dlZE5vZGUoZSx0KX1faGFuZGxlT2JqZWN0KGUsdCl7dGhpcy5fY2hlY2tBbmRTcGxpdFRvQWxsb3dlZFBvc2l0aW9uKGUpP3RoaXMuX2luc2VydChlKTp0aGlzLl90cnlBdXRvcGFyYWdyYXBoaW5nKGUsdCl9X2hhbmRsZURpc2FsbG93ZWROb2RlKGUsdCl7ZS5pcygnZWxlbWVudCcpP3RoaXMuaGFuZGxlTm9kZXMoZS5nZXRDaGlsZHJlbigpLHQpOnRoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcoZSx0KX1faW5zZXJ0KGUpe2lmKCF0aGlzLnNjaGVtYS5jaGVja0NoaWxkKHRoaXMucG9zaXRpb24sZSkpcmV0dXJuIHZvaWQgU3UuZXJyb3IoJ2luc2VydGNvbnRlbnQtd3JvbmctcG9zaXRpb246IFRoZSBub2RlIGNhbm5vdCBiZSBpbnNlcnRlZCBvbiB0aGUgZ2l2ZW4gcG9zaXRpb24uJyx7bm9kZTplLHBvc2l0aW9uOnRoaXMucG9zaXRpb259KTtjb25zdCB0PUdnLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKTt0aGlzLndyaXRlci5pbnNlcnQoZSx0aGlzLnBvc2l0aW9uKSx0aGlzLnBvc2l0aW9uPVV1LmNyZWF0ZUZyb21Qb3NpdGlvbih0KSx0LmRldGFjaCgpLHRoaXMubm9kZVRvU2VsZWN0PXRoaXMuc2NoZW1hLmlzT2JqZWN0KGUpJiYhdGhpcy5zY2hlbWEuY2hlY2tDaGlsZCh0aGlzLnBvc2l0aW9uLCckdGV4dCcpP2U6bnVsbCx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaChlKX1fbWVyZ2VTaWJsaW5nc09mKGUsdCl7aWYoZSBpbnN0YW5jZW9mIGp1KXtjb25zdCBvPXRoaXMuX2Nhbk1lcmdlTGVmdChlLHQpLG49dGhpcy5fY2FuTWVyZ2VSaWdodChlLHQpLGk9R2cuY3JlYXRlQmVmb3JlKGUpLHI9R2cuY3JlYXRlQWZ0ZXIoZSk7aWYobyl7Y29uc3QgZT1HZy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7dGhpcy53cml0ZXIubWVyZ2UoaSksdGhpcy5wb3NpdGlvbj1VdS5jcmVhdGVGcm9tUG9zaXRpb24oZSksZS5kZXRhY2goKX1pZihuKXt0aGlzLnBvc2l0aW9uLmlzRXF1YWwocil8fFN1LmVycm9yKCdpbnNlcnRjb250ZW50LXdyb25nLXBvc2l0aW9uLW9uLW1lcmdlOiBUaGUgaW5zZXJ0aW9uIHBvc2l0aW9uIHNob3VsZCBlcXVhbCB0aGUgbWVyZ2UgcG9zaXRpb24nKSx0aGlzLnBvc2l0aW9uPVV1LmNyZWF0ZUF0KHIubm9kZUJlZm9yZSwnZW5kJyk7Y29uc3QgZT1uZXcgR2codGhpcy5wb3NpdGlvbi5yb290LHRoaXMucG9zaXRpb24ucGF0aCwnc3RpY2tzVG9QcmV2aW91cycpO3RoaXMud3JpdGVyLm1lcmdlKHIpLHRoaXMucG9zaXRpb249VXUuY3JlYXRlRnJvbVBvc2l0aW9uKGUpLGUuZGV0YWNoKCl9KG98fG4pJiZ0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaCh0aGlzLnBvc2l0aW9uLnBhcmVudCksaS5kZXRhY2goKSxyLmRldGFjaCgpfX1fY2FuTWVyZ2VMZWZ0KGUsdCl7Y29uc3Qgbz1lLnByZXZpb3VzU2libGluZztyZXR1cm4gdC5pc0ZpcnN0JiZvIGluc3RhbmNlb2YganUmJnRoaXMuY2FuTWVyZ2VXaXRoLmhhcyhvKSYmdGhpcy5tb2RlbC5zY2hlbWEuY2hlY2tNZXJnZShvLGUpfV9jYW5NZXJnZVJpZ2h0KGUsdCl7Y29uc3Qgbz1lLm5leHRTaWJsaW5nO3JldHVybiB0LmlzTGFzdCYmbyBpbnN0YW5jZW9mIGp1JiZ0aGlzLmNhbk1lcmdlV2l0aC5oYXMobykmJnRoaXMubW9kZWwuc2NoZW1hLmNoZWNrTWVyZ2UoZSxvKX1fdHJ5QXV0b3BhcmFncmFwaGluZyhlLHQpe2NvbnN0IG89dGhpcy53cml0ZXIuY3JlYXRlRWxlbWVudCgncGFyYWdyYXBoJyk7dGhpcy5fZ2V0QWxsb3dlZEluKG8sdGhpcy5wb3NpdGlvbi5wYXJlbnQpJiZ0aGlzLnNjaGVtYS5jaGVja0NoaWxkKG8sZSkmJihvLl9hcHBlbmRDaGlsZChlKSx0aGlzLl9oYW5kbGVOb2RlKG8sdCkpfV9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9nZXRBbGxvd2VkSW4oZSx0aGlzLnBvc2l0aW9uLnBhcmVudCk7aWYoIXQpcmV0dXJuITE7Zm9yKDt0IT10aGlzLnBvc2l0aW9uLnBhcmVudDspe2lmKHRoaXMuc2NoZW1hLmlzTGltaXQodGhpcy5wb3NpdGlvbi5wYXJlbnQpKXJldHVybiExO2lmKHRoaXMucG9zaXRpb24uaXNBdFN0YXJ0KXtjb25zdCBlPXRoaXMucG9zaXRpb24ucGFyZW50O3RoaXMucG9zaXRpb249VXUuY3JlYXRlQmVmb3JlKGUpLGUuaXNFbXB0eSYmdGhpcy53cml0ZXIucmVtb3ZlKGUpfWVsc2UgaWYodGhpcy5wb3NpdGlvbi5pc0F0RW5kKXRoaXMucG9zaXRpb249VXUuY3JlYXRlQWZ0ZXIodGhpcy5wb3NpdGlvbi5wYXJlbnQpO2Vsc2V7Y29uc3QgZT1VdS5jcmVhdGVBZnRlcih0aGlzLnBvc2l0aW9uLnBhcmVudCk7dGhpcy53cml0ZXIuc3BsaXQodGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbj1lLHRoaXMuY2FuTWVyZ2VXaXRoLmFkZCh0aGlzLnBvc2l0aW9uLm5vZGVBZnRlcil9fXJldHVybiEwfV9nZXRBbGxvd2VkSW4oZSx0KXtyZXR1cm4gdGhpcy5zY2hlbWEuY2hlY2tDaGlsZCh0LGUpP3Q6dC5wYXJlbnQ/dGhpcy5fZ2V0QWxsb3dlZEluKGUsdC5wYXJlbnQpOm51bGx9fWNvbnN0IEpnPScgLC4/ITo7XCItKCknO2NsYXNzIFFne2NvbnN0cnVjdG9yKCl7dGhpcy5tYXJrZXJzPW5ldyBIZyx0aGlzLmRvY3VtZW50PW5ldyBVZyh0aGlzKSx0aGlzLnNjaGVtYT1uZXcgc20sdGhpcy5fcGVuZGluZ0NoYW5nZXM9W10sdGhpcy5fY3VycmVudFdyaXRlcj1udWxsLFsnaW5zZXJ0Q29udGVudCcsJ2RlbGV0ZUNvbnRlbnQnLCdtb2RpZnlTZWxlY3Rpb24nLCdnZXRTZWxlY3RlZENvbnRlbnQnLCdhcHBseU9wZXJhdGlvbiddLmZvckVhY2goKGUpPT50aGlzLmRlY29yYXRlKGUpKSx0aGlzLm9uKCdhcHBseU9wZXJhdGlvbicsKGUsdCk9Pntjb25zdCBvPXRbMF07by5fdmFsaWRhdGUoKX0se3ByaW9yaXR5OidoaWdoZXN0J30pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKCckcm9vdCcse2lzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcignJGJsb2NrJyx7YWxsb3dJbjonJHJvb3QnLGlzQmxvY2s6ITB9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcignJHRleHQnLHthbGxvd0luOickYmxvY2snfSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoJyRjbGlwYm9hcmRIb2xkZXInLHthbGxvd0NvbnRlbnRPZjonJHJvb3QnLGlzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5leHRlbmQoJyR0ZXh0Jyx7YWxsb3dJbjonJGNsaXBib2FyZEhvbGRlcid9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcignJG1hcmtlcicse2FsbG93SW46Wyckcm9vdCcsJyRibG9jayddfSl9Y2hhbmdlKGUpe3JldHVybiAwPT09dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoPyh0aGlzLl9wZW5kaW5nQ2hhbmdlcy5wdXNoKHtiYXRjaDpuZXcgTWcsY2FsbGJhY2s6ZX0pLHRoaXMuX3J1blBlbmRpbmdDaGFuZ2VzKClbMF0pOmUodGhpcy5fY3VycmVudFdyaXRlcil9ZW5xdWV1ZUNoYW5nZShlLHQpeydzdHJpbmcnPT10eXBlb2YgZT9lPW5ldyBNZyhlKTonZnVuY3Rpb24nPT10eXBlb2YgZSYmKHQ9ZSxlPW5ldyBNZyksdGhpcy5fcGVuZGluZ0NoYW5nZXMucHVzaCh7YmF0Y2g6ZSxjYWxsYmFjazp0fSksMT09dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoJiZ0aGlzLl9ydW5QZW5kaW5nQ2hhbmdlcygpfWFwcGx5T3BlcmF0aW9uKGUpe2UuX2V4ZWN1dGUoKX10cmFuc2Zvcm1EZWx0YXMoZSx0LG89ITEpe3JldHVybiBJZy50cmFuc2Zvcm1EZWx0YVNldHMoZSx0LG8/dGhpcy5kb2N1bWVudDpudWxsKX1pbnNlcnRDb250ZW50KGUsdCl7bW4odGhpcyxlLHQpfWRlbGV0ZUNvbnRlbnQoZSx0KXtwbih0aGlzLGUsdCl9bW9kaWZ5U2VsZWN0aW9uKGUsdCl7d24odGhpcyxlLHQpfWdldFNlbGVjdGVkQ29udGVudChlKXtyZXR1cm4gUG4odGhpcyxlKX1oYXNDb250ZW50KGUpe2lmKGUgaW5zdGFuY2VvZiBqdSYmKGU9SHUuY3JlYXRlSW4oZSkpLGUuaXNDb2xsYXBzZWQpcmV0dXJuITE7Zm9yKGNvbnN0IHQgb2YgZS5nZXRJdGVtcygpKWlmKHQuaXMoJ3RleHRQcm94eScpfHx0aGlzLnNjaGVtYS5pc09iamVjdCh0KSlyZXR1cm4hMDtyZXR1cm4hMX1kZXN0cm95KCl7dGhpcy5kb2N1bWVudC5kZXN0cm95KCksdGhpcy5zdG9wTGlzdGVuaW5nKCl9X3J1blBlbmRpbmdDaGFuZ2VzKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uYmF0Y2g7dGhpcy5fY3VycmVudFdyaXRlcj1uZXcgemcodGhpcyx0KTtjb25zdCBvPXRoaXMuX3BlbmRpbmdDaGFuZ2VzWzBdLmNhbGxiYWNrKHRoaXMuX2N1cnJlbnRXcml0ZXIpO2UucHVzaChvKSx0aGlzLmZpcmUoJ19jaGFuZ2UnLHRoaXMuX2N1cnJlbnRXcml0ZXIpLHRoaXMuX3BlbmRpbmdDaGFuZ2VzLnNoaWZ0KCksdGhpcy5fY3VycmVudFdyaXRlcj1udWxsfXJldHVybiBlfX1mKFFnLGZjKTtjbGFzcyBZZ3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpc3RlbmVyPU9iamVjdC5jcmVhdGUoSmMpfWxpc3RlblRvKGUpe3RoaXMuX2xpc3RlbmVyLmxpc3RlblRvKGUsJ2tleWRvd24nLChlLHQpPT57dGhpcy5fbGlzdGVuZXIuZmlyZSgnX2tleWRvd246Jyt0ZSh0KSx0KX0pfXNldChlLHQsbz17fSl7Y29uc3Qgbj1vZShlKSxpPW8ucHJpb3JpdHk7dGhpcy5fbGlzdGVuZXIubGlzdGVuVG8odGhpcy5fbGlzdGVuZXIsJ19rZXlkb3duOicrbiwoZSxvKT0+e3QobywoKT0+e28ucHJldmVudERlZmF1bHQoKSxvLnN0b3BQcm9wYWdhdGlvbigpLGUuc3RvcCgpfSksZS5yZXR1cm49ITB9LHtwcmlvcml0eTppfSl9cHJlc3MoZSl7cmV0dXJuISF0aGlzLl9saXN0ZW5lci5maXJlKCdfa2V5ZG93bjonK3RlKGUpLGUpfWRlc3Ryb3koKXt0aGlzLl9saXN0ZW5lci5zdG9wTGlzdGVuaW5nKCl9fWNsYXNzIFhnIGV4dGVuZHMgWWd7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmVkaXRvcj1lfXNldChlLHQsbz17fSl7aWYoJ3N0cmluZyc9PXR5cGVvZiB0KXtjb25zdCBlPXQ7dD0odCxvKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUoZSksbygpfX1zdXBlci5zZXQoZSx0LG8pfX1jbGFzcyBaZ3tjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXRoaXMuY29uc3RydWN0b3IuYnVpbGQmJnRoaXMuY29uc3RydWN0b3IuYnVpbGQucGx1Z2luczt0aGlzLmNvbmZpZz1uZXcgSmEoZSx0aGlzLmNvbnN0cnVjdG9yLmJ1aWxkJiZ0aGlzLmNvbnN0cnVjdG9yLmJ1aWxkLmNvbmZpZyksdGhpcy5jb25maWcuZGVmaW5lKCdwbHVnaW5zJyx0KSx0aGlzLnBsdWdpbnM9bmV3IG9tKHRoaXMsdCksdGhpcy5jb21tYW5kcz1uZXcgbm0sdGhpcy5sb2NhbGU9bmV3IGltKHRoaXMuY29uZmlnLmdldCgnbGFuZ3VhZ2UnKSksdGhpcy50PXRoaXMubG9jYWxlLnQsdGhpcy5zZXQoJ2lzUmVhZE9ubHknLCExKSx0aGlzLm1vZGVsPW5ldyBRZyx0aGlzLmRhdGE9bmV3IGNtKHRoaXMubW9kZWwpLHRoaXMuZWRpdGluZz1uZXcgdG0odGhpcy5tb2RlbCksdGhpcy5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuYmluZCgnaXNSZWFkT25seScpLnRvKHRoaXMpLHRoaXMuY29udmVyc2lvbj1uZXcgdW0sdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKCdkb3duY2FzdCcsW3RoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIsdGhpcy5kYXRhLmRvd25jYXN0RGlzcGF0Y2hlcl0pLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcignZWRpdGluZ0Rvd25jYXN0JyxbdGhpcy5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlcl0pLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcignZGF0YURvd25jYXN0JyxbdGhpcy5kYXRhLmRvd25jYXN0RGlzcGF0Y2hlcl0pLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcigndXBjYXN0JyxbdGhpcy5kYXRhLnVwY2FzdERpc3BhdGNoZXJdKSx0aGlzLmtleXN0cm9rZXM9bmV3IFhnKHRoaXMpLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVkaXRpbmcudmlldy5kb2N1bWVudCl9aW5pdFBsdWdpbnMoKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUucmVkdWNlKChlLG8pPT5vW3RdP2UudGhlbihvW3RdLmJpbmQobykpOmUsUHJvbWlzZS5yZXNvbHZlKCkpfWNvbnN0IHQ9dGhpcyxvPXRoaXMuY29uZmlnO3JldHVybiBmdW5jdGlvbigpe2NvbnN0IGU9by5nZXQoJ3BsdWdpbnMnKXx8W10sbj1vLmdldCgncmVtb3ZlUGx1Z2lucycpfHxbXTtyZXR1cm4gdC5wbHVnaW5zLmxvYWQoZSxuKX0oKS50aGVuKCh0KT0+ZSh0LCdpbml0JykudGhlbigoKT0+ZSh0LCdhZnRlckluaXQnKSkpLnRoZW4oKCk9PnRoaXMuZmlyZSgncGx1Z2luc1JlYWR5JykpfWRlc3Ryb3koKXtyZXR1cm4gdGhpcy5maXJlKCdkZXN0cm95JyksdGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5jb21tYW5kcy5kZXN0cm95KCksdGhpcy5wbHVnaW5zLmRlc3Ryb3koKS50aGVuKCgpPT57dGhpcy5tb2RlbC5kZXN0cm95KCksdGhpcy5kYXRhLmRlc3Ryb3koKSx0aGlzLmVkaXRpbmcuZGVzdHJveSgpLHRoaXMua2V5c3Ryb2tlcy5kZXN0cm95KCl9KX1leGVjdXRlKC4uLmUpe3RoaXMuY29tbWFuZHMuZXhlY3V0ZSguLi5lKX1zdGF0aWMgY3JlYXRlKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCk9Pntjb25zdCBvPW5ldyB0aGlzKGUpO3Qoby5pbml0UGx1Z2lucygpLnRoZW4oKCk9PntvLmZpcmUoJ2RhdGFSZWFkeScpLG8uZmlyZSgncmVhZHknKX0pLnRoZW4oKCk9Pm8pKX0pfX1mKFpnLGZjKTtjb25zdCBlZj17c2V0RGF0YShlKXt0aGlzLmRhdGEuc2V0KGUpfSxnZXREYXRhKCl7cmV0dXJuIHRoaXMuZGF0YS5nZXQoKX19O2NvbnN0IHRmPXt1cGRhdGVFbGVtZW50KCl7U24odGhpcy5lbGVtZW50LHRoaXMuZGF0YS5nZXQoKSl9fTtjbGFzcyBvZntnZXRIdG1sKGUpe2NvbnN0IHQ9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCcnKSxvPXQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoZSksby5pbm5lckhUTUx9fWNsYXNzIG5me2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9tUGFyc2VyPW5ldyBET01QYXJzZXIsdGhpcy5fZG9tQ29udmVydGVyPW5ldyBHYyh7YmxvY2tGaWxsZXI6amN9KSx0aGlzLl9odG1sV3JpdGVyPW5ldyBvZn10b0RhdGEoZSl7Y29uc3QgdD10aGlzLl9kb21Db252ZXJ0ZXIudmlld1RvRG9tKGUsZG9jdW1lbnQpO3JldHVybiB0aGlzLl9odG1sV3JpdGVyLmdldEh0bWwodCl9dG9WaWV3KGUpe2NvbnN0IHQ9dGhpcy5fdG9Eb20oZSk7cmV0dXJuIHRoaXMuX2RvbUNvbnZlcnRlci5kb21Ub1ZpZXcodCl9X3RvRG9tKGUpe2NvbnN0IHQ9dGhpcy5fZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyhlLCd0ZXh0L2h0bWwnKSxvPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG49dC5ib2R5LmNoaWxkTm9kZXM7Zm9yKDswPG4ubGVuZ3RoOylvLmFwcGVuZENoaWxkKG5bMF0pO3JldHVybiBvfX1jbGFzcyByZntjb25zdHJ1Y3RvcihlKXt0aGlzLmVkaXRvcj1lLHRoaXMuX2NvbXBvbmVudHM9bmV3IE1hcH0qbmFtZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb21wb25lbnRzLnZhbHVlcygpKXlpZWxkIGUub3JpZ2luYWxOYW1lfWFkZChlLHQpe2lmKHRoaXMuaGFzKGUpKXRocm93IG5ldyBZYSgnY29tcG9uZW50ZmFjdG9yeS1pdGVtLWV4aXN0czogVGhlIGl0ZW0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGNvbXBvbmVudCBmYWN0b3J5Licse25hbWU6ZX0pO3RoaXMuX2NvbXBvbmVudHMuc2V0KFJuKGUpLHtjYWxsYmFjazp0LG9yaWdpbmFsTmFtZTplfSl9Y3JlYXRlKGUpe2lmKCF0aGlzLmhhcyhlKSl0aHJvdyBuZXcgWWEoJ2NvbXBvbmVudGZhY3RvcnktaXRlbS1taXNzaW5nOiBUaGUgcmVxdWlyZWQgY29tcG9uZW50IGlzIG5vdCByZWdpc3RlcmVkIGluIHRoZSBmYWN0b3J5Licse25hbWU6ZX0pO3JldHVybiB0aGlzLl9jb21wb25lbnRzLmdldChSbihlKSkuY2FsbGJhY2sodGhpcy5lZGl0b3IubG9jYWxlKX1oYXMoZSl7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuaGFzKFJuKGUpKX19Y2xhc3MgYWZ7Y29uc3RydWN0b3IoKXt0aGlzLnNldCgnaXNGb2N1c2VkJywhMSksdGhpcy5mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuX2VsZW1lbnRzPW5ldyBTZXQsdGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQ9bnVsbH1hZGQoZSl7aWYodGhpcy5fZWxlbWVudHMuaGFzKGUpKXRocm93IG5ldyBZYSgnZm9jdXNUcmFja2VyLWFkZC1lbGVtZW50LWFscmVhZHktZXhpc3QnKTt0aGlzLmxpc3RlblRvKGUsJ2ZvY3VzJywoKT0+dGhpcy5fZm9jdXMoZSkse3VzZUNhcHR1cmU6ITB9KSx0aGlzLmxpc3RlblRvKGUsJ2JsdXInLCgpPT50aGlzLl9ibHVyKCkse3VzZUNhcHR1cmU6ITB9KSx0aGlzLl9lbGVtZW50cy5hZGQoZSl9cmVtb3ZlKGUpe2U9PT10aGlzLmZvY3VzZWRFbGVtZW50JiZ0aGlzLl9ibHVyKGUpLHRoaXMuX2VsZW1lbnRzLmhhcyhlKSYmKHRoaXMuc3RvcExpc3RlbmluZyhlKSx0aGlzLl9lbGVtZW50cy5kZWxldGUoZSkpfV9mb2N1cyhlKXtjbGVhclRpbWVvdXQodGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQpLHRoaXMuZm9jdXNlZEVsZW1lbnQ9ZSx0aGlzLmlzRm9jdXNlZD0hMH1fYmx1cigpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCksdGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLmlzRm9jdXNlZD0hMX0sMCl9fWYoYWYsSmMpLGYoYWYsZmMpO2NsYXNzIHNme2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5lZGl0b3I9ZSx0aGlzLnZpZXc9dCx0aGlzLmNvbXBvbmVudEZhY3Rvcnk9bmV3IHJmKGUpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBhZix0aGlzLl90b29sYmFyQ29uZmlnPVZuKGUuY29uZmlnLmdldCgndG9vbGJhcicpKX1pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PXRoaXMudmlldzt0LnJlbmRlcigpLHQuc3RpY2t5UGFuZWwuYmluZCgnaXNBY3RpdmUnKS50byh0aGlzLmZvY3VzVHJhY2tlciwnaXNGb2N1c2VkJyksdC5zdGlja3lQYW5lbC5saW1pdGVyRWxlbWVudD10LmVsZW1lbnQsdGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCYmKHQuc3RpY2t5UGFuZWwudmlld3BvcnRUb3BPZmZzZXQ9dGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCk7Y29uc3Qgbz1lLmVkaXRpbmcudmlldy5kb2N1bWVudC5nZXRSb290KCk7dC5lZGl0YWJsZS5iaW5kKCdpc1JlYWRPbmx5JykudG8obyksdC5lZGl0YWJsZS5iaW5kKCdpc0ZvY3VzZWQnKS50byhlLmVkaXRpbmcudmlldy5kb2N1bWVudCksdC5lZGl0YWJsZS5uYW1lPW8ucm9vdE5hbWUsdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMudmlldy5lZGl0YWJsZUVsZW1lbnQpLHRoaXMudmlldy50b29sYmFyLmZpbGxGcm9tQ29uZmlnKHRoaXMuX3Rvb2xiYXJDb25maWcuaXRlbXMsdGhpcy5jb21wb25lbnRGYWN0b3J5KSxJbih7b3JpZ2luOmUuZWRpdGluZy52aWV3LG9yaWdpbkZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixvcmlnaW5LZXlzdHJva2VIYW5kbGVyOmUua2V5c3Ryb2tlcyx0b29sYmFyOnRoaXMudmlldy50b29sYmFyfSl9ZGVzdHJveSgpe3RoaXMudmlldy5kZXN0cm95KCl9fWNsYXNzIGxmIGV4dGVuZHMgQWN7Y29uc3RydWN0b3IoZSl7c3VwZXIoe2lkUHJvcGVydHk6J3ZpZXdVaWQnfSksdGhpcy5vbignYWRkJywoZSx0LG8pPT57dC5pc1JlbmRlcmVkfHx0LnJlbmRlcigpLHQuZWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodC5lbGVtZW50LHRoaXMuX3BhcmVudEVsZW1lbnQuY2hpbGRyZW5bb10pfSksdGhpcy5vbigncmVtb3ZlJywoZSx0KT0+e3QuZWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudCYmdC5lbGVtZW50LnJlbW92ZSgpfSksdGhpcy5sb2NhbGU9ZSx0aGlzLl9wYXJlbnRFbGVtZW50PW51bGx9ZGVzdHJveSgpe3RoaXMubWFwKChlKT0+ZS5kZXN0cm95KCkpfXNldFBhcmVudChlKXt0aGlzLl9wYXJlbnRFbGVtZW50PWV9ZGVsZWdhdGUoLi4uZSl7aWYoIWUubGVuZ3RofHwhRm4oZSkpdGhyb3cgbmV3IFlhKCd1aS12aWV3Y29sbGVjdGlvbi1kZWxlZ2F0ZS13cm9uZy1ldmVudHM6IEFsbCBldmVudCBuYW1lcyBtdXN0IGJlIHN0cmluZ3MuJyk7cmV0dXJue3RvOih0KT0+e2Zvcihjb25zdCBvIG9mIHRoaXMpZm9yKGNvbnN0IG4gb2YgZSlvLmRlbGVnYXRlKG4pLnRvKHQpO3RoaXMub24oJ2FkZCcsKG8sbik9Pntmb3IoY29uc3QgaSBvZiBlKW4uZGVsZWdhdGUoaSkudG8odCl9KSx0aGlzLm9uKCdyZW1vdmUnLChvLG4pPT57Zm9yKGNvbnN0IGkgb2YgZSluLnN0b3BEZWxlZ2F0aW5nKGksdCl9KX19fX1mKEFjLGZjKTt2YXIgZGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQWQoZSwhMCwhMCx0KX07Y2xhc3MgY2Z7Y29uc3RydWN0b3IoZSl7T2JqZWN0LmFzc2lnbih0aGlzLHFuKGpuKGUpKSksdGhpcy5faXNSZW5kZXJlZD0hMSx0aGlzLl9yZXZlcnREYXRhPW51bGx9cmVuZGVyKCl7Y29uc3QgZT10aGlzLl9yZW5kZXJOb2RlKHtpbnRvRnJhZ21lbnQ6ITB9KTtyZXR1cm4gdGhpcy5faXNSZW5kZXJlZD0hMCxlfWFwcGx5KGUpe3JldHVybiB0aGlzLl9yZXZlcnREYXRhPXRpKCksdGhpcy5fcmVuZGVyTm9kZSh7bm9kZTplLGlzQXBwbHlpbmc6ITAscmV2ZXJ0RGF0YTp0aGlzLl9yZXZlcnREYXRhfSksZX1yZXZlcnQoZSl7aWYoIXRoaXMuX3JldmVydERhdGEpdGhyb3cgbmV3IFlhKCd1aS10ZW1wbGF0ZS1yZXZlcnQtbm90LWFwcGxpZWQ6IEF0dGVtcHRpbmcgdG8gcmV2ZXJ0IGEgdGVtcGxhdGUgd2hpY2ggaGFzIG5vdCBiZWVuIGFwcGxpZWQgeWV0LicpO3RoaXMuX3JldmVydFRlbXBsYXRlRnJvbU5vZGUoZSx0aGlzLl9yZXZlcnREYXRhKX0qZ2V0Vmlld3MoKXtmdW5jdGlvbiplKHQpe2lmKHQuY2hpbGRyZW4pZm9yKGNvbnN0IG8gb2YgdC5jaGlsZHJlbilYbihvKT95aWVsZCBvOlpuKG8pJiYoeWllbGQqZShvKSl9eWllbGQqZSh0aGlzKX1zdGF0aWMgYmluZChlLHQpe3JldHVybnt0byhvLG4pe3JldHVybiBuZXcgbWYoe2V2ZW50TmFtZU9yRnVuY3Rpb246byxhdHRyaWJ1dGU6byxvYnNlcnZhYmxlOmUsZW1pdHRlcjp0LGNhbGxiYWNrOm59KX0saWYobyxuLGkpe3JldHVybiBuZXcgcGYoe29ic2VydmFibGU6ZSxlbWl0dGVyOnQsYXR0cmlidXRlOm8sdmFsdWVJZlRydWU6bixjYWxsYmFjazppfSl9fX1zdGF0aWMgZXh0ZW5kKGUsdCl7ZS5faXNSZW5kZXJlZCYmU3Uud2FybigndGVtcGxhdGUtZXh0ZW5kLXJlbmRlcjogQXR0ZW1wdGluZyB0byBleHRlbmQgYSB0ZW1wbGF0ZSB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLicpLFFuKGUscW4oam4odCkpKX1fcmVuZGVyTm9kZShlKXtsZXQgdDtpZih0PWUubm9kZT90aGlzLnRhZyYmdGhpcy50ZXh0OnRoaXMudGFnP3RoaXMudGV4dDohdGhpcy50ZXh0LHQpdGhyb3cgbmV3IFlhKCd1aS10ZW1wbGF0ZS13cm9uZy1zeW50YXg6IE5vZGUgZGVmaW5pdGlvbiBtdXN0IGhhdmUgZWl0aGVyIFwidGFnXCIgb3IgXCJ0ZXh0XCIgd2hlbiByZW5kZXJpbmcgYSBuZXcgTm9kZS4nKTtyZXR1cm4gdGhpcy50ZXh0P3RoaXMuX3JlbmRlclRleHQoZSk6dGhpcy5fcmVuZGVyRWxlbWVudChlKX1fcmVuZGVyRWxlbWVudChlKXtsZXQgdD1lLm5vZGU7cmV0dXJuIHR8fCh0PWUubm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5uc3x8J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnLHRoaXMudGFnKSksdGhpcy5fcmVuZGVyQXR0cmlidXRlcyhlKSx0aGlzLl9yZW5kZXJFbGVtZW50Q2hpbGRyZW4oZSksdGhpcy5fc2V0VXBMaXN0ZW5lcnMoZSksdH1fcmVuZGVyVGV4dChlKXtsZXQgdD1lLm5vZGU7cmV0dXJuIHQ/ZS5yZXZlcnREYXRhLnRleHQ9dC50ZXh0Q29udGVudDp0PWUubm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyksTm4odGhpcy50ZXh0KT90aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6dGhpcy50ZXh0LHVwZGF0ZXI6Qm4odCksZGF0YTplfSk6dC50ZXh0Q29udGVudD10aGlzLnRleHQuam9pbignJyksdH1fcmVuZGVyQXR0cmlidXRlcyhlKXtsZXQgdCxvLG4saTtpZih0aGlzLmF0dHJpYnV0ZXMpe2NvbnN0IHI9ZS5ub2RlLGE9ZS5yZXZlcnREYXRhO2Zvcih0IGluIHRoaXMuYXR0cmlidXRlcylpZihuPXIuZ2V0QXR0cmlidXRlKHQpLG89dGhpcy5hdHRyaWJ1dGVzW3RdLGEmJihhLmF0dHJpYnV0ZXNbdF09biksaT11cyhvWzBdKSYmb1swXS5ucz9vWzBdLm5zOm51bGwsTm4obykpe2NvbnN0IHM9aT9vWzBdLnZhbHVlOm87YSYmb2kodCkmJnMudW5zaGlmdChuKSx0aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6cyx1cGRhdGVyOkxuKHIsdCxpKSxkYXRhOmV9KX1lbHNlJ3N0eWxlJz09dCYmJ3N0cmluZychPXR5cGVvZiBvWzBdP3RoaXMuX3JlbmRlclN0eWxlQXR0cmlidXRlKG9bMF0sZSk6KGEmJm4mJm9pKHQpJiZvLnVuc2hpZnQobiksbz1vLm1hcCgoZSk9PmU/ZS52YWx1ZXx8ZTplKS5yZWR1Y2UoKGUsdCk9PmUuY29uY2F0KHQpLFtdKS5yZWR1Y2UoJG4sJycpLFluKG8pfHxyLnNldEF0dHJpYnV0ZU5TKGksdCxvKSl9fV9yZW5kZXJTdHlsZUF0dHJpYnV0ZShlLHQpe2NvbnN0IG89dC5ub2RlO2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXTtObihpKT90aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6W2ldLHVwZGF0ZXI6em4obyxuKSxkYXRhOnR9KTpvLnN0eWxlW25dPWl9fV9yZW5kZXJFbGVtZW50Q2hpbGRyZW4oZSl7Y29uc3QgdD1lLm5vZGUsbz1lLmludG9GcmFnbWVudD9kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6dCxuPWUuaXNBcHBseWluZztsZXQgaT0wO2Zvcihjb25zdCByIG9mIHRoaXMuY2hpbGRyZW4paWYoZWkocikpe2lmKCFuKXtyLnNldFBhcmVudCh0KTtmb3IoY29uc3QgZSBvZiByKW8uYXBwZW5kQ2hpbGQoZS5lbGVtZW50KX19ZWxzZSBpZihYbihyKSlufHwoIXIuaXNSZW5kZXJlZCYmci5yZW5kZXIoKSxvLmFwcGVuZENoaWxkKHIuZWxlbWVudCkpO2Vsc2UgaWYoTWUocikpby5hcHBlbmRDaGlsZChyKTtlbHNlIGlmKG4pe2NvbnN0IHQ9ZS5yZXZlcnREYXRhLG49dGkoKTt0LmNoaWxkcmVuLnB1c2gobiksci5fcmVuZGVyTm9kZSh7bm9kZTpvLmNoaWxkTm9kZXNbaSsrXSxpc0FwcGx5aW5nOiEwLHJldmVydERhdGE6bn0pfWVsc2Ugby5hcHBlbmRDaGlsZChyLnJlbmRlcigpKTtlLmludG9GcmFnbWVudCYmdC5hcHBlbmRDaGlsZChvKX1fc2V0VXBMaXN0ZW5lcnMoZSl7aWYodGhpcy5ldmVudExpc3RlbmVycylmb3IoY29uc3QgdCBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKXtjb25zdCBvPXRoaXMuZXZlbnRMaXN0ZW5lcnNbdF0ubWFwKChvKT0+e2NvbnN0W24saV09dC5zcGxpdCgnQCcpO3JldHVybiBvLmFjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihuLGksZSl9KTtlLnJldmVydERhdGEmJmUucmV2ZXJ0RGF0YS5iaW5kaW5ncy5wdXNoKG8pfX1fYmluZFRvT2JzZXJ2YWJsZSh7c2NoZW1hOmUsdXBkYXRlcjp0LGRhdGE6b30pe2NvbnN0IG49by5yZXZlcnREYXRhO0RuKGUsdCxvKTtjb25zdCBpPWUuZmlsdGVyKChlKT0+IVluKGUpKS5maWx0ZXIoKGUpPT5lLm9ic2VydmFibGUpLm1hcCgobik9Pm4uYWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcihlLHQsbykpO24mJm4uYmluZGluZ3MucHVzaChpKX1fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZShlLHQpe2Zvcihjb25zdCBvIG9mIHQuYmluZGluZ3MpZm9yKGNvbnN0IGUgb2YgbyllKCk7aWYodC50ZXh0KXJldHVybiB2b2lkKGUudGV4dENvbnRlbnQ9dC50ZXh0KTtmb3IoY29uc3QgbyBpbiB0LmF0dHJpYnV0ZXMpe2NvbnN0IG49dC5hdHRyaWJ1dGVzW29dO251bGw9PT1uP2UucmVtb3ZlQXR0cmlidXRlKG8pOmUuc2V0QXR0cmlidXRlKG8sbil9Zm9yKGxldCBvPTA7bzx0LmNoaWxkcmVuLmxlbmd0aDsrK28pdGhpcy5fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZShlLmNoaWxkTm9kZXNbb10sdC5jaGlsZHJlbltvXSl9fWYoY2YscnMpO2NsYXNzIHVme2NvbnN0cnVjdG9yKGUpe09iamVjdC5hc3NpZ24odGhpcyxlKX1nZXRWYWx1ZShlKXtjb25zdCB0PXRoaXMub2JzZXJ2YWJsZVt0aGlzLmF0dHJpYnV0ZV07cmV0dXJuIHRoaXMuY2FsbGJhY2s/dGhpcy5jYWxsYmFjayh0LGUpOnR9YWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcihlLHQsbyl7Y29uc3Qgbj0oKT0+RG4oZSx0LG8pO3JldHVybiB0aGlzLmVtaXR0ZXIubGlzdGVuVG8odGhpcy5vYnNlcnZhYmxlLCdjaGFuZ2U6Jyt0aGlzLmF0dHJpYnV0ZSxuKSwoKT0+e3RoaXMuZW1pdHRlci5zdG9wTGlzdGVuaW5nKHRoaXMub2JzZXJ2YWJsZSwnY2hhbmdlOicrdGhpcy5hdHRyaWJ1dGUsbil9fX1jbGFzcyBtZiBleHRlbmRzIHVme2FjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihlLHQsbyl7Y29uc3Qgbj0oZSxvKT0+eyghdHx8by50YXJnZXQubWF0Y2hlcyh0KSkmJignZnVuY3Rpb24nPT10eXBlb2YgdGhpcy5ldmVudE5hbWVPckZ1bmN0aW9uP3RoaXMuZXZlbnROYW1lT3JGdW5jdGlvbihvKTp0aGlzLm9ic2VydmFibGUuZmlyZSh0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24sbykpfTtyZXR1cm4gdGhpcy5lbWl0dGVyLmxpc3RlblRvKG8ubm9kZSxlLG4pLCgpPT57dGhpcy5lbWl0dGVyLnN0b3BMaXN0ZW5pbmcoby5ub2RlLGUsbil9fX1jbGFzcyBwZiBleHRlbmRzIHVme2dldFZhbHVlKGUpe2NvbnN0IHQ9c3VwZXIuZ2V0VmFsdWUoZSk7cmV0dXJuIVluKHQpJiYodGhpcy52YWx1ZUlmVHJ1ZXx8ITApfX12YXIgZ2Y9bygxMSksZmY9by5uKGdmKTtjbGFzcyBoZntjb25zdHJ1Y3RvcihlKXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmlzUmVuZGVyZWQ9ITEsdGhpcy5sb2NhbGU9ZSx0aGlzLnQ9ZSYmZS50LHRoaXMuX3ZpZXdDb2xsZWN0aW9ucz1uZXcgQWMsdGhpcy5fdW5ib3VuZENoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX3ZpZXdDb2xsZWN0aW9ucy5vbignYWRkJywodCxvKT0+e28ubG9jYWxlPWV9KSx0aGlzLmRlY29yYXRlKCdyZW5kZXInKX1nZXQgYmluZFRlbXBsYXRlKCl7cmV0dXJuIHRoaXMuX2JpbmRUZW1wbGF0ZT90aGlzLl9iaW5kVGVtcGxhdGU6dGhpcy5fYmluZFRlbXBsYXRlPWNmLmJpbmQodGhpcyx0aGlzKX1jcmVhdGVDb2xsZWN0aW9uKCl7Y29uc3QgZT1uZXcgbGY7cmV0dXJuIHRoaXMuX3ZpZXdDb2xsZWN0aW9ucy5hZGQoZSksZX1yZWdpc3RlckNoaWxkKGUpe1AoZSl8fChlPVtlXSk7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl91bmJvdW5kQ2hpbGRyZW4uYWRkKHQpfWRlcmVnaXN0ZXJDaGlsZChlKXtQKGUpfHwoZT1bZV0pO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fdW5ib3VuZENoaWxkcmVuLnJlbW92ZSh0KX1zZXRUZW1wbGF0ZShlKXt0aGlzLnRlbXBsYXRlPW5ldyBjZihlKX1leHRlbmRUZW1wbGF0ZShlKXtjZi5leHRlbmQodGhpcy50ZW1wbGF0ZSxlKX1yZW5kZXIoKXtpZih0aGlzLmlzUmVuZGVyZWQpdGhyb3cgbmV3IFlhKCd1aS12aWV3LXJlbmRlci1hbHJlYWR5LXJlbmRlcmVkOiBUaGlzIFZpZXcgaGFzIGFscmVhZHkgYmVlbiByZW5kZXJlZC4nKTt0aGlzLnRlbXBsYXRlJiYodGhpcy5lbGVtZW50PXRoaXMudGVtcGxhdGUucmVuZGVyKCksdGhpcy5yZWdpc3RlckNoaWxkKHRoaXMudGVtcGxhdGUuZ2V0Vmlld3MoKSkpLHRoaXMuaXNSZW5kZXJlZD0hMH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm1hcCgoZSk9PmUuZGVzdHJveSgpKX19ZihoZixKYyksZihoZixmYyk7dmFyIGJmPW8oMTQpLGtmPW8ubihiZik7Y2xhc3MgX2YgZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmJvZHk9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5fcmVuZGVyQm9keUNvbGxlY3Rpb24oKX1kZXN0cm95KCl7cmV0dXJuIHRoaXMuX2JvZHlDb2xsZWN0aW9uQ29udGFpbmVyLnJlbW92ZSgpLHN1cGVyLmRlc3Ryb3koKX1fcmVuZGVyQm9keUNvbGxlY3Rpb24oKXtjb25zdCBlPXRoaXMuX2JvZHlDb2xsZWN0aW9uQ29udGFpbmVyPW5ldyBjZih7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1yZXNldF9hbGwnLCdjay1ib2R5JywnY2stcm91bmRlZC1jb3JuZXJzJ119LGNoaWxkcmVuOnRoaXMuYm9keX0pLnJlbmRlcigpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSl9fXZhciB3Zj1vKDE2KSx2Zj1vLm4od2YpO2NsYXNzIHlmIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zZXQoJ3RleHQnKSx0aGlzLnNldCgnZm9yJyk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2xhYmVsJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stbGFiZWwnXSxmb3I6dC50bygnZm9yJyl9LGNoaWxkcmVuOlt7dGV4dDp0LnRvKCd0ZXh0Jyl9XX0pfX1jbGFzcyB4ZiBleHRlbmRzIF9me2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IHQ9aSgpO3RoaXMudG9wPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMubWFpbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLl92b2ljZUxhYmVsVmlldz10aGlzLl9jcmVhdGVWb2ljZUxhYmVsKHQpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stcmVzZXQnLCdjay1lZGl0b3InLCdjay1yb3VuZGVkLWNvcm5lcnMnXSxyb2xlOidhcHBsaWNhdGlvbicsZGlyOidsdHInLGxhbmc6ZS5sYW5ndWFnZSxcImFyaWEtbGFiZWxsZWRieVwiOmBjay1lZGl0b3JfX2FyaWEtbGFiZWxfJHt0fWB9LGNoaWxkcmVuOlt0aGlzLl92b2ljZUxhYmVsVmlldyx7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1lZGl0b3JfX3RvcCcsJ2NrLXJlc2V0X2FsbCddLHJvbGU6J3ByZXNlbnRhdGlvbid9LGNoaWxkcmVuOnRoaXMudG9wfSx7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1lZGl0b3JfX21haW4nXSxyb2xlOidwcmVzZW50YXRpb24nfSxjaGlsZHJlbjp0aGlzLm1haW59XX0pfV9jcmVhdGVWb2ljZUxhYmVsKGUpe2NvbnN0IG89dGhpcy50LHQ9bmV3IHlmO3JldHVybiB0LnRleHQ9bygnYWUnKSx0LmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntpZDpgY2stZWRpdG9yX19hcmlhLWxhYmVsXyR7ZX1gLGNsYXNzOidjay12b2ljZS1sYWJlbCd9fSksdH19Y2xhc3MgQ2YgZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpO2NvbnN0IG89dGhpcy5iaW5kVGVtcGxhdGU7dCYmKHRoaXMuZWxlbWVudD10aGlzLmVkaXRhYmxlRWxlbWVudD10KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWNvbnRlbnQnLCdjay1lZGl0b3JfX2VkaXRhYmxlJywnY2stcm91bmRlZC1jb3JuZXJzJyxvLnRvKCdpc0ZvY3VzZWQnLChlKT0+ZT8nY2stZm9jdXNlZCc6J2NrLWJsdXJyZWQnKV0sY29udGVudGVkaXRhYmxlOm8udG8oJ2lzUmVhZE9ubHknLChlKT0+IWUpfX0pLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSksdGhpcy5zZXQoJ2lzRm9jdXNlZCcsITEpLHRoaXMuZXh0ZXJuYWxFbGVtZW50PXR9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5leHRlcm5hbEVsZW1lbnQ/dGhpcy50ZW1wbGF0ZS5hcHBseSh0aGlzLmVsZW1lbnQ9dGhpcy5leHRlcm5hbEVsZW1lbnQpOnRoaXMuZWRpdGFibGVFbGVtZW50PXRoaXMuZWxlbWVudH1kZXN0cm95KCl7dGhpcy5leHRlcm5hbEVsZW1lbnQmJnRoaXMudGVtcGxhdGUucmV2ZXJ0KHRoaXMuZXh0ZXJuYWxFbGVtZW50KSxzdXBlci5kZXN0cm95KCl9fWNsYXNzIEFmIGV4dGVuZHMgQ2Z7Y29uc3RydWN0b3IoZSxvKXtzdXBlcihlLG8pO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGUsaT10aGlzLnQ7dGhpcy5zZXQoJ25hbWUnLG51bGwpO3RoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e3JvbGU6J3RleHRib3gnLFwiYXJpYS1sYWJlbFwiOm4udG8oJ25hbWUnLChlKT0+aSgnYWYnLFtlXSkpLGNsYXNzOidjay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZSd9fSl9fXZhciBUZj1vKDE4KSxQZj1vLm4oVGYpO2NvbnN0IEVmPW5pKCdweCcpO2NsYXNzIFNmIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldCgnaXNBY3RpdmUnLCExKSx0aGlzLnNldCgnaXNTdGlja3knLCExKSx0aGlzLnNldCgnbGltaXRlckVsZW1lbnQnLG51bGwpLHRoaXMuc2V0KCdsaW1pdGVyQm90dG9tT2Zmc2V0Jyw1MCksdGhpcy5zZXQoJ3ZpZXdwb3J0VG9wT2Zmc2V0JywwKSx0aGlzLnNldCgnX21hcmdpbkxlZnQnLG51bGwpLHRoaXMuc2V0KCdfaXNTdGlja3lUb1RoZUxpbWl0ZXInLCExKSx0aGlzLnNldCgnX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0JywhMSksdGhpcy5jb250ZW50PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX2NvbnRlbnRQYW5lbFBsYWNlaG9sZGVyPW5ldyBjZih7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1zdGlja3ktcGFuZWxfX3BsYWNlaG9sZGVyJ10sc3R5bGU6e2Rpc3BsYXk6dC50bygnaXNTdGlja3knLChlKT0+ZT8nYmxvY2snOidub25lJyksaGVpZ2h0OnQudG8oJ2lzU3RpY2t5JywoZSk9PmU/RWYodGhpcy5fcGFuZWxSZWN0LmhlaWdodCk6bnVsbCl9fX0pLnJlbmRlcigpLHRoaXMuX2NvbnRlbnRQYW5lbD1uZXcgY2Yoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stc3RpY2t5LXBhbmVsX19jb250ZW50Jyx0LmlmKCdpc1N0aWNreScsJ2NrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3knKSx0LmlmKCdfaXNTdGlja3lUb1RoZUxpbWl0ZXInLCdjay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5X2JvdHRvbS1saW1pdCcpXSxzdHlsZTp7d2lkdGg6dC50bygnaXNTdGlja3knLChlKT0+ZT9FZih0aGlzLl9jb250ZW50UGFuZWxQbGFjZWhvbGRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk6bnVsbCksdG9wOnQudG8oJ19oYXNWaWV3cG9ydFRvcE9mZnNldCcsKGUpPT5lP0VmKHRoaXMudmlld3BvcnRUb3BPZmZzZXQpOm51bGwpLGJvdHRvbTp0LnRvKCdfaXNTdGlja3lUb1RoZUxpbWl0ZXInLChlKT0+ZT9FZih0aGlzLmxpbWl0ZXJCb3R0b21PZmZzZXQpOm51bGwpLG1hcmdpbkxlZnQ6dC50bygnX21hcmdpbkxlZnQnKX19LGNoaWxkcmVuOnRoaXMuY29udGVudH0pLnJlbmRlcigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stc3RpY2t5LXBhbmVsJ119LGNoaWxkcmVuOlt0aGlzLl9jb250ZW50UGFuZWxQbGFjZWhvbGRlcix0aGlzLl9jb250ZW50UGFuZWxdfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCksdGhpcy5saXN0ZW5UbyhLYy53aW5kb3csJ3Njcm9sbCcsKCk9Pnt0aGlzLl9jaGVja0lmU2hvdWxkQmVTdGlja3koKX0pLHRoaXMubGlzdGVuVG8odGhpcywnY2hhbmdlOmlzQWN0aXZlJywoKT0+e3RoaXMuX2NoZWNrSWZTaG91bGRCZVN0aWNreSgpfSl9X2NoZWNrSWZTaG91bGRCZVN0aWNreSgpe2NvbnN0IGU9dGhpcy5fcGFuZWxSZWN0PXRoaXMuX2NvbnRlbnRQYW5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsZXQgdDt0aGlzLmxpbWl0ZXJFbGVtZW50Pyh0PXRoaXMuX2xpbWl0ZXJSZWN0PXRoaXMubGltaXRlckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5pc1N0aWNreT10aGlzLmlzQWN0aXZlJiZ0LnRvcDx0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0JiZ0aGlzLl9wYW5lbFJlY3QuaGVpZ2h0K3RoaXMubGltaXRlckJvdHRvbU9mZnNldDx0LmhlaWdodCk6dGhpcy5pc1N0aWNreT0hMSx0aGlzLmlzU3RpY2t5Pyh0aGlzLl9pc1N0aWNreVRvVGhlTGltaXRlcj10LmJvdHRvbTxlLmhlaWdodCt0aGlzLmxpbWl0ZXJCb3R0b21PZmZzZXQrdGhpcy52aWV3cG9ydFRvcE9mZnNldCx0aGlzLl9oYXNWaWV3cG9ydFRvcE9mZnNldD0hdGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXImJiEhdGhpcy52aWV3cG9ydFRvcE9mZnNldCx0aGlzLl9tYXJnaW5MZWZ0PXRoaXMuX2lzU3RpY2t5VG9UaGVMaW1pdGVyP251bGw6RWYoLUtjLndpbmRvdy5zY3JvbGxYKSk6KHRoaXMuX2lzU3RpY2t5VG9UaGVMaW1pdGVyPSExLHRoaXMuX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0PSExLHRoaXMuX21hcmdpbkxlZnQ9bnVsbCl9fWNsYXNzIE9me2NvbnN0cnVjdG9yKGUpe2lmKE9iamVjdC5hc3NpZ24odGhpcyxlKSxlLmFjdGlvbnMmJmUua2V5c3Ryb2tlSGFuZGxlcilmb3IoY29uc3QgdCBpbiBlLmFjdGlvbnMpe2xldCBvPWUuYWN0aW9uc1t0XTsnc3RyaW5nJz09dHlwZW9mIG8mJihvPVtvXSk7Zm9yKGNvbnN0IG4gb2YgbyllLmtleXN0cm9rZUhhbmRsZXIuc2V0KG4sKGUsbyk9Pnt0aGlzW3RdKCksbygpfSl9fWdldCBmaXJzdCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZXMuZmluZChpaSl8fG51bGx9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5mb2N1c2FibGVzLmZpbHRlcihpaSkuc2xpY2UoLTEpWzBdfHxudWxsfWdldCBuZXh0KCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oMSl9Z2V0IHByZXZpb3VzKCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oLTEpfWdldCBjdXJyZW50KCl7bGV0IGU9bnVsbDtyZXR1cm4gbnVsbD09PXRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50P251bGw6KHRoaXMuZm9jdXNhYmxlcy5maW5kKCh0LG8pPT57Y29uc3Qgbj10LmVsZW1lbnQ9PT10aGlzLmZvY3VzVHJhY2tlci5mb2N1c2VkRWxlbWVudDtyZXR1cm4gbiYmKGU9byksbn0pLGUpfWZvY3VzRmlyc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmZpcnN0KX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmxhc3QpfWZvY3VzTmV4dCgpe3RoaXMuX2ZvY3VzKHRoaXMubmV4dCl9Zm9jdXNQcmV2aW91cygpe3RoaXMuX2ZvY3VzKHRoaXMucHJldmlvdXMpfV9mb2N1cyhlKXtlJiZlLmZvY3VzKCl9X2dldEZvY3VzYWJsZUl0ZW0oZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQsbz10aGlzLmZvY3VzYWJsZXMubGVuZ3RoO2lmKCFvKXJldHVybiBudWxsO2lmKG51bGw9PT10KXJldHVybiB0aGlzWzE9PT1lPydmaXJzdCc6J2xhc3QnXTtsZXQgbj0odCtvK2UpJW87ZG97Y29uc3QgdD10aGlzLmZvY3VzYWJsZXMuZ2V0KG4pO2lmKGlpKHQpKXJldHVybiB0O249KG4rbytlKSVvfXdoaWxlKG4hPT10KTtyZXR1cm4gbnVsbH19Y2xhc3MgUmYgZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J3NwYW4nLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay10b29sYmFyX19zZXBhcmF0b3InXX19KX19dmFyIElmPW8oMjApLFZmPW8ubihJZik7Y2xhc3MgRmYgZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuaXRlbXM9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IGFmLHRoaXMua2V5c3Ryb2tlcz1uZXcgWWcsdGhpcy5zZXQoJ2lzVmVydGljYWwnLCExKSx0aGlzLnNldCgnY2xhc3NOYW1lJyksdGhpcy5fZm9jdXNDeWNsZXI9bmV3IE9mKHtmb2N1c2FibGVzOnRoaXMuaXRlbXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6WydhcnJvd2xlZnQnLCdhcnJvd3VwJ10sZm9jdXNOZXh0OlsnYXJyb3dyaWdodCcsJ2Fycm93ZG93biddfX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stdG9vbGJhcicsdC5pZignaXNWZXJ0aWNhbCcsJ2NrLXRvb2xiYXJfdmVydGljYWwnKSx0LnRvKCdjbGFzc05hbWUnKV19LGNoaWxkcmVuOnRoaXMuaXRlbXMsb246e21vdXNlZG93bjpyaSh0aGlzKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtmb3IoY29uc3QgZSBvZiB0aGlzLml0ZW1zKXRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpO3RoaXMuaXRlbXMub24oJ2FkZCcsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMuaXRlbXMub24oJ3JlbW92ZScsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfWZpbGxGcm9tQ29uZmlnKGUsdCl7ZS5tYXAoKGUpPT57J3wnPT1lP3RoaXMuaXRlbXMuYWRkKG5ldyBSZik6dC5oYXMoZSk/dGhpcy5pdGVtcy5hZGQodC5jcmVhdGUoZSkpOlN1Lndhcm4oJ3Rvb2xiYXJ2aWV3LWl0ZW0tdW5hdmFpbGFibGU6IFRoZSByZXF1ZXN0ZWQgdG9vbGJhciBpdGVtIGlzIHVuYXZhaWxhYmxlLicse25hbWU6ZX0pfSl9fXZhciBOZj1vKDIyKSxNZj1vLm4oTmYpO2NsYXNzIERmIGV4dGVuZHMgeGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zdGlja3lQYW5lbD1uZXcgU2YoZSksdGhpcy50b29sYmFyPW5ldyBGZihlKSx0aGlzLmVkaXRhYmxlPW5ldyBBZihlKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLnN0aWNreVBhbmVsLmNvbnRlbnQuYWRkKHRoaXMudG9vbGJhciksdGhpcy50b3AuYWRkKHRoaXMuc3RpY2t5UGFuZWwpLHRoaXMubWFpbi5hZGQodGhpcy5lZGl0YWJsZSl9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmVkaXRhYmxlLmVsZW1lbnR9fWNsYXNzIEJme2NvbnN0cnVjdG9yKCl7dGhpcy5fcmVwbGFjZWRFbGVtZW50cz1bXX1yZXBsYWNlKGUsdCl7dGhpcy5fcmVwbGFjZWRFbGVtZW50cy5wdXNoKHtlbGVtZW50OmUsbmV3RWxlbWVudDp0fSksZS5zdHlsZS5kaXNwbGF5PSdub25lJyx0JiZlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZS5uZXh0U2libGluZyl9cmVzdG9yZSgpe3RoaXMuX3JlcGxhY2VkRWxlbWVudHMuZm9yRWFjaCgoe2VsZW1lbnQ6ZSxuZXdFbGVtZW50OnR9KT0+e2Uuc3R5bGUuZGlzcGxheT0nJyx0JiZ0LnJlbW92ZSgpfSksdGhpcy5fcmVwbGFjZWRFbGVtZW50cz1bXX19Y2xhc3MgTGYgZXh0ZW5kcyBaZ3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMuX2VsZW1lbnRSZXBsYWNlcj1uZXcgQmYsdGhpcy5lbGVtZW50PWUsdGhpcy5kYXRhLnByb2Nlc3Nvcj1uZXcgbmYsdGhpcy5tb2RlbC5kb2N1bWVudC5jcmVhdGVSb290KCksdGhpcy51aT1uZXcgc2YodGhpcyxuZXcgRGYodGhpcy5sb2NhbGUpKSxPbih0aGlzKX1kZXN0cm95KCl7cmV0dXJuIHRoaXMudXBkYXRlRWxlbWVudCgpLHRoaXMuX2VsZW1lbnRSZXBsYWNlci5yZXN0b3JlKCksdGhpcy51aS5kZXN0cm95KCksc3VwZXIuZGVzdHJveSgpfXN0YXRpYyBjcmVhdGUoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKG8pPT57Y29uc3Qgbj1uZXcgdGhpcyhlLHQpO28obi5pbml0UGx1Z2lucygpLnRoZW4oKCk9Pm4udWkuaW5pdCgpKS50aGVuKCgpPT57bi5fZWxlbWVudFJlcGxhY2VyLnJlcGxhY2UoZSxuLnVpLnZpZXcuZWxlbWVudCksbi5maXJlKCd1aVJlYWR5Jyl9KS50aGVuKCgpPT5uLmVkaXRpbmcudmlldy5hdHRhY2hEb21Sb290KG4udWkudmlldy5lZGl0YWJsZUVsZW1lbnQpKS50aGVuKCgpPT5uLmRhdGEuaW5pdChhaShlKSkpLnRoZW4oKCk9PntuLmZpcmUoJ2RhdGFSZWFkeScpLG4uZmlyZSgncmVhZHknKX0pLnRoZW4oKCk9Pm4pKX0pfX1mKExmLGVmKSxmKExmLHRmKTtjbGFzcyB6Zntjb25zdHJ1Y3RvcihlKXt0aGlzLmVkaXRvcj1lfWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19Zih6ZixmYyk7Y2xhc3MgamZ7Y29uc3RydWN0b3IoZSl7dGhpcy5maWxlcz1zaShlKSx0aGlzLl9uYXRpdmU9ZX1nZXQgdHlwZXMoKXtyZXR1cm4gdGhpcy5fbmF0aXZlLnR5cGVzfWdldERhdGEoZSl7cmV0dXJuIHRoaXMuX25hdGl2ZS5nZXREYXRhKGUpfXNldERhdGEoZSx0KXt0aGlzLl9uYXRpdmUuc2V0RGF0YShlLHQpfX1jbGFzcyBxZiBleHRlbmRzIF91e2NvbnN0cnVjdG9yKGUpe2Z1bmN0aW9uIHQoZSx0KXt0LnByZXZlbnREZWZhdWx0KCk7Y29uc3Qgbj10LmRyb3BSYW5nZT9bdC5kcm9wUmFuZ2VdOkFycmF5LmZyb20oby5zZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpO28uZmlyZSgnY2xpcGJvYXJkSW5wdXQnLHtkYXRhVHJhbnNmZXI6dC5kYXRhVHJhbnNmZXIsdGFyZ2V0UmFuZ2VzOm59KX1zdXBlcihlKTtjb25zdCBvPXRoaXMuZG9jdW1lbnQ7dGhpcy5kb21FdmVudFR5cGU9WydwYXN0ZScsJ2NvcHknLCdjdXQnLCdkcm9wJywnZHJhZ292ZXInXSx0aGlzLmxpc3RlblRvKG8sJ3Bhc3RlJyx0LHtwcmlvcml0eTonbG93J30pLHRoaXMubGlzdGVuVG8obywnZHJvcCcsdCx7cHJpb3JpdHk6J2xvdyd9KX1vbkRvbUV2ZW50KGUpe2NvbnN0IHQ9e2RhdGFUcmFuc2ZlcjpuZXcgamYoZS5jbGlwYm9hcmREYXRhP2UuY2xpcGJvYXJkRGF0YTplLmRhdGFUcmFuc2Zlcil9Oydkcm9wJz09ZS50eXBlJiYodC5kcm9wUmFuZ2U9bGkodGhpcy52aWV3LGUpKSx0aGlzLmZpcmUoZS50eXBlLGUsdCl9fWNvbnN0IFdmPVsnZmlnY2FwdGlvbicsJ2xpJ107Y2xhc3MgVWYgZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nQ2xpcGJvYXJkJ31pbml0KCl7ZnVuY3Rpb24gZShlLG4pe2NvbnN0IHI9bi5kYXRhVHJhbnNmZXI7bi5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IGE9dC5kYXRhLnRvVmlldyh0Lm1vZGVsLmdldFNlbGVjdGVkQ29udGVudChvLnNlbGVjdGlvbikpO2kuZmlyZSgnY2xpcGJvYXJkT3V0cHV0Jyx7ZGF0YVRyYW5zZmVyOnIsY29udGVudDphLG1ldGhvZDplLm5hbWV9KX1jb25zdCB0PXRoaXMuZWRpdG9yLG89dC5tb2RlbC5kb2N1bWVudCxuPXQuZWRpdGluZy52aWV3LGk9bi5kb2N1bWVudDt0aGlzLl9odG1sRGF0YVByb2Nlc3Nvcj1uZXcgbmYsbi5hZGRPYnNlcnZlcihxZiksdGhpcy5saXN0ZW5UbyhpLCdjbGlwYm9hcmRJbnB1dCcsKGUsbyk9PntpZih0LmlzUmVhZE9ubHkpcmV0dXJuO2NvbnN0IGk9by5kYXRhVHJhbnNmZXI7bGV0IHI9Jyc7aS5nZXREYXRhKCd0ZXh0L2h0bWwnKT9yPWNpKGkuZ2V0RGF0YSgndGV4dC9odG1sJykpOmkuZ2V0RGF0YSgndGV4dC9wbGFpbicpJiYocj1kaShpLmdldERhdGEoJ3RleHQvcGxhaW4nKSkpLHI9dGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9WaWV3KHIpLHRoaXMuZmlyZSgnaW5wdXRUcmFuc2Zvcm1hdGlvbicse2NvbnRlbnQ6cn0pLG4uc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKX0se3ByaW9yaXR5Oidsb3cnfSksdGhpcy5saXN0ZW5Ubyh0aGlzLCdpbnB1dFRyYW5zZm9ybWF0aW9uJywoZSx0KT0+e2lmKCF0LmNvbnRlbnQuaXNFbXB0eSl7Y29uc3QgZT10aGlzLmVkaXRvci5kYXRhLG49dGhpcy5lZGl0b3IubW9kZWwsaT1lLnRvTW9kZWwodC5jb250ZW50LCckY2xpcGJvYXJkSG9sZGVyJyk7aWYoMD09aS5jaGlsZENvdW50KXJldHVybjtuLmluc2VydENvbnRlbnQoaSxvLnNlbGVjdGlvbil9fSx7cHJpb3JpdHk6J2xvdyd9KSx0aGlzLmxpc3RlblRvKGksJ2NvcHknLGUse3ByaW9yaXR5Oidsb3cnfSksdGhpcy5saXN0ZW5UbyhpLCdjdXQnLChvLG4pPT57dC5pc1JlYWRPbmx5P24ucHJldmVudERlZmF1bHQoKTplKG8sbil9LHtwcmlvcml0eTonbG93J30pLHRoaXMubGlzdGVuVG8oaSwnY2xpcGJvYXJkT3V0cHV0JywoZSxuKT0+e24uY29udGVudC5pc0VtcHR5fHwobi5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9odG1sJyx0aGlzLl9odG1sRGF0YVByb2Nlc3Nvci50b0RhdGEobi5jb250ZW50KSksbi5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsdWkobi5jb250ZW50KSkpLCdjdXQnPT1uLm1ldGhvZCYmdC5tb2RlbC5kZWxldGVDb250ZW50KG8uc2VsZWN0aW9uKX0se3ByaW9yaXR5Oidsb3cnfSl9fWNsYXNzIEhme2NvbnN0cnVjdG9yKGUpe2Z1bmN0aW9uIHQoKXt0aGlzLmlzRW5hYmxlZD0hMX10aGlzLmVkaXRvcj1lLHRoaXMuc2V0KCd2YWx1ZScsdm9pZCAwKSx0aGlzLnNldCgnaXNFbmFibGVkJywhMSksdGhpcy5kZWNvcmF0ZSgnZXhlY3V0ZScpLHRoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsJ2NoYW5nZScsKCk9Pnt0aGlzLnJlZnJlc2goKX0pLHRoaXMub24oJ2V4ZWN1dGUnLChlKT0+e3RoaXMuaXNFbmFibGVkfHxlLnN0b3AoKX0se3ByaW9yaXR5OidoaWdoJ30pLHRoaXMubGlzdGVuVG8oZSwnY2hhbmdlOmlzUmVhZE9ubHknLChlLG8sbik9PntuPyh0aGlzLm9uKCdjaGFuZ2U6aXNFbmFibGVkJyx0LHtwcmlvcml0eTonbG93ZXN0J30pLHRoaXMuaXNFbmFibGVkPSExKToodGhpcy5vZmYoJ2NoYW5nZTppc0VuYWJsZWQnLHQpLHRoaXMucmVmcmVzaCgpKX0pfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD0hMH1leGVjdXRlKCl7fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19ZihIZixmYyk7Y2xhc3MgS2YgZXh0ZW5kcyBIZntleGVjdXRlKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQ7ZS5jaGFuZ2UoKG8pPT57bWkodGhpcy5lZGl0b3IubW9kZWwsbyx0LnNlbGVjdGlvbixlLnNjaGVtYSksdGhpcy5maXJlKCdhZnRlckV4ZWN1dGUnLHt3cml0ZXI6b30pfSl9fWNsYXNzIEdmIGV4dGVuZHMgWWN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD10aGlzLmRvY3VtZW50O3Qub24oJ2tleWRvd24nLChlLG8pPT57aWYodGhpcy5pc0VuYWJsZWQmJm8ua2V5Q29kZT09TmMuZW50ZXIpe2xldCBuO3Qub25jZSgnZW50ZXInLChlKT0+bj1lLHtwcmlvcml0eTonaGlnaGVzdCd9KSx0LmZpcmUoJ2VudGVyJyxuZXcga3UodCxvLmRvbUV2ZW50KSksbiYmbi5zdG9wLmNhbGxlZCYmZS5zdG9wKCl9fSl9b2JzZXJ2ZSgpe319Y2xhc3MgJGYgZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nRW50ZXInfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5lZGl0aW5nLnZpZXcsbz10LmRvY3VtZW50O3QuYWRkT2JzZXJ2ZXIoR2YpLGUuY29tbWFuZHMuYWRkKCdlbnRlcicsbmV3IEtmKGUpKSx0aGlzLmxpc3RlblRvKG8sJ2VudGVyJywobyxuKT0+e2UuZXhlY3V0ZSgnZW50ZXInKSxuLnByZXZlbnREZWZhdWx0KCksdC5zY3JvbGxUb1RoZVNlbGVjdGlvbigpfSx7cHJpb3JpdHk6J2xvdyd9KX19Y2xhc3MgSmZ7Y29uc3RydWN0b3IoZSx0PTIwKXt0aGlzLm1vZGVsPWUsdGhpcy5zaXplPTAsdGhpcy5saW1pdD10LHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fY2hhbmdlQ2FsbGJhY2s9KGUsdCk9PnsndHJhbnNwYXJlbnQnIT10LnR5cGUmJnQhPT10aGlzLl9iYXRjaCYmdGhpcy5fcmVzZXQoITApfSx0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjaz0oKT0+e3RoaXMuX3Jlc2V0KCl9LHRoaXMubW9kZWwuZG9jdW1lbnQub24oJ2NoYW5nZScsdGhpcy5fY2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9uKCdjaGFuZ2U6cmFuZ2UnLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vbignY2hhbmdlOmF0dHJpYnV0ZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfWdldCBiYXRjaCgpe3JldHVybiB0aGlzLl9iYXRjaHx8KHRoaXMuX2JhdGNoPW5ldyBNZyksdGhpcy5fYmF0Y2h9aW5wdXQoZSl7dGhpcy5zaXplKz1lLHRoaXMuc2l6ZT49dGhpcy5saW1pdCYmdGhpcy5fcmVzZXQoITApfWxvY2soKXt0aGlzLmlzTG9ja2VkPSEwfXVubG9jaygpe3RoaXMuaXNMb2NrZWQ9ITF9ZGVzdHJveSgpe3RoaXMubW9kZWwuZG9jdW1lbnQub2ZmKCdjaGFuZ2UnLHRoaXMuX2NoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vZmYoJ2NoYW5nZTpyYW5nZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9mZignY2hhbmdlOmF0dHJpYnV0ZScsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfV9yZXNldChlKXsoIXRoaXMuaXNMb2NrZWR8fGUpJiYodGhpcy5fYmF0Y2g9bnVsbCx0aGlzLnNpemU9MCl9fWNsYXNzIFFmIGV4dGVuZHMgSGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLl9idWZmZXI9bmV3IEpmKGUubW9kZWwsdCl9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9idWZmZXIuZGVzdHJveSgpfWV4ZWN1dGUoZT17fSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQsbj1lLnRleHR8fCcnLGk9bi5sZW5ndGgscj1lLnJhbmdlfHxvLnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCksYT1lLnJlc3VsdFJhbmdlO3QuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsKGUpPT57Y29uc3QgdD1yLmlzQ29sbGFwc2VkO3RoaXMuX2J1ZmZlci5sb2NrKCksdHx8ZS5yZW1vdmUociksbiYmZS5pbnNlcnRUZXh0KG4sby5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlcygpLHIuc3RhcnQpLGE/ZS5zZXRTZWxlY3Rpb24oYSk6dCYmZS5zZXRTZWxlY3Rpb24oci5zdGFydC5nZXRTaGlmdGVkQnkoaSkpLHRoaXMuX2J1ZmZlci51bmxvY2soKSx0aGlzLl9idWZmZXIuaW5wdXQoaSl9KX19Y2xhc3MgWWYgZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW5wdXQnfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5lZGl0aW5nLnZpZXcsbz1uZXcgUWYoZSxlLmNvbmZpZy5nZXQoJ3R5cGluZy51bmRvU3RlcCcpfHwyMCk7ZS5jb21tYW5kcy5hZGQoJ2lucHV0JyxvKSx0aGlzLmxpc3RlblRvKHQuZG9jdW1lbnQsJ2tleWRvd24nLChlLHQpPT57dGhpcy5faGFuZGxlS2V5ZG93bih0LG8pfSx7cHJpb3JpdHk6J2xvd2VzdCd9KSx0aGlzLmxpc3RlblRvKHQuZG9jdW1lbnQsJ211dGF0aW9ucycsKGUsdCxvKT0+e3RoaXMuX2hhbmRsZU11dGF0aW9ucyh0LG8pfSl9X2hhbmRsZUtleWRvd24oZSx0KXtjb25zdCBvPXRoaXMuZWRpdG9yLm1vZGVsLG49by5kb2N1bWVudCxpPXQuYnVmZmVyOyF0LmlzRW5hYmxlZHx8ZmkoZSl8fG4uc2VsZWN0aW9uLmlzQ29sbGFwc2VkfHwoaS5sb2NrKCksby5lbnF1ZXVlQ2hhbmdlKGkuYmF0Y2gsKCk9Pnt0aGlzLmVkaXRvci5tb2RlbC5kZWxldGVDb250ZW50KG4uc2VsZWN0aW9uKX0pLGkudW5sb2NrKCkpfV9oYW5kbGVNdXRhdGlvbnMoZSx0KXtuZXcgWGYodGhpcy5lZGl0b3IpLmhhbmRsZShlLHQpfX1jbGFzcyBYZntjb25zdHJ1Y3RvcihlKXt0aGlzLmVkaXRvcj1lLHRoaXMuZWRpdGluZz10aGlzLmVkaXRvci5lZGl0aW5nfWhhbmRsZShlLHQpe2lmKF9pKGUpKXRoaXMuX2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKGUsdCk7ZWxzZSBmb3IoY29uc3QgbyBvZiBlKXRoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihvLHQpLHRoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKG8pfV9oYW5kbGVDb250YWluZXJDaGlsZHJlbk11dGF0aW9ucyhlLHQpe2NvbnN0IG89a2koZSk7aWYoIW8pcmV0dXJuO2NvbnN0IG49dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvbUNvbnZlcnRlcixpPW4ubWFwVmlld1RvRG9tKG8pLHI9bmV3IEdjLGE9dGhpcy5lZGl0b3IuZGF0YS50b01vZGVsKHIuZG9tVG9WaWV3KGkpKS5nZXRDaGlsZCgwKSxzPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KG8pO2lmKCFzKXJldHVybjtjb25zdCBsPUFycmF5LmZyb20oYS5nZXRDaGlsZHJlbigpKSxkPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKTtpZighd2kobCl8fCF3aShkKSlyZXR1cm47Y29uc3QgYz1sLm1hcCgoZSk9PmUuZGF0YSkuam9pbignJykucmVwbGFjZSgvXFx1MDBBMC9nLCcgJyksdT1kLm1hcCgoZSk9PmUuZGF0YSkuam9pbignJyk7aWYodT09PWMpcmV0dXJuO2NvbnN0IG09VGUodSxjKSx7Zmlyc3RDaGFuZ2VBdDpwLGluc2VydGlvbnM6ZyxkZWxldGlvbnM6Zn09dmkobSk7bGV0IGg9bnVsbDt0JiYoaD10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZSh0LmdldEZpcnN0UmFuZ2UoKSkpO2NvbnN0IGI9Yy5zdWJzdHIocCxnKSxrPUh1LmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhzLHAscyxwK2YpO3RoaXMuZWRpdG9yLmV4ZWN1dGUoJ2lucHV0Jyx7dGV4dDpiLHJhbmdlOmsscmVzdWx0UmFuZ2U6aH0pfV9oYW5kbGVUZXh0TXV0YXRpb24oZSx0KXtpZigndGV4dCchPWUudHlwZSlyZXR1cm47Y29uc3Qgbz1lLm5ld1RleHQucmVwbGFjZSgvXFx1MDBBMC9nLCcgJyksbj1lLm9sZFRleHQucmVwbGFjZSgvXFx1MDBBMC9nLCcgJyksaT1UZShuLG8pLHtmaXJzdENoYW5nZUF0OnIsaW5zZXJ0aW9uczphLGRlbGV0aW9uczpzfT12aShpKTtsZXQgbD1udWxsO3QmJihsPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFJhbmdlKHQuZ2V0Rmlyc3RSYW5nZSgpKSk7Y29uc3QgZD1uZXcgdmMoZS5ub2RlLHIpLGM9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUG9zaXRpb24oZCksdT1IdS5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChjLHMpLG09by5zdWJzdHIocixhKTt0aGlzLmVkaXRvci5leGVjdXRlKCdpbnB1dCcse3RleHQ6bSxyYW5nZTp1LHJlc3VsdFJhbmdlOmx9KX1faGFuZGxlVGV4dE5vZGVJbnNlcnRpb24oZSl7aWYoJ2NoaWxkcmVuJz09ZS50eXBlKXtjb25zdCB0PWJpKGUpLG89bmV3IHZjKGUubm9kZSx0LmluZGV4KSxuPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFBvc2l0aW9uKG8pLGk9dC52YWx1ZXNbMF0uZGF0YTt0aGlzLmVkaXRvci5leGVjdXRlKCdpbnB1dCcse3RleHQ6aS5yZXBsYWNlKC9cXHUwMEEwL2csJyAnKSxyYW5nZTpuZXcgSHUobil9KX19fWNvbnN0IFpmPVt0ZSgnYXJyb3dVcCcpLHRlKCdhcnJvd1JpZ2h0JyksdGUoJ2Fycm93RG93bicpLHRlKCdhcnJvd0xlZnQnKSw5LDE2LDE3LDE4LDIwLDI3LDMzLDM0LDM1LDM2LDIyOV07Zm9yKGxldCBuPTExMjsxMzU+PW47bisrKVpmLnB1c2gobik7Y2xhc3MgZWggZXh0ZW5kcyBIZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuZGlyZWN0aW9uPXQsdGhpcy5fYnVmZmVyPW5ldyBKZihlLm1vZGVsLGUuY29uZmlnLmdldCgndHlwaW5nLnVuZG9TdGVwJykpfWV4ZWN1dGUoZT17fSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQ7dC5lbnF1ZXVlQ2hhbmdlKHRoaXMuX2J1ZmZlci5iYXRjaCwobik9Pnt0aGlzLl9idWZmZXIubG9jaygpO2NvbnN0IGk9bmV3IEp1KG8uc2VsZWN0aW9uKSxyPWkuaXNDb2xsYXBzZWQ7aWYoaS5pc0NvbGxhcHNlZCYmdC5tb2RpZnlTZWxlY3Rpb24oaSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLHVuaXQ6ZS51bml0fSksdGhpcy5fc2hvdWxkRW50aXJlQ29udGVudEJlUmVwbGFjZWRXaXRoUGFyYWdyYXBoKGUuc2VxdWVuY2V8fDEpKXJldHVybiB2b2lkIHRoaXMuX3JlcGxhY2VFbnRpcmVDb250ZW50V2l0aFBhcmFncmFwaChuKTtpZihpLmlzQ29sbGFwc2VkKXJldHVybjtsZXQgYT0wO2kuZ2V0Rmlyc3RSYW5nZSgpLmdldE1pbmltYWxGbGF0UmFuZ2VzKCkuZm9yRWFjaCgoZSk9PnthKz1ZKGUuZ2V0V2Fsa2VyKHtzaW5nbGVDaGFyYWN0ZXJzOiEwLGlnbm9yZUVsZW1lbnRFbmQ6ITAsc2hhbGxvdzohMH0pKX0pLHQuZGVsZXRlQ29udGVudChpLHtkb05vdFJlc2V0RW50aXJlQ29udGVudDpyfSksdGhpcy5fYnVmZmVyLmlucHV0KGEpLG4uc2V0U2VsZWN0aW9uKGkpLHRoaXMuX2J1ZmZlci51bmxvY2soKX0pfV9zaG91bGRFbnRpcmVDb250ZW50QmVSZXBsYWNlZFdpdGhQYXJhZ3JhcGgoZSl7aWYoMTxlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LG49by5zZWxlY3Rpb24saT10LnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQobikscj1uLmlzQ29sbGFwc2VkJiZuLmNvbnRhaW5zRW50aXJlQ29udGVudChpKTtpZighcilyZXR1cm4hMTtpZighdC5zY2hlbWEuY2hlY2tDaGlsZChpLCdwYXJhZ3JhcGgnKSlyZXR1cm4hMTtjb25zdCBhPWkuZ2V0Q2hpbGQoMCk7cmV0dXJuIShhJiYncGFyYWdyYXBoJz09PWEubmFtZSl9X3JlcGxhY2VFbnRpcmVDb250ZW50V2l0aFBhcmFncmFwaChlKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5kb2N1bWVudCxuPW8uc2VsZWN0aW9uLGk9dC5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KG4pLHI9bmV3IGp1KCdwYXJhZ3JhcGgnKTtlLnJlbW92ZShIdS5jcmVhdGVJbihpKSksZS5pbnNlcnQocixpKSxlLnNldFNlbGVjdGlvbihyLDApfX1jbGFzcyB0aCBleHRlbmRzIFlje2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IHQ9ZS5kb2N1bWVudDtsZXQgbz0wO3Qub24oJ2tleXVwJywoZSx0KT0+eyh0LmtleUNvZGU9PU5jLmRlbGV0ZXx8dC5rZXlDb2RlPT1OYy5iYWNrc3BhY2UpJiYobz0wKX0pLHQub24oJ2tleWRvd24nLChlLG4pPT57Y29uc3QgaT17fTtpZihuLmtleUNvZGU9PU5jLmRlbGV0ZSlpLmRpcmVjdGlvbj0nZm9yd2FyZCcsaS51bml0PSdjaGFyYWN0ZXInO2Vsc2UgaWYobi5rZXlDb2RlPT1OYy5iYWNrc3BhY2UpaS5kaXJlY3Rpb249J2JhY2t3YXJkJyxpLnVuaXQ9J2NvZGVQb2ludCc7ZWxzZSByZXR1cm47Y29uc3Qgcj1JYy5pc01hYz9uLmFsdEtleTpuLmN0cmxLZXk7aS51bml0PXI/J3dvcmQnOmkudW5pdCxpLnNlcXVlbmNlPSsrbztsZXQgYTt0Lm9uY2UoJ2RlbGV0ZScsKGUpPT5hPWUse3ByaW9yaXR5OidoaWdoZXN0J30pLHQuZmlyZSgnZGVsZXRlJyxuZXcga3UodCxuLmRvbUV2ZW50LGkpKSxhJiZhLnN0b3AuY2FsbGVkJiZlLnN0b3AoKX0pfW9ic2VydmUoKXt9fWNsYXNzIG9oIGV4dGVuZHMgemZ7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0RlbGV0ZSd9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmVkaXRpbmcudmlldyxvPXQuZG9jdW1lbnQ7dC5hZGRPYnNlcnZlcih0aCksZS5jb21tYW5kcy5hZGQoJ2ZvcndhcmREZWxldGUnLG5ldyBlaChlLCdmb3J3YXJkJykpLGUuY29tbWFuZHMuYWRkKCdkZWxldGUnLG5ldyBlaChlLCdiYWNrd2FyZCcpKSx0aGlzLmxpc3RlblRvKG8sJ2RlbGV0ZScsKG8sbik9PntlLmV4ZWN1dGUoJ2ZvcndhcmQnPT1uLmRpcmVjdGlvbj8nZm9yd2FyZERlbGV0ZSc6J2RlbGV0ZScse3VuaXQ6bi51bml0LHNlcXVlbmNlOm4uc2VxdWVuY2V9KSxuLnByZXZlbnREZWZhdWx0KCksdC5zY3JvbGxUb1RoZVNlbGVjdGlvbigpfSl9fWNsYXNzIG5oIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltZZixvaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1R5cGluZyd9fWNsYXNzIGloIGV4dGVuZHMgSGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fc3RhY2s9W10sdGhpcy5fY3JlYXRlZEJhdGNoZXM9bmV3IFdlYWtTZXQsdGhpcy5yZWZyZXNoKCl9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPTA8dGhpcy5fc3RhY2subGVuZ3RofWFkZEJhdGNoKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLG89e3Jhbmdlczp0Lmhhc093blJhbmdlP0FycmF5LmZyb20odC5nZXRSYW5nZXMoKSk6W10saXNCYWNrd2FyZDp0LmlzQmFja3dhcmR9O3RoaXMuX3N0YWNrLnB1c2goe2JhdGNoOmUsc2VsZWN0aW9uOm99KSx0aGlzLnJlZnJlc2goKX1jbGVhclN0YWNrKCl7dGhpcy5fc3RhY2s9W10sdGhpcy5yZWZyZXNoKCl9X3Jlc3RvcmVTZWxlY3Rpb24oZSx0LG8pe2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwsaT1uLmRvY3VtZW50LHI9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT15aShuLG8pLHQ9ZS5maW5kKChlKT0+ZS5zdGFydC5yb290IT1pLmdyYXZleWFyZCk7dCYmci5wdXNoKHQpfXIubGVuZ3RoJiZuLmNoYW5nZSgoZSk9PntlLnNldFNlbGVjdGlvbihyLHtiYWNrd2FyZDp0fSl9KX1fdW5kbyhlLHQpe2NvbnN0IG89dGhpcy5lZGl0b3IubW9kZWwsbj1vLmRvY3VtZW50O3RoaXMuX2NyZWF0ZWRCYXRjaGVzLmFkZCh0KTtjb25zdCBpPWUuZGVsdGFzLnNsaWNlKCk7aS5yZXZlcnNlKCk7Zm9yKGNvbnN0IHIgb2YgaSlpZihyLm9wZXJhdGlvbnMuc29tZSgoZSk9PmUuaXNEb2N1bWVudE9wZXJhdGlvbikpe2NvbnN0IGU9ci5iYXNlVmVyc2lvbityLm9wZXJhdGlvbnMubGVuZ3RoLGk9QXJyYXkuZnJvbShuLmhpc3RvcnkuZ2V0RGVsdGFzKGUpKSxhPW8udHJhbnNmb3JtRGVsdGFzKFtyLmdldFJldmVyc2VkKCldLGksITApLHM9YS5kZWx0YXNBO2Zvcihjb25zdCBlIG9mIHMpe2UuYmFzZVZlcnNpb249bi52ZXJzaW9uLHQuYWRkRGVsdGEoZSk7Zm9yKGNvbnN0IHQgb2YgZS5vcGVyYXRpb25zKW8uYXBwbHlPcGVyYXRpb24odCk7bi5oaXN0b3J5LnNldERlbHRhQXNVbmRvbmUocixlKX19fX1jbGFzcyByaCBleHRlbmRzIGloe2V4ZWN1dGUoZT1udWxsKXtjb25zdCB0PWU/dGhpcy5fc3RhY2suZmluZEluZGV4KCh0KT0+dC5iYXRjaD09ZSk6dGhpcy5fc3RhY2subGVuZ3RoLTEsbz10aGlzLl9zdGFjay5zcGxpY2UodCwxKVswXSxuPW5ldyBNZzt0aGlzLmVkaXRvci5tb2RlbC5lbnF1ZXVlQ2hhbmdlKG4sKCk9Pnt0aGlzLl91bmRvKG8uYmF0Y2gsbik7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5oaXN0b3J5LmdldERlbHRhcyhvLmJhdGNoLmJhc2VWZXJzaW9uKTt0aGlzLl9yZXN0b3JlU2VsZWN0aW9uKG8uc2VsZWN0aW9uLnJhbmdlcyxvLnNlbGVjdGlvbi5pc0JhY2t3YXJkLGUpLHRoaXMuZmlyZSgncmV2ZXJ0JyxvLmJhdGNoLG4pfSksdGhpcy5yZWZyZXNoKCl9fWNsYXNzIGFoIGV4dGVuZHMgaWh7ZXhlY3V0ZSgpe2NvbnN0IGU9dGhpcy5fc3RhY2sucG9wKCksdD1uZXcgTWc7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZSh0LCgpPT57Y29uc3Qgbz1lLmJhdGNoLmRlbHRhc1tlLmJhdGNoLmRlbHRhcy5sZW5ndGgtMV0sbj1vLmJhc2VWZXJzaW9uK28ub3BlcmF0aW9ucy5sZW5ndGgsaT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5oaXN0b3J5LmdldERlbHRhcyhuKTt0aGlzLl9yZXN0b3JlU2VsZWN0aW9uKGUuc2VsZWN0aW9uLnJhbmdlcyxlLnNlbGVjdGlvbi5pc0JhY2t3YXJkLGkpLHRoaXMuX3VuZG8oZS5iYXRjaCx0KX0pLHRoaXMucmVmcmVzaCgpfX1jbGFzcyBzaCBleHRlbmRzIHpme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2JhdGNoUmVnaXN0cnk9bmV3IFdlYWtTZXR9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7dGhpcy5fdW5kb0NvbW1hbmQ9bmV3IHJoKGUpLHRoaXMuX3JlZG9Db21tYW5kPW5ldyBhaChlKSxlLmNvbW1hbmRzLmFkZCgndW5kbycsdGhpcy5fdW5kb0NvbW1hbmQpLGUuY29tbWFuZHMuYWRkKCdyZWRvJyx0aGlzLl9yZWRvQ29tbWFuZCksdGhpcy5saXN0ZW5UbyhlLm1vZGVsLCdhcHBseU9wZXJhdGlvbicsKGUsdCk9Pntjb25zdCBvPXRbMF07aWYoby5pc0RvY3VtZW50T3BlcmF0aW9uKXtjb25zdCBlPW8uZGVsdGEuYmF0Y2g7dGhpcy5fYmF0Y2hSZWdpc3RyeS5oYXMoZSl8fCd0cmFuc3BhcmVudCc9PWUudHlwZXx8KHRoaXMuX3JlZG9Db21tYW5kLl9jcmVhdGVkQmF0Y2hlcy5oYXMoZSk/dGhpcy5fdW5kb0NvbW1hbmQuYWRkQmF0Y2goZSk6IXRoaXMuX3VuZG9Db21tYW5kLl9jcmVhdGVkQmF0Y2hlcy5oYXMoZSkmJih0aGlzLl91bmRvQ29tbWFuZC5hZGRCYXRjaChlKSx0aGlzLl9yZWRvQ29tbWFuZC5jbGVhclN0YWNrKCkpLHRoaXMuX2JhdGNoUmVnaXN0cnkuYWRkKGUpKX19LHtwcmlvcml0eTonaGlnaGVzdCd9KSx0aGlzLmxpc3RlblRvKHRoaXMuX3VuZG9Db21tYW5kLCdyZXZlcnQnLChlLHQsbyk9Pnt0aGlzLl9yZWRvQ29tbWFuZC5hZGRCYXRjaChvKX0pLGUua2V5c3Ryb2tlcy5zZXQoJ0NUUkwrWicsJ3VuZG8nKSxlLmtleXN0cm9rZXMuc2V0KCdDVFJMK1knLCdyZWRvJyksZS5rZXlzdHJva2VzLnNldCgnQ1RSTCtTSElGVCtaJywncmVkbycpfX12YXIgbGg9bygyNCksZGg9by5uKGxoKTtjbGFzcyBjaCBleHRlbmRzIGhme2NvbnN0cnVjdG9yKCl7c3VwZXIoKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KCdjb250ZW50JywnJyksdGhpcy5zZXQoJ3ZpZXdCb3gnLCcwIDAgMjAgMjAnKSx0aGlzLnNldCgnZmlsbENvbG9yJywnJyksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidzdmcnLG5zOidodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWljb24nXSx2aWV3Qm94OmUudG8oJ3ZpZXdCb3gnKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLl91cGRhdGVYTUxDb250ZW50KCksdGhpcy5fY29sb3JGaWxsUGF0aHMoKSx0aGlzLm9uKCdjaGFuZ2U6Y29udGVudCcsKCk9Pnt0aGlzLl91cGRhdGVYTUxDb250ZW50KCksdGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pLHRoaXMub24oJ2NoYW5nZTpmaWxsQ29sb3InLCgpPT57dGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pfV91cGRhdGVYTUxDb250ZW50KCl7aWYodGhpcy5jb250ZW50KXtjb25zdCBlPW5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGhpcy5jb250ZW50LnRyaW0oKSwnaW1hZ2Uvc3ZnK3htbCcpLHQ9ZS5xdWVyeVNlbGVjdG9yKCdzdmcnKSxvPXQuZ2V0QXR0cmlidXRlKCd2aWV3Qm94Jyk7Zm9yKG8mJih0aGlzLnZpZXdCb3g9byksdGhpcy5lbGVtZW50LmlubmVySFRNTD0nJzswPHQuY2hpbGROb2Rlcy5sZW5ndGg7KXRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0LmNoaWxkTm9kZXNbMF0pfX1fY29sb3JGaWxsUGF0aHMoKXt0aGlzLmZpbGxDb2xvciYmdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jay1pY29uX19maWxsJykuZm9yRWFjaCgoZSk9PntlLnN0eWxlLmZpbGw9dGhpcy5maWxsQ29sb3J9KX19dmFyIHVoPW8oMjYpLG1oPW8ubih1aCk7Y2xhc3MgcGggZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNldCgndGV4dCcsJycpLHRoaXMuc2V0KCdwb3NpdGlvbicsJ3MnKTtjb25zdCB0PXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzonc3BhbicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXRvb2x0aXAnLHQudG8oJ3Bvc2l0aW9uJywoZSk9Pidjay10b29sdGlwXycrZSksdC5pZigndGV4dCcsJ2NrLWhpZGRlbicsKGUpPT4hZS50cmltKCkpXX0sY2hpbGRyZW46W3t0YWc6J3NwYW4nLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay10b29sdGlwX190ZXh0J119LGNoaWxkcmVuOlt7dGV4dDp0LnRvKCd0ZXh0Jyl9XX1dfSl9fXZhciBnaD1vKDI4KSxmaD1vLm4oZ2gpO2NsYXNzIGhoIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldCgnaWNvbicpLHRoaXMuc2V0KCdpc0VuYWJsZWQnLCEwKSx0aGlzLnNldCgnaXNPbicsITEpLHRoaXMuc2V0KCdpc1Zpc2libGUnLCEwKSx0aGlzLnNldCgna2V5c3Ryb2tlJyksdGhpcy5zZXQoJ2xhYmVsJyksdGhpcy5zZXQoJ3RhYmluZGV4JywtMSksdGhpcy5zZXQoJ3Rvb2x0aXAnKSx0aGlzLnNldCgndG9vbHRpcFBvc2l0aW9uJywncycpLHRoaXMuc2V0KCd0eXBlJywnYnV0dG9uJyksdGhpcy5zZXQoJ3dpdGhUZXh0JywhMSksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnRvb2x0aXBWaWV3PXRoaXMuX2NyZWF0ZVRvb2x0aXBWaWV3KCksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KCksdGhpcy5pY29uVmlldz1uZXcgY2gsdGhpcy5pY29uVmlldy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6J2NrLWJ1dHRvbl9faWNvbid9fSksdGhpcy5iaW5kKCdfdG9vbHRpcFN0cmluZycpLnRvKHRoaXMsJ3Rvb2x0aXAnLHRoaXMsJ2xhYmVsJyx0aGlzLCdrZXlzdHJva2UnLHRoaXMuX2dldFRvb2x0aXBTdHJpbmcuYmluZCh0aGlzKSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOididXR0b24nLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1idXR0b24nLHQudG8oJ2lzRW5hYmxlZCcsKGUpPT5lPydjay1lbmFibGVkJzonY2stZGlzYWJsZWQnKSx0LmlmKCdpc1Zpc2libGUnLCdjay1oaWRkZW4nLChlKT0+IWUpLHQudG8oJ2lzT24nLChlKT0+ZT8nY2stb24nOidjay1vZmYnKSx0LmlmKCd3aXRoVGV4dCcsJ2NrLWJ1dHRvbl93aXRoLXRleHQnKV0sdHlwZTp0LnRvKCd0eXBlJywoZSk9PmU/ZTonYnV0dG9uJyksdGFiaW5kZXg6dC50bygndGFiaW5kZXgnKX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbixvbjp7bW91c2Vkb3duOnQudG8oKGUpPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSksY2xpY2s6dC50bygoZSk9Pnt0aGlzLmlzRW5hYmxlZD90aGlzLmZpcmUoJ2V4ZWN1dGUnKTplLnByZXZlbnREZWZhdWx0KCl9KX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmljb24mJih0aGlzLmljb25WaWV3LmJpbmQoJ2NvbnRlbnQnKS50byh0aGlzLCdpY29uJyksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5pY29uVmlldykpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMudG9vbHRpcFZpZXcpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMubGFiZWxWaWV3KX1mb2N1cygpe3RoaXMuZWxlbWVudC5mb2N1cygpfV9jcmVhdGVUb29sdGlwVmlldygpe2NvbnN0IGU9bmV3IHBoO3JldHVybiBlLmJpbmQoJ3RleHQnKS50byh0aGlzLCdfdG9vbHRpcFN0cmluZycpLGUuYmluZCgncG9zaXRpb24nKS50byh0aGlzLCd0b29sdGlwUG9zaXRpb24nKSxlfV9jcmVhdGVMYWJlbFZpZXcoKXtjb25zdCBlPW5ldyBoZjtyZXR1cm4gZS5zZXRUZW1wbGF0ZSh7dGFnOidzcGFuJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stYnV0dG9uX19sYWJlbCddfSxjaGlsZHJlbjpbe3RleHQ6dGhpcy5iaW5kVGVtcGxhdGUudG8oJ2xhYmVsJyl9XX0pLGV9X2dldFRvb2x0aXBTdHJpbmcoZSx0LG8pe3JldHVybiBlPydzdHJpbmcnPT10eXBlb2YgZT9lOihvJiYobz1uZShvKSksZSBpbnN0YW5jZW9mIEZ1bmN0aW9uP2UodCxvKTpgJHt0fSR7bz9gICgke299KWA6Jyd9YCk6Jyd9fXZhciBiaD1vKDMwKSxraD1vLm4oYmgpLF9oPW8oMzEpLHdoPW8ubihfaCk7Y2xhc3MgdmggZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDt0aGlzLl9hZGRCdXR0b24oJ3VuZG8nLG8oJ2FnJyksJ0NUUkwrWicsa2guYSksdGhpcy5fYWRkQnV0dG9uKCdyZWRvJyxvKCdhaCcpLCdDVFJMK1knLHdoLmEpfV9hZGRCdXR0b24oZSx0LG8sbil7Y29uc3QgaT10aGlzLmVkaXRvcjtpLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGUsKHIpPT57Y29uc3QgYT1pLmNvbW1hbmRzLmdldChlKSxzPW5ldyBoaChyKTtyZXR1cm4gcy5zZXQoe2xhYmVsOnQsaWNvbjpuLGtleXN0cm9rZTpvLHRvb2x0aXA6ITB9KSxzLmJpbmQoJ2lzRW5hYmxlZCcpLnRvKGEsJ2lzRW5hYmxlZCcpLHRoaXMubGlzdGVuVG8ocywnZXhlY3V0ZScsKCk9PmkuZXhlY3V0ZShlKSksc30pfX1jbGFzcyB5aCBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bc2gsdmhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidVbmRvJ319Y2xhc3MgeGggZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1VmLCRmLG5oLHloXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nRXNzZW50aWFscyd9fWNsYXNzIENoe2NvbnN0cnVjdG9yKCl7Y29uc3QgZT1uZXcgd2luZG93LkZpbGVSZWFkZXI7dGhpcy5fcmVhZGVyPWUsdGhpcy5zZXQoJ2xvYWRlZCcsMCksZS5vbnByb2dyZXNzPShlKT0+e3RoaXMubG9hZGVkPWUubG9hZGVkfX1nZXQgZXJyb3IoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmVycm9yfXJlYWQoZSl7Y29uc3QgdD10aGlzLl9yZWFkZXI7cmV0dXJuIHRoaXMudG90YWw9ZS5zaXplLG5ldyBQcm9taXNlKChvLG4pPT57dC5vbmxvYWQ9KCk9PntvKHQucmVzdWx0KX0sdC5vbmVycm9yPSgpPT57bignZXJyb3InKX0sdC5vbmFib3J0PSgpPT57bignYWJvcnRlZCcpfSx0aGlzLl9yZWFkZXIucmVhZEFzRGF0YVVSTChlKX0pfWFib3J0KCl7dGhpcy5fcmVhZGVyLmFib3J0KCl9fWYoQ2gsZmMpO2NsYXNzIEFoIGV4dGVuZHMgemZ7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0ZpbGVSZXBvc2l0b3J5J31pbml0KCl7dGhpcy5sb2FkZXJzPW5ldyBBYyx0aGlzLnNldCgndXBsb2FkZWQnLDApLHRoaXMuc2V0KCd1cGxvYWRUb3RhbCcsbnVsbCksdGhpcy5iaW5kKCd1cGxvYWRlZFBlcmNlbnQnKS50byh0aGlzLCd1cGxvYWRlZCcsdGhpcywndXBsb2FkVG90YWwnLChlLHQpPT50PzEwMCooZS90KTowKX1nZXRMb2FkZXIoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5sb2FkZXJzKWlmKHQuZmlsZT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1jcmVhdGVMb2FkZXIoZSl7aWYoIXRoaXMuY3JlYXRlVXBsb2FkQWRhcHRlcilyZXR1cm4gU3UuZXJyb3IoJ2ZpbGVyZXBvc2l0b3J5LW5vLXVwbG9hZC1hZGFwdGVyOiBVcGxvYWQgYWRhcHRlciBpcyBub3QgZGVmaW5lZC4nKSxudWxsO2NvbnN0IHQ9bmV3IFRoKGUpO3JldHVybiB0Ll9hZGFwdGVyPXRoaXMuY3JlYXRlVXBsb2FkQWRhcHRlcih0KSx0aGlzLmxvYWRlcnMuYWRkKHQpLHQub24oJ2NoYW5nZTp1cGxvYWRlZCcsKCk9PntsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHRoaXMubG9hZGVycyllKz10LnVwbG9hZGVkO3RoaXMudXBsb2FkZWQ9ZX0pLHQub24oJ2NoYW5nZTp1cGxvYWRUb3RhbCcsKCk9PntsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHRoaXMubG9hZGVycyl0LnVwbG9hZFRvdGFsJiYoZSs9dC51cGxvYWRUb3RhbCk7dGhpcy51cGxvYWRUb3RhbD1lfSksdH1kZXN0cm95TG9hZGVyKGUpe2NvbnN0IHQ9ZSBpbnN0YW5jZW9mIFRoP2U6dGhpcy5nZXRMb2FkZXIoZSk7dC5fZGVzdHJveSgpLHRoaXMubG9hZGVycy5yZW1vdmUodCl9fWYoQWgsZmMpO2NsYXNzIFRoe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5pZD1pKCksdGhpcy5maWxlPWUsdGhpcy5fYWRhcHRlcj10LHRoaXMuX3JlYWRlcj1uZXcgQ2gsdGhpcy5zZXQoJ3N0YXR1cycsJ2lkbGUnKSx0aGlzLnNldCgndXBsb2FkZWQnLDApLHRoaXMuc2V0KCd1cGxvYWRUb3RhbCcsbnVsbCksdGhpcy5iaW5kKCd1cGxvYWRlZFBlcmNlbnQnKS50byh0aGlzLCd1cGxvYWRlZCcsdGhpcywndXBsb2FkVG90YWwnLChlLHQpPT50PzEwMCooZS90KTowKSx0aGlzLnNldCgndXBsb2FkUmVzcG9uc2UnLG51bGwpfXJlYWQoKXtpZignaWRsZSchPXRoaXMuc3RhdHVzKXRocm93IG5ldyBZYSgnZmlsZXJlcG9zaXRvcnktcmVhZC13cm9uZy1zdGF0dXM6IFlvdSBjYW5ub3QgY2FsbCByZWFkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS4nKTtyZXR1cm4gdGhpcy5zdGF0dXM9J3JlYWRpbmcnLHRoaXMuX3JlYWRlci5yZWFkKHRoaXMuZmlsZSkudGhlbigoZSk9Pih0aGlzLnN0YXR1cz0naWRsZScsZSkpLmNhdGNoKChlKT0+e2lmKCdhYm9ydGVkJz09PWUpdGhyb3cgdGhpcy5zdGF0dXM9J2Fib3J0ZWQnLCdhYm9ydGVkJzt0aHJvdyB0aGlzLnN0YXR1cz0nZXJyb3InLHRoaXMuX3JlYWRlci5lcnJvcn0pfXVwbG9hZCgpe2lmKCdpZGxlJyE9dGhpcy5zdGF0dXMpdGhyb3cgbmV3IFlhKCdmaWxlcmVwb3NpdG9yeS11cGxvYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgdXBsb2FkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS4nKTtyZXR1cm4gdGhpcy5zdGF0dXM9J3VwbG9hZGluZycsdGhpcy5fYWRhcHRlci51cGxvYWQoKS50aGVuKChlKT0+KHRoaXMudXBsb2FkUmVzcG9uc2U9ZSx0aGlzLnN0YXR1cz0naWRsZScsZSkpLmNhdGNoKChlKT0+e2lmKCdhYm9ydGVkJz09PXRoaXMuc3RhdHVzKXRocm93J2Fib3J0ZWQnO3Rocm93IHRoaXMuc3RhdHVzPSdlcnJvcicsZX0pfWFib3J0KCl7Y29uc3QgZT10aGlzLnN0YXR1czt0aGlzLnN0YXR1cz0nYWJvcnRlZCcsJ3JlYWRpbmcnPT1lJiZ0aGlzLl9yZWFkZXIuYWJvcnQoKSwndXBsb2FkaW5nJz09ZSYmdGhpcy5fYWRhcHRlci5hYm9ydCYmdGhpcy5fYWRhcHRlci5hYm9ydCgpLHRoaXMuX2Rlc3Ryb3koKX1fZGVzdHJveSgpe3RoaXMuX3JlYWRlcj12b2lkIDAsdGhpcy5fYWRhcHRlcj12b2lkIDAsdGhpcy5kYXRhPXZvaWQgMCx0aGlzLnVwbG9hZFJlc3BvbnNlPXZvaWQgMCx0aGlzLmZpbGU9dm9pZCAwfX1mKFRoLGZjKTtjb25zdCBQaD0nY2tDc3JmVG9rZW4nLEVoPTQwLFNoPSdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO2NsYXNzIE9oIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltBaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0NLRmluZGVyVXBsb2FkQWRhcHRlcid9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuY29uZmlnLmdldCgnY2tmaW5kZXIudXBsb2FkVXJsJyk7ZSYmKHRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KEFoKS5jcmVhdGVVcGxvYWRBZGFwdGVyPSh0KT0+bmV3IFJoKHQsZSx0aGlzLmVkaXRvci50KSl9fWNsYXNzIFJoe2NvbnN0cnVjdG9yKGUsbyxuKXt0aGlzLmxvYWRlcj1lLHRoaXMudXJsPW8sdGhpcy50PW59dXBsb2FkKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57dGhpcy5faW5pdFJlcXVlc3QoKSx0aGlzLl9pbml0TGlzdGVuZXJzKGUsdCksdGhpcy5fc2VuZFJlcXVlc3QoKX0pfWFib3J0KCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9X2luaXRSZXF1ZXN0KCl7Y29uc3QgZT10aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKCdQT1NUJyx0aGlzLnVybCwhMCksZS5yZXNwb25zZVR5cGU9J2pzb24nfV9pbml0TGlzdGVuZXJzKGUsbyl7Y29uc3Qgbj10aGlzLnhocixpPXRoaXMubG9hZGVyLHI9dGhpcy50LHQ9cignYScpK2AgJHtpLmZpbGUubmFtZX0uYDtuLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywoKT0+byh0KSksbi5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsKCk9Pm8oKSksbi5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGk9bi5yZXNwb25zZTtyZXR1cm4gaSYmaS51cGxvYWRlZD92b2lkIGUoe2RlZmF1bHQ6aS51cmx9KTpvKGkmJmkuZXJyb3ImJmkuZXJyb3IubWVzc2FnZT9pLmVycm9yLm1lc3NhZ2U6dCl9KSxuLnVwbG9hZCYmbi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLChlKT0+e2UubGVuZ3RoQ29tcHV0YWJsZSYmKGkudXBsb2FkVG90YWw9ZS50b3RhbCxpLnVwbG9hZGVkPWUubG9hZGVkKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IGU9bmV3IEZvcm1EYXRhO2UuYXBwZW5kKCd1cGxvYWQnLHRoaXMubG9hZGVyLmZpbGUpLGUuYXBwZW5kKCdja0NzcmZUb2tlbicsQ2koKSksdGhpcy54aHIuc2VuZChlKX19Y2xhc3MgSWh7Y29uc3RydWN0b3IoZSx0LG8pe2xldCBuO2lmKCdmdW5jdGlvbic9PXR5cGVvZiBvKW49bztlbHNle249KCk9PntlLmV4ZWN1dGUobyl9fWUubW9kZWwuZG9jdW1lbnQub24oJ2NoYW5nZScsKG8saSk9PntpZigndHJhbnNwYXJlbnQnPT1pLnR5cGUpcmV0dXJuO2NvbnN0IHI9QXJyYXkuZnJvbShlLm1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCkpLGE9clswXTtpZigxIT1yLmxlbmd0aHx8J2luc2VydCchPT1hLnR5cGV8fCckdGV4dCchPWEubmFtZXx8MSE9YS5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9YS5wb3NpdGlvbi50ZXh0Tm9kZXx8YS5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoIXMucGFyZW50LmlzKCdwYXJhZ3JhcGgnKSlyZXR1cm47Y29uc3QgbD10LmV4ZWMocy5kYXRhKTtsJiZlLm1vZGVsLmVucXVldWVDaGFuZ2UoKGUpPT57Y29uc3QgdD1IdS5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHMocy5wYXJlbnQsMCxzLnBhcmVudCxsWzBdLmxlbmd0aCk7ZS5yZW1vdmUodCksbih7bWF0Y2g6bH0pfSl9KX19Y2xhc3MgVmh7Y29uc3RydWN0b3IoZSx0LG8pe2xldCBuLGkscixhO3QgaW5zdGFuY2VvZiBSZWdFeHA/bj10OnI9dCwnc3RyaW5nJz09dHlwZW9mIG8/aT1vOmE9byxyPXJ8fCgoZSk9PntsZXQgdDtjb25zdCBvPVtdLGk9W107Zm9yKDtudWxsIT09KHQ9bi5leGVjKGUpKSYmISh0JiY0PnQubGVuZ3RoKTspe2xldHtpbmRleDplLDE6biwyOnIsMzphfT10O2UrPXRbMF0ubGVuZ3RoLShuK3IrYSkubGVuZ3RoO2NvbnN0IHM9W2UsZStuLmxlbmd0aF0sbD1bZStuLmxlbmd0aCtyLmxlbmd0aCxlK24ubGVuZ3RoK3IubGVuZ3RoK2EubGVuZ3RoXTtvLnB1c2gocyksby5wdXNoKGwpLGkucHVzaChbZStuLmxlbmd0aCxlK24ubGVuZ3RoK3IubGVuZ3RoXSl9cmV0dXJue3JlbW92ZTpvLGZvcm1hdDppfX0pLGE9YXx8KChlLHQpPT57Zm9yKGNvbnN0IG8gb2YgdCllLnNldEF0dHJpYnV0ZShpLCEwLG8pO2UucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKGkpfSksZS5tb2RlbC5kb2N1bWVudC5vbignY2hhbmdlJywodCxvKT0+e2lmKCd0cmFuc3BhcmVudCc9PW8udHlwZSlyZXR1cm47Y29uc3Qgbj1lLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighbi5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3Qgcz1BcnJheS5mcm9tKGUubW9kZWwuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSksbD1zWzBdO2lmKDEhPXMubGVuZ3RofHwnaW5zZXJ0JyE9PWwudHlwZXx8JyR0ZXh0JyE9bC5uYW1lfHwxIT1sLmxlbmd0aClyZXR1cm47Y29uc3QgZD1uLmZvY3VzLnBhcmVudCxjPUVpKGQpLnNsaWNlKDAsbi5mb2N1cy5vZmZzZXQpLHU9cihjKSxtPVNpKGQsdS5mb3JtYXQpLHA9U2koZCx1LnJlbW92ZSk7bS5sZW5ndGgmJnAubGVuZ3RoJiZlLm1vZGVsLmVucXVldWVDaGFuZ2UoKHQpPT57Y29uc3Qgbz1lLm1vZGVsLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhtLGkpO2EodCxvKTtmb3IoY29uc3QgZSBvZiBwLnJldmVyc2UoKSl0LnJlbW92ZShlKX0pfSl9fWNsYXNzIEZoIGV4dGVuZHMgemZ7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0F1dG9mb3JtYXQnfWFmdGVySW5pdCgpe3RoaXMuX2FkZExpc3RBdXRvZm9ybWF0cygpLHRoaXMuX2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRIZWFkaW5nQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRCbG9ja1F1b3RlQXV0b2Zvcm1hdHMoKX1fYWRkTGlzdEF1dG9mb3JtYXRzKCl7Y29uc3QgZT10aGlzLmVkaXRvci5jb21tYW5kcztlLmdldCgnYnVsbGV0ZWRMaXN0JykmJm5ldyBJaCh0aGlzLmVkaXRvciwvXlsqLV1cXHMkLywnYnVsbGV0ZWRMaXN0JyksZS5nZXQoJ251bWJlcmVkTGlzdCcpJiZuZXcgSWgodGhpcy5lZGl0b3IsL15cXGQrWy58KV1cXHMkLywnbnVtYmVyZWRMaXN0Jyl9X2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKXtjb25zdCBlPXRoaXMuZWRpdG9yLmNvbW1hbmRzO2UuZ2V0KCdib2xkJykmJihuZXcgVmgodGhpcy5lZGl0b3IsLyhcXCpcXCopKFteKl0rKShcXCpcXCopJC9nLCdib2xkJyksbmV3IFZoKHRoaXMuZWRpdG9yLC8oX18pKFteX10rKShfXykkL2csJ2JvbGQnKSksZS5nZXQoJ2l0YWxpYycpJiYobmV3IFZoKHRoaXMuZWRpdG9yLC8oPzpefFteKl0pKFxcKikoW14qX10rKShcXCopJC9nLCdpdGFsaWMnKSxuZXcgVmgodGhpcy5lZGl0b3IsLyg/Ol58W15fXSkoXykoW15fXSspKF8pJC9nLCdpdGFsaWMnKSksZS5nZXQoJ2NvZGUnKSYmbmV3IFZoKHRoaXMuZWRpdG9yLC8oYCkoW15gXSspKGApJC9nLCdjb2RlJyl9X2FkZEhlYWRpbmdBdXRvZm9ybWF0cygpe2NvbnN0IGU9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KCdoZWFkaW5nJyk7ZSYmZS5tb2RlbEVsZW1lbnRzLmZpbHRlcigoZSk9PmUubWF0Y2goL15oZWFkaW5nWzEtNl0kLykpLmZvckVhY2goKGUpPT57Y29uc3QgdD1lWzddLG89bmV3IFJlZ0V4cChgXigjeyR7dH19KVxcXFxzJGApO25ldyBJaCh0aGlzLmVkaXRvcixvLCgpPT57dGhpcy5lZGl0b3IuZXhlY3V0ZSgnaGVhZGluZycse3ZhbHVlOmV9KX0pfSl9X2FkZEJsb2NrUXVvdGVBdXRvZm9ybWF0cygpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpJiZuZXcgSWgodGhpcy5lZGl0b3IsL14+XFxzJC8sJ2Jsb2NrUXVvdGUnKX19Y2xhc3MgTmggZXh0ZW5kcyBIZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuYXR0cmlidXRlS2V5PXR9cmVmcmVzaCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50O3RoaXMudmFsdWU9dC5zZWxlY3Rpb24uaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KSx0aGlzLmlzRW5hYmxlZD1lLnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQuc2VsZWN0aW9uLHRoaXMuYXR0cmlidXRlS2V5KX1leGVjdXRlKGU9e30pe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LG49by5zZWxlY3Rpb24saT1lLmZvcmNlVmFsdWU9PT12b2lkIDA/IXRoaXMudmFsdWU6ZS5mb3JjZVZhbHVlO3QuY2hhbmdlKChlKT0+e2lmKG4uaXNDb2xsYXBzZWQpaT9lLnNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSwhMCk6ZS5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO2Vsc2V7Y29uc3Qgbz10LnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLmdldFJhbmdlcygpLHRoaXMuYXR0cmlidXRlS2V5KTtmb3IoY29uc3QgdCBvZiBvKWk/ZS5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksaSx0KTplLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSx0KX19KX19Y29uc3QgTWg9J2JvbGQnO2NsYXNzIERoIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5zY2hlbWEuZXh0ZW5kKCckdGV4dCcse2FsbG93QXR0cmlidXRlczpNaH0pLGUuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOk1oLHZpZXc6J3N0cm9uZycsdXBjYXN0QWxzbzpbJ2InLHtzdHlsZXM6e1wiZm9udC13ZWlnaHRcIjonYm9sZCd9fV19KSxlLmNvbW1hbmRzLmFkZChNaCxuZXcgTmgoZSxNaCkpLGUua2V5c3Ryb2tlcy5zZXQoJ0NUUkwrQicsTWgpfX12YXIgQmg9bygzMiksTGg9by5uKEJoKTtjb25zdCB6aD0nYm9sZCc7Y2xhc3MgamggZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUudDtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKHpoLCh0KT0+e2NvbnN0IG49ZS5jb21tYW5kcy5nZXQoemgpLGk9bmV3IGhoKHQpO3JldHVybiBpLnNldCh7bGFiZWw6bygnYicpLGljb246TGguYSxrZXlzdHJva2U6J0NUUkwrQicsdG9vbHRpcDohMH0pLGkuYmluZCgnaXNPbicsJ2lzRW5hYmxlZCcpLnRvKG4sJ3ZhbHVlJywnaXNFbmFibGVkJyksdGhpcy5saXN0ZW5UbyhpLCdleGVjdXRlJywoKT0+ZS5leGVjdXRlKHpoKSksaX0pfX1jbGFzcyBxaCBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bRGgsamhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidCb2xkJ319Y29uc3QgV2g9J2l0YWxpYyc7Y2xhc3MgVWggZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLm1vZGVsLnNjaGVtYS5leHRlbmQoJyR0ZXh0Jyx7YWxsb3dBdHRyaWJ1dGVzOldofSksZS5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6V2gsdmlldzonaScsdXBjYXN0QWxzbzpbJ2VtJyx7c3R5bGVzOntcImZvbnQtc3R5bGVcIjonaXRhbGljJ319XX0pLGUuY29tbWFuZHMuYWRkKFdoLG5ldyBOaChlLFdoKSksZS5rZXlzdHJva2VzLnNldCgnQ1RSTCtJJyxXaCl9fXZhciBIaD1vKDMzKSxLaD1vLm4oSGgpO2NvbnN0IEdoPSdpdGFsaWMnO2NsYXNzICRoIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChHaCwodCk9Pntjb25zdCBuPWUuY29tbWFuZHMuZ2V0KEdoKSxpPW5ldyBoaCh0KTtyZXR1cm4gaS5zZXQoe2xhYmVsOm8oJ2MnKSxpY29uOktoLmEsa2V5c3Ryb2tlOidDVFJMK0knLHRvb2x0aXA6ITB9KSxpLmJpbmQoJ2lzT24nLCdpc0VuYWJsZWQnKS50byhuLCd2YWx1ZScsJ2lzRW5hYmxlZCcpLHRoaXMubGlzdGVuVG8oaSwnZXhlY3V0ZScsKCk9PmUuZXhlY3V0ZShHaCkpLGl9KX19Y2xhc3MgSmggZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1VoLCRoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSXRhbGljJ319Y2xhc3MgUWggZXh0ZW5kcyBIZntyZWZyZXNoKCl7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZSgpLHRoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLHQ9ZS5kb2N1bWVudCxvPWUuc2NoZW1hLG49QXJyYXkuZnJvbSh0LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtlLmNoYW5nZSgoZSk9PntpZih0aGlzLnZhbHVlKXRoaXMuX3JlbW92ZVF1b3RlKGUsbi5maWx0ZXIoUmkpKTtlbHNle2NvbnN0IHQ9bi5maWx0ZXIoKGUpPT5SaShlKXx8VmkobyxlKSk7dGhpcy5fYXBwbHlRdW90ZShlLHQpfX0pfV9nZXRWYWx1ZSgpe2NvbnN0IGU9T2kodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhKGUmJlJpKGUpKX1fY2hlY2tFbmFibGVkKCl7aWYodGhpcy52YWx1ZSlyZXR1cm4hMDtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbix0PXRoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYSxvPU9pKGUuZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7cmV0dXJuISFvJiZWaSh0LG8pfV9yZW1vdmVRdW90ZShlLHQpe0lpKHQpLnJldmVyc2UoKS5mb3JFYWNoKCh0KT0+e2lmKHQuc3RhcnQuaXNBdFN0YXJ0JiZ0LmVuZC5pc0F0RW5kKXJldHVybiB2b2lkIGUudW53cmFwKHQuc3RhcnQucGFyZW50KTtpZih0LnN0YXJ0LmlzQXRTdGFydCl7Y29uc3Qgbz1VdS5jcmVhdGVCZWZvcmUodC5zdGFydC5wYXJlbnQpO3JldHVybiB2b2lkIGUubW92ZSh0LG8pfXQuZW5kLmlzQXRFbmR8fGUuc3BsaXQodC5lbmQpO2NvbnN0IG89VXUuY3JlYXRlQWZ0ZXIodC5lbmQucGFyZW50KTtlLm1vdmUodCxvKX0pfV9hcHBseVF1b3RlKGUsdCl7Y29uc3Qgbz1bXTtJaSh0KS5yZXZlcnNlKCkuZm9yRWFjaCgodCk9PntsZXQgbj1SaSh0LnN0YXJ0KTtufHwobj1uZXcganUoJ2Jsb2NrUXVvdGUnKSxlLndyYXAodCxuKSksby5wdXNoKG4pfSksby5yZXZlcnNlKCkucmVkdWNlKCh0LG8pPT50Lm5leHRTaWJsaW5nPT1vPyhlLm1lcmdlKFV1LmNyZWF0ZUFmdGVyKHQpKSx0KTpvKX19Y2xhc3MgWWggZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUubW9kZWwuc2NoZW1hO2UuY29tbWFuZHMuYWRkKCdibG9ja1F1b3RlJyxuZXcgUWgoZSkpLHQucmVnaXN0ZXIoJ2Jsb2NrUXVvdGUnLHthbGxvd1doZXJlOickYmxvY2snLGFsbG93Q29udGVudE9mOickcm9vdCd9KSx0LmFkZENoaWxkQ2hlY2soKGUsdCk9PntpZihlLmVuZHNXaXRoKCdibG9ja1F1b3RlJykmJidibG9ja1F1b3RlJz09dC5uYW1lKXJldHVybiExfSksZS5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOidibG9ja1F1b3RlJyx2aWV3OidibG9ja3F1b3RlJ30pfWFmdGVySW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpO3RoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LCdlbnRlcicsKGUsbyk9Pntjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LGk9bi5zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCkucGFyZW50O24uc2VsZWN0aW9uLmlzQ29sbGFwc2VkJiZpLmlzRW1wdHkmJnQudmFsdWUmJih0aGlzLmVkaXRvci5leGVjdXRlKCdibG9ja1F1b3RlJyksdGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LnNjcm9sbFRvVGhlU2VsZWN0aW9uKCksby5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcCgpKX0pfX12YXIgWGg9bygzNCksWmg9by5uKFhoKSxlYj1vKDM1KSx0Yj1vLm4oZWIpO2NsYXNzIG9iIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCgnYmxvY2tRdW90ZScsKHQpPT57Y29uc3Qgbj1lLmNvbW1hbmRzLmdldCgnYmxvY2tRdW90ZScpLGk9bmV3IGhoKHQpO3JldHVybiBpLnNldCh7bGFiZWw6bygnZCcpLGljb246WmguYSx0b29sdGlwOiEwfSksaS5iaW5kKCdpc09uJywnaXNFbmFibGVkJykudG8obiwndmFsdWUnLCdpc0VuYWJsZWQnKSx0aGlzLmxpc3RlblRvKGksJ2V4ZWN1dGUnLCgpPT5lLmV4ZWN1dGUoJ2Jsb2NrUXVvdGUnKSksaX0pfX1jbGFzcyBuYiBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bWWgsb2JdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidCbG9ja1F1b3RlJ319Y29uc3QgaWI9L15kYXRhOihcXFMqPyk7YmFzZTY0LC87Y2xhc3MgcmJ7Y29uc3RydWN0b3IoZSx0LG8pe2lmKCFlKXRocm93IG5ldyBFcnJvcignRmlsZSBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCdBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkJyk7dGhpcy5maWxlPU5pKGUpP0ZpKGUpOmUsdGhpcy5fdG9rZW49dCx0aGlzLl9hcGlBZGRyZXNzPW99b25Qcm9ncmVzcyhlKXtyZXR1cm4gdGhpcy5vbigncHJvZ3Jlc3MnLCh0LG8pPT5lKG8pKSx0aGlzfW9uRXJyb3IoZSl7cmV0dXJuIHRoaXMub25jZSgnZXJyb3InLCh0LG8pPT5lKG8pKSx0aGlzfWFib3J0KCl7dGhpcy54aHIuYWJvcnQoKX1zZW5kKCl7cmV0dXJuIHRoaXMuX3ByZXBhcmVSZXF1ZXN0KCksdGhpcy5fYXR0YWNoWEhSTGlzdGVuZXJzKCksdGhpcy5fc2VuZFJlcXVlc3QoKX1fcHJlcGFyZVJlcXVlc3QoKXtjb25zdCBlPW5ldyBYTUxIdHRwUmVxdWVzdDtlLm9wZW4oJ1BPU1QnLHRoaXMuX2FwaUFkZHJlc3MpLGUuc2V0UmVxdWVzdEhlYWRlcignQXV0aG9yaXphdGlvbicsdGhpcy5fdG9rZW4udmFsdWUpLGUucmVzcG9uc2VUeXBlPSdqc29uJyx0aGlzLnhocj1lfV9hdHRhY2hYSFJMaXN0ZW5lcnMoKXtmdW5jdGlvbiBlKGUpe3JldHVybigpPT50LmZpcmUoJ2Vycm9yJyxlKX1jb25zdCB0PXRoaXMsbz10aGlzLnhocjtvLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxlKCdOZXR3b3JrIEVycm9yJykpLG8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLGUoJ0Fib3J0JykpLG8udXBsb2FkJiZvLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsKGUpPT57ZS5sZW5ndGhDb21wdXRhYmxlJiZ0aGlzLmZpcmUoJ3Byb2dyZXNzJyx7dG90YWw6ZS50b3RhbCx1cGxvYWRlZDplLmxvYWRlZH0pfSksby5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGU9by5zdGF0dXMsdD1vLnJlc3BvbnNlO2lmKDIwMD5lfHwyOTk8ZSlyZXR1cm4gdGhpcy5maXJlKCdlcnJvcicsdC5tZXNzYWdlfHx0LmVycm9yKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IGU9bmV3IEZvcm1EYXRhLHQ9dGhpcy54aHI7cmV0dXJuIGUuYXBwZW5kKCdmaWxlJyx0aGlzLmZpbGUpLG5ldyBQcm9taXNlKChvLG4pPT57dC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywoKT0+e2NvbnN0IGU9dC5zdGF0dXMsaT10LnJlc3BvbnNlO3JldHVybiAyMDA+ZXx8Mjk5PGU/bihpLm1lc3NhZ2V8fGkuZXJyb3IpOm8oaSl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywoKT0+bignTmV0d29yayBFcnJvcicpKSx0LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywoKT0+bignQWJvcnQnKSksdC5zZW5kKGUpfSl9fWYocmIscnMpO2NvbnN0IGFiPXtyZWZyZXNoSW50ZXJ2YWw6MzZlNSxhdXRvUmVmcmVzaDohMH07Y2xhc3Mgc2J7Y29uc3RydWN0b3IoZSx0PWFiKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoJ2B0b2tlblVybGAgbXVzdCBiZSBwcm92aWRlZCcpO3RoaXMuc2V0KCd2YWx1ZScsdC5pbml0VmFsdWUpLHRoaXMuX3Rva2VuVXJsPWUsdGhpcy5fb3B0aW9ucz1PYmplY3QuYXNzaWduKHt9LGFiLHQpfWluaXQoKXtyZXR1cm4gbmV3IFByb21pc2UoKGUsdCk9Pih0aGlzLl9vcHRpb25zLmF1dG9SZWZyZXNoJiZ0aGlzLl9zdGFydFJlZnJlc2hpbmcoKSx0aGlzLnZhbHVlP3ZvaWQgZSh0aGlzKTp2b2lkIHRoaXMuX3JlZnJlc2hUb2tlbigpLnRoZW4oZSkuY2F0Y2godCkpKX1fcmVmcmVzaFRva2VuKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57Y29uc3Qgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKCdHRVQnLHRoaXMuX3Rva2VuVXJsKSxvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCgpPT57Y29uc3Qgbj1vLnN0YXR1cyxpPW8ucmVzcG9uc2U7cmV0dXJuIDIwMD5ufHwyOTk8bj90KCdDYW5ub3QgZG93bmxvYWQgbmV3IHRva2VuIScpOih0aGlzLnNldCgndmFsdWUnLGkpLGUodGhpcykpfSksby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsKCk9PnQoJ05ldHdvcmsgRXJyb3InKSksby5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsKCk9PnQoJ0Fib3J0JykpLG8uc2VuZCgpfSl9X3N0YXJ0UmVmcmVzaGluZygpe3RoaXMuX3JlZnJlc2hJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLl9yZWZyZXNoVG9rZW4uYmluZCh0aGlzKSx0aGlzLl9vcHRpb25zLnJlZnJlc2hJbnRlcnZhbCl9X3N0b3BSZWZyZXNoaW5nKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLl9yZWZyZXNoSW50ZXJ2YWwpfXN0YXRpYyBjcmVhdGUoZSx0PWFiKXtjb25zdCBvPW5ldyBzYihlLHQpO3JldHVybiBvLmluaXQoKX19ZihzYixmYyk7Y2xhc3MgbGIgZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29uZmlnLG89dC5nZXQoJ2Nsb3VkU2VydmljZXMnKXx8e307Zm9yKGNvbnN0IGUgaW4gbyl0aGlzW2VdPW9bZV07cmV0dXJuIHRoaXMudG9rZW5Vcmw/KHRoaXMudG9rZW49bmV3IGxiLlRva2VuKHRoaXMudG9rZW5VcmwpLHRoaXMudG9rZW4uaW5pdCgpKTp2b2lkKHRoaXMudG9rZW49bnVsbCl9fWxiLlRva2VuPXNiO2NsYXNzIGRiIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltBaCxsYl19aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLnBsdWdpbnMuZ2V0KGxiKSxvPXQudG9rZW4sbj10LnVwbG9hZFVybDtvJiYodGhpcy5fdXBsb2FkR2F0ZXdheT1uZXcgZGIuX1VwbG9hZEdhdGV3YXkobyxuKSxlLnBsdWdpbnMuZ2V0KEFoKS5jcmVhdGVVcGxvYWRBZGFwdGVyPShlKT0+bmV3IGNiKHRoaXMuX3VwbG9hZEdhdGV3YXksZSkpfX1jbGFzcyBjYntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudXBsb2FkR2F0ZXdheT1lLHRoaXMubG9hZGVyPXR9dXBsb2FkKCl7cmV0dXJuIHRoaXMuZmlsZVVwbG9hZGVyPXRoaXMudXBsb2FkR2F0ZXdheS51cGxvYWQodGhpcy5sb2FkZXIuZmlsZSksdGhpcy5maWxlVXBsb2FkZXIub24oJ3Byb2dyZXNzJywoZSx0KT0+e3RoaXMubG9hZGVyLnVwbG9hZFRvdGFsPXQudG90YWwsdGhpcy5sb2FkZXIudXBsb2FkZWQ9dC51cGxvYWRlZH0pLHRoaXMuZmlsZVVwbG9hZGVyLnNlbmQoKX1hYm9ydCgpe3RoaXMuZmlsZVVwbG9hZGVyLmFib3J0KCl9fWRiLl9VcGxvYWRHYXRld2F5PWNsYXNze2NvbnN0cnVjdG9yKGUsdCl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIHByb3ZpZGVkJyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkJyk7dGhpcy5fdG9rZW49ZSx0aGlzLl9hcGlBZGRyZXNzPXR9dXBsb2FkKGUpe3JldHVybiBuZXcgcmIoZSx0aGlzLl90b2tlbix0aGlzLl9hcGlBZGRyZXNzKX19O2NsYXNzIHVie2NvbnN0cnVjdG9yKCl7dGhpcy5fc3RhY2s9W119YWRkKGUsdCl7Y29uc3Qgbz10aGlzLl9zdGFjayxuPW9bMF07dGhpcy5faW5zZXJ0RGVzY3JpcHRvcihlKTtjb25zdCBpPW9bMF07bj09PWl8fExpKG4saSl8fHRoaXMuZmlyZSgnY2hhbmdlOnRvcCcse29sZERlc2NyaXB0b3I6bixuZXdEZXNjcmlwdG9yOmksd3JpdGVyOnR9KX1yZW1vdmUoZSx0KXtjb25zdCBvPXRoaXMuX3N0YWNrLG49b1swXTt0aGlzLl9yZW1vdmVEZXNjcmlwdG9yKGUpO2NvbnN0IGk9b1swXTtuPT09aXx8TGkobixpKXx8dGhpcy5maXJlKCdjaGFuZ2U6dG9wJyx7b2xkRGVzY3JpcHRvcjpuLG5ld0Rlc2NyaXB0b3I6aSx3cml0ZXI6dH0pfV9pbnNlcnREZXNjcmlwdG9yKGUpe2NvbnN0IHQ9dGhpcy5fc3RhY2ssbz10LmZpbmRJbmRleCgodCk9PnQuaWQ9PT1lLmlkKTtpZighTGkoZSx0W29dKSl7LTE8byYmdC5zcGxpY2UobywxKTtsZXQgbj0wO2Zvcig7dFtuXSYmemkodFtuXSxlKTspbisrO3Quc3BsaWNlKG4sMCxlKX19X3JlbW92ZURlc2NyaXB0b3IoZSl7Y29uc3QgdD10aGlzLl9zdGFjayxvPXQuZmluZEluZGV4KCh0KT0+dC5pZD09PWUpOy0xPG8mJnQuc3BsaWNlKG8sMSl9fWYodWIscnMpO2NvbnN0IG1iPVN5bWJvbCgnaXNXaWRnZXQnKSxwYj1TeW1ib2woJ2xhYmVsJyksZ2I9J2NrLXdpZGdldCcsZmI9J2NrLXdpZGdldF9zZWxlY3RlZCcsaGI9U3ltYm9sKCdpc0ltYWdlJyk7Y2xhc3MgYmIgZXh0ZW5kcyB6Zntpbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcixvPWUubW9kZWwuc2NoZW1hLG49ZS50LHQ9ZS5jb252ZXJzaW9uO28ucmVnaXN0ZXIoJ2ltYWdlJyx7aXNPYmplY3Q6ITAsaXNCbG9jazohMCxhbGxvd1doZXJlOickYmxvY2snLGFsbG93QXR0cmlidXRlczpbJ2FsdCcsJ3NyYycsJ3NyY3NldCddfSksdC5mb3IoJ2RhdGFEb3duY2FzdCcpLmFkZChodCh7bW9kZWw6J2ltYWdlJyx2aWV3OihlLHQpPT5aaSh0KX0pKSx0LmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKGh0KHttb2RlbDonaW1hZ2UnLHZpZXc6KGUsdCk9PkppKFppKHQpLHQsbignbycpKX0pKSx0LmZvcignZG93bmNhc3QnKS5hZGQoQmkoJ3NyYycpKS5hZGQoQmkoJ2FsdCcpKS5hZGQoRGkoKSksdC5mb3IoJ3VwY2FzdCcpLmFkZChZdCh7dmlldzp7bmFtZTonaW1nJyxhdHRyaWJ1dGVzOntzcmM6ITB9fSxtb2RlbDooZSx0KT0+dC5jcmVhdGVFbGVtZW50KCdpbWFnZScse3NyYzplLmdldEF0dHJpYnV0ZSgnc3JjJyl9KX0pKS5hZGQoWnQoe3ZpZXc6e25hbWU6J2ltZycsa2V5OidhbHQnfSxtb2RlbDonYWx0J30pKS5hZGQoWnQoe3ZpZXc6e25hbWU6J2ltZycsa2V5OidzcmNzZXQnfSxtb2RlbDp7a2V5OidzcmNzZXQnLHZhbHVlOihlKT0+e2NvbnN0IHQ9e2RhdGE6ZS5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpfTtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUoJ3dpZHRoJykmJih0LndpZHRoPWUuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSx0fX19KSkuYWRkKE1pKCkpfX1jbGFzcyBrYiBleHRlbmRzIF91e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZG9tRXZlbnRUeXBlPSdtb3VzZWRvd24nfW9uRG9tRXZlbnQoZSl7dGhpcy5maXJlKGUudHlwZSxlKX19dmFyIF9iPW8oMzcpLHdiPW8ubihfYik7Y29uc3QgdmI9b2UoJ0N0cmwrQScpO2NsYXNzIHliIGV4dGVuZHMgemZ7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ1dpZGdldCd9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LHQ9ZS5kb2N1bWVudDt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQ9bmV3IFNldCx0aGlzLmVkaXRvci5lZGl0aW5nLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJywoZSx0LG8pPT57dGhpcy5fY2xlYXJQcmV2aW91c2x5U2VsZWN0ZWRXaWRnZXRzKG8ud3JpdGVyKTtjb25zdCBuPW8ud3JpdGVyLGk9bi5kb2N1bWVudC5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2Zvcihjb25zdCBhIG9mIGkuZ2V0UmFuZ2VzKCkpZm9yKGNvbnN0IGUgb2YgYSl7Y29uc3QgdD1lLml0ZW07dC5pcygnZWxlbWVudCcpJiZxaSh0KSYmKG4uYWRkQ2xhc3MoZmIsdCksdGhpcy5fcHJldmlvdXNseVNlbGVjdGVkLmFkZCh0KSx0PT1yJiZuLnNldFNlbGVjdGlvbihpLmdldFJhbmdlcygpLHtmYWtlOiEwLGxhYmVsOktpKHIpfSkpfX0se3ByaW9yaXR5Oidsb3cnfSksZS5hZGRPYnNlcnZlcihrYiksdGhpcy5saXN0ZW5Ubyh0LCdtb3VzZWRvd24nLCguLi5lKT0+dGhpcy5fb25Nb3VzZWRvd24oLi4uZSkpLHRoaXMubGlzdGVuVG8odCwna2V5ZG93bicsKC4uLmUpPT50aGlzLl9vbktleWRvd24oLi4uZSkse3ByaW9yaXR5OidoaWdoJ30pLHRoaXMubGlzdGVuVG8odCwnZGVsZXRlJywoZSx0KT0+e3RoaXMuX2hhbmRsZURlbGV0ZSgnZm9yd2FyZCc9PXQuZGlyZWN0aW9uKSYmKHQucHJldmVudERlZmF1bHQoKSxlLnN0b3AoKSl9LHtwcmlvcml0eTonaGlnaCd9KX1fb25Nb3VzZWRvd24oZSx0KXtjb25zdCBvPXRoaXMuZWRpdG9yLG49by5lZGl0aW5nLnZpZXcsaT1uLmRvY3VtZW50O2xldCByPXQudGFyZ2V0O2lmKCFvcihyKSYmKHFpKHIpfHwocj1yLmZpbmRBbmNlc3RvcihxaSksISFyKSkpe3QucHJldmVudERlZmF1bHQoKSxpLmlzRm9jdXNlZHx8bi5mb2N1cygpO2NvbnN0IGU9by5lZGl0aW5nLm1hcHBlci50b01vZGVsRWxlbWVudChyKTt0aGlzLl9zZXRTZWxlY3Rpb25PdmVyRWxlbWVudChlKX19X29uS2V5ZG93bihlLHQpe2NvbnN0IG89dC5rZXlDb2RlLG49bz09TmMuZGVsZXRlfHxvPT1OYy5hcnJvd2Rvd258fG89PU5jLmFycm93cmlnaHQ7bGV0IGk9ITE7ZXIobyk/aT10aGlzLl9oYW5kbGVBcnJvd0tleXMobik6dHIodCkmJihpPXRoaXMuX3NlbGVjdEFsbE5lc3RlZEVkaXRhYmxlQ29udGVudCgpfHx0aGlzLl9zZWxlY3RBbGxDb250ZW50KCkpLGkmJih0LnByZXZlbnREZWZhdWx0KCksZS5zdG9wKCkpfV9oYW5kbGVEZWxldGUoZSl7aWYodGhpcy5lZGl0b3IuaXNSZWFkT25seSlyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxvPXQuc2VsZWN0aW9uO2lmKCFvLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBuPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24oZSk7aWYobilyZXR1cm4gdGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKChlKT0+e2ZvcihsZXQgdD1vLmFuY2hvci5wYXJlbnQ7dC5pc0VtcHR5Oyl7Y29uc3Qgbz10O3Q9by5wYXJlbnQsZS5yZW1vdmUobyl9dGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQobil9KSwhMH1faGFuZGxlQXJyb3dLZXlzKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LnNjaGVtYSxuPXQuZG9jdW1lbnQsaT1uLnNlbGVjdGlvbixyPWkuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYociYmby5pc09iamVjdChyKSl7Y29uc3Qgbj1lP2kuZ2V0TGFzdFBvc2l0aW9uKCk6aS5nZXRGaXJzdFBvc2l0aW9uKCkscj1vLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuLGU/J2ZvcndhcmQnOidiYWNrd2FyZCcpO3JldHVybiByJiZ0LmNoYW5nZSgoZSk9PntlLnNldFNlbGVjdGlvbihyKX0pLCEwfWlmKGkuaXNDb2xsYXBzZWQpe2NvbnN0IHQ9dGhpcy5fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbihlKTtpZih0IGluc3RhbmNlb2YganUmJm8uaXNPYmplY3QodCkpcmV0dXJuIHRoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHQpLCEwfX1fc2VsZWN0QWxsTmVzdGVkRWRpdGFibGVDb250ZW50KCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89ZS5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KHQpO3JldHVybiB0LmdldEZpcnN0UmFuZ2UoKS5yb290IT1vJiYoZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb24oSHUuY3JlYXRlSW4obykpfSksITApfV9zZWxlY3RBbGxDb250ZW50KCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PXRoaXMuZWRpdG9yLmVkaXRpbmcsbz10LnZpZXcsbj1vLmRvY3VtZW50LGk9bi5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKHImJnFpKHIpKXtjb25zdCBvPXQubWFwcGVyLnRvTW9kZWxFbGVtZW50KHIucGFyZW50KTtyZXR1cm4gZS5jaGFuZ2UoKGUpPT57ZS5zZXRTZWxlY3Rpb24oSHUuY3JlYXRlSW4obykpfSksITB9cmV0dXJuITF9X3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KGUpe3RoaXMuZWRpdG9yLm1vZGVsLmNoYW5nZSgodCk9Pnt0LnNldFNlbGVjdGlvbihIdS5jcmVhdGVPbihlKSl9KX1fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbihlKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5zY2hlbWEsbj10LmRvY3VtZW50LnNlbGVjdGlvbixpPW5ldyBKdShuKTt0Lm1vZGlmeVNlbGVjdGlvbihpLHtkaXJlY3Rpb246ZT8nZm9yd2FyZCc6J2JhY2t3YXJkJ30pO2NvbnN0IHI9ZT9pLmZvY3VzLm5vZGVCZWZvcmU6aS5mb2N1cy5ub2RlQWZ0ZXI7cmV0dXJuIHIgaW5zdGFuY2VvZiBqdSYmby5pc09iamVjdChyKT9yOm51bGx9X2NsZWFyUHJldmlvdXNseVNlbGVjdGVkV2lkZ2V0cyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQpZS5yZW1vdmVDbGFzcyhmYix0KTt0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuY2xlYXIoKX19Y2xhc3MgeGIgZXh0ZW5kcyBIZntyZWZyZXNoKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5pc0VuYWJsZWQ9WGkoZSksdGhpcy52YWx1ZT0hIShYaShlKSYmZS5oYXNBdHRyaWJ1dGUoJ2FsdCcpKSYmZS5nZXRBdHRyaWJ1dGUoJ2FsdCcpfWV4ZWN1dGUoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO3QuY2hhbmdlKCh0KT0+e3Quc2V0QXR0cmlidXRlKCdhbHQnLGUubmV3VmFsdWUsbyl9KX19Y2xhc3MgQ2IgZXh0ZW5kcyB6Zntpbml0KCl7dGhpcy5lZGl0b3IuY29tbWFuZHMuYWRkKCdpbWFnZVRleHRBbHRlcm5hdGl2ZScsbmV3IHhiKHRoaXMuZWRpdG9yKSl9fWNsYXNzIEFiIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKTtjb25zdCBvPWBjay1pbnB1dC0ke2koKX1gO3RoaXMuc2V0KCdsYWJlbCcpLHRoaXMuc2V0KCd2YWx1ZScpLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KG8pLHRoaXMuaW5wdXRWaWV3PXRoaXMuX2NyZWF0ZUlucHV0Vmlldyh0LG8pO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidkaXYnLGF0dHJpYnV0ZXM6e2NsYXNzOlsnY2snLCdjay1sYWJlbGVkLWlucHV0JyxuLmlmKCdpc1JlYWRPbmx5JywnY2stZGlzYWJsZWQnKV19LGNoaWxkcmVuOlt0aGlzLmxhYmVsVmlldyx0aGlzLmlucHV0Vmlld119KX1fY3JlYXRlTGFiZWxWaWV3KGUpe2NvbnN0IHQ9bmV3IHlmKHRoaXMubG9jYWxlKTtyZXR1cm4gdC5mb3I9ZSx0LmJpbmQoJ3RleHQnKS50byh0aGlzLCdsYWJlbCcpLHR9X2NyZWF0ZUlucHV0VmlldyhlLHQpe2NvbnN0IG89bmV3IGUodGhpcy5sb2NhbGUpO3JldHVybiBvLmlkPXQsby5iaW5kKCd2YWx1ZScpLnRvKHRoaXMpLG8uYmluZCgnaXNSZWFkT25seScpLnRvKHRoaXMpLG99c2VsZWN0KCl7dGhpcy5pbnB1dFZpZXcuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmlucHV0Vmlldy5mb2N1cygpfX12YXIgVGI9bygzOSksUGI9by5uKFRiKTtjbGFzcyBFYiBleHRlbmRzIGhme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2V0KCd2YWx1ZScpLHRoaXMuc2V0KCdpZCcpLHRoaXMuc2V0KCdwbGFjZWhvbGRlcicpLHRoaXMuc2V0KCdpc1JlYWRPbmx5JywhMSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2lucHV0JyxhdHRyaWJ1dGVzOnt0eXBlOid0ZXh0JyxjbGFzczpbJ2NrJywnY2staW5wdXQnLCdjay1pbnB1dC10ZXh0J10saWQ6dC50bygnaWQnKSxwbGFjZWhvbGRlcjp0LnRvKCdwbGFjZWhvbGRlcicpLHJlYWRvbmx5OnQudG8oJ2lzUmVhZE9ubHknKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCBlPShlKT0+e3RoaXMuZWxlbWVudC52YWx1ZT1lfHwwPT09ZT9lOicnfTtlKHRoaXMudmFsdWUpLHRoaXMub24oJ2NoYW5nZTp2YWx1ZScsKHQsbyxuKT0+e2Uobil9KX1zZWxlY3QoKXt0aGlzLmVsZW1lbnQuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmVsZW1lbnQuZm9jdXMoKX19dmFyIFNiPW8oMyksT2I9by5uKFNiKSxSYj1vKDQpLEliPW8ubihSYiksVmI9byg0MSksRmI9by5uKFZiKTtjbGFzcyBOYiBleHRlbmRzIGhme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IG89dGhpcy5sb2NhbGUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgYWYsdGhpcy5rZXlzdHJva2VzPW5ldyBZZyx0aGlzLmxhYmVsZWRJbnB1dD10aGlzLl9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24obygnYWInKSxPYi5hLCdjay1idXR0b24tc2F2ZScpLHRoaXMuc2F2ZUJ1dHRvblZpZXcudHlwZT0nc3VibWl0Jyx0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG8oJ2FjJyksSWIuYSwnY2stYnV0dG9uLWNhbmNlbCcsJ2NhbmNlbCcpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IGxmLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBPZih7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOidzaGlmdCArIHRhYicsZm9jdXNOZXh0Oid0YWInfX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZm9ybScsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSddLHRhYmluZGV4OictMSd9LGNoaWxkcmVuOlt0aGlzLmxhYmVsZWRJbnB1dCx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSxpcih7dmlldzp0aGlzfSksW3RoaXMubGFiZWxlZElucHV0LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKChlKT0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKGUpLHRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSl9X2NyZWF0ZUJ1dHRvbihlLHQsbyxuKXtjb25zdCBpPW5ldyBoaCh0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDplLGljb246dCx0b29sdGlwOiEwfSksaS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6b319KSxuJiZpLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcyxuKSxpfV9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCl7Y29uc3QgZT10aGlzLmxvY2FsZS50LHQ9bmV3IEFiKHRoaXMubG9jYWxlLEViKTtyZXR1cm4gdC5sYWJlbD1lKCdhaScpLHQuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPWUoJ2FpJyksdH19dmFyIE1iPW8oNDMpLERiPW8ubihNYik7Y29uc3QgQmI9bmkoJ3B4JyksTGI9S2MuZG9jdW1lbnQuYm9keTtjbGFzcyB6YiBleHRlbmRzIGhme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO2NvbnN0IHQ9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoJ3RvcCcsMCksdGhpcy5zZXQoJ2xlZnQnLDApLHRoaXMuc2V0KCdwb3NpdGlvbicsJ2Fycm93X253JyksdGhpcy5zZXQoJ2lzVmlzaWJsZScsITEpLHRoaXMuc2V0KCd3aXRoQXJyb3cnLCEwKSx0aGlzLnNldCgnY2xhc3NOYW1lJyksdGhpcy5jb250ZW50PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stYmFsbG9vbi1wYW5lbCcsdC50bygncG9zaXRpb24nLChlKT0+YGNrLWJhbGxvb24tcGFuZWxfJHtlfWApLHQuaWYoJ2lzVmlzaWJsZScsJ2NrLWJhbGxvb24tcGFuZWxfdmlzaWJsZScpLHQuaWYoJ3dpdGhBcnJvdycsJ2NrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdycpLHQudG8oJ2NsYXNzTmFtZScpXSxzdHlsZTp7dG9wOnQudG8oJ3RvcCcsQmIpLGxlZnQ6dC50bygnbGVmdCcsQmIpfX0sY2hpbGRyZW46dGhpcy5jb250ZW50fSl9c2hvdygpe3RoaXMuaXNWaXNpYmxlPSEwfWhpZGUoKXt0aGlzLmlzVmlzaWJsZT0hMX1hdHRhY2hUbyhlKXt0aGlzLnNob3coKTtjb25zdCB0PXpiLmRlZmF1bHRQb3NpdGlvbnMsbz1PYmplY3QuYXNzaWduKHt9LHtlbGVtZW50OnRoaXMuZWxlbWVudCxwb3NpdGlvbnM6W3Quc291dGhBcnJvd05vcnRoLHQuc291dGhBcnJvd05vcnRoV2VzdCx0LnNvdXRoQXJyb3dOb3J0aEVhc3QsdC5ub3J0aEFycm93U291dGgsdC5ub3J0aEFycm93U291dGhXZXN0LHQubm9ydGhBcnJvd1NvdXRoRWFzdF0sbGltaXRlcjpMYixmaXRJblZpZXdwb3J0OiEwfSxlKSx7dG9wOm4sbGVmdDppLG5hbWU6cn09YXIobyk7T2JqZWN0LmFzc2lnbih0aGlzLHt0b3A6bixsZWZ0OmkscG9zaXRpb246cn0pfXBpbihlKXt0aGlzLnVucGluKCksdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrPSgpPT57dGhpcy5pc1Zpc2libGU/dGhpcy5fc3RhcnRQaW5uaW5nKGUpOnRoaXMuX3N0b3BQaW5uaW5nKCl9LHRoaXMuX3N0YXJ0UGlubmluZyhlKSx0aGlzLmxpc3RlblRvKHRoaXMsJ2NoYW5nZTppc1Zpc2libGUnLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayl9dW5waW4oKXt0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2smJih0aGlzLl9zdG9wUGlubmluZygpLHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLCdjaGFuZ2U6aXNWaXNpYmxlJyx0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2spLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjaz1udWxsLHRoaXMuaGlkZSgpKX1fc3RhcnRQaW5uaW5nKGUpe3RoaXMuYXR0YWNoVG8oZSk7Y29uc3QgdD1jcihlLnRhcmdldCksbz1lLmxpbWl0ZXI/Y3IoZS5saW1pdGVyKTpMYjt0aGlzLmxpc3RlblRvKEtjLmRvY3VtZW50LCdzY3JvbGwnLChuLGkpPT57Y29uc3Qgcj1pLnRhcmdldCxhPXQmJnIuY29udGFpbnModCkscz1vJiZyLmNvbnRhaW5zKG8pOyhhfHxzfHwhdHx8IW8pJiZ0aGlzLmF0dGFjaFRvKGUpfSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMubGlzdGVuVG8oS2Mud2luZG93LCdyZXNpemUnLCgpPT57dGhpcy5hdHRhY2hUbyhlKX0pfV9zdG9wUGlubmluZygpe3RoaXMuc3RvcExpc3RlbmluZyhLYy5kb2N1bWVudCwnc2Nyb2xsJyksdGhpcy5zdG9wTGlzdGVuaW5nKEtjLndpbmRvdywncmVzaXplJyl9fXpiLmFycm93SG9yaXpvbnRhbE9mZnNldD0yNSx6Yi5hcnJvd1ZlcnRpY2FsT2Zmc2V0PTEwLHpiLmRlZmF1bHRQb3NpdGlvbnM9e25vcnRoQXJyb3dTb3V0aDooZSx0KT0+KHt0b3A6dXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aC8yLG5hbWU6J2Fycm93X3MnfSksbm9ydGhBcnJvd1NvdXRoRWFzdDooZSx0KT0+KHt0b3A6dXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aCt6Yi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTonYXJyb3dfc2UnfSksbm9ydGhBcnJvd1NvdXRoV2VzdDooZSx0KT0+KHt0b3A6dXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLG5vcnRoV2VzdEFycm93U291dGg6KGUsdCk9Pih7dG9wOnVyKGUsdCksbGVmdDplLmxlZnQtdC53aWR0aC8yLG5hbWU6J2Fycm93X3MnfSksbm9ydGhXZXN0QXJyb3dTb3V0aFdlc3Q6KGUsdCk9Pih7dG9wOnVyKGUsdCksbGVmdDplLmxlZnQtemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLG5vcnRoV2VzdEFycm93U291dGhFYXN0OihlLHQpPT4oe3RvcDp1cihlLHQpLGxlZnQ6ZS5sZWZ0LXQud2lkdGgremIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3NlJ30pLG5vcnRoRWFzdEFycm93U291dGg6KGUsdCk9Pih7dG9wOnVyKGUsdCksbGVmdDplLnJpZ2h0LXQud2lkdGgvMixuYW1lOidhcnJvd19zJ30pLG5vcnRoRWFzdEFycm93U291dGhFYXN0OihlLHQpPT4oe3RvcDp1cihlLHQpLGxlZnQ6ZS5yaWdodC10LndpZHRoK3piLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOidhcnJvd19zZSd9KSxub3J0aEVhc3RBcnJvd1NvdXRoV2VzdDooZSx0KT0+KHt0b3A6dXIoZSx0KSxsZWZ0OmUucmlnaHQtemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X3N3J30pLHNvdXRoQXJyb3dOb3J0aDooZSx0KT0+KHt0b3A6bXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aC8yLG5hbWU6J2Fycm93X24nfSksc291dGhBcnJvd05vcnRoRWFzdDooZSx0KT0+KHt0b3A6bXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItdC53aWR0aCt6Yi5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTonYXJyb3dfbmUnfSksc291dGhBcnJvd05vcnRoV2VzdDooZSx0KT0+KHt0b3A6bXIoZSx0KSxsZWZ0OmUubGVmdCtlLndpZHRoLzItemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pLHNvdXRoV2VzdEFycm93Tm9ydGg6KGUsdCk9Pih7dG9wOm1yKGUsdCksbGVmdDplLmxlZnQtdC53aWR0aC8yLG5hbWU6J2Fycm93X24nfSksc291dGhXZXN0QXJyb3dOb3J0aFdlc3Q6KGUsdCk9Pih7dG9wOm1yKGUsdCksbGVmdDplLmxlZnQtemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pLHNvdXRoV2VzdEFycm93Tm9ydGhFYXN0OihlLHQpPT4oe3RvcDptcihlLHQpLGxlZnQ6ZS5sZWZ0LXQud2lkdGgremIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X25lJ30pLHNvdXRoRWFzdEFycm93Tm9ydGg6KGUsdCk9Pih7dG9wOm1yKGUsdCksbGVmdDplLnJpZ2h0LXQud2lkdGgvMixuYW1lOidhcnJvd19uJ30pLHNvdXRoRWFzdEFycm93Tm9ydGhFYXN0OihlLHQpPT4oe3RvcDptcihlLHQpLGxlZnQ6ZS5yaWdodC10LndpZHRoK3piLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOidhcnJvd19uZSd9KSxzb3V0aEVhc3RBcnJvd05vcnRoV2VzdDooZSx0KT0+KHt0b3A6bXIoZSx0KSxsZWZ0OmUucmlnaHQtemIuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6J2Fycm93X253J30pfTtjbGFzcyBqYiBleHRlbmRzIHpme3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidDb250ZXh0dWFsQmFsbG9vbid9aW5pdCgpe3RoaXMudmlldz1uZXcgemIsdGhpcy5wb3NpdGlvbkxpbWl0ZXI9KCk9Pntjb25zdCBlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldyx0PWUuZG9jdW1lbnQsbz10LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7cmV0dXJuIG8/ZS5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG8ucm9vdCk6bnVsbH0sdGhpcy5fc3RhY2s9bmV3IE1hcCx0aGlzLmVkaXRvci51aS52aWV3LmJvZHkuYWRkKHRoaXMudmlldyksdGhpcy5lZGl0b3IudWkuZm9jdXNUcmFja2VyLmFkZCh0aGlzLnZpZXcuZWxlbWVudCl9Z2V0IHZpc2libGVWaWV3KCl7Y29uc3QgZT10aGlzLl9zdGFjay5nZXQodGhpcy52aWV3LmNvbnRlbnQuZ2V0KDApKTtyZXR1cm4gZT9lLnZpZXc6bnVsbH1oYXNWaWV3KGUpe3JldHVybiB0aGlzLl9zdGFjay5oYXMoZSl9YWRkKGUpe2lmKHRoaXMuaGFzVmlldyhlLnZpZXcpKXRocm93IG5ldyBZYSgnY29udGV4dHVhbGJhbGxvb24tYWRkLXZpZXctZXhpc3Q6IENhbm5vdCBhZGQgY29uZmlndXJhdGlvbiBvZiB0aGUgc2FtZSB2aWV3IHR3aWNlLicpO3RoaXMudmlzaWJsZVZpZXcmJnRoaXMudmlldy5jb250ZW50LnJlbW92ZSh0aGlzLnZpc2libGVWaWV3KSx0aGlzLl9zdGFjay5zZXQoZS52aWV3LGUpLHRoaXMuX3Nob3coZSl9cmVtb3ZlKGUpe2lmKCF0aGlzLmhhc1ZpZXcoZSkpdGhyb3cgbmV3IFlhKCdjb250ZXh0dWFsYmFsbG9vbi1yZW1vdmUtdmlldy1ub3QtZXhpc3Q6IENhbm5vdCByZW1vdmUgY29uZmlndXJhdGlvbiBvZiBub3QgZXhpc3Rpbmcgdmlldy4nKTtpZih0aGlzLnZpc2libGVWaWV3PT09ZSl7dGhpcy52aWV3LmNvbnRlbnQucmVtb3ZlKGUpLHRoaXMuX3N0YWNrLmRlbGV0ZShlKTtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fc3RhY2sudmFsdWVzKCkpLnBvcCgpO3Q/dGhpcy5fc2hvdyh0KTp0aGlzLnZpZXcuaGlkZSgpfWVsc2UgdGhpcy5fc3RhY2suZGVsZXRlKGUpfXVwZGF0ZVBvc2l0aW9uKGUpe2UmJih0aGlzLl9zdGFjay5nZXQodGhpcy52aXNpYmxlVmlldykucG9zaXRpb249ZSksdGhpcy52aWV3LnBpbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb24oKSl9X3Nob3coe3ZpZXc6ZSxiYWxsb29uQ2xhc3NOYW1lOnQ9Jyd9KXt0aGlzLnZpZXcuY2xhc3NOYW1lPXQsdGhpcy52aWV3LmNvbnRlbnQuYWRkKGUpLHRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpfV9nZXRCYWxsb29uUG9zaXRpb24oKXtsZXQgZT1PaSh0aGlzLl9zdGFjay52YWx1ZXMoKSkucG9zaXRpb247cmV0dXJuIGUmJiFlLmxpbWl0ZXImJihlPU9iamVjdC5hc3NpZ24oe30sZSx7bGltaXRlcjp0aGlzLnBvc2l0aW9uTGltaXRlcn0pKSxlfX12YXIgcWI9byg0NSksV2I9by5uKHFiKTtjbGFzcyBVYiBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bamJdfWluaXQoKXt0aGlzLl9jcmVhdGVCdXR0b24oKSx0aGlzLl9jcmVhdGVGb3JtKCl9X2NyZWF0ZUJ1dHRvbigpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCgnaW1hZ2VUZXh0QWx0ZXJuYXRpdmUnLCh0KT0+e2NvbnN0IG49ZS5jb21tYW5kcy5nZXQoJ2ltYWdlVGV4dEFsdGVybmF0aXZlJyksaT1uZXcgaGgodCk7cmV0dXJuIGkuc2V0KHtsYWJlbDpvKCd3JyksaWNvbjpXYi5hLHRvb2x0aXA6ITB9KSxpLmJpbmQoJ2lzRW5hYmxlZCcpLnRvKG4sJ2lzRW5hYmxlZCcpLHRoaXMubGlzdGVuVG8oaSwnZXhlY3V0ZScsKCk9PnRoaXMuX3Nob3dGb3JtKCkpLGl9KX1fY3JlYXRlRm9ybSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmVkaXRpbmcudmlldyxvPXQuZG9jdW1lbnQ7dGhpcy5fYmFsbG9vbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldCgnQ29udGV4dHVhbEJhbGxvb24nKSx0aGlzLl9mb3JtPW5ldyBOYihlLmxvY2FsZSksdGhpcy5fZm9ybS5yZW5kZXIoKSx0aGlzLmxpc3RlblRvKHRoaXMuX2Zvcm0sJ3N1Ym1pdCcsKCk9PntlLmV4ZWN1dGUoJ2ltYWdlVGV4dEFsdGVybmF0aXZlJyx7bmV3VmFsdWU6dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQuaW5wdXRWaWV3LmVsZW1lbnQudmFsdWV9KSx0aGlzLl9oaWRlRm9ybSghMCl9KSx0aGlzLmxpc3RlblRvKHRoaXMuX2Zvcm0sJ2NhbmNlbCcsKCk9Pnt0aGlzLl9oaWRlRm9ybSghMCl9KSx0aGlzLl9mb3JtLmtleXN0cm9rZXMuc2V0KCdFc2MnLChlLHQpPT57dGhpcy5faGlkZUZvcm0oITApLHQoKX0pLHRoaXMubGlzdGVuVG8odCwncmVuZGVyJywoKT0+e1lpKG8uc2VsZWN0aW9uKT90aGlzLl9pc1Zpc2libGUmJnByKGUpOnRoaXMuX2hpZGVGb3JtKCEwKX0pLG5yKHtlbWl0dGVyOnRoaXMuX2Zvcm0sYWN0aXZhdG9yOigpPT50aGlzLl9pc1Zpc2libGUsY29udGV4dEVsZW1lbnRzOlt0aGlzLl9mb3JtLmVsZW1lbnRdLGNhbGxiYWNrOigpPT50aGlzLl9oaWRlRm9ybSgpfSl9X3Nob3dGb3JtKCl7aWYoIXRoaXMuX2lzVmlzaWJsZSl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29tbWFuZHMuZ2V0KCdpbWFnZVRleHRBbHRlcm5hdGl2ZScpLG89dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQ7dGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuX2Zvcm0pfHx0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLl9mb3JtLHBvc2l0aW9uOmdyKGUpfSksby52YWx1ZT1vLmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPXQudmFsdWV8fCcnLHRoaXMuX2Zvcm0ubGFiZWxlZElucHV0LnNlbGVjdCgpfX1faGlkZUZvcm0oZSl7dGhpcy5faXNWaXNpYmxlJiYodGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy5fZm9ybSksZSYmdGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmZvY3VzKCkpfWdldCBfaXNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PXRoaXMuX2Zvcm19fWNsYXNzIEhiIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltDYixVYl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0ltYWdlVGV4dEFsdGVybmF0aXZlJ319dmFyIEtiPW8oNDYpLEdiPW8ubihLYik7Y2xhc3MgJGIgZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2JiLHliLEhiXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2UnfX1jbGFzcyBKYiBleHRlbmRzIGhme2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYnV0dG9uVmlldz1uZXcgaGgoZSksdGhpcy5fZmlsZUlucHV0Vmlldz1uZXcgUWIoZSksdGhpcy5fZmlsZUlucHV0Vmlldy5iaW5kKCdhY2NlcHRlZFR5cGUnKS50byh0aGlzKSx0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoJ2FsbG93TXVsdGlwbGVGaWxlcycpLnRvKHRoaXMpLHRoaXMuX2ZpbGVJbnB1dFZpZXcuZGVsZWdhdGUoJ2RvbmUnKS50byh0aGlzKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J3NwYW4nLGF0dHJpYnV0ZXM6e2NsYXNzOidjay1maWxlLWRpYWxvZy1idXR0b24nfSxjaGlsZHJlbjpbdGhpcy5idXR0b25WaWV3LHRoaXMuX2ZpbGVJbnB1dFZpZXddfSksdGhpcy5idXR0b25WaWV3Lm9uKCdleGVjdXRlJywoKT0+e3RoaXMuX2ZpbGVJbnB1dFZpZXcub3BlbigpfSl9Zm9jdXMoKXt0aGlzLmJ1dHRvblZpZXcuZm9jdXMoKX19Y2xhc3MgUWIgZXh0ZW5kcyBoZntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnNldCgnYWNjZXB0ZWRUeXBlJyksdGhpcy5zZXQoJ2FsbG93TXVsdGlwbGVGaWxlcycsITEpO2NvbnN0IHQ9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidpbnB1dCcsYXR0cmlidXRlczp7Y2xhc3M6Wydjay1oaWRkZW4nXSx0eXBlOidmaWxlJyx0YWJpbmRleDonLTEnLGFjY2VwdDp0LnRvKCdhY2NlcHRlZFR5cGUnKSxtdWx0aXBsZTp0LnRvKCdhbGxvd011bHRpcGxlRmlsZXMnKX0sb246e2NoYW5nZTp0LnRvKCgpPT57dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuZmlsZXMmJnRoaXMuZWxlbWVudC5maWxlcy5sZW5ndGgmJnRoaXMuZmlyZSgnZG9uZScsdGhpcy5lbGVtZW50LmZpbGVzKSx0aGlzLmVsZW1lbnQudmFsdWU9Jyd9KX19KX1vcGVuKCl7dGhpcy5lbGVtZW50LmNsaWNrKCl9fXZhciBZYj1vKDQ4KSxYYj1vLm4oWWIpO2NsYXNzIFpiIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQ7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZCgnaW1hZ2VVcGxvYWQnLCh0KT0+e2NvbnN0IG49bmV3IEpiKHQpLGk9ZS5jb21tYW5kcy5nZXQoJ2ltYWdlVXBsb2FkJyk7cmV0dXJuIG4uc2V0KHthY2NlcHRlZFR5cGU6J2ltYWdlLyonLGFsbG93TXVsdGlwbGVGaWxlczohMH0pLG4uYnV0dG9uVmlldy5zZXQoe2xhYmVsOm8oJ3EnKSxpY29uOlhiLmEsdG9vbHRpcDohMH0pLG4uYnV0dG9uVmlldy5iaW5kKCdpc0VuYWJsZWQnKS50byhpKSxuLm9uKCdkb25lJywodCxvKT0+e2Zvcihjb25zdCBuIG9mIEFycmF5LmZyb20obykpe2NvbnN0IHQ9aHIoZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24pO2ZyKG4pJiZlLmV4ZWN1dGUoJ2ltYWdlVXBsb2FkJyx7ZmlsZTpuLGluc2VydEF0OnR9KX19KSxufSl9fXZhciBlaz1vKDQ5KSx0az1vLm4oZWspLG9rPW8oNTApLG5rPW8ubihvayk7Y2xhc3MgaWsgZXh0ZW5kcyB6Zntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnBsYWNlaG9sZGVyPSdkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCwnK2VuY29kZVVSSUNvbXBvbmVudCh0ay5hKX1pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcjtlLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6dXBsb2FkU3RhdHVzOmltYWdlJywoLi4uZSk9PnRoaXMudXBsb2FkU3RhdHVzQ2hhbmdlKC4uLmUpKX11cGxvYWRTdGF0dXNDaGFuZ2UoZSx0LG8pe2NvbnN0IG49dGhpcy5lZGl0b3IsaT10Lml0ZW0scj1pLmdldEF0dHJpYnV0ZSgndXBsb2FkSWQnKTtpZihvLmNvbnN1bWFibGUuY29uc3VtZSh0Lml0ZW0sZS5uYW1lKSl7Y29uc3QgZT1uLnBsdWdpbnMuZ2V0KEFoKSxhPXI/dC5hdHRyaWJ1dGVOZXdWYWx1ZTpudWxsLHM9dGhpcy5wbGFjZWhvbGRlcixsPW4uZWRpdGluZy5tYXBwZXIudG9WaWV3RWxlbWVudChpKSxkPW8ud3JpdGVyO2lmKCdyZWFkaW5nJz09YSlyZXR1cm4gYnIobCxkKSx2b2lkIF9yKHMsbCxkKTtpZigndXBsb2FkaW5nJz09YSl7Y29uc3QgdD1lLmxvYWRlcnMuZ2V0KHIpO3JldHVybiBicihsLGQpLHZvaWQodD8od3IobCxkKSx2cihsLGQsdCxuLmVkaXRpbmcudmlldykpOl9yKHMsbCxkKSl9eXIobCxkKSx3cihsLGQpLGtyKGwsZCl9fX1jb25zdCByaz1TeW1ib2woJ3Byb2dyZXNzLWJhcicpO2NsYXNzIGFrIGV4dGVuZHMgSGZ7ZXhlY3V0ZShlKXtjb25zdCB0PXRoaXMuZWRpdG9yLG89dC5tb2RlbC5kb2N1bWVudCxuPWUuZmlsZSxpPXQucGx1Z2lucy5nZXQoQWgpO3QubW9kZWwuY2hhbmdlKChyKT0+e2NvbnN0IGE9aS5jcmVhdGVMb2FkZXIobik7aWYoIWEpcmV0dXJuO2NvbnN0IHM9bmV3IGp1KCdpbWFnZScse3VwbG9hZElkOmEuaWR9KTtsZXQgbDtsPWUuaW5zZXJ0QXQ/bmV3IEp1KFtuZXcgSHUoZS5pbnNlcnRBdCldKTpvLnNlbGVjdGlvbix0Lm1vZGVsLmluc2VydENvbnRlbnQocyxsKSxzLnBhcmVudCYmci5zZXRTZWxlY3Rpb24oSHUuY3JlYXRlT24ocykpfSl9fWNsYXNzIHNrIGV4dGVuZHMgemZ7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ05vdGlmaWNhdGlvbid9aW5pdCgpe3RoaXMub24oJ3Nob3c6d2FybmluZycsKGUsdCk9Pnt3aW5kb3cuYWxlcnQodC5tZXNzYWdlKX0se3ByaW9yaXR5Oidsb3dlc3QnfSl9c2hvd1N1Y2Nlc3MoZSx0PXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOmUsdHlwZTonc3VjY2VzcycsbmFtZXNwYWNlOnQubmFtZXNwYWNlLHRpdGxlOnQudGl0bGV9KX1zaG93SW5mbyhlLHQ9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6ZSx0eXBlOidpbmZvJyxuYW1lc3BhY2U6dC5uYW1lc3BhY2UsdGl0bGU6dC50aXRsZX0pfXNob3dXYXJuaW5nKGUsdD17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTplLHR5cGU6J3dhcm5pbmcnLG5hbWVzcGFjZTp0Lm5hbWVzcGFjZSx0aXRsZTp0LnRpdGxlfSl9X3Nob3dOb3RpZmljYXRpb24oZSl7Y29uc3QgdD1gc2hvdzoke2UudHlwZX1gKyhlLm5hbWVzcGFjZT9gOiR7ZS5uYW1lc3BhY2V9YDonJyk7dGhpcy5maXJlKHQse21lc3NhZ2U6ZS5tZXNzYWdlLHR5cGU6ZS50eXBlLHRpdGxlOmUudGl0bGV8fCcnfSl9fWNsYXNzIGxrIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltBaCxza119aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLm1vZGVsLmRvY3VtZW50LG89ZS5tb2RlbC5zY2hlbWEsbj1lLnBsdWdpbnMuZ2V0KEFoKTtvLmV4dGVuZCgnaW1hZ2UnLHthbGxvd0F0dHJpYnV0ZXM6Wyd1cGxvYWRJZCcsJ3VwbG9hZFN0YXR1cyddfSksZS5jb21tYW5kcy5hZGQoJ2ltYWdlVXBsb2FkJyxuZXcgYWsoZSkpLGUuZWRpdGluZy52aWV3LmRvY3VtZW50Lm9uKCdjbGlwYm9hcmRJbnB1dCcsKG8sbik9PntpZihBcihuLmRhdGFUcmFuc2ZlcikpcmV0dXJuO2xldCBpPW5ldyBKdShuLnRhcmdldFJhbmdlcy5tYXAoKHQpPT5lLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZSh0KSkpO2Zvcihjb25zdCByIG9mIG4uZGF0YVRyYW5zZmVyLmZpbGVzKXtjb25zdCBuPWhyKGkpO2ZyKHIpJiYoZS5leGVjdXRlKCdpbWFnZVVwbG9hZCcse2ZpbGU6cixpbnNlcnRBdDpufSksby5zdG9wKCkpLGk9dC5zZWxlY3Rpb259fSksZS5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oJ2RyYWdvdmVyJywoZSx0KT0+e3QucHJldmVudERlZmF1bHQoKX0pLHQub24oJ2NoYW5nZScsKCk9Pntjb25zdCBlPXQuZGlmZmVyLmdldENoYW5nZXMoe2luY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ6ITB9KTtmb3IoY29uc3QgdCBvZiBlKWlmKCdpbnNlcnQnPT10LnR5cGUmJidpbWFnZSc9PXQubmFtZSl7Y29uc3QgZT10LnBvc2l0aW9uLm5vZGVBZnRlcixvPSckZ3JhdmV5YXJkJz09dC5wb3NpdGlvbi5yb290LnJvb3ROYW1lLGk9ZS5nZXRBdHRyaWJ1dGUoJ3VwbG9hZElkJyk7aWYoIWkpY29udGludWU7Y29uc3Qgcj1uLmxvYWRlcnMuZ2V0KGkpO2lmKCFyKWNvbnRpbnVlO28/ci5hYm9ydCgpOidpZGxlJz09ci5zdGF0dXMmJnRoaXMuX2xvYWQocixlKX19KX1fbG9hZChlLG8pe2Z1bmN0aW9uIG4oKXtyLmVucXVldWVDaGFuZ2UoJ3RyYW5zcGFyZW50JywoZSk9PntlLnJlbW92ZUF0dHJpYnV0ZSgndXBsb2FkSWQnLG8pLGUucmVtb3ZlQXR0cmlidXRlKCd1cGxvYWRTdGF0dXMnLG8pfSksdC5kZXN0cm95TG9hZGVyKGUpfWNvbnN0IGk9dGhpcy5lZGl0b3Iscj1pLm1vZGVsLGE9aS5sb2NhbGUudCx0PWkucGx1Z2lucy5nZXQoQWgpLHM9aS5wbHVnaW5zLmdldChzayk7cmV0dXJuIHIuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLChlKT0+e2Uuc2V0QXR0cmlidXRlKCd1cGxvYWRTdGF0dXMnLCdyZWFkaW5nJyxvKX0pLGUucmVhZCgpLnRoZW4oKHQpPT57Y29uc3Qgbj1pLmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQobyksYT1uLmdldENoaWxkKDApLHM9ZS51cGxvYWQoKTtyZXR1cm4gaS5lZGl0aW5nLnZpZXcuY2hhbmdlKChlKT0+e2Uuc2V0QXR0cmlidXRlKCdzcmMnLHQsYSl9KSxyLmVucXVldWVDaGFuZ2UoJ3RyYW5zcGFyZW50JywoZSk9PntlLnNldEF0dHJpYnV0ZSgndXBsb2FkU3RhdHVzJywndXBsb2FkaW5nJyxvKX0pLHN9KS50aGVuKChlKT0+e3IuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLCh0KT0+e3Quc2V0QXR0cmlidXRlcyh7dXBsb2FkU3RhdHVzOidjb21wbGV0ZScsc3JjOmUuZGVmYXVsdH0sbyk7bGV0IG49MDtjb25zdCBpPU9iamVjdC5rZXlzKGUpLmZpbHRlcigoZSk9Pntjb25zdCB0PXBhcnNlSW50KGUsMTApO2lmKCFpc05hTih0KSlyZXR1cm4gbj1NYShuLHQpLCEwfSkubWFwKCh0KT0+YCR7ZVt0XX0gJHt0fXdgKS5qb2luKCcsICcpOycnIT1pJiZ0LnNldEF0dHJpYnV0ZSgnc3Jjc2V0Jyx7ZGF0YTppLHdpZHRoOm59LG8pfSksbigpfSkuY2F0Y2goKHQpPT57aWYoJ2Vycm9yJyE9PWUuc3RhdHVzJiYnYWJvcnRlZCchPT1lLnN0YXR1cyl0aHJvdyB0OydlcnJvcic9PWUuc3RhdHVzJiZzLnNob3dXYXJuaW5nKHQse3RpdGxlOmEoJ3InKSxuYW1lc3BhY2U6J3VwbG9hZCd9KSxuKCksci5lbnF1ZXVlQ2hhbmdlKCd0cmFuc3BhcmVudCcsKGUpPT57ZS5yZW1vdmUobyl9KX0pfX1jbGFzcyBkayBleHRlbmRzIHpme3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidJbWFnZVVwbG9hZCd9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltsayxaYixpa119fWNsYXNzIGNrIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltkYiwkYixka119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0Vhc3lJbWFnZSd9fWNsYXNzIHVrIGV4dGVuZHMgSGZ7cmVmcmVzaCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsdD1lLmRvY3VtZW50LG89T2kodC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dGhpcy52YWx1ZT0hIW8mJm8uaXMoJ3BhcmFncmFwaCcpLHRoaXMuaXNFbmFibGVkPSEhbyYmVHIobyxlLnNjaGVtYSl9ZXhlY3V0ZShlPXt9KXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLG89dC5kb2N1bWVudDt0LmNoYW5nZSgobik9Pntjb25zdCBpPShlLnNlbGVjdGlvbnx8by5zZWxlY3Rpb24pLmdldFNlbGVjdGVkQmxvY2tzKCk7Zm9yKGNvbnN0IGUgb2YgaSkhZS5pcygncGFyYWdyYXBoJykmJlRyKGUsdC5zY2hlbWEpJiZuLnJlbmFtZShlLCdwYXJhZ3JhcGgnKX0pfX1jbGFzcyBtayBleHRlbmRzIHpme3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidQYXJhZ3JhcGgnfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5tb2RlbCxvPWUuZGF0YTtlLmNvbW1hbmRzLmFkZCgncGFyYWdyYXBoJyxuZXcgdWsoZSkpLHQuc2NoZW1hLnJlZ2lzdGVyKCdwYXJhZ3JhcGgnLHtpbmhlcml0QWxsRnJvbTonJGJsb2NrJ30pLGUuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KHttb2RlbDoncGFyYWdyYXBoJyx2aWV3OidwJ30pLG8udXBjYXN0RGlzcGF0Y2hlci5vbignZWxlbWVudCcsKGUsdCxvKT0+e2lmKG8uY29uc3VtYWJsZS50ZXN0KHQudmlld0l0ZW0se25hbWU6dC52aWV3SXRlbS5uYW1lfSkpaWYobWsucGFyYWdyYXBoTGlrZUVsZW1lbnRzLmhhcyh0LnZpZXdJdGVtLm5hbWUpKXtpZih0LnZpZXdJdGVtLmlzRW1wdHkpcmV0dXJuO2NvbnN0IGU9by53cml0ZXIuY3JlYXRlRWxlbWVudCgncGFyYWdyYXBoJyksbj1vLnNwbGl0VG9BbGxvd2VkUGFyZW50KGUsdC5tb2RlbEN1cnNvcik7aWYoIW4pcmV0dXJuO28ud3JpdGVyLmluc2VydChlLG4ucG9zaXRpb24pO2NvbnN0e21vZGVsUmFuZ2U6aX09by5jb252ZXJ0Q2hpbGRyZW4odC52aWV3SXRlbSxVdS5jcmVhdGVBdChlKSk7dC5tb2RlbFJhbmdlPW5ldyBIdShVdS5jcmVhdGVCZWZvcmUoZSksaS5lbmQpLHQubW9kZWxDdXJzb3I9dC5tb2RlbFJhbmdlLmVuZH1lbHNlIEVyKHQudmlld0l0ZW0sdC5tb2RlbEN1cnNvcixvLnNjaGVtYSkmJih0PU9iamVjdC5hc3NpZ24odCxQcih0LnZpZXdJdGVtLHQubW9kZWxDdXJzb3IsbykpKX0se3ByaW9yaXR5Oidsb3cnfSksby51cGNhc3REaXNwYXRjaGVyLm9uKCd0ZXh0JywoZSx0LG8pPT57dC5tb2RlbFJhbmdlfHxFcih0LnZpZXdJdGVtLHQubW9kZWxDdXJzb3Isby5zY2hlbWEpJiYodD1PYmplY3QuYXNzaWduKHQsUHIodC52aWV3SXRlbSx0Lm1vZGVsQ3Vyc29yLG8pKSl9LHtwcmlvcml0eTonbG93ZXN0J30pLHQuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoKGUpPT50aGlzLl9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyhlKSksZS5vbignZGF0YVJlYWR5JywoKT0+e3QuZW5xdWV1ZUNoYW5nZSgndHJhbnNwYXJlbnQnLChlKT0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHMoZSkpfSx7cHJpb3JpdHk6J2xvd2VzdCd9KX1fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHMoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbDtmb3IoY29uc3QgbyBvZiB0LmRvY3VtZW50LmdldFJvb3ROYW1lcygpKXtjb25zdCBuPXQuZG9jdW1lbnQuZ2V0Um9vdChvKTtpZihuLmlzRW1wdHkmJickZ3JhdmV5YXJkJyE9bi5yb290TmFtZSYmdC5zY2hlbWEuY2hlY2tDaGlsZChuLCdwYXJhZ3JhcGgnKSlyZXR1cm4gZS5pbnNlcnRFbGVtZW50KCdwYXJhZ3JhcGgnLG4pLCEwfX19bWsucGFyYWdyYXBoTGlrZUVsZW1lbnRzPW5ldyBTZXQoWydibG9ja3F1b3RlJywnZGQnLCdkaXYnLCdkdCcsJ2gxJywnaDInLCdoMycsJ2g0JywnaDUnLCdoNicsJ2xpJywncCcsJ3RkJ10pO2NsYXNzIHBrIGV4dGVuZHMgSGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLm1vZGVsRWxlbWVudHM9dH1yZWZyZXNoKCl7Y29uc3QgZT1PaSh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dGhpcy52YWx1ZT0hIWUmJnRoaXMubW9kZWxFbGVtZW50cy5pbmNsdWRlcyhlLm5hbWUpJiZlLm5hbWUsdGhpcy5pc0VuYWJsZWQ9ISFlJiZ0aGlzLm1vZGVsRWxlbWVudHMuc29tZSgodCk9PlNyKGUsdCx0aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEpKX1leGVjdXRlKGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LG49ZS52YWx1ZTt0LmNoYW5nZSgoZSk9Pntjb25zdCBpPUFycmF5LmZyb20oby5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSkuZmlsdGVyKChlKT0+U3IoZSxuLHQuc2NoZW1hKSk7Zm9yKGNvbnN0IHQgb2YgaSl0LmlzKG4pfHxlLnJlbmFtZSh0LG4pfSl9fWNvbnN0IGdrPSdwYXJhZ3JhcGgnO2NsYXNzIGZrIGV4dGVuZHMgemZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksZS5jb25maWcuZGVmaW5lKCdoZWFkaW5nJyx7b3B0aW9uczpbe21vZGVsOidwYXJhZ3JhcGgnLHRpdGxlOidQYXJhZ3JhcGgnLGNsYXNzOidjay1oZWFkaW5nX3BhcmFncmFwaCd9LHttb2RlbDonaGVhZGluZzEnLHZpZXc6J2gyJyx0aXRsZTonSGVhZGluZyAxJyxjbGFzczonY2staGVhZGluZ19oZWFkaW5nMSd9LHttb2RlbDonaGVhZGluZzInLHZpZXc6J2gzJyx0aXRsZTonSGVhZGluZyAyJyxjbGFzczonY2staGVhZGluZ19oZWFkaW5nMid9LHttb2RlbDonaGVhZGluZzMnLHZpZXc6J2g0Jyx0aXRsZTonSGVhZGluZyAzJyxjbGFzczonY2staGVhZGluZ19oZWFkaW5nMyd9XX0pfXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bbWtdfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5jb25maWcuZ2V0KCdoZWFkaW5nLm9wdGlvbnMnKSxvPVtdO2Zvcihjb25zdCBuIG9mIHQpbi5tb2RlbCE9PWdrJiYoZS5tb2RlbC5zY2hlbWEucmVnaXN0ZXIobi5tb2RlbCx7aW5oZXJpdEFsbEZyb206JyRibG9jayd9KSxlLmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudChuKSxvLnB1c2gobi5tb2RlbCkpO2UuY29tbWFuZHMuYWRkKCdoZWFkaW5nJyxuZXcgcGsoZSxvKSl9YWZ0ZXJJbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29tbWFuZHMuZ2V0KCdlbnRlcicpLG89ZS5jb25maWcuZ2V0KCdoZWFkaW5nLm9wdGlvbnMnKTt0JiZ0aGlzLmxpc3RlblRvKHQsJ2FmdGVyRXhlY3V0ZScsKHQsbik9Pntjb25zdCBpPWUubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQscj1vLnNvbWUoKGUpPT5pLmlzKGUubW9kZWwpKTtyJiYhaS5pcyhnaykmJjA9PT1pLmNoaWxkQ291bnQmJm4ud3JpdGVyLnJlbmFtZShpLGdrKX0pfX1jbGFzcyBoa3tjb25zdHJ1Y3RvcihlLHQpe3QmJmNjKHRoaXMsdCksZSYmdGhpcy5zZXQoZSl9fWYoaGssZmMpO2NsYXNzIGJrIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldCgnaXNWaXNpYmxlJywhMSksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLXJlc2V0JywnY2stZHJvcGRvd25fX3BhbmVsJyx0LmlmKCdpc1Zpc2libGUnLCdjay1kcm9wZG93bl9fcGFuZWwtdmlzaWJsZScpXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbixvbjp7c2VsZWN0c3RhcnQ6dC50bygoZSk9PmUucHJldmVudERlZmF1bHQoKSl9fSl9Zm9jdXMoKXt0aGlzLmNoaWxkcmVuLmxlbmd0aCYmdGhpcy5jaGlsZHJlbi5maXJzdC5mb2N1cygpfWZvY3VzTGFzdCgpe2lmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtjb25zdCBlPXRoaXMuY2hpbGRyZW4ubGFzdDsnZnVuY3Rpb24nPT10eXBlb2YgZS5mb2N1c0xhc3Q/ZS5mb2N1c0xhc3QoKTplLmZvY3VzKCl9fX12YXIga2s9byg1MiksX2s9by5uKGtrKTtjbGFzcyB3ayBleHRlbmRzIGhme2NvbnN0cnVjdG9yKGUsdCxvKXtzdXBlcihlKTtjb25zdCBuPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuYnV0dG9uVmlldz10LHRoaXMucGFuZWxWaWV3PW8sdGhpcy5zZXQoJ2lzT3BlbicsITEpLHRoaXMuc2V0KCdpc0VuYWJsZWQnLCEwKSx0aGlzLmZvY3VzVHJhY2tlcj1uZXcgYWYsdGhpcy5rZXlzdHJva2VzPW5ldyBZZyx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J2RpdicsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWRyb3Bkb3duJyxuLnRvKCdpc0VuYWJsZWQnLChlKT0+ZT8nJzonY2stZGlzYWJsZWQnKV19LGNoaWxkcmVuOlt0LG9dfSksdC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6Wydjay1kcm9wZG93bl9fYnV0dG9uJ119fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5saXN0ZW5Ubyh0aGlzLmJ1dHRvblZpZXcsJ29wZW4nLCgpPT57dGhpcy5pc09wZW49IXRoaXMuaXNPcGVufSksdGhpcy5wYW5lbFZpZXcuYmluZCgnaXNWaXNpYmxlJykudG8odGhpcywnaXNPcGVuJyksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMuZWxlbWVudCk7Y29uc3QgZT0oZSx0KT0+e3RoaXMuaXNPcGVuJiYodGhpcy5idXR0b25WaWV3LmZvY3VzKCksdGhpcy5pc09wZW49ITEsdCgpKX07dGhpcy5rZXlzdHJva2VzLnNldCgnYXJyb3dkb3duJywoZSx0KT0+e3RoaXMuYnV0dG9uVmlldy5pc0VuYWJsZWQmJiF0aGlzLmlzT3BlbiYmKHRoaXMuaXNPcGVuPSEwLHQoKSl9KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdhcnJvd3JpZ2h0JywoZSx0KT0+e3RoaXMuaXNPcGVuJiZ0KCl9KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdhcnJvd2xlZnQnLGUpLHRoaXMua2V5c3Ryb2tlcy5zZXQoJ2VzYycsZSl9Zm9jdXMoKXt0aGlzLmJ1dHRvblZpZXcuZm9jdXMoKX19dmFyIHZrPW8oNTQpLHlrPW8ubih2ayk7Y2xhc3MgeGsgZXh0ZW5kcyBoaHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFycm93Vmlldz10aGlzLl9jcmVhdGVBcnJvd1ZpZXcoKSx0aGlzLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcywnb3BlbicpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMuYXJyb3dWaWV3KX1fY3JlYXRlQXJyb3dWaWV3KCl7Y29uc3QgZT1uZXcgY2g7cmV0dXJuIGUuY29udGVudD15ay5hLGUuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOidjay1kcm9wZG93bl9fYXJyb3cnfX0pLGV9fXZhciBDaz1vKDU1KSxBaz1vLm4oQ2spO2NsYXNzIFRrIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaXRlbXM9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IGFmLHRoaXMua2V5c3Ryb2tlcz1uZXcgWWcsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IE9mKHtmb2N1c2FibGVzOnRoaXMuaXRlbXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6J2Fycm93dXAnLGZvY3VzTmV4dDonYXJyb3dkb3duJ319KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6J3VsJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stcmVzZXQnLCdjay1saXN0J119LGNoaWxkcmVuOnRoaXMuaXRlbXN9KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtmb3IoY29uc3QgZSBvZiB0aGlzLml0ZW1zKXRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpO3RoaXMuaXRlbXMub24oJ2FkZCcsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMuaXRlbXMub24oJ3JlbW92ZScsKGUsdCk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfX1jbGFzcyBQayBleHRlbmRzIGhme2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnNldCgndGFiaW5kZXgnLC0xKSx0aGlzLmtleXN0cm9rZXM9bmV3IFlnO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidsaScsYXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWxpc3RfX2l0ZW0nLGUudG8oJ2NsYXNzJyksZS5pZignaXNBY3RpdmUnLCdjay1saXN0X19pdGVtX2FjdGl2ZScpXSxzdHlsZTplLnRvKCdzdHlsZScpLHRhYmluZGV4OmUudG8oJ3RhYmluZGV4Jyl9LGNoaWxkcmVuOlt7dGV4dDplLnRvKCdsYWJlbCcpfV0sb246e2NsaWNrOmUudG8oJ2V4ZWN1dGUnKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCBlPShlLHQpPT57dGhpcy5maXJlKCdleGVjdXRlJyksdCgpfTt0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSx0aGlzLmtleXN0cm9rZXMuc2V0KCdFbnRlcicsZSksdGhpcy5rZXlzdHJva2VzLnNldCgnU3BhY2UnLGUpfWZvY3VzKCl7dGhpcy5lbGVtZW50LmZvY3VzKCl9fXZhciBFaz1vKDU3KSxTaz1vLm4oRWspLE9rPW8oNTkpLFJrPW8ubihPayksSWs9byg1KSxWaz1vLm4oSWspO2NsYXNzIEZrIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLnQsdD1NcihlKSxuPW8oJ2UnKSxpPW8oJ2YnKTtlLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKCdoZWFkaW5nJywobyk9Pntjb25zdCByPXt9LGE9bmV3IEFjLHM9ZS5jb21tYW5kcy5nZXQoJ2hlYWRpbmcnKSxsPWUuY29tbWFuZHMuZ2V0KCdwYXJhZ3JhcGgnKSxkPVtzXTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PW5ldyBoayh7bGFiZWw6ZS50aXRsZSxjbGFzczplLmNsYXNzfSk7J3BhcmFncmFwaCc9PT1lLm1vZGVsPyh0LmJpbmQoJ2lzQWN0aXZlJykudG8obCwndmFsdWUnKSx0LnNldCgnY29tbWFuZE5hbWUnLCdwYXJhZ3JhcGgnKSxkLnB1c2gobCkpOih0LmJpbmQoJ2lzQWN0aXZlJykudG8ocywndmFsdWUnLCh0KT0+dD09PWUubW9kZWwpLHQuc2V0KHtjb21tYW5kTmFtZTonaGVhZGluZycsY29tbWFuZFZhbHVlOmUubW9kZWx9KSksYS5hZGQodCkscltlLm1vZGVsXT1lLnRpdGxlfWNvbnN0IGM9T3Iobyk7cmV0dXJuIFJyKGMsYSksYy5idXR0b25WaWV3LnNldCh7aXNPbjohMSx3aXRoVGV4dDohMCx0b29sdGlwOml9KSxjLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbJ2NrLWhlYWRpbmctZHJvcGRvd24nXX19KSxjLmJpbmQoJ2lzRW5hYmxlZCcpLnRvTWFueShkLCdpc0VuYWJsZWQnLCguLi5lKT0+ZS5zb21lKChlKT0+ZSkpLGMuYnV0dG9uVmlldy5iaW5kKCdsYWJlbCcpLnRvKHMsJ3ZhbHVlJyxsLCd2YWx1ZScsKGUsdCk9Pntjb25zdCBvPWV8fHQmJidwYXJhZ3JhcGgnO3JldHVybiByW29dP3Jbb106bn0pLHRoaXMubGlzdGVuVG8oYywnZXhlY3V0ZScsKHQpPT57ZS5leGVjdXRlKHQuc291cmNlLmNvbW1hbmROYW1lLHQuc291cmNlLmNvbW1hbmRWYWx1ZT97dmFsdWU6dC5zb3VyY2UuY29tbWFuZFZhbHVlfTp2b2lkIDApLGUuZWRpdGluZy52aWV3LmZvY3VzKCl9KSxjfSl9fWNsYXNzIE5rIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltmayxGa119c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuJ0hlYWRpbmcnfX12YXIgTWs9byg2MiksRGs9by5uKE1rKTtjb25zdCBCaz1uZXcgV2Vha01hcCxMaz1TeW1ib2woJ2ltYWdlQ2FwdGlvbicpO2NsYXNzIHprIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3Isbz1lLmVkaXRpbmcudmlldyxuPWUubW9kZWwuc2NoZW1hLGk9ZS5kYXRhLHI9ZS5lZGl0aW5nLGE9ZS50O24ucmVnaXN0ZXIoJ2NhcHRpb24nLHthbGxvd0luOidpbWFnZScsYWxsb3dDb250ZW50T2Y6JyRibG9jaycsaXNMaW1pdDohMH0pLGUubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoKGUpPT50aGlzLl9pbnNlcnRNaXNzaW5nTW9kZWxDYXB0aW9uRWxlbWVudChlKSksZS5jb252ZXJzaW9uLmZvcigndXBjYXN0JykuYWRkKFl0KHt2aWV3OnFyLG1vZGVsOidjYXB0aW9uJ30pKTtpLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0OmNhcHRpb24nLFdyKChlKT0+ZS5jcmVhdGVDb250YWluZXJFbGVtZW50KCdmaWdjYXB0aW9uJyksITEpKTtjb25zdCB0PXpyKG8sYSgnZycpKTtyLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0OmNhcHRpb24nLFdyKHQpKSxyLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0Jyx0aGlzLl9maXhDYXB0aW9uVmlzaWJpbGl0eSgoZSk9PmUuaXRlbSkse3ByaW9yaXR5OidoaWdoJ30pLHIuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdyZW1vdmUnLHRoaXMuX2ZpeENhcHRpb25WaXNpYmlsaXR5KChlKT0+ZS5wb3NpdGlvbi5wYXJlbnQpLHtwcmlvcml0eTonaGlnaCd9KSxvLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKChlKT0+dGhpcy5fdXBkYXRlQ2FwdGlvblZpc2liaWxpdHkoZSkpfV91cGRhdGVDYXB0aW9uVmlzaWJpbGl0eShlKXtjb25zdCB0PXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLG89dGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbjtsZXQgbjtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixyPWkuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYociYmci5pcygnaW1hZ2UnKSl7Y29uc3QgZT1qcihyKTtuPXQudG9WaWV3RWxlbWVudChlKX1jb25zdCBhPWkuZ2V0Rmlyc3RQb3NpdGlvbigpLHM9SHIoYS5wYXJlbnQpO2lmKHMmJihuPXQudG9WaWV3RWxlbWVudChzKSksbilyZXR1cm4gbz9vPT09bj9HcihuLGUpOihLcihvLGUpLHRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb249bixHcihuLGUpKToodGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1uLEdyKG4sZSkpO2lmKG8pe2NvbnN0IHQ9S3IobyxlKTtyZXR1cm4gdGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1udWxsLHR9cmV0dXJuITF9X2ZpeENhcHRpb25WaXNpYmlsaXR5KGUpe3JldHVybih0LG8sbik9Pntjb25zdCBpPWUobykscj1IcihpKSxhPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLHM9bi53cml0ZXI7aWYocil7Y29uc3QgZT1hLnRvVmlld0VsZW1lbnQocik7ZSYmKHIuY2hpbGRDb3VudD9zLnJlbW92ZUNsYXNzKCdjay1oaWRkZW4nLGUpOnMuYWRkQ2xhc3MoJ2NrLWhpZGRlbicsZSkpfX19X2luc2VydE1pc3NpbmdNb2RlbENhcHRpb25FbGVtZW50KGUpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsbz10LmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7Zm9yKGNvbnN0IHQgb2YgbylpZignaW5zZXJ0Jz09dC50eXBlJiYnaW1hZ2UnPT10Lm5hbWUpe2NvbnN0IG89dC5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoIWpyKG8pKXJldHVybiBlLmFwcGVuZEVsZW1lbnQoJ2NhcHRpb24nLG8pLCEwfX19dmFyIGprPW8oNjQpLHFrPW8ubihqayk7Y2xhc3MgV2sgZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3prXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2VDYXB0aW9uJ319Y2xhc3MgVWsgZXh0ZW5kcyBIZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuX2RlZmF1bHRTdHlsZT0hMSx0aGlzLnN0eWxlcz10LnJlZHVjZSgoZSx0KT0+KGVbdC5uYW1lXT10LHQuaXNEZWZhdWx0JiYodGhpcy5fZGVmYXVsdFN0eWxlPXQubmFtZSksZSkse30pfXJlZnJlc2goKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZih0aGlzLmlzRW5hYmxlZD1YaShlKSwhZSl0aGlzLnZhbHVlPSExO2Vsc2UgaWYoZS5oYXNBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnKSl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZSgnaW1hZ2VTdHlsZScpO3RoaXMudmFsdWU9ISF0aGlzLnN0eWxlc1t0XSYmdH1lbHNlIHRoaXMudmFsdWU9dGhpcy5fZGVmYXVsdFN0eWxlfWV4ZWN1dGUoZSl7Y29uc3QgdD1lLnZhbHVlLG89dGhpcy5lZGl0b3IubW9kZWwsbj1vLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtvLmNoYW5nZSgoZSk9Pnt0aGlzLnN0eWxlc1t0XS5pc0RlZmF1bHQ/ZS5yZW1vdmVBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnLG4pOmUuc2V0QXR0cmlidXRlKCdpbWFnZVN0eWxlJyx0LG4pfSl9fXZhciBIaz1vKDY2KSxLaz1vLm4oSGspLEdrPW8oNjcpLCRrPW8ubihHayksSms9byg2OCksUWs9by5uKEprKSxZaz1vKDY5KSxYaz1vLm4oWWspO2NvbnN0IFprPXtmdWxsOntuYW1lOidmdWxsJyx0aXRsZTonRnVsbCBzaXplIGltYWdlJyxpY29uOktrLmEsaXNEZWZhdWx0OiEwfSxzaWRlOntuYW1lOidzaWRlJyx0aXRsZTonU2lkZSBpbWFnZScsaWNvbjpYay5hLGNsYXNzTmFtZTonaW1hZ2Utc3R5bGUtc2lkZSd9LGFsaWduTGVmdDp7bmFtZTonYWxpZ25MZWZ0Jyx0aXRsZTonTGVmdCBhbGlnbmVkIGltYWdlJyxpY29uOiRrLmEsY2xhc3NOYW1lOidpbWFnZS1zdHlsZS1hbGlnbi1sZWZ0J30sYWxpZ25DZW50ZXI6e25hbWU6J2FsaWduQ2VudGVyJyx0aXRsZTonQ2VudGVyZWQgaW1hZ2UnLGljb246UWsuYSxjbGFzc05hbWU6J2ltYWdlLXN0eWxlLWFsaWduLWNlbnRlcid9LGFsaWduUmlnaHQ6e25hbWU6J2FsaWduUmlnaHQnLHRpdGxlOidSaWdodCBhbGlnbmVkIGltYWdlJyxpY29uOlhrLmEsY2xhc3NOYW1lOidpbWFnZS1zdHlsZS1hbGlnbi1yaWdodCd9fSxlXz17ZnVsbDpLay5hLGxlZnQ6JGsuYSxyaWdodDpYay5hLGNlbnRlcjpRay5hfTtjbGFzcyB0XyBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bYmJdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidJbWFnZVN0eWxlRWRpdGluZyd9aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLm1vZGVsLnNjaGVtYSxvPWUuZGF0YSxuPWUuZWRpdGluZztlLmNvbmZpZy5kZWZpbmUoJ2ltYWdlLnN0eWxlcycsWydmdWxsJywnc2lkZSddKTtjb25zdCBpPVlyKGUuY29uZmlnLmdldCgnaW1hZ2Uuc3R5bGVzJykpO3QuZXh0ZW5kKCdpbWFnZScse2FsbG93QXR0cmlidXRlczonaW1hZ2VTdHlsZSd9KTtjb25zdCByPSRyKGkpO24uZG93bmNhc3REaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZScsciksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTppbWFnZVN0eWxlOmltYWdlJyxyKSxvLnVwY2FzdERpc3BhdGNoZXIub24oJ2VsZW1lbnQ6ZmlndXJlJyxKcihpKSx7cHJpb3JpdHk6J2xvdyd9KSxlLmNvbW1hbmRzLmFkZCgnaW1hZ2VTdHlsZScsbmV3IFVrKGUsaSkpfX12YXIgb189byg3MCksbl89by5uKG9fKTtjbGFzcyBpXyBleHRlbmRzIHpme2dldCBsb2NhbGl6ZWREZWZhdWx0U3R5bGVzVGl0bGVzKCl7Y29uc3QgZT10aGlzLmVkaXRvci50O3JldHVybntcIkZ1bGwgc2l6ZSBpbWFnZVwiOmUoJ2gnKSxcIlNpZGUgaW1hZ2VcIjplKCdpJyksXCJMZWZ0IGFsaWduZWQgaW1hZ2VcIjplKCdqJyksXCJDZW50ZXJlZCBpbWFnZVwiOmUoJ2snKSxcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIjplKCdsJyl9fWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9ZS5jb25maWcuZ2V0KCdpbWFnZS5zdHlsZXMnKSxvPVpyKFlyKHQpLHRoaXMubG9jYWxpemVkRGVmYXVsdFN0eWxlc1RpdGxlcyk7Zm9yKGNvbnN0IGUgb2Ygbyl0aGlzLl9jcmVhdGVCdXR0b24oZSl9X2NyZWF0ZUJ1dHRvbihlKXtjb25zdCB0PXRoaXMuZWRpdG9yLG89YGltYWdlU3R5bGU6JHtlLm5hbWV9YDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKG8sKG8pPT57Y29uc3Qgbj10LmNvbW1hbmRzLmdldCgnaW1hZ2VTdHlsZScpLGk9bmV3IGhoKG8pO3JldHVybiBpLnNldCh7bGFiZWw6ZS50aXRsZSxpY29uOmUuaWNvbix0b29sdGlwOiEwfSksaS5iaW5kKCdpc0VuYWJsZWQnKS50byhuLCdpc0VuYWJsZWQnKSxpLmJpbmQoJ2lzT24nKS50byhuLCd2YWx1ZScsKHQpPT50PT09ZS5uYW1lKSx0aGlzLmxpc3RlblRvKGksJ2V4ZWN1dGUnLCgpPT50LmV4ZWN1dGUoJ2ltYWdlU3R5bGUnLHt2YWx1ZTplLm5hbWV9KSksaX0pfX1jbGFzcyByXyBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bdF8saV9dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVybidJbWFnZVN0eWxlJ319Y2xhc3MgYV8gZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2piXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nSW1hZ2VUb29sYmFyJ31pbml0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUucGx1Z2lucy5nZXQoJ0JhbGxvb25Ub29sYmFyJyk7dCYmdGhpcy5saXN0ZW5Ubyh0LCdzaG93JywodCk9PntZaShlLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pJiZ0LnN0b3AoKX0se3ByaW9yaXR5OidoaWdoJ30pfWFmdGVySW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1lLmNvbmZpZy5nZXQoJ2ltYWdlLnRvb2xiYXInKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX2JhbGxvb249dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoJ0NvbnRleHR1YWxCYWxsb29uJyksdGhpcy5fdG9vbGJhcj1uZXcgRmYsdGhpcy5fdG9vbGJhci5maWxsRnJvbUNvbmZpZyh0LGUudWkuY29tcG9uZW50RmFjdG9yeSksdGhpcy5saXN0ZW5UbyhlLmVkaXRpbmcudmlldywncmVuZGVyJywoKT0+e3RoaXMuX2NoZWNrSXNWaXNpYmxlKCl9KSx0aGlzLmxpc3RlblRvKGUudWkuZm9jdXNUcmFja2VyLCdjaGFuZ2U6aXNGb2N1c2VkJywoKT0+e3RoaXMuX2NoZWNrSXNWaXNpYmxlKCl9LHtwcmlvcml0eTonbG93J30pKX1fY2hlY2tJc1Zpc2libGUoKXtjb25zdCBlPXRoaXMuZWRpdG9yO2UudWkuZm9jdXNUcmFja2VyLmlzRm9jdXNlZD9ZaShlLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pP3RoaXMuX3Nob3dUb29sYmFyKCk6dGhpcy5faGlkZVRvb2xiYXIoKTp0aGlzLl9oaWRlVG9vbGJhcigpfV9zaG93VG9vbGJhcigpe2NvbnN0IGU9dGhpcy5lZGl0b3I7dGhpcy5faXNWaXNpYmxlP3ByKGUpOiF0aGlzLl9iYWxsb29uLmhhc1ZpZXcodGhpcy5fdG9vbGJhcikmJnRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuX3Rvb2xiYXIscG9zaXRpb246Z3IoZSksYmFsbG9vbkNsYXNzTmFtZTonY2stdG9vbGJhci1jb250YWluZXInfSl9X2hpZGVUb29sYmFyKCl7dGhpcy5faXNWaXNpYmxlJiZ0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLl90b29sYmFyKX1nZXQgX2lzVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLl90b29sYmFyfX1jbGFzcyBzXyBleHRlbmRzIEhme3JlZnJlc2goKXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLHQ9ZS5kb2N1bWVudDt0aGlzLnZhbHVlPXQuc2VsZWN0aW9uLmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKSx0aGlzLmlzRW5hYmxlZD1lLnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQuc2VsZWN0aW9uLCdsaW5rSHJlZicpfWV4ZWN1dGUoZSl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxvPXQuZG9jdW1lbnQuc2VsZWN0aW9uO3QuY2hhbmdlKChuKT0+e2lmKG8uaXNDb2xsYXBzZWQpe2NvbnN0IHQ9by5nZXRGaXJzdFBvc2l0aW9uKCk7aWYoby5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpe2NvbnN0IHQ9ZWEoby5nZXRGaXJzdFBvc2l0aW9uKCksby5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpO24uc2V0QXR0cmlidXRlKCdsaW5rSHJlZicsZSx0KSxuLnNldFNlbGVjdGlvbih0KX1lbHNlIGlmKCcnIT09ZSl7Y29uc3QgaT1ydChvLmdldEF0dHJpYnV0ZXMoKSk7aS5zZXQoJ2xpbmtIcmVmJyxlKTtjb25zdCByPW4uY3JlYXRlVGV4dChlLGkpO24uaW5zZXJ0KHIsdCksbi5zZXRTZWxlY3Rpb24oSHUuY3JlYXRlT24ocikpfX1lbHNle2NvbnN0IGk9dC5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMoby5nZXRSYW5nZXMoKSwnbGlua0hyZWYnKTtmb3IoY29uc3QgdCBvZiBpKW4uc2V0QXR0cmlidXRlKCdsaW5rSHJlZicsZSx0KX19KX19Y2xhc3MgbF8gZXh0ZW5kcyBIZntyZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmhhc0F0dHJpYnV0ZSgnbGlua0hyZWYnKX1leGVjdXRlKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQuc2VsZWN0aW9uO2UuY2hhbmdlKChlKT0+e2NvbnN0IG89dC5pc0NvbGxhcHNlZD9bZWEodC5nZXRGaXJzdFBvc2l0aW9uKCksdC5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpXTp0LmdldFJhbmdlcygpO2Zvcihjb25zdCB0IG9mIG8pZS5yZW1vdmVBdHRyaWJ1dGUoJ2xpbmtIcmVmJyx0KX0pfX1jb25zdCBkXz1TeW1ib2woJ2xpbmtFbGVtZW50Jyk7Y2xhc3MgY197Y29uc3RydWN0b3IoZSx0LG8pe3RoaXMubW9kZWw9ZSx0aGlzLmF0dHJpYnV0ZT1vLHRoaXMuX21vZGVsU2VsZWN0aW9uPWUuZG9jdW1lbnQuc2VsZWN0aW9uLHRoaXMuX292ZXJyaWRlVWlkPW51bGwsdGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMSx0Lmxpc3RlblRvKHRoaXMuX21vZGVsU2VsZWN0aW9uLCdjaGFuZ2U6cmFuZ2UnLChlLHQpPT50aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkP3ZvaWQodGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMSk6dm9pZCghdGhpcy5faXNHcmF2aXR5T3ZlcnJpZGRlbnx8IXQuZGlyZWN0Q2hhbmdlJiZyYSh0aGlzLl9tb2RlbFNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksbyl8fHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCkpKX1oYW5kbGVGb3J3YXJkTW92ZW1lbnQoZSx0KXtjb25zdCBvPXRoaXMuYXR0cmlidXRlO3JldHVybiB0aGlzLl9pc0dyYXZpdHlPdmVycmlkZGVufHxlLmlzQXRTdGFydCYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlP3ZvaWQgMDpsYShlLG8pJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KHQpLHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTphYShlLG8pPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6c2EoZSxvKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6dm9pZCAwfWhhbmRsZUJhY2t3YXJkTW92ZW1lbnQoZSx0KXtjb25zdCBvPXRoaXMuYXR0cmlidXRlO2lmKHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4pcmV0dXJuIGxhKGUsbykmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQodCksdGhpcy5fcmVzdG9yZUdyYXZpdHkoKSx0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKSwhMCk6KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KHQpLHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCksZS5pc0F0U3RhcnQmJnRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTtyZXR1cm4gbGEoZSxvKSYmIXRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQodCksdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUoZSksITApOmUuaXNBdEVuZCYmc2EoZSxvKT90aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/dm9pZChkYShlLG8pJiYodGhpcy5fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSkpOih0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSx0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZShlKSwhMCk6ZS5pc0F0U3RhcnQ/dGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKSx0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KSwhMCk6dm9pZCAwOnZvaWQoZGEoZSxvKSYmKHRoaXMuX3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCksdGhpcy5fb3ZlcnJpZGVHcmF2aXR5KCkpKX1nZXQgX2lzR3Jhdml0eU92ZXJyaWRkZW4oKXtyZXR1cm4hIXRoaXMuX292ZXJyaWRlVWlkfWdldCBfaGFzU2VsZWN0aW9uQXR0cmlidXRlKCl7cmV0dXJuIHRoaXMuX21vZGVsU2VsZWN0aW9uLmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSl9X292ZXJyaWRlR3Jhdml0eSgpe3RoaXMuX292ZXJyaWRlVWlkPXRoaXMubW9kZWwuY2hhbmdlKChlKT0+ZS5vdmVycmlkZVNlbGVjdGlvbkdyYXZpdHkoKSl9X3Jlc3RvcmVHcmF2aXR5KCl7dGhpcy5tb2RlbC5jaGFuZ2UoKGUpPT57ZS5yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0aGlzLl9vdmVycmlkZVVpZCksdGhpcy5fb3ZlcnJpZGVVaWQ9bnVsbH0pfV9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKXtlLnByZXZlbnREZWZhdWx0KCl9X3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpe3RoaXMubW9kZWwuY2hhbmdlKChlKT0+e2UucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKX0pfV9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZShlKXtjb25zdCB0PXRoaXMuYXR0cmlidXRlO3RoaXMubW9kZWwuY2hhbmdlKChvKT0+e28uc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLGUubm9kZUJlZm9yZS5nZXRBdHRyaWJ1dGUodCkpfSl9X3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCl7dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMH19dmFyIHVfPW8oNzIpLG1fPW8ubih1Xyk7Y29uc3QgcF89J2NrLWxpbmtfc2VsZWN0ZWQnO2NsYXNzIGdfIGV4dGVuZHMgemZ7aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5zY2hlbWEuZXh0ZW5kKCckdGV4dCcse2FsbG93QXR0cmlidXRlczonbGlua0hyZWYnfSksZS5jb252ZXJzaW9uLmZvcignZG93bmNhc3QnKS5hZGQoYnQoe21vZGVsOidsaW5rSHJlZicsdmlldzpuYX0pKSxlLmNvbnZlcnNpb24uZm9yKCd1cGNhc3QnKS5hZGQoWHQoe3ZpZXc6e25hbWU6J2EnLGF0dHJpYnV0ZXM6e2hyZWY6ITB9fSxtb2RlbDp7a2V5OidsaW5rSHJlZicsdmFsdWU6KGUpPT5lLmdldEF0dHJpYnV0ZSgnaHJlZicpfX0pKSxlLmNvbW1hbmRzLmFkZCgnbGluaycsbmV3IHNfKGUpKSxlLmNvbW1hbmRzLmFkZCgndW5saW5rJyxuZXcgbF8oZSkpLGlhKGUuZWRpdGluZy52aWV3LGUubW9kZWwsdGhpcywnbGlua0hyZWYnKSx0aGlzLl9zZXR1cExpbmtIaWdobGlnaHQoKX1fc2V0dXBMaW5rSGlnaGxpZ2h0KCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuZWRpdGluZy52aWV3LG89bmV3IFNldDt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKCh0KT0+e2NvbnN0IG49ZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYobi5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpe2NvbnN0IGk9ZWEobi5nZXRGaXJzdFBvc2l0aW9uKCksbi5nZXRBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpLHI9ZS5lZGl0aW5nLm1hcHBlci50b1ZpZXdSYW5nZShpKTtmb3IoY29uc3QgZSBvZiByLmdldEl0ZW1zKCkpZS5pcygnYScpJiYodC5hZGRDbGFzcyhwXyxlKSxvLmFkZChlKSl9fSksZS5jb252ZXJzaW9uLmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKChlKT0+e2Z1bmN0aW9uIG4oKXt0LmNoYW5nZSgoZSk9Pntmb3IoY29uc3QgdCBvZiBvLnZhbHVlcygpKWUucmVtb3ZlQ2xhc3MocF8sdCksby5kZWxldGUodCl9KX1lLm9uKCdpbnNlcnQnLG4se3ByaW9yaXR5OidoaWdoZXN0J30pLGUub24oJ3JlbW92ZScsbix7cHJpb3JpdHk6J2hpZ2hlc3QnfSksZS5vbignYXR0cmlidXRlJyxuLHtwcmlvcml0eTonaGlnaGVzdCd9KSxlLm9uKCdzZWxlY3Rpb24nLG4se3ByaW9yaXR5OidoaWdoZXN0J30pfSl9fWNsYXNzIGZfIGV4dGVuZHMgX3V7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kb21FdmVudFR5cGU9J2NsaWNrJ31vbkRvbUV2ZW50KGUpe3RoaXMuZmlyZShlLnR5cGUsZSl9fXZhciBoXz1vKDc0KSxiXz1vLm4oaF8pO2NsYXNzIGtfIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgbz1lLnQ7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGFmLHRoaXMua2V5c3Ryb2tlcz1uZXcgWWcsdGhpcy51cmxJbnB1dFZpZXc9dGhpcy5fY3JlYXRlVXJsSW5wdXQoKSx0aGlzLnNhdmVCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihvKCdhYicpLE9iLmEsJ2NrLWJ1dHRvbi1zYXZlJyksdGhpcy5zYXZlQnV0dG9uVmlldy50eXBlPSdzdWJtaXQnLHRoaXMuY2FuY2VsQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24obygnYWMnKSxJYi5hLCdjay1idXR0b24tY2FuY2VsJywnY2FuY2VsJyksdGhpcy5fZm9jdXNhYmxlcz1uZXcgbGYsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IE9mKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6J3NoaWZ0ICsgdGFiJyxmb2N1c05leHQ6J3RhYid9fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOidmb3JtJyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stbGluay1mb3JtJ10sdGFiaW5kZXg6Jy0xJ30sY2hpbGRyZW46W3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLGlyKHt2aWV3OnRoaXN9KTtjb25zdCBlPVt0aGlzLnVybElucHV0Vmlldyx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld107ZS5mb3JFYWNoKChlKT0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKGUpLHRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9X2NyZWF0ZVVybElucHV0KCl7Y29uc3QgZT10aGlzLmxvY2FsZS50LHQ9bmV3IEFiKHRoaXMubG9jYWxlLEViKTtyZXR1cm4gdC5sYWJlbD1lKCdhZCcpLHQuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPSdodHRwczovL2V4YW1wbGUuY29tJyx0fV9jcmVhdGVCdXR0b24oZSx0LG8sbil7Y29uc3QgaT1uZXcgaGgodGhpcy5sb2NhbGUpO3JldHVybiBpLnNldCh7bGFiZWw6ZSxpY29uOnQsdG9vbHRpcDohMH0pLGkuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOm99fSksbiYmaS5kZWxlZ2F0ZSgnZXhlY3V0ZScpLnRvKHRoaXMsbiksaX19dmFyIF9fPW8oNzYpLHdfPW8ubihfXyksdl89byg3NykseV89by5uKHZfKSx4Xz1vKDc4KSxDXz1vLm4oeF8pO2NsYXNzIEFfIGV4dGVuZHMgaGZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgbz1lLnQ7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IGFmLHRoaXMua2V5c3Ryb2tlcz1uZXcgWWcsdGhpcy5wcmV2aWV3QnV0dG9uVmlldz10aGlzLl9jcmVhdGVQcmV2aWV3QnV0dG9uKCksdGhpcy51bmxpbmtCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihvKCd4Jyksd18uYSwndW5saW5rJyksdGhpcy5lZGl0QnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24obygneScpLHlfLmEsJ2VkaXQnKSx0aGlzLnNldCgnaHJlZicpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IGxmLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBPZih7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOidzaGlmdCArIHRhYicsZm9jdXNOZXh0Oid0YWInfX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzonZGl2JyxhdHRyaWJ1dGVzOntjbGFzczpbJ2NrJywnY2stbGluay1hY3Rpb25zJ10sdGFiaW5kZXg6Jy0xJ30sY2hpbGRyZW46W3RoaXMucHJldmlld0J1dHRvblZpZXcsdGhpcy5lZGl0QnV0dG9uVmlldyx0aGlzLnVubGlua0J1dHRvblZpZXddfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Y29uc3QgZT1bdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld107ZS5mb3JFYWNoKChlKT0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKGUpLHRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9X2NyZWF0ZUJ1dHRvbihlLHQsbyl7Y29uc3Qgbj1uZXcgaGgodGhpcy5sb2NhbGUpO3JldHVybiBuLnNldCh7bGFiZWw6ZSxpY29uOnQsdG9vbHRpcDohMH0pLG4uZGVsZWdhdGUoJ2V4ZWN1dGUnKS50byh0aGlzLG8pLG59X2NyZWF0ZVByZXZpZXdCdXR0b24oKXtjb25zdCBlPW5ldyBoaCh0aGlzLmxvY2FsZSksbz10aGlzLmJpbmRUZW1wbGF0ZSxuPXRoaXMudDtyZXR1cm4gZS5zZXQoe3dpdGhUZXh0OiEwLHRvb2x0aXA6bigneicpfSksZS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6WydjaycsJ2NrLWxpbmstYWN0aW9uc19fcHJldmlldyddLGhyZWY6by50bygnaHJlZicpLHRhcmdldDonX2JsYW5rJ319KSxlLmJpbmQoJ2xhYmVsJykudG8odGhpcywnaHJlZicsKGUpPT5lfHxuKCdhYScpKSxlLmJpbmQoJ2lzRW5hYmxlZCcpLnRvKHRoaXMsJ2hyZWYnLChlKT0+ISFlKSxlLnRlbXBsYXRlLnRhZz0nYScsZS50ZW1wbGF0ZS5ldmVudExpc3RlbmVycz17fSxlfX12YXIgVF89byg4MCksUF89by5uKFRfKTtjb25zdCBFXz0nQ3RybCtLJztjbGFzcyBTXyBleHRlbmRzIHpme3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bamJdfWluaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yO2UuZWRpdGluZy52aWV3LmFkZE9ic2VydmVyKGZfKSx0aGlzLmFjdGlvbnNWaWV3PXRoaXMuX2NyZWF0ZUFjdGlvbnNWaWV3KCksdGhpcy5mb3JtVmlldz10aGlzLl9jcmVhdGVGb3JtVmlldygpLHRoaXMuX2JhbGxvb249ZS5wbHVnaW5zLmdldChqYiksdGhpcy5fY3JlYXRlVG9vbGJhckxpbmtCdXR0b24oKSx0aGlzLl9lbmFibGVVc2VyQmFsbG9vbkludGVyYWN0aW9ucygpfV9jcmVhdGVBY3Rpb25zVmlldygpe2NvbnN0IGU9dGhpcy5lZGl0b3IsdD1uZXcgQV8oZS5sb2NhbGUpLG89ZS5jb21tYW5kcy5nZXQoJ2xpbmsnKSxuPWUuY29tbWFuZHMuZ2V0KCd1bmxpbmsnKTtyZXR1cm4gdC5iaW5kKCdocmVmJykudG8obywndmFsdWUnKSx0LmVkaXRCdXR0b25WaWV3LmJpbmQoJ2lzRW5hYmxlZCcpLnRvKG8pLHQudW5saW5rQnV0dG9uVmlldy5iaW5kKCdpc0VuYWJsZWQnKS50byhuKSx0aGlzLmxpc3RlblRvKHQsJ2VkaXQnLCgpPT57dGhpcy5fYWRkRm9ybVZpZXcoKX0pLHRoaXMubGlzdGVuVG8odCwndW5saW5rJywoKT0+e2UuZXhlY3V0ZSgndW5saW5rJyksdGhpcy5faGlkZVVJKCl9KSx0LmtleXN0cm9rZXMuc2V0KCdFc2MnLChlLHQpPT57dGhpcy5faGlkZVVJKCksdCgpfSksdC5rZXlzdHJva2VzLnNldChFXywoZSx0KT0+e3RoaXMuX2FkZEZvcm1WaWV3KCksdCgpfSksdH1fY3JlYXRlRm9ybVZpZXcoKXtjb25zdCBlPXRoaXMuZWRpdG9yLHQ9bmV3IGtfKGUubG9jYWxlKSxvPWUuY29tbWFuZHMuZ2V0KCdsaW5rJyk7cmV0dXJuIHQudXJsSW5wdXRWaWV3LmJpbmQoJ3ZhbHVlJykudG8obywndmFsdWUnKSx0LnVybElucHV0Vmlldy5iaW5kKCdpc1JlYWRPbmx5JykudG8obywnaXNFbmFibGVkJywoZSk9PiFlKSx0LnNhdmVCdXR0b25WaWV3LmJpbmQoJ2lzRW5hYmxlZCcpLnRvKG8pLHRoaXMubGlzdGVuVG8odCwnc3VibWl0JywoKT0+e2UuZXhlY3V0ZSgnbGluaycsdC51cmxJbnB1dFZpZXcuaW5wdXRWaWV3LmVsZW1lbnQudmFsdWUpLHRoaXMuX3JlbW92ZUZvcm1WaWV3KCl9KSx0aGlzLmxpc3RlblRvKHQsJ2NhbmNlbCcsKCk9Pnt0aGlzLl9yZW1vdmVGb3JtVmlldygpfSksdC5rZXlzdHJva2VzLnNldCgnRXNjJywoZSx0KT0+e3RoaXMuX3JlbW92ZUZvcm1WaWV3KCksdCgpfSksdH1fY3JlYXRlVG9vbGJhckxpbmtCdXR0b24oKXtjb25zdCBlPXRoaXMuZWRpdG9yLG89ZS5jb21tYW5kcy5nZXQoJ2xpbmsnKSxuPWUudDtlLmtleXN0cm9rZXMuc2V0KEVfLChlLHQpPT57dCgpLG8uaXNFbmFibGVkJiZ0aGlzLl9zaG93VUkoKX0pLGUudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoJ2xpbmsnLChlKT0+e2NvbnN0IHQ9bmV3IGhoKGUpO3JldHVybiB0LmlzRW5hYmxlZD0hMCx0LmxhYmVsPW4oJ3AnKSx0Lmljb249UF8uYSx0LmtleXN0cm9rZT1FXyx0LnRvb2x0aXA9ITAsdC5iaW5kKCdpc0VuYWJsZWQnKS50byhvLCdpc0VuYWJsZWQnKSx0aGlzLmxpc3RlblRvKHQsJ2V4ZWN1dGUnLCgpPT50aGlzLl9zaG93VUkoKSksdH0pfV9lbmFibGVVc2VyQmFsbG9vbkludGVyYWN0aW9ucygpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50O3RoaXMubGlzdGVuVG8oZSwnY2xpY2snLCgpPT57Y29uc3QgZT10aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCk7ZSYmdGhpcy5fc2hvd1VJKCl9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldCgnVGFiJywoZSx0KT0+e3RoaXMuX2FyZUFjdGlvbnNWaXNpYmxlJiYhdGhpcy5hY3Rpb25zVmlldy5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYodGhpcy5hY3Rpb25zVmlldy5mb2N1cygpLHQoKSl9LHtwcmlvcml0eTonaGlnaCd9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldCgnRXNjJywoZSx0KT0+e3RoaXMuX2lzVUlWaXNpYmxlJiYodGhpcy5faGlkZVVJKCksdCgpKX0pLG5yKHtlbWl0dGVyOnRoaXMuZm9ybVZpZXcsYWN0aXZhdG9yOigpPT50aGlzLl9pc1VJVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2JhbGxvb24udmlldy5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZVVJKCl9KX1fYWRkQWN0aW9uc1ZpZXcoKXt0aGlzLl9hcmVBY3Rpb25zSW5QYW5lbHx8dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5hY3Rpb25zVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KX1fYWRkRm9ybVZpZXcoKXtpZighdGhpcy5faXNGb3JtSW5QYW5lbCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29tbWFuZHMuZ2V0KCdsaW5rJyk7dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5mb3JtVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5zZWxlY3QoKSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZT10LnZhbHVlfHwnJ319X3JlbW92ZUZvcm1WaWV3KCl7dGhpcy5faXNGb3JtSW5QYW5lbCYmKHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuZm9ybVZpZXcpLHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpKX1fc2hvd1VJKCl7Y29uc3QgZT10aGlzLmVkaXRvcix0PWUuY29tbWFuZHMuZ2V0KCdsaW5rJyk7dC5pc0VuYWJsZWQmJih0aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCk/dGhpcy5fYXJlQWN0aW9uc1Zpc2libGU/dGhpcy5fYWRkRm9ybVZpZXcoKTp0aGlzLl9hZGRBY3Rpb25zVmlldygpOih0aGlzLl9hZGRBY3Rpb25zVmlldygpLHRoaXMuX2FkZEZvcm1WaWV3KCkpLHRoaXMuX3N0YXJ0VXBkYXRpbmdVSU9uVmlld1JlbmRlcigpKX1faGlkZVVJKCl7aWYodGhpcy5faXNVSUluUGFuZWwpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3O3RoaXMuc3RvcExpc3RlbmluZyhlLCdyZW5kZXInKSx0aGlzLl9yZW1vdmVGb3JtVmlldygpLHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuYWN0aW9uc1ZpZXcpLGUuZm9jdXMoKX19X3N0YXJ0VXBkYXRpbmdVSU9uVmlld1JlbmRlcigpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbi5kb2N1bWVudC5zZWxlY3Rpb24uZm9jdXMuZ2V0QW5jZXN0b3JzKCkucmV2ZXJzZSgpLmZpbmQoKGUpPT5lLmlzKCdlbGVtZW50JykpfWNvbnN0IHQ9dGhpcy5lZGl0b3Isbz10LmVkaXRpbmcsbj1vLnZpZXc7bGV0IGk9dGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpLHI9ZSgpO3RoaXMubGlzdGVuVG8obiwncmVuZGVyJywoKT0+e2NvbnN0IHQ9dGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpLG89ZSgpOyghaXx8dCkmJihpfHxvPT09cik/dGhpcy5fYmFsbG9vbi51cGRhdGVQb3NpdGlvbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCkpOnRoaXMuX2hpZGVVSSgpLGk9dCxyPW99KX1nZXQgX2lzRm9ybUluUGFuZWwoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuZm9ybVZpZXcpfWdldCBfYXJlQWN0aW9uc0luUGFuZWwoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuYWN0aW9uc1ZpZXcpfWdldCBfYXJlQWN0aW9uc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09PXRoaXMuYWN0aW9uc1ZpZXd9Z2V0IF9pc1VJSW5QYW5lbCgpe3JldHVybiB0aGlzLl9pc0Zvcm1JblBhbmVsfHx0aGlzLl9hcmVBY3Rpb25zSW5QYW5lbH1nZXQgX2lzVUlWaXNpYmxlKCl7Y29uc3QgZT10aGlzLl9iYWxsb29uLnZpc2libGVWaWV3O3JldHVybiBlPT10aGlzLmZvcm1WaWV3fHx0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZX1fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LHQ9ZS5kb2N1bWVudCxvPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxuPW8/ZS5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG8pOmUuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKHQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSk7cmV0dXJue3RhcmdldDpufX1fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbjtpZihlLmlzQ29sbGFwc2VkKXJldHVybiBjYShlLmdldEZpcnN0UG9zaXRpb24oKSk7ZWxzZXtjb25zdCB0PWUuZ2V0Rmlyc3RSYW5nZSgpLmdldFRyaW1tZWQoKSxvPWNhKHQuc3RhcnQpLG49Y2EodC5lbmQpO3JldHVybiBvJiZvPT1uP3ljLmNyZWF0ZUluKG8pLmdldFRyaW1tZWQoKS5pc0VxdWFsKHQpP286bnVsbDpudWxsfX19Y2xhc3MgT18gZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2dfLFNfXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nTGluayd9fWNsYXNzIFJfIGV4dGVuZHMgSGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLnR5cGU9J2J1bGxldGVkJz09dD8nYnVsbGV0ZWQnOidudW1iZXJlZCd9cmVmcmVzaCgpe3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWUoKSx0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQsbz1BcnJheS5mcm9tKHQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcigodCk9Pm1hKHQsZS5zY2hlbWEpKSxuPSEwPT09dGhpcy52YWx1ZTtlLmNoYW5nZSgoZSk9PntpZihuKXtsZXQgdD1vW28ubGVuZ3RoLTFdLm5leHRTaWJsaW5nLG49TmEsaT1bXTtmb3IoO3QmJidsaXN0SXRlbSc9PXQubmFtZSYmMCE9PXQuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKTspe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpO2U8biYmKG49ZSk7Y29uc3Qgbz1lLW47aS5wdXNoKHtlbGVtZW50OnQsaW5kZW50Om99KSx0PXQubmV4dFNpYmxpbmd9aT1pLnJldmVyc2UoKTtmb3IoY29uc3QgdCBvZiBpKWUuc2V0QXR0cmlidXRlKCdpbmRlbnQnLHQuaW5kZW50LHQuZWxlbWVudCl9aWYoIW4pe2xldCBlPU5hO2Zvcihjb25zdCB0IG9mIG8pdC5pcygnbGlzdEl0ZW0nKSYmdC5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpPGUmJihlPXQuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKSk7ZT0wPT09ZT8xOmUsdWEobywhMCxlKSx1YShvLCExLGUpfWZvcihjb25zdCB0IG9mIG8ucmV2ZXJzZSgpKW4mJidsaXN0SXRlbSc9PXQubmFtZT9lLnJlbmFtZSh0LCdwYXJhZ3JhcGgnKTpufHwnbGlzdEl0ZW0nPT10Lm5hbWU/bnx8J2xpc3RJdGVtJyE9dC5uYW1lfHx0LmdldEF0dHJpYnV0ZSgndHlwZScpPT10aGlzLnR5cGV8fGUuc2V0QXR0cmlidXRlKCd0eXBlJyx0aGlzLnR5cGUsdCk6KGUuc2V0QXR0cmlidXRlcyh7dHlwZTp0aGlzLnR5cGUsaW5kZW50OjB9LHQpLGUucmVuYW1lKHQsJ2xpc3RJdGVtJykpfSl9X2dldFZhbHVlKCl7Y29uc3QgZT1PaSh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7cmV0dXJuISFlJiZlLmlzKCdsaXN0SXRlbScpJiZlLmdldEF0dHJpYnV0ZSgndHlwZScpPT10aGlzLnR5cGV9X2NoZWNrRW5hYmxlZCgpe2lmKHRoaXMudmFsdWUpcmV0dXJuITA7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sdD10aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEsbz1PaShlLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhbyYmbWEobyx0KX19Y2xhc3MgSV8gZXh0ZW5kcyBIZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuX2luZGVudEJ5PSdmb3J3YXJkJz09dD8xOi0xfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCx0PWUuZG9jdW1lbnQ7bGV0IG89QXJyYXkuZnJvbSh0LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtlLmNoYW5nZSgoZSk9Pntjb25zdCB0PW9bby5sZW5ndGgtMV07Zm9yKGxldCBuPXQubmV4dFNpYmxpbmc7biYmJ2xpc3RJdGVtJz09bi5uYW1lJiZuLmdldEF0dHJpYnV0ZSgnaW5kZW50Jyk+dC5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpOylvLnB1c2gobiksbj1uLm5leHRTaWJsaW5nOzA+dGhpcy5faW5kZW50QnkmJihvPW8ucmV2ZXJzZSgpKTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBvPXQuZ2V0QXR0cmlidXRlKCdpbmRlbnQnKSt0aGlzLl9pbmRlbnRCeTswPm8/ZS5yZW5hbWUodCwncGFyYWdyYXBoJyk6ZS5zZXRBdHRyaWJ1dGUoJ2luZGVudCcsbyx0KX19KX1fY2hlY2tFbmFibGVkKCl7Y29uc3QgZT1PaSh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7aWYoIWV8fCFlLmlzKCdsaXN0SXRlbScpKXJldHVybiExO2lmKDA8dGhpcy5faW5kZW50Qnkpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpLG89ZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtmb3IobGV0IG49ZS5wcmV2aW91c1NpYmxpbmc7biYmbi5pcygnbGlzdEl0ZW0nKSYmbi5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpPj10Oyl7aWYobi5nZXRBdHRyaWJ1dGUoJ2luZGVudCcpPT10KXJldHVybiBuLmdldEF0dHJpYnV0ZSgndHlwZScpPT1vO249bi5wcmV2aW91c1NpYmxpbmd9cmV0dXJuITF9cmV0dXJuITB9fWNsYXNzIFZfIGV4dGVuZHMgemZ7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltta119aW5pdCgpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5zY2hlbWEucmVnaXN0ZXIoJ2xpc3RJdGVtJyx7aW5oZXJpdEFsbEZyb206JyRibG9jaycsYWxsb3dBdHRyaWJ1dGVzOlsndHlwZScsJ2luZGVudCddfSk7Y29uc3QgdD1lLmRhdGEsbz1lLmVkaXRpbmc7ZS5tb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcigodCk9PlRhKGUubW9kZWwsdCkpLG8ubWFwcGVyLnJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgoJ2xpJyxGYSksdC5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCgnbGknLEZhKSxvLm1hcHBlci5vbignbW9kZWxUb1ZpZXdQb3NpdGlvbicsQ2EpLG8ubWFwcGVyLm9uKCd2aWV3VG9Nb2RlbFBvc2l0aW9uJyxBYSksdC5tYXBwZXIub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLENhKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0JyxfYSx7cHJpb3JpdHk6J2hpZ2gnfSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2luc2VydDpsaXN0SXRlbScsZmEpLHQuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdpbnNlcnQnLF9hLHtwcmlvcml0eTonaGlnaCd9KSx0LmRvd25jYXN0RGlzcGF0Y2hlci5vbignaW5zZXJ0Omxpc3RJdGVtJyxmYSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTp0eXBlOmxpc3RJdGVtJyxiYSksdC5kb3duY2FzdERpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTp0eXBlOmxpc3RJdGVtJyxiYSksby5kb3duY2FzdERpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTppbmRlbnQ6bGlzdEl0ZW0nLGthKSx0LmRvd25jYXN0RGlzcGF0Y2hlci5vbignYXR0cmlidXRlOmluZGVudDpsaXN0SXRlbScsa2EpLG8uZG93bmNhc3REaXNwYXRjaGVyLm9uKCdyZW1vdmU6bGlzdEl0ZW0nLGhhKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlJyx3YSx7cHJpb3JpdHk6J2xvdyd9KSx0LmRvd25jYXN0RGlzcGF0Y2hlci5vbigncmVtb3ZlOmxpc3RJdGVtJyxoYSksdC5kb3duY2FzdERpc3BhdGNoZXIub24oJ3JlbW92ZScsd2Ese3ByaW9yaXR5Oidsb3cnfSksdC51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50OnVsJyx5YSx7cHJpb3JpdHk6J2hpZ2gnfSksdC51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50Om9sJyx5YSx7cHJpb3JpdHk6J2hpZ2gnfSksdC51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50OmxpJyx4YSx7cHJpb3JpdHk6J2hpZ2gnfSksdC51cGNhc3REaXNwYXRjaGVyLm9uKCdlbGVtZW50OmxpJyx2YSksZS5tb2RlbC5vbignaW5zZXJ0Q29udGVudCcsUGEse3ByaW9yaXR5OidoaWdoJ30pLGUuY29tbWFuZHMuYWRkKCdudW1iZXJlZExpc3QnLG5ldyBSXyhlLCdudW1iZXJlZCcpKSxlLmNvbW1hbmRzLmFkZCgnYnVsbGV0ZWRMaXN0JyxuZXcgUl8oZSwnYnVsbGV0ZWQnKSksZS5jb21tYW5kcy5hZGQoJ2luZGVudExpc3QnLG5ldyBJXyhlLCdmb3J3YXJkJykpLGUuY29tbWFuZHMuYWRkKCdvdXRkZW50TGlzdCcsbmV3IElfKGUsJ2JhY2t3YXJkJykpO2NvbnN0IG49dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50O3RoaXMubGlzdGVuVG8obiwnZW50ZXInLChlLHQpPT57Y29uc3Qgbz10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxuPW8uc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpLnBhcmVudDtvLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCYmJ2xpc3RJdGVtJz09bi5uYW1lJiZuLmlzRW1wdHkmJih0aGlzLmVkaXRvci5leGVjdXRlKCdvdXRkZW50TGlzdCcpLHQucHJldmVudERlZmF1bHQoKSxlLnN0b3AoKSl9KSx0aGlzLmxpc3RlblRvKG4sJ2RlbGV0ZScsKGUsdCk9PntpZignYmFja3dhcmQnPT09dC5kaXJlY3Rpb24pe2NvbnN0IG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG8uaXNDb2xsYXBzZWQpe2NvbnN0IG49by5nZXRGaXJzdFBvc2l0aW9uKCk7aWYobi5pc0F0U3RhcnQpe2NvbnN0IG89bi5wYXJlbnQ7aWYoJ2xpc3RJdGVtJz09PW8ubmFtZSl7Y29uc3Qgbj1vLnByZXZpb3VzU2libGluZyYmJ2xpc3RJdGVtJz09PW8ucHJldmlvdXNTaWJsaW5nLm5hbWU7bnx8KHRoaXMuZWRpdG9yLmV4ZWN1dGUoJ291dGRlbnRMaXN0JyksdC5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcCgpKX19fX19LHtwcmlvcml0eTonaGlnaCd9KTtjb25zdCBpPShlKT0+KHQsbyk9Pntjb25zdCBuPXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChlKTtuLmlzRW5hYmxlZCYmKHRoaXMuZWRpdG9yLmV4ZWN1dGUoZSksbygpKX07dGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ1RhYicsaSgnaW5kZW50TGlzdCcpKSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldCgnU2hpZnQrVGFiJyxpKCdvdXRkZW50TGlzdCcpKX19dmFyIEZfPW8oODEpLE5fPW8ubihGXyksTV89byg4MiksRF89by5uKE1fKTtjbGFzcyBCXyBleHRlbmRzIHpme2luaXQoKXtjb25zdCBlPXRoaXMuZWRpdG9yLnQ7dGhpcy5fYWRkQnV0dG9uKCdudW1iZXJlZExpc3QnLGUoJ20nKSxOXy5hKSx0aGlzLl9hZGRCdXR0b24oJ2J1bGxldGVkTGlzdCcsZSgnbicpLERfLmEpfV9hZGRCdXR0b24oZSx0LG8pe2NvbnN0IG49dGhpcy5lZGl0b3I7bi51aS5jb21wb25lbnRGYWN0b3J5LmFkZChlLChpKT0+e2NvbnN0IHI9bi5jb21tYW5kcy5nZXQoZSksYT1uZXcgaGgoaSk7cmV0dXJuIGEuc2V0KHtsYWJlbDp0LGljb246byx0b29sdGlwOiEwfSksYS5iaW5kKCdpc09uJywnaXNFbmFibGVkJykudG8ociwndmFsdWUnLCdpc0VuYWJsZWQnKSx0aGlzLmxpc3RlblRvKGEsJ2V4ZWN1dGUnLCgpPT5uLmV4ZWN1dGUoZSkpLGF9KX19Y2xhc3MgTF8gZXh0ZW5kcyB6ZntzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1ZfLEJfXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm4nTGlzdCd9fWNsYXNzIHpfIGV4dGVuZHMgTGZ7fXRbJ2RlZmF1bHQnXT16Xyx6Xy5idWlsZD17cGx1Z2luczpbeGgsT2gsRmgscWgsSmgsbmIsY2ssTmssJGIsV2sscl8sYV8sZGssT18sTF8sbWtdLGNvbmZpZzp7dG9vbGJhcjp7aXRlbXM6WydoZWFkaW5nJywnfCcsJ2JvbGQnLCdpdGFsaWMnLCdsaW5rJywnYnVsbGV0ZWRMaXN0JywnbnVtYmVyZWRMaXN0JywnaW1hZ2VVcGxvYWQnLCdibG9ja1F1b3RlJywndW5kbycsJ3JlZG8nXX0saW1hZ2U6e3Rvb2xiYXI6WydpbWFnZVN0eWxlOmZ1bGwnLCdpbWFnZVN0eWxlOnNpZGUnLCd8JywnaW1hZ2VUZXh0QWx0ZXJuYXRpdmUnXX0sbGFuZ3VhZ2U6J2VuJ319fSxmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXt0PXR8fEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCl8fCgxLGV2YWwpKCd0aGlzJyl9Y2F0Y2gobyl7J29iamVjdCc9PXR5cGVvZiB3aW5kb3cmJih0PXdpbmRvdyl9ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKGUsdCl7J3VzZSBzdHJpY3QnO3QuYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5PYmplY3Q9PT1PYmplY3Q/ZTpudWxsfX0sZnVuY3Rpb24oZSx0LG8peyd1c2Ugc3RyaWN0JzsoZnVuY3Rpb24oZSl7dmFyIG49bygxMCksaT1vKDEpLHI9e2Z1bmN0aW9uOiEwLG9iamVjdDohMH0sYT1yW3R5cGVvZiBleHBvcnRzXSYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGU/ZXhwb3J0czp2b2lkIDAscz1yW3R5cGVvZiBlXSYmZSYmIWUubm9kZVR5cGU/ZTp2b2lkIDAsbD1zJiZzLmV4cG9ydHM9PT1hP2E6dm9pZCAwLGQ9bD9pLmEuQnVmZmVyOnZvaWQgMCxjPWQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBkfTpPYmplY3Qobi5hKSghMSk7dC5hPWN9KS5jYWxsKHQsbygyKShlKSl9LGZ1bmN0aW9uKGUsdCl7J3VzZSBzdHJpY3QnO3QuYT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19fSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygxMik7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay1oaWRkZW57ZGlzcGxheTpub25lIWltcG9ydGFudH0uY2suY2stcmVzZXQsLmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOmF1dG87aGVpZ2h0OmF1dG87cG9zaXRpb246c3RhdGljfTpyb290ey0tY2stei1kZWZhdWx0OjE7LS1jay16LW1vZGFsOjk5OTstLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZDojZmFmYWZhOy0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kOiNmZmY7LS1jay1jb2xvci1iYXNlLWJvcmRlcjojYzRjNGM0Oy0tY2stY29sb3ItYmFzZS1hY3Rpb246IzYxYjA0NTstLWNrLWNvbG9yLWJhc2UtZm9jdXM6IzZjYjVmOTstLWNrLWNvbG9yLWJhc2UtdGV4dDojMzMzOy0tY2stY29sb3ItYmFzZS1hY3RpdmU6IzE5OGNmMDstLWNrLWNvbG9yLWJhc2UtYWN0aXZlLWZvY3VzOiMwZTdmZTE7LS1jay1jb2xvci1mb2N1cy1ib3JkZXI6IzQ3YTRmNTstLWNrLWNvbG9yLWZvY3VzLXNoYWRvdzojNzdiYWY4Oy0tY2stY29sb3ItdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3Itc2hhZG93LWRyb3A6cmdiYSgwLDAsMCwuMTUpOy0tY2stY29sb3Itc2hhZG93LWlubmVyOnJnYmEoMCwwLDAsLjEpOy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWZvY3VzLWJhY2tncm91bmQ6I2U2ZTZlNjstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1iYWNrZ3JvdW5kOiNkOWQ5ZDk7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtc2hhZG93OiNiZmJmYmY7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1kaXNhYmxlZC1iYWNrZ3JvdW5kOnRyYW5zcGFyZW50Oy0tY2stY29sb3ItYnV0dG9uLW9uLWJhY2tncm91bmQ6I2RlZGVkZTstLWNrLWNvbG9yLWJ1dHRvbi1vbi1mb2N1cy1iYWNrZ3JvdW5kOiNjNGM0YzQ7LS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLWJhY2tncm91bmQ6I2JhYmFiYTstLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtc2hhZG93OiNhMWExYTE7LS1jay1jb2xvci1idXR0b24tb24tZGlzYWJsZWQtYmFja2dyb3VuZDojZGVkZWRlOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYWN0aW9uKTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZm9jdXMtYmFja2dyb3VuZDojNTc5ZTNkOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtYmFja2dyb3VuZDojNTM5NzNiOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1hY3RpdmUtc2hhZG93OiM0OTg0MzM7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWRpc2FibGVkLWJhY2tncm91bmQ6IzdlYzM2NTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItYnV0dG9uLXNhdmU6IzAwOGEwMDstLWNrLWNvbG9yLWJ1dHRvbi1jYW5jZWw6I2RiMzcwMDstLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci1pbnB1dC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1pbnB1dC1ib3JkZXI6I2M3YzdjNzstLWNrLWNvbG9yLWlucHV0LXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJhY2tncm91bmQ6I2YyZjJmMjstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJvcmRlcjojYzdjN2M3Oy0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtdGV4dDojNWM1YzVjOy0tY2stY29sb3ItbGlzdC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1saXN0LWl0ZW0tYmFja2dyb3VuZC1ob3Zlcjp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpOy0tY2stY29sb3ItbGlzdC1pdGVtLWJhY2tncm91bmQtYWN0aXZlOnZhcigtLWNrLWNvbG9yLWJhc2UtYWN0aXZlKTstLWNrLWNvbG9yLWxpc3QtaXRlbS1iYWNrZ3JvdW5kLWFjdGl2ZS1mb2N1czp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZS1mb2N1cyk7LS1jay1jb2xvci1saXN0LWl0ZW0tdGV4dC1hY3RpdmU6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKTstLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTstLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3ItdG9vbHRpcC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1lbmdpbmUtcGxhY2Vob2xkZXItdGV4dDojYzJjMmMyOy0tY2stY29sb3ItdXBsb2FkLWJhci1iYWNrZ3JvdW5kOiM2Y2I1Zjk7LS1jay1jb2xvci11cGxvYWQtaW5maW5pdGUtYmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4xKTstLWNrLWNvbG9yLWxpbmstZGVmYXVsdDojMDAwMGYwOy0tY2stY29sb3ItbGluay1zZWxlY3RlZC1iYWNrZ3JvdW5kOiNlYmY4ZmY7LS1jay1kaXNhYmxlZC1vcGFjaXR5Oi41Oy0tY2stZm9jdXMtb3V0ZXItc2hhZG93OjAgMCAzcHggdmFyKC0tY2stY29sb3ItZm9jdXMtc2hhZG93KTstLWNrLWZvY3VzLXJpbmc6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7LS1jay1mb250LXNpemUtYmFzZToxM3B4Oy0tY2stbGluZS1oZWlnaHQtYmFzZToxLjg0NjE1Oy0tY2stZm9udC1mYWNlOkhlbHZldGljYSxBcmlhbCxUYWhvbWEsVmVyZGFuYSxTYW5zLVNlcmlmOy0tY2stZm9udC1zaXplLXRpbnk6MC43ZW07LS1jay1mb250LXNpemUtc21hbGw6MC43NWVtOy0tY2stZm9udC1zaXplLW5vcm1hbDoxZW07LS1jay1mb250LXNpemUtYmlnOjEuNGVtOy0tY2stZm9udC1zaXplLWxhcmdlOjEuOGVtOy0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQ6Mi4zZW19LmNrLmNrLXJlc2V0LC5jay5jay1yZXNldF9hbGwsLmNrLmNrLXJlc2V0X2FsbCAqe21hcmdpbjowO3BhZGRpbmc6MDtib3JkZXI6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O3RleHQtZGVjb3JhdGlvbjpub25lO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTt0cmFuc2l0aW9uOm5vbmU7d29yZC13cmFwOmJyZWFrLXdvcmR9LmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2ZvbnQ6bm9ybWFsIG5vcm1hbCBub3JtYWwgdmFyKC0tY2stZm9udC1zaXplLWJhc2UpL3ZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpIHZhcigtLWNrLWZvbnQtZmFjZSk7Y29sb3I6dmFyKC0tY2stY29sb3ItdGV4dCk7dGV4dC1hbGlnbjpsZWZ0O3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6YXV0bztmbG9hdDpub25lfS5jay5jay1yZXNldF9hbGwgLmNrLXJ0bCAqe3RleHQtYWxpZ246cmlnaHR9LmNrLmNrLXJlc2V0X2FsbCBpZnJhbWV7dmVydGljYWwtYWxpZ246aW5oZXJpdH0uY2suY2stcmVzZXRfYWxsIHRleHRhcmVhe3doaXRlLXNwYWNlOnByZS13cmFwfS5jay5jay1yZXNldF9hbGwgaW5wdXRbdHlwZT1wYXNzd29yZF0sLmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXRleHRdLC5jay5jay1yZXNldF9hbGwgdGV4dGFyZWF7Y3Vyc29yOnRleHR9LmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXBhc3N3b3JkXVtkaXNhYmxlZF0sLmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXRleHRdW2Rpc2FibGVkXSwuY2suY2stcmVzZXRfYWxsIHRleHRhcmVhW2Rpc2FibGVkXXtjdXJzb3I6ZGVmYXVsdH0uY2suY2stcmVzZXRfYWxsIGZpZWxkc2V0e3BhZGRpbmc6MTBweDtib3JkZXI6MnB4IGdyb292ZSAjZGZkZWUzfS5jay5jay1yZXNldF9hbGwgYnV0dG9uOjotbW96LWZvY3VzLWlubmVye3BhZGRpbmc6MDtib3JkZXI6MH06cm9vdHstLWNrLWJvcmRlci1yYWRpdXM6MnB4Oy0tY2staW5uZXItc2hhZG93OjJweCAycHggM3B4IHZhcigtLWNrLWNvbG9yLXNoYWRvdy1pbm5lcikgaW5zZXQ7LS1jay1kcm9wLXNoYWRvdzowIDFweCAycHggMXB4IHZhcigtLWNrLWNvbG9yLXNoYWRvdy1kcm9wKTstLWNrLXNwYWNpbmctdW5pdDowLjZlbTstLWNrLXNwYWNpbmctbGFyZ2U6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMS41KTstLWNrLXNwYWNpbmctc3RhbmRhcmQ6dmFyKC0tY2stc3BhY2luZy11bml0KTstLWNrLXNwYWNpbmctbWVkaXVtOmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDAuOCk7LS1jay1zcGFjaW5nLXNtYWxsOmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDAuNSk7LS1jay1zcGFjaW5nLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC4zKTstLWNrLXNwYWNpbmctZXh0cmEtdGlueTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAwLjE2KX0nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9J3VuZGVmaW5lZCchPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighdCl0aHJvdyBuZXcgRXJyb3IoJ2ZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uJyk7aWYoIWV8fCdzdHJpbmcnIT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgbz10LnByb3RvY29sKycvLycrdC5ob3N0LG49byt0LnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywnLycpLGk9ZS5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSxmdW5jdGlvbihlLHQpe3ZhciBpPXQudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KS5yZXBsYWNlKC9eJyguKiknJC8sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pO2lmKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QoaSkpcmV0dXJuIGU7dmFyIHI7cmV0dXJuIHI9MD09PWkuaW5kZXhPZignLy8nKT9pOjA9PT1pLmluZGV4T2YoJy8nKT9vK2k6bitpLnJlcGxhY2UoL15cXC5cXC8vLCcnKSwndXJsKCcrSlNPTi5zdHJpbmdpZnkocikrJyknfSk7cmV0dXJuIGl9fSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygxNSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpe2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLC5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLmNrLWZvY3VzZWR7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZXtvdmVyZmxvdzphdXRvO3BhZGRpbmc6MCB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZT46Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmU+Omxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stdG9vbGJhci1jb250YWluZXJbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX0uY2suY2stdG9vbGJhci1jb250YWluZXJbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygxNyk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1sYWJlbHtkaXNwbGF5OmJsb2NrfS5jay5jay12b2ljZS1sYWJlbHtkaXNwbGF5Om5vbmV9LmNrLmNrLWxhYmVse2ZvbnQtd2VpZ2h0OjcwMH0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygxOSk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3l7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKTtwb3NpdGlvbjpmaXhlZDt0b3A6MH0uY2suY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5X2JvdHRvbS1saW1pdHt0b3A6YXV0bztwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5e2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDtib3JkZXItd2lkdGg6MCAxcHggMXB4O2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDIxKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXRvb2xiYXJ7LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6cm93IHdyYXA7YWxpZ24taXRlbXM6Y2VudGVyfS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfdmVydGljYWx7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jay5jay10b29sYmFyLmNrLXRvb2xiYXJfZmxvYXRpbmd7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay10b29sYmFyX19uZXdsaW5le2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJX0uY2suY2stdG9vbGJhcntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stdG9vbGJhciwuY2suY2stdG9vbGJhci5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stdG9vbGJhcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXRvb2xiYXItYmFja2dyb3VuZCk7cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctc21hbGwpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItdG9vbGJhci1ib3JkZXIpfS5jay5jay10b29sYmFyPip7bWFyZ2luLXJpZ2h0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zbWFsbCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2Fse3BhZGRpbmc6MH0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2FsPip7d2lkdGg6MTAwJTttYXJnaW46MDtib3JkZXItcmFkaXVzOjA7Ym9yZGVyOjB9LmNrLmNrLXRvb2xiYXI+Omxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LmNrLXRvb2xiYXItY29udGFpbmVyIC5jay5jay10b29sYmFye2JvcmRlcjowfS5jay5jay10b29sYmFyX19zZXBhcmF0b3J7YWxpZ24tc2VsZjpzdHJldGNoO3dpZHRoOjFweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbGJhci1ib3JkZXIpfS5jay5jay10b29sYmFyX19uZXdsaW5le21hcmdpbjowfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDIzKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWVkaXRvcntwb3NpdGlvbjpyZWxhdGl2ZX0uY2suY2stZWRpdG9yIC5jay1lZGl0b3JfX3RvcCAuY2stc3RpY2t5LXBhbmVsIC5jay10b29sYmFye3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXJ7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXIsLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXJ7Ym9yZGVyLWJvdHRvbS13aWR0aDowfS5jay5jay1lZGl0b3JfX3RvcCAuY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5IC5jay10b29sYmFye2JvcmRlci1ib3R0b20td2lkdGg6MXB4O2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX3RvcCAuY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5IC5jay10b29sYmFyLC5jay5jay1lZGl0b3JfX3RvcCAuY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5IC5jay10b29sYmFyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci1yYWRpdXM6MH0uY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxlLC5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGUuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWVkaXRvcl9fbWFpbj4uY2stZWRpdG9yX19lZGl0YWJsZTpub3QoLmNrLWZvY3VzZWQpe2JvcmRlci1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oMjUpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2staWNvbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9OnJvb3R7LS1jay1pY29uLXNpemU6Y2FsYyh2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSAqIHZhcigtLWNrLWZvbnQtc2l6ZS1ub3JtYWwpKX0uY2suY2staWNvbnt3aWR0aDp2YXIoLS1jay1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1pY29uLXNpemUpO2ZvbnQtc2l6ZTouODMzMzM1MDY5NGVtO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uY2suY2staWNvbiwuY2suY2staWNvbiAqe2NvbG9yOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXR9LmNrLmNrLWljb24gKntmaWxsOmN1cnJlbnRDb2xvcn0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygyNyk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbn0uY2stdG9vbHRpcHt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3dpZHRoOjA7aGVpZ2h0OjB9OnJvb3R7LS1jay10b29sdGlwLWFycm93LXNpemU6NXB4fS5jay5jay10b29sdGlwe2xlZnQ6NTAlfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfc3tib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfcyAuY2stdG9vbHRpcF9fdGV4dDphZnRlcnt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB2YXIoLS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQpO2JvcmRlci13aWR0aDowIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkgdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKX0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX257dG9wOmNhbGMoLTEgKiB2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSl9LmNrLmNrLXRvb2x0aXAuY2stdG9vbHRpcF9uIC5jay10b29sdGlwX190ZXh0OmFmdGVye2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZCkgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkgdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSAwfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2ZvbnQtc2l6ZTouOWVtO2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjp2YXIoLS1jay1jb2xvci10b29sdGlwLXRleHQpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCkgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKTtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi01MCV9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Ym9yZGVyLXN0eWxlOnNvbGlkO2xlZnQ6NTAlfS5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZS1pbi1vdXQgLjJzfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDI5KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcHtkaXNwbGF5OmJsb2NrfS5jay5jay1idXR0b24sYS5jay5jay1idXR0b257cG9zaXRpb246cmVsYXRpdmV9LmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9fbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWJ1dHRvbjpob3ZlciAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbjpob3ZlciAuY2stdG9vbHRpcHt2aXNpYmlsaXR5OnZpc2libGU7b3BhY2l0eToxfS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsLmNrLmNrLWJ1dHRvbjpmb2N1czpub3QoOmhvdmVyKSAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbjpmb2N1czpub3QoOmhvdmVyKSAuY2stdG9vbHRpcHtkaXNwbGF5Om5vbmV9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQpfS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6Zm9jdXMsLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpmb2N1cyxhLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWZvY3VzLWJhY2tncm91bmQpfS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtc2hhZG93KX0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stYnV0dG9uLC5jay1yb3VuZGVkLWNvcm5lcnMgYS5jay5jay1idXR0b24sLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnMsYS5jay5jay1idXR0b24uY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOmRlZmF1bHQ7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KTt0ZXh0LWFsaWduOmNlbnRlcjttaW4td2lkdGg6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO2xpbmUtaGVpZ2h0OjE7Zm9udC1zaXplOmluaGVyaXQ7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudH0uY2suY2stYnV0dG9uOmFjdGl2ZSwuY2suY2stYnV0dG9uOmZvY3VzLGEuY2suY2stYnV0dG9uOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyOnZhcigtLWNrLWZvY3VzLXJpbmcpO2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93KSwwIDA7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19pY29ue29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0e3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2ljb257bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLXNwYWNpbmctc21hbGwpKTttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWJ1dHRvbi5jay1vbixhLmNrLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmZvY3VzLC5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXIsYS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6Zm9jdXMsYS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24tZm9jdXMtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLXNoYWRvdyl9LmNrLmNrLWJ1dHRvbi5jay1vbi5jay1kaXNhYmxlZCxhLmNrLmNrLWJ1dHRvbi5jay1vbi5jay1kaXNhYmxlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1zYXZlLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1zYXZle2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1zYXZlKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1jYW5jZWwsYS5jay5jay1idXR0b24uY2stYnV0dG9uLWNhbmNlbHtjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tY2FuY2VsKX0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlLC5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UgKixhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSAqe2NvbG9yOmluaGVyaXR9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbHtmb250LXNpemU6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0O2NvbG9yOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXQ7dmVydGljYWwtYWxpZ246bWlkZGxlfS5jay5jay1idXR0b24tYWN0aW9uLGEuY2suY2stYnV0dG9uLWFjdGlvbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6Zm9jdXMsLmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXIsYS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmZvY3VzLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZm9jdXMtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24tYWN0aW9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLWFjdGlvbi5jay1kaXNhYmxlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24sYS5jay5jay1idXR0b24tYWN0aW9ue2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tdGV4dCl9LmNrLmNrLWJ1dHRvbi1ib2xkLGEuY2suY2stYnV0dG9uLWJvbGR7Zm9udC13ZWlnaHQ6NzAwfSd9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNS4wNDIgOS4zNjdsMi4xODkgMS44MzdhLjc1Ljc1IDAgMCAxLS45NjUgMS4xNDlsLTMuNzg4LTMuMThhLjc0Ny43NDcgMCAwIDEtLjIxLS4yODQuNzUuNzUgMCAwIDEgLjE3LS45NDVMNi4yMyA0Ljc2MmEuNzUuNzUgMCAxIDEgLjk2NCAxLjE1TDQuODYzIDcuODY2aDguOTE3QS43NS43NSAwIDAgMSAxNCA3LjlhNCA0IDAgMSAxLTEuNDc3IDcuNzE4bC4zNDQtMS40ODlhMi41IDIuNSAwIDEgMCAxLjA5NC00LjczbC4wMDgtLjAzMkg1LjA0MnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNC45NTggOS4zNjdsLTIuMTg5IDEuODM3YS43NS43NSAwIDAgMCAuOTY1IDEuMTQ5bDMuNzg4LTMuMThhLjc0Ny43NDcgMCAwIDAgLjIxLS4yODQuNzUuNzUgMCAwIDAtLjE3LS45NDVMMTMuNzcgNC43NjJhLjc1Ljc1IDAgMSAwLS45NjQgMS4xNWwyLjMzMSAxLjk1NUg2LjIyQS43NS43NSAwIDAgMCA2IDcuOWE0IDQgMCAxIDAgMS40NzcgNy43MThsLS4zNDQtMS40ODlBMi41IDIuNSAwIDEgMSA2LjAzOSA5LjRsLS4wMDgtLjAzMmg4LjkyN3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjE4NyAxN0g1Ljc3M2MtLjYzNyAwLTEuMDkyLS4xMzgtMS4zNjQtLjQxNS0uMjczLS4yNzctLjQwOS0uNzE4LS40MDktMS4zMjNWNC43MzhjMC0uNjE3LjE0LTEuMDYyLjQxOS0xLjMzMi4yNzktLjI3LjczLS40MDYgMS4zNTQtLjQwNmg0LjY4Yy42OSAwIDEuMjg4LjA0MSAxLjc5My4xMjQuNTA2LjA4My45Ni4yNDIgMS4zNi40NzguMzQxLjE5Ny42NDQuNDQ3LjkwNi43NWEzLjI2MiAzLjI2MiAwIDAgMSAuODA4IDIuMTYyYzAgMS40MDEtLjcyMiAyLjQyNi0yLjE2NyAzLjA3NUMxNS4wNSAxMC4xNzUgMTYgMTEuMzE1IDE2IDEzLjAxYTMuNzU2IDMuNzU2IDAgMCAxLTIuMjk2IDMuNTA0IDYuMSA2LjEgMCAwIDEtMS41MTcuMzc3Yy0uNTcxLjA3My0xLjIzOC4xMS0yIC4xMXptLS4yMTctNi4yMTdIN3Y0LjA4N2gzLjA2OWMxLjk3NyAwIDIuOTY1LS42OSAyLjk2NS0yLjA3MiAwLS43MDctLjI1Ni0xLjIyLS43NjgtMS41MzctLjUxMi0uMzE5LTEuMjc3LS40NzgtMi4yOTYtLjQ3OHpNNyA1LjEzdjMuNjE5aDIuNjA2Yy43MjkgMCAxLjI5Mi0uMDY3IDEuNjktLjJhMS42IDEuNiAwIDAgMCAuOTEtLjc2NWMuMTY1LS4yNjcuMjQ3LS41NjYuMjQ3LS44OTcgMC0uNzA3LS4yNi0xLjE3Ni0uNzc4LTEuNDA5LS41MTktLjIzMi0xLjMxLS4zNDgtMi4zNzUtLjM0OEg3elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz5cXG4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuNTg2IDE0LjYzM2wuMDIxLjAwNGMtLjAzNi4zMzUuMDk1LjY1NS4zOTMuOTYyLjA4Mi4wODMuMTczLjE1LjI3NC4yMDFoMS40NzRhLjYuNiAwIDEgMSAwIDEuMkg1LjMwNGEuNi42IDAgMCAxIDAtMS4yaDEuMTVjLjQ3NC0uMDcuODA5LS4xODIgMS4wMDUtLjMzNC4xNTctLjEyMi4yOTEtLjMyLjQwNC0uNTk3bDIuNDE2LTkuNTVhMS4wNTMgMS4wNTMgMCAwIDAtLjI4MS0uODIzIDEuMTIgMS4xMiAwIDAgMC0uNDQyLS4yOTZIOC4xNWEuNi42IDAgMCAxIDAtMS4yaDYuNDQzYS42LjYgMCAxIDEgMCAxLjJoLTEuMTk1Yy0uMzc2LjA1Ni0uNjUuMTU1LS44MjMuMjk2LS4yMTUuMTc1LS40MjMuNDM5LS42MjMuNzlsLTIuMzY2IDkuMzQ3elwiIGZpbGw9XCIjMzMzXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTMgMTAuNDIzYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N0M2LjQ0OCA1LjQyMyA1LjM1NCA3LjY2MyA1LjIyIDEwSDljLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC4wMTEtLjU2M3pNMTEgMTAuNDIzYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N2MtMi42NDYuNzM5LTMuNzQgMi45NzktMy44NzMgNS4zMTVIMTdjLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC4wMTEtLjU2M3pcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDM2KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLWNvbnRlbnQgYmxvY2txdW90ZXtvdmVyZmxvdzpoaWRkZW47cGFkZGluZy1yaWdodDoxLjVlbTtwYWRkaW5nLWxlZnQ6MS41ZW07bWFyZ2luLWxlZnQ6MDtmb250LXN0eWxlOml0YWxpYztib3JkZXItbGVmdDo1cHggc29saWQgI2NjY30nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49bygzOCk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzpyb290ey0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzOjNweDstLWNrLWNvbG9yLXdpZGdldC1ib3JkZXItYmx1cnJlZDojZGVkZWRlOy0tY2stY29sb3Itd2lkZ2V0LWJvcmRlci1ob3ZlcjojZmZkMTVjOy0tY2stY29sb3Itd2lkZ2V0LWVkaXRhYmxlLWZvY3VzZWQtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpLH0uY2sgLmNrLXdpZGdldHttYXJnaW46dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkgMDtwYWRkaW5nOjB9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkLC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlcntvdXRsaW5lOnZhcigtLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzcykgc29saWQgdmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZHtvdXRsaW5lOnZhcigtLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzcykgc29saWQgdmFyKC0tY2stY29sb3Itd2lkZ2V0LWJvcmRlci1ibHVycmVkKX0uY2sgLmNrLXdpZGdldDpob3ZlcntvdXRsaW5lOnZhcigtLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzcykgc29saWQgdmFyKC0tY2stY29sb3Itd2lkZ2V0LWJvcmRlci1ob3Zlcil9LmNrIC5jay13aWRnZXQgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxle2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNrIC5jay13aWRnZXQgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWQsLmNrIC5jay13aWRnZXQgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1lZGl0YWJsZS1mb2N1c2VkLWJhY2tncm91bmQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDQwKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nOnJvb3R7LS1jay1pbnB1dC10ZXh0LXdpZHRoOjE4ZW19LmNrLmNrLWlucHV0LXRleHR7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWlucHV0LXRleHQsLmNrLmNrLWlucHV0LXRleHQuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWlucHV0LXRleHR7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWlucHV0LWJhY2tncm91bmQpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItaW5wdXQtYm9yZGVyKTtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctZXh0cmEtdGlueSkgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO21pbi13aWR0aDp2YXIoLS1jay1pbnB1dC10ZXh0LXdpZHRoKTttaW4taGVpZ2h0OnZhcigtLWNrLXVpLWNvbXBvbmVudC1taW4taGVpZ2h0KTt0cmFuc2l0aW9uLXByb3BlcnR5OmJveC1zaGFkb3csYm9yZGVyO3RyYW5zaXRpb246LjJzIGVhc2UtaW4tb3V0fS5jay5jay1pbnB1dC10ZXh0OmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3cpLHZhcigtLWNrLWlubmVyLXNoYWRvdyl9LmNrLmNrLWlucHV0LXRleHRbcmVhZG9ubHlde2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYm9yZGVyKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLXRleHQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDQyKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1sYWJlbHtkaXNwbGF5Om5vbmV9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm06Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0+Om5vdCg6Zmlyc3QtY2hpbGQpe21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDQ0KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWJhbGxvb24tcGFuZWx7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlcnt6LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSArIDEpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTphZnRlcnt6LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSArIDEpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTphZnRlcnt6LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSArIDEpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfdmlzaWJsZXtkaXNwbGF5OmJsb2NrfTpyb290ey0tY2stYmFsbG9vbi1hcnJvdy1vZmZzZXQ6MnB4Oy0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQ6MTBweDstLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aDo4cHh9LmNrLmNrLWJhbGxvb24tcGFuZWx7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWJhbGxvb24tcGFuZWwsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJhbGxvb24tcGFuZWx7Ym94LXNoYWRvdzp2YXIoLS1jay1kcm9wLXNoYWRvdyksMCAwO21pbi1oZWlnaHQ6MTVweDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItcGFuZWwtYm9yZGVyKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmJlZm9yZXt3aWR0aDowO2hlaWdodDowO2JvcmRlci1zdHlsZTpzb2xpZH0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXtib3JkZXItd2lkdGg6MCB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB2YXIoLS1jay1jb2xvci1wYW5lbC1ib3JkZXIpfS5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTphZnRlcntib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpIDB9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXtib3JkZXItY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYm9yZGVyKSB0cmFuc3BhcmVudCB0cmFuc3BhcmVudH0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQpIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50O21hcmdpbi1ib3R0b206dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1vZmZzZXQpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbjphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X246YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0OmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19udzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X253OmJlZm9yZXtsZWZ0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO3RvcDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X25lOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbmU6YmVmb3Jle3JpZ2h0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO3RvcDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3M6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zOmJlZm9yZXtsZWZ0OjUwJTttYXJnaW4tbGVmdDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc3c6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zdzpiZWZvcmV7bGVmdDpjYWxjKDIgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTtib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zZTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlOmJlZm9yZXtyaWdodDpjYWxjKDIgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTtib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk01LjA4NSA2LjIyTDIuOTQzIDQuMDc4YS43NS43NSAwIDEgMSAxLjA2LTEuMDZsMi41OTIgMi41OUExMS4wOTQgMTEuMDk0IDAgMCAxIDEwIDUuMDY4YzQuNzM4IDAgOC41NzggMy4xMDEgOC41NzggNS4wODMgMCAxLjE5Ny0xLjQwMSAyLjgwMy0zLjU1NSAzLjg4N2wxLjcxNCAxLjcxM2EuNzUuNzUgMCAwIDEtLjA5IDEuMTM4LjQ4OC40ODggMCAwIDEtLjE1LjA4NC43NS43NSAwIDAgMS0uODIxLS4xNkw2LjE3IDcuMzA0Yy0uMjU4LjExLS41MS4yMzMtLjc1Ny4zNjVsNi4yMzkgNi4yNC0uMDA2LjAwNS43OC43OGMtLjM4OC4wOTQtLjc4LjE2Ni0xLjE3NC4yMTVsLTEuMTEtMS4xMWguMDExTDQuNTUgOC4xOTdhNy4yIDcuMiAwIDAgMC0uNjY1LjUxNGwtLjExMi4wOTggNC44OTcgNC44OTctLjAwNS4wMDYgMS4yNzYgMS4yNzZhMTAuMTY0IDEwLjE2NCAwIDAgMS0xLjQ3Ny0uMTE3bC0uNDc5LS40NzktLjAwOS4wMDktNC44NjMtNC44NjMtLjAyMi4wMzFhMi41NjMgMi41NjMgMCAwIDAtLjEyNC4yYy0uMDQzLjA3Ny0uMDguMTU4LS4xMDguMjQxYS41MzQuNTM0IDAgMCAwLS4wMjguMTMzLjI5LjI5IDAgMCAwIC4wMDguMDcyLjkyNy45MjcgMCAwIDAgLjA4Mi4yMjZjLjA2Ny4xMzMuMTQ1LjI2LjIzNC4zNzlsMy4yNDIgMy4zNjUuMDI1LjAxLjU5LjYyM2MtMy4yNjUtLjkxOC01LjU5LTMuMTU1LTUuNTktNC42NjggMC0xLjE5NCAxLjQ0OC0yLjgzOCAzLjY2My0zLjkzem03LjA3LjUzMWE0LjYzMiA0LjYzMiAwIDAgMSAxLjEwOCA1Ljk5MmwuMzQ1LjM0NC4wNDYtLjAxOGE5LjMxMyA5LjMxMyAwIDAgMCAyLTEuMTEyYy4yNTYtLjE4Ny41LS4zOTIuNzI3LS42MTMuMTM3LS4xMzQuMjctLjI3Ny4zOTItLjQzMS4wNzItLjA5MS4xNDEtLjE4NS4yMDMtLjI4Ni4wNTctLjA5My4xMDctLjE5LjE0OC0uMjkyYS43Mi43MiAwIDAgMCAuMDM2LS4xMi4yOS4yOSAwIDAgMCAuMDA4LS4wNzIuNDkyLjQ5MiAwIDAgMC0uMDI4LS4xMzMuOTk5Ljk5OSAwIDAgMC0uMDM2LS4wOTYgMi4xNjUgMi4xNjUgMCAwIDAtLjA3MS0uMTQ1IDIuOTE3IDIuOTE3IDAgMCAwLS4xMjUtLjIgMy41OTIgMy41OTIgMCAwIDAtLjI2My0uMzM1IDUuNDQ0IDUuNDQ0IDAgMCAwLS41My0uNTIzIDcuOTU1IDcuOTU1IDAgMCAwLTEuMDU0LS43NjggOS43NjYgOS43NjYgMCAwIDAtMS44NzktLjg5MWMtLjMzNy0uMTE4LS42OC0uMjE5LTEuMDI3LS4zMDF6bS0yLjg1LjIxbC0uMDY5LjAwMmEuNTA4LjUwOCAwIDAgMC0uMjU0LjA5Ny40OTYuNDk2IDAgMCAwLS4xMDQuNjc5LjQ5OC40OTggMCAwIDAgLjMyNi4xOTlsLjA0NS4wMDVjLjA5MS4wMDMuMTgxLjAwMy4yNzIuMDEyLjkuMDkzIDEuNjc2LjY3NSAyLjAxNyAxLjUxMy4wMjQuMDYxLjA0My4xMjUuMDY5LjE4NWEuNDk0LjQ5NCAwIDAgMCAuNDUuMjg3aC4wMDhhLjQ5Ni40OTYgMCAwIDAgLjM1LS4xNTguNDgyLjQ4MiAwIDAgMCAuMTMtLjMzNS42MzguNjM4IDAgMCAwLS4wNDgtLjIxOSAzLjM3OSAzLjM3OSAwIDAgMC0uMzYtLjcyMyAzLjQzOCAzLjQzOCAwIDAgMC0yLjc5MS0xLjU0M2wtLjAyOC0uMDAxaC0uMDEzelwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg0Nyk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay1jb250ZW50IC5pbWFnZXtjbGVhcjpib3RoO3RleHQtYWxpZ246Y2VudGVyfS5jay1jb250ZW50IC5pbWFnZT5pbWd7ZGlzcGxheTpibG9jazttYXJnaW46MCBhdXRvO21heC13aWR0aDoxMDAlfSd9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk02LjkxIDEwLjU0Yy4yNi0uMjMuNjQtLjIxLjg4LjAzbDMuMzYgMy4xNCAyLjIzLTIuMDZhLjY0LjY0IDAgMCAxIC44NyAwbDIuNTIgMi45N1Y0LjVIMy4ydjEwLjEybDMuNzEtNC4wOHptMTAuMjctNy41MWMuNiAwIDEuMDkuNDcgMS4wOSAxLjA1djExLjg0YzAgLjU5LS40OSAxLjA2LTEuMDkgMS4wNkgyLjc5Yy0uNiAwLTEuMDktLjQ3LTEuMDktMS4wNlY0LjA4YzAtLjU4LjQ5LTEuMDUgMS4xLTEuMDVoMTQuMzh6bS01LjIyIDUuNTZhMS45NiAxLjk2IDAgMSAxIDMuNC0xLjk2IDEuOTYgMS45NiAwIDAgMS0zLjQgMS45NnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDcwMCAyNTBcIj48ZyBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cmVjdCB3aWR0aD1cIjcwMFwiIGhlaWdodD1cIjI1MFwiIGZpbGw9XCIjRjdGN0Y3XCIgcng9XCI0XCIvPjx0ZXh0IGZpbGw9XCIjNUY2Rjc3XCIgZm9udC1mYW1pbHk9XCJBcmlhbCxzYW5zLXNlcmlmXCIgZm9udC1zaXplPVwiMjRcIj48dHNwYW4geD1cIjI0Ny45XCIgeT1cIjEzNVwiPlVwbG9hZGluZyBpbWFnZVxcdTIwMjY8L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNTEpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2stY29udGVudCAuaW1hZ2V7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVufS5jay1jb250ZW50IC5pbWFnZS5jay1pbmZpbml0ZS1wcm9ncmVzczpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjB9LmNrLWNvbnRlbnQgLmltYWdlIC5jay1wcm9ncmVzcy1iYXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowfTpyb290ey0tY2staW1hZ2UtdXBsb2FkLXByb2dyZXNzLWxpbmUtd2lkdGg6MzBweH0uY2stY29udGVudCAuaW1hZ2UuY2stYXBwZWFye2FuaW1hdGlvbjphIC43c30uY2stY29udGVudCAuaW1hZ2UuY2staW5maW5pdGUtcHJvZ3Jlc3M6YmVmb3Jle3dpZHRoOnZhcigtLWNrLWltYWdlLXVwbG9hZC1wcm9ncmVzcy1saW5lLXdpZHRoKTtoZWlnaHQ6MnB4O2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdXBsb2FkLWluZmluaXRlLWJhY2tncm91bmQpO2FuaW1hdGlvbi1uYW1lOmI7YW5pbWF0aW9uLWR1cmF0aW9uOjEuNXM7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXJ9LmNrLWNvbnRlbnQgLmltYWdlLmNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcj5pbWd7d2lkdGg6MTAwJX0uY2stY29udGVudCAuaW1hZ2UgLmNrLXByb2dyZXNzLWJhcntoZWlnaHQ6MnB4O3dpZHRoOjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci11cGxvYWQtYmFyLWJhY2tncm91bmQpO3RyYW5zaXRpb246d2lkdGggLjFzfUBrZXlmcmFtZXMgYXswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGJ7MCV7d2lkdGg6dmFyKC0tY2staW1hZ2UtdXBsb2FkLXByb2dyZXNzLWxpbmUtd2lkdGgpO3JpZ2h0OjB9NTAle3dpZHRoOmNhbGModmFyKC0tY2staW1hZ2UtdXBsb2FkLXByb2dyZXNzLWxpbmUtd2lkdGgpICogMS41KX10b3tyaWdodDoxMDAlfX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg1Myk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1kcm9wZG93bntkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3twb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tY2stei1kZWZhdWx0KTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLC01MCUsMCl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbnt3aWR0aDoxMDAlfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stb24gLmNrLXRvb2x0aXB7ZGlzcGxheTpub25lfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCk7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsLXZpc2libGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfTpyb290ey0tY2stZHJvcGRvd24tYXJyb3ctc2l6ZTpjYWxjKDAuNSAqIHZhcigtLWNrLWljb24tc2l6ZSkpfS5jay5jay1kcm9wZG93bntmb250LXNpemU6aW5oZXJpdH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3tyaWdodDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTt3aWR0aDp2YXIoLS1jay1kcm9wZG93bi1hcnJvdy1zaXplKX0uY2suY2stZHJvcGRvd24uY2stZGlzYWJsZWQgLmNrLWRyb3Bkb3duX19hcnJvd3tvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b257cGFkZGluZy1yaWdodDpjYWxjKDIuNSAqIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpKX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uOm5vdCguY2stYnV0dG9uX3dpdGgtdGV4dCl7cGFkZGluZy1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc21hbGwpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWx7b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uLmNrLW9ue2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7d2lkdGg6N2VtO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5jay5jay1kcm9wZG93bl9fcGFuZWx7Ym9yZGVyLXJhZGl1czowO2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93bl9fcGFuZWwsLmNrLmNrLWRyb3Bkb3duX19wYW5lbC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duX19wYW5lbHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJhY2tncm91bmQpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYm9yZGVyKTtib3R0b206MDttaW4td2lkdGg6MTAwJX0nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTS45NDEgNC41MjNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwzLjAwNiAzLjAwNSAzLjAwNS0zLjAwNWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zLjU0OSAzLjU1YS43NS43NSAwIDAgMS0xLjE2OC0uMTM2TC45NDEgNC41MjN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDU2KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLWxpc3R7LW1vei11c2VyLXNlbGVjdDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO292ZXJmbG93OmhpZGRlbn0uY2suY2stbGlzdCAuY2stbGlzdF9faXRlbXtkaXNwbGF5OmJsb2NrfS5jay5jay1saXN0IC5jay1saXN0X19pdGVtOmZvY3Vze3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6dmFyKC0tY2stei1kZWZhdWx0KX0uY2suY2stbGlzdHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stbGlzdCwuY2suY2stbGlzdC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stbGlzdHtsaXN0LXN0eWxlLXR5cGU6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZCl9LmNrLmNrLWxpc3RfX2l0ZW17cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLW1lZGl1bSk7Y3Vyc29yOmRlZmF1bHQ7bWluLXdpZHRoOjEyZW19LmNrLmNrLWxpc3RfX2l0ZW06Zm9jdXMsLmNrLmNrLWxpc3RfX2l0ZW06aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWl0ZW0tYmFja2dyb3VuZC1ob3Zlcil9LmNrLmNrLWxpc3RfX2l0ZW06Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3cpLDAgMDtvdXRsaW5lOm5vbmV9LmNrLmNrLWxpc3RfX2l0ZW1fYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1pdGVtLWJhY2tncm91bmQtYWN0aXZlKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saXN0LWl0ZW0tdGV4dC1hY3RpdmUpfS5jay5jay1saXN0X19pdGVtX2FjdGl2ZTpmb2N1cywuY2suY2stbGlzdF9faXRlbV9hY3RpdmU6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWl0ZW0tYmFja2dyb3VuZC1hY3RpdmUtZm9jdXMpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDU4KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLXRvb2xiYXJ7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1idXR0b246Zm9jdXN7ei1pbmRleDpjYWxjKHZhcigtLWNrLXotZGVmYXVsdCkgKyAxKX0uY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stdG9vbGJhcntib3JkZXI6MH0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg2MCk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdD4uY2stbGlzdF9faXRlbXtsaW5lLWhlaWdodDpjYWxjKC44KnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSk7cGFkZGluZzpjYWxjKC40KnZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpKnZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2staGVhZGluZ19oZWFkaW5nMXtmb250LXNpemU6MjBweH0uY2suY2staGVhZGluZ19oZWFkaW5nMntmb250LXNpemU6MTdweH0uY2suY2staGVhZGluZ19oZWFkaW5nM3tmb250LXNpemU6MTRweH0uY2tbY2xhc3MqPWNrLWhlYWRpbmdfaGVhZGluZ117Zm9udC13ZWlnaHQ6NzAwfS5jay5jay1kcm9wZG93bi5jay1oZWFkaW5nLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fYnV0dG9uIC5jay1idXR0b25fX2xhYmVse3dpZHRoOjhlbX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg2Myk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jay5jay1wbGFjZWhvbGRlcjpiZWZvcmUsLmNrIC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO3BvaW50ZXItZXZlbnRzOm5vbmU7Y3Vyc29yOnRleHQ7Y29sb3I6dmFyKC0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQpfSd9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDY1KTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nLmNrLWNvbnRlbnQgLmltYWdlPmZpZ2NhcHRpb257Y29sb3I6IzMzMztiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjc7cGFkZGluZzouNmVtO2ZvbnQtc2l6ZTouNzVlbTtvdXRsaW5lLW9mZnNldDotMXB4fSd9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCI+PHBhdGggZD1cIk0yIDQuNVYzaDE2djEuNXpNNC41IDcuNVYxMmgxMVY3LjVoLTExek00LjA2MSA2SDE1Ljk0Yy41ODYgMCAxLjA2MS40MDcgMS4wNjEuOTF2NS42OGMwIC41MDMtLjQ3NS45MS0xLjA2MS45MUg0LjA2QzMuNDc1IDEzLjUgMyAxMy4wOTMgMyAxMi41OVY2LjkxQzMgNi40MDYgMy40NzUgNiA0LjA2MSA2ek0yIDE2LjVWMTVoMTZ2MS41elwiLz48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMS40MTRcIj48cGF0aCBkPVwiTTE4IDQuNVYzSDJ2MS41aDE2em0wIDNWNmgtNS42NzR2MS41SDE4em0wIDNWOWgtNS42NzR2MS41SDE4em0wIDNWMTJoLTUuNjc0djEuNUgxOHptLTguNS02VjEyaC02VjcuNWg2em0uODE4LTEuNUgyLjY4MkMyLjMwNSA2IDIgNi40MDcgMiA2LjkxdjUuNjhjMCAuNTAzLjMwNS45MS42ODIuOTFoNy42MzZjLjM3NyAwIC42ODItLjQwNy42ODItLjkxVjYuOTFjMC0uNTAzLS4zMDUtLjkxLS42ODItLjkxek0xOCAxNi41VjE1SDJ2MS41aDE2elwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIj48cGF0aCBkPVwiTTIgNC41VjNoMTZ2MS41ek02LjUgNy41VjEyaDdWNy41aC03ek01Ljc1OCA2aDguNDg0Yy40MTkgMCAuNzU4LjQwNy43NTguOTF2NS42ODFjMCAuNTAyLS4zNC45MDktLjc1OC45MDlINS43NThjLS40MTkgMC0uNzU4LS40MDctLjc1OC0uOTFWNi45MWMwLS41MDMuMzQtLjkxLjc1OC0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6TTIgNy41VjZoNS42NzR2MS41ek0yIDEwLjVWOWg1LjY3NHYxLjV6TTIgMTMuNVYxMmg1LjY3NHYxLjV6TTEwLjUgNy41VjEyaDZWNy41aC02ek05LjY4MiA2aDcuNjM2Yy4zNzcgMCAuNjgyLjQwNy42ODIuOTF2NS42OGMwIC41MDMtLjMwNS45MS0uNjgyLjkxSDkuNjgyYy0uMzc3IDAtLjY4Mi0uNDA3LS42ODItLjkxVjYuOTFjMC0uNTAzLjMwNS0uOTEuNjgyLS45MXpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKGUsdCxvKXt2YXIgbj1vKDcxKTsnc3RyaW5nJz09dHlwZW9mIG4mJihuPVtbZS5pLG4sJyddXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITB9LHI7aS50cmFuc2Zvcm09cixpLmluc2VydEludG89dm9pZCAwO28oMCkobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2FscyksITF9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nOnJvb3R7LS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nOjEuNWVtfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXIsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnQsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLXJpZ2h0LC5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1zaWRle21heC13aWR0aDo1MCV9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLXNpZGV7ZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnR7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWNlbnRlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1yaWdodHtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0nfSxmdW5jdGlvbihlLHQsbyl7dmFyIG49byg3Myk7J3N0cmluZyc9PXR5cGVvZiBuJiYobj1bW2UuaSxuLCcnXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwfSxyO2kudHJhbnNmb3JtPXIsaS5pbnNlcnRJbnRvPXZvaWQgMDtvKDApKG4saSk7bi5sb2NhbHMmJihlLmV4cG9ydHM9bi5sb2NhbHMpLCExfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jy5jayAuY2stbGlua19zZWxlY3RlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpbmstc2VsZWN0ZWQtYmFja2dyb3VuZCl9J30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNzUpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGluay1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLWxpbmstZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTVjLjAyLS4wOTUuMDYtLjE4OS4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6TTE2LjkyNyAxNy42OTVsLTEuNDE0IDEuNDE0YS43NS43NSAwIDEgMS0xLjA2LTEuMDZsMS40MTQtMS40MTUtMS40MTUtMS40MTRhLjc1Ljc1IDAgMCAxIDEuMDYxLTEuMDZsMS40MTQgMS40MTQgMS40MTQtMS40MTVhLjc1Ljc1IDAgMCAxIDEuMDYxIDEuMDYxbC0xLjQxNCAxLjQxNCAxLjQxNCAxLjQxNWEuNzUuNzUgMCAwIDEtMS4wNiAxLjA2bC0xLjQxNS0xLjQxNHpcIi8+PC9nPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNy4zIDE3LjM3bC0uMDYxLjA4OGExLjUxOCAxLjUxOCAwIDAgMS0uOTM0LjUzNWwtNC4xNzguNjYzLS44MDYtNC4xNTNhMS40OTUgMS40OTUgMCAwIDEgLjE4Ny0xLjA1OGwuMDU2LS4wODZMOC43NyAyLjYzOWMuOTU4LTEuMzUxIDIuODAzLTEuMDc2IDQuMjk2LS4wMyAxLjQ5NyAxLjA0NyAyLjM4NyAyLjY5MyAxLjQzMyA0LjA1NUw3LjMgMTcuMzd6TTkuMTQgNC43MjhsLTUuNTQ1IDguMzQ2IDMuMjc3IDIuMjk0IDUuNTQ0LTguMzQ2TDkuMTQgNC43Mjh6TTYuMDcgMTYuNTEybC0zLjI3Ni0yLjI5NS41MyAyLjczIDIuNzQ2LS40MzV6TTkuOTk0IDMuNTA2TDEzLjI3MSA1LjhjLjMxNi0uNDUyLS4xNi0xLjMzMy0xLjA2NS0xLjk2Ni0uOTA1LS42MzQtMS44OTUtLjc4LTIuMjEyLS4zMjh6TTggMTguNUw5LjM3NSAxN0gxOXYxLjVIOHpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+XFxuJ30sZnVuY3Rpb24oZSx0LG8pe3ZhciBuPW8oNzkpOydzdHJpbmcnPT10eXBlb2YgbiYmKG49W1tlLmksbiwnJ11dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMH0scjtpLnRyYW5zZm9ybT1yLGkuaW5zZXJ0SW50bz12b2lkIDA7bygwKShuLGkpO24ubG9jYWxzJiYoZS5leHBvcnRzPW4ubG9jYWxzKSwhMX0sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPScuY2suY2stbGluay1hY3Rpb25zIC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVse292ZXJmbG93OmhpZGRlbn0uY2suY2stbGluay1hY3Rpb25ze3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlld3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjB9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZSwuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzLC5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6aG92ZXJ7YmFja2dyb3VuZDpub25lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6YWN0aXZle2JveC1zaGFkb3c6bm9uZX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzIC5jay1idXR0b25fX2xhYmVse3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbHtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7Y29sb3I6dmFyKC0tY2stY29sb3ItbGluay1kZWZhdWx0KTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO2N1cnNvcjpwb2ludGVyO21heC13aWR0aDp2YXIoLS1jay1pbnB1dC10ZXh0LXdpZHRoKTttaW4td2lkdGg6M2VtO3RleHQtYWxpZ246Y2VudGVyfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcgLmNrLWJ1dHRvbl9fbGFiZWw6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uY2suY2stbGluay1hY3Rpb25zOmZvY3Vze291dGxpbmU6bm9uZX0uY2suY2stbGluay1hY3Rpb25zPjpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0nfSxmdW5jdGlvbihlKXtlLmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjA3NyAxNWwuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NWMuMDItLjA5NS4wNi0uMTg5LjEyLS4yNzRsMS4xNDctMS42MzlhLjc1Ljc1IDAgMSAxIDEuMjI4Ljg2TDQuOTMzIDEwLjdsLjAwNi4wMDNhMy43NSAzLjc1IDAgMCAwIDYuMTMyIDQuMjk0bC4wMDYuMDA0em01LjQ5NC01LjMzNWEuNzQ4Ljc0OCAwIDAgMS0uMTIuMjc0bC0xLjE0NyAxLjYzOWEuNzUuNzUgMCAxIDEtMS4yMjgtLjg2bC44Ni0xLjIzYTMuNzUgMy43NSAwIDAgMC02LjE0NC00LjMwMWwtLjg2IDEuMjI5YS43NS43NSAwIDAgMS0xLjIyOS0uODZsMS4xNDgtMS42NGEuNzQ4Ljc0OCAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTV6bS00LjU2My0yLjUzMmEuNzUuNzUgMCAwIDEgLjE4NCAxLjA0NWwtMy4xNTUgNC41MDVhLjc1Ljc1IDAgMSAxLTEuMjI5LS44NmwzLjE1NS00LjUwNmEuNzUuNzUgMCAwIDEgMS4wNDUtLjE4NHpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24oZSl7ZS5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03IDUuNzVjMCAuNDE0LjMzNi43NS43NS43NWg5LjVhLjc1Ljc1IDAgMSAwIDAtMS41aC05LjVhLjc1Ljc1IDAgMCAwLS43NS43NXpNMy41IDN2NUgyVjMuN0gxdi0xaDIuNVYzek0uMzQzIDE3Ljg1N2wyLjU5LTMuMjU3SDIuOTJhLjYuNiAwIDEgMC0xLjA0IDBILjMwMmEyIDIgMCAxIDEgMy45OTUgMGgtLjAwMWMtLjA0OC40MDUtLjE2LjczNC0uMzMzLjk4OC0uMTc1LjI1NC0uNTkuNjkyLTEuMjQ0IDEuMzEySDQuM3YxaC00bC4wNDMtLjA0M3pNNyAxNC43NWEuNzUuNzUgMCAwIDEgLjc1LS43NWg5LjVhLjc1Ljc1IDAgMSAxIDAgMS41aC05LjVhLjc1Ljc1IDAgMCAxLS43NS0uNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBDMSA0Ljc4NCAxLjc3NyA0IDIuNzUgNGMuOTY2IDAgMS43NS43NzcgMS43NSAxLjc1IDAgLjk2Ni0uNzc3IDEuNzUtMS43NSAxLjc1QzEuNzg0IDcuNSAxIDYuNzIzIDEgNS43NXptNiA5YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBjMC0uOTY2Ljc3Ny0xLjc1IDEuNzUtMS43NS45NjYgMCAxLjc1Ljc3NyAxLjc1IDEuNzUgMCAuOTY2LS43NzcgMS43NS0xLjc1IDEuNzUtLjk2NiAwLTEuNzUtLjc3Ny0xLjc1LTEuNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9XSlbJ2RlZmF1bHQnXX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2tlZGl0b3IuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljL2J1aWxkL2NrZWRpdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9AY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMvYnVpbGQvY2tlZGl0b3IuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==